function RR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _m(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vp={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function OR(){if(Qx)return xc;Qx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return xc.Fragment=e,xc.jsx=t,xc.jsxs=t,xc}var Zx;function DR(){return Zx||(Zx=1,Vp.exports=OR()),Vp.exports}var B=DR(),Fp={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function NR(){if(Jx)return He;Jx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function T(q,se,de){this.props=q,this.context=se,this.refs=A,this.updater=de||_}T.prototype.isReactComponent={},T.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=T.prototype;function S(q,se,de){this.props=q,this.context=se,this.refs=A,this.updater=de||_}var O=S.prototype=new I;O.constructor=S,w(O,T.prototype),O.isPureReactComponent=!0;var k=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function D(q,se,de,ce,me,Pe){return de=Pe.ref,{$$typeof:n,type:q,key:se,ref:de!==void 0?de:null,props:Pe}}function R(q,se){return D(q.type,se,void 0,void 0,void 0,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(de){return se[de]})}var H=/\/+/g;function j(q,se){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):se.toString(36)}function F(){}function _e(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function xe(q,se,de,ce,me){var Pe=typeof q;(Pe==="undefined"||Pe==="boolean")&&(q=null);var Ce=!1;if(q===null)Ce=!0;else switch(Pe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(q.$$typeof){case n:case e:Ce=!0;break;case p:return Ce=q._init,xe(Ce(q._payload),se,de,ce,me)}}if(Ce)return me=me(q),Ce=ce===""?"."+j(q,0):ce,k(me)?(de="",Ce!=null&&(de=Ce.replace(H,"$&/")+"/"),xe(me,se,de,"",function(ut){return ut})):me!=null&&(L(me)&&(me=R(me,de+(me.key==null||q&&q.key===me.key?"":(""+me.key).replace(H,"$&/")+"/")+Ce)),se.push(me)),1;Ce=0;var ge=ce===""?".":ce+":";if(k(q))for(var Ie=0;Ie<q.length;Ie++)ce=q[Ie],Pe=ge+j(ce,Ie),Ce+=xe(ce,se,de,Pe,me);else if(Ie=y(q),typeof Ie=="function")for(q=Ie.call(q),Ie=0;!(ce=q.next()).done;)ce=ce.value,Pe=ge+j(ce,Ie++),Ce+=xe(ce,se,de,Pe,me);else if(Pe==="object"){if(typeof q.then=="function")return xe(_e(q),se,de,ce,me);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function W(q,se,de){if(q==null)return q;var ce=[],me=0;return xe(q,ce,"","",function(Pe){return se.call(de,Pe,me++)}),ce}function oe(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(de){(q._status===0||q._status===-1)&&(q._status=1,q._result=de)},function(de){(q._status===0||q._status===-1)&&(q._status=2,q._result=de)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function be(){}return He.Children={map:W,forEach:function(q,se,de){W(q,function(){se.apply(this,arguments)},de)},count:function(q){var se=0;return W(q,function(){se++}),se},toArray:function(q){return W(q,function(se){return se})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},He.Component=T,He.Fragment=t,He.Profiler=i,He.PureComponent=S,He.StrictMode=r,He.Suspense=c,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,He.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},He.cache=function(q){return function(){return q.apply(null,arguments)}},He.cloneElement=function(q,se,de){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ce=w({},q.props),me=q.key,Pe=void 0;if(se!=null)for(Ce in se.ref!==void 0&&(Pe=void 0),se.key!==void 0&&(me=""+se.key),se)!K.call(se,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&se.ref===void 0||(ce[Ce]=se[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=de;else if(1<Ce){for(var ge=Array(Ce),Ie=0;Ie<Ce;Ie++)ge[Ie]=arguments[Ie+2];ce.children=ge}return D(q.type,me,void 0,void 0,Pe,ce)},He.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},He.createElement=function(q,se,de){var ce,me={},Pe=null;if(se!=null)for(ce in se.key!==void 0&&(Pe=""+se.key),se)K.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=se[ce]);var Ce=arguments.length-2;if(Ce===1)me.children=de;else if(1<Ce){for(var ge=Array(Ce),Ie=0;Ie<Ce;Ie++)ge[Ie]=arguments[Ie+2];me.children=ge}if(q&&q.defaultProps)for(ce in Ce=q.defaultProps,Ce)me[ce]===void 0&&(me[ce]=Ce[ce]);return D(q,Pe,void 0,void 0,null,me)},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:u,render:q}},He.isValidElement=L,He.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:oe}},He.memo=function(q,se){return{$$typeof:h,type:q,compare:se===void 0?null:se}},He.startTransition=function(q){var se=z.T,de={};z.T=de;try{var ce=q(),me=z.S;me!==null&&me(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,ee)}catch(Pe){ee(Pe)}finally{z.T=se}},He.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},He.use=function(q){return z.H.use(q)},He.useActionState=function(q,se,de){return z.H.useActionState(q,se,de)},He.useCallback=function(q,se){return z.H.useCallback(q,se)},He.useContext=function(q){return z.H.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q,se){return z.H.useDeferredValue(q,se)},He.useEffect=function(q,se,de){var ce=z.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(q,se)},He.useId=function(){return z.H.useId()},He.useImperativeHandle=function(q,se,de){return z.H.useImperativeHandle(q,se,de)},He.useInsertionEffect=function(q,se){return z.H.useInsertionEffect(q,se)},He.useLayoutEffect=function(q,se){return z.H.useLayoutEffect(q,se)},He.useMemo=function(q,se){return z.H.useMemo(q,se)},He.useOptimistic=function(q,se){return z.H.useOptimistic(q,se)},He.useReducer=function(q,se,de){return z.H.useReducer(q,se,de)},He.useRef=function(q){return z.H.useRef(q)},He.useState=function(q){return z.H.useState(q)},He.useSyncExternalStore=function(q,se,de){return z.H.useSyncExternalStore(q,se,de)},He.useTransition=function(){return z.H.useTransition()},He.version="19.1.0",He}var ew;function xm(){return ew||(ew=1,Fp.exports=NR()),Fp.exports}var M=xm();const Qa=_m(M),qT=RR({__proto__:null,default:Qa},[M]);var Up={exports:{}},wc={},zp={exports:{}},jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function MR(){return tw||(tw=1,function(n){function e(W,oe){var ee=W.length;W.push(oe);e:for(;0<ee;){var be=ee-1>>>1,q=W[be];if(0<i(q,oe))W[be]=oe,W[ee]=q,ee=be;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ee=W.pop();if(ee!==oe){W[0]=ee;e:for(var be=0,q=W.length,se=q>>>1;be<se;){var de=2*(be+1)-1,ce=W[de],me=de+1,Pe=W[me];if(0>i(ce,ee))me<q&&0>i(Pe,ce)?(W[be]=Pe,W[me]=ee,be=me):(W[be]=ce,W[de]=ee,be=de);else if(me<q&&0>i(Pe,ee))W[be]=Pe,W[me]=ee,be=me;else break e}}return oe}function i(W,oe){var ee=W.sortIndex-oe.sortIndex;return ee!==0?ee:W.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,v=null,y=3,_=!1,w=!1,A=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(W){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=W)r(h),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=t(h)}}function z(W){if(A=!1,k(W),!w)if(t(c)!==null)w=!0,K||(K=!0,j());else{var oe=t(h);oe!==null&&xe(z,oe.startTime-W)}}var K=!1,D=-1,R=5,L=-1;function U(){return T?!0:!(n.unstable_now()-L<R)}function H(){if(T=!1,K){var W=n.unstable_now();L=W;var oe=!0;try{e:{w=!1,A&&(A=!1,S(D),D=-1),_=!0;var ee=y;try{t:{for(k(W),v=t(c);v!==null&&!(v.expirationTime>W&&U());){var be=v.callback;if(typeof be=="function"){v.callback=null,y=v.priorityLevel;var q=be(v.expirationTime<=W);if(W=n.unstable_now(),typeof q=="function"){v.callback=q,k(W),oe=!0;break t}v===t(c)&&r(c),k(W)}else r(c);v=t(c)}if(v!==null)oe=!0;else{var se=t(h);se!==null&&xe(z,se.startTime-W),oe=!1}}break e}finally{v=null,y=ee,_=!1}oe=void 0}}finally{oe?j():K=!1}}}var j;if(typeof O=="function")j=function(){O(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,_e=F.port2;F.port1.onmessage=H,j=function(){_e.postMessage(null)}}else j=function(){I(H,0)};function xe(W,oe){D=I(function(){W(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(W){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ee=y;y=oe;try{return W()}finally{y=ee}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=y;y=W;try{return oe()}finally{y=ee}},n.unstable_scheduleCallback=function(W,oe,ee){var be=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?be+ee:be):ee=be,W){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,W={id:p++,callback:oe,priorityLevel:W,startTime:ee,expirationTime:q,sortIndex:-1},ee>be?(W.sortIndex=ee,e(h,W),t(c)===null&&W===t(h)&&(A?(S(D),D=-1):A=!0,xe(z,ee-be))):(W.sortIndex=q,e(c,W),w||_||(w=!0,K||(K=!0,j()))),W},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(W){var oe=y;return function(){var ee=y;y=oe;try{return W.apply(this,arguments)}finally{y=ee}}}}(jp)),jp}var nw;function PR(){return nw||(nw=1,zp.exports=MR()),zp.exports}var Hp={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function LR(){if(rw)return zn;rw=1;var n=xm();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},zn.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},zn.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},zn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},zn.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zn.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},zn.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zn.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},zn.requestFormReset=function(c){r.d.r(c)},zn.unstable_batchedUpdates=function(c,h){return c(h)},zn.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},zn.useFormStatus=function(){return s.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var iw;function XT(){if(iw)return Hp.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=LR(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function kR(){if(aw)return wc;aw=1;var n=PR(),e=xm(),t=XT();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var m=f.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){f=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===f)return u(m),o;if(x===d)return u(m),l;x=x.sibling}throw Error(r(188))}if(f.return!==d.return)f=m,d=x;else{for(var C=!1,N=m.child;N;){if(N===f){C=!0,f=m,d=x;break}if(N===d){C=!0,d=m,f=x;break}N=N.sibling}if(!C){for(N=x.child;N;){if(N===f){C=!0,f=x,d=m;break}if(N===d){C=!0,d=x,f=m;break}N=N.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function _e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case O:return(o.displayName||"Context")+".Provider";case S:return(o._context.displayName||"Context")+".Consumer";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case D:return l=o.displayName||null,l!==null?l:_e(o.type)||"Memo";case R:l=o._payload,o=o._init;try{return _e(o(l))}catch{}}return null}var xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},be=[],q=-1;function se(o){return{current:o}}function de(o){0>q||(o.current=be[q],be[q]=null,q--)}function ce(o,l){q++,be[q]=o.current,o.current=l}var me=se(null),Pe=se(null),Ce=se(null),ge=se(null);function Ie(o,l){switch(ce(Ce,l),ce(Pe,o),ce(me,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?bx(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=bx(l),o=Cx(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}de(me),ce(me,o)}function ut(){de(me),de(Pe),de(Ce)}function Ge(o){o.memoizedState!==null&&ce(ge,o);var l=me.current,f=Cx(l,o.type);l!==f&&(ce(Pe,o),ce(me,f))}function ze(o){Pe.current===o&&(de(me),de(Pe)),ge.current===o&&(de(ge),gc._currentValue=ee)}var je=Object.prototype.hasOwnProperty,Gt=n.unstable_scheduleCallback,vn=n.unstable_cancelCallback,Fr=n.unstable_shouldYield,ri=n.unstable_requestPaint,mn=n.unstable_now,du=n.unstable_getCurrentPriorityLevel,ii=n.unstable_ImmediatePriority,Ds=n.unstable_UserBlockingPriority,Ro=n.unstable_NormalPriority,F0=n.unstable_LowPriority,Ns=n.unstable_IdlePriority,pu=n.log,vf=n.unstable_setDisableYieldValue,zt=null,yt=null;function fr(o){if(typeof pu=="function"&&vf(o),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(zt,o)}catch{}}var Fn=Math.clz32?Math.clz32:Oo,mf=Math.log,U0=Math.LN2;function Oo(o){return o>>>=0,o===0?32:31-(mf(o)/U0|0)|0}var Do=256,No=4194304;function Ur(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ms(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var m=0,x=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var N=d&134217727;return N!==0?(d=N&~x,d!==0?m=Ur(d):(C&=N,C!==0?m=Ur(C):f||(f=N&~o,f!==0&&(m=Ur(f))))):(N=d&~x,N!==0?m=Ur(N):C!==0?m=Ur(C):f||(f=d&~o,f!==0&&(m=Ur(f)))),m===0?0:l!==0&&l!==m&&(l&x)===0&&(x=m&-m,f=l&-l,x>=f||x===32&&(f&4194048)!==0)?l:m}function Mo(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function gu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var o=Do;return Do<<=1,(Do&4194048)===0&&(Do=256),o}function mu(){var o=No;return No<<=1,(No&62914560)===0&&(No=4194304),o}function Li(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function ki(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function yu(o,l,f,d,m,x){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var N=o.entanglements,G=o.expirationTimes,Z=o.hiddenUpdates;for(f=C&~f;0<f;){var ae=31-Fn(f),ue=1<<ae;N[ae]=0,G[ae]=-1;var te=Z[ae];if(te!==null)for(Z[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}f&=~ue}d!==0&&ai(o,d,0),x!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=x&~(C&~l))}function ai(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-Fn(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function _u(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-Fn(f),m=1<<d;m&l|o[d]&l&&(o[d]|=l),f&=~m}}function _a(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ps(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function xa(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:qx(o.type))}function yf(o,l){var f=oe.p;try{return oe.p=o,l()}finally{oe.p=f}}var Pt=Math.random().toString(36).slice(2),tn="__reactFiber$"+Pt,Yt="__reactProps$"+Pt,Tr="__reactContainer$"+Pt,xu="__reactEvents$"+Pt,z0="__reactListeners$"+Pt,wa="__reactHandles$"+Pt,_f="__reactResources$"+Pt,Po="__reactMarker$"+Pt;function Ea(o){delete o[tn],delete o[Yt],delete o[xu],delete o[z0],delete o[wa]}function Bi(o){var l=o[tn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Tr]||f[tn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Ox(o);o!==null;){if(f=o[tn])return f;o=Ox(o)}return l}o=f,f=o.parentNode}return null}function oi(o){if(o=o[tn]||o[Tr]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function si(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function $n(o){var l=o[_f];return l||(l=o[_f]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qt(o){o[Po]=!0}var wu=new Set,Ls={};function zr(o,l){Vi(o,l),Vi(o+"Capture",l)}function Vi(o,l){for(Ls[o]=l,o=0;o<l.length;o++)wu.add(l[o])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wf={},Lo={};function Ef(o){return je.call(Lo,o)?!0:je.call(wf,o)?!1:xf.test(o)?Lo[o]=!0:(wf[o]=!0,!1)}function Aa(o,l,f){if(Ef(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function li(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function In(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var ko,Af;function Fi(o){if(ko===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);ko=l&&l[1]||"",Af=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+o+Af}var ks=!1;function Bs(o,l){if(!o||ks)return"";ks=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(ne){te=ne}o.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),C=x[0],N=x[1];if(C&&N){var G=C.split(`
`),Z=N.split(`
`);for(m=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(d===G.length||m===Z.length)for(d=G.length-1,m=Z.length-1;1<=d&&0<=m&&G[d]!==Z[m];)m--;for(;1<=d&&0<=m;d--,m--)if(G[d]!==Z[m]){if(d!==1||m!==1)do if(d--,m--,0>m||G[d]!==Z[m]){var ae=`
`+G[d].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=d&&0<=m);break}}}finally{ks=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Fi(f):""}function Eu(o){switch(o.tag){case 26:case 27:case 5:return Fi(o.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Bs(o.type,!1);case 11:return Bs(o.type.render,!1);case 1:return Bs(o.type,!0);case 31:return Fi("Activity");default:return""}}function Vs(o){try{var l="";do l+=Eu(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Qn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Au(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function j0(o){var l=Au(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,x=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(C){d=""+C,x.call(this,C)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fs(o){o._valueTracker||(o._valueTracker=j0(o))}function Tu(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Au(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function Bo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var H0=/[\n"\\]/g;function $t(o){return o.replace(H0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function hr(o,l,f,d,m,x,C,N){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),l!=null?C==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Qn(l)):o.value!==""+Qn(l)&&(o.value=""+Qn(l)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),l!=null?Ta(o,C,Qn(l)):f!=null?Ta(o,C,Qn(f)):d!=null&&o.removeAttribute("value"),m==null&&x!=null&&(o.defaultChecked=!!x),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.name=""+Qn(N):o.removeAttribute("name")}function Vo(o,l,f,d,m,x,C,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),l!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||l!=null))return;f=f!=null?""+Qn(f):"",l=l!=null?""+Qn(l):f,N||l===o.value||(o.value=l),o.defaultValue=l}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=N?o.checked:!!d,o.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function Ta(o,l,f){l==="number"&&Bo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ui(o,l,f,d){if(o=o.options,l){l={};for(var m=0;m<f.length;m++)l["$"+f[m]]=!0;for(f=0;f<o.length;f++)m=l.hasOwnProperty("$"+o[f].value),o[f].selected!==m&&(o[f].selected=m),m&&d&&(o[f].defaultSelected=!0)}else{for(f=""+Qn(f),l=null,m=0;m<o.length;m++){if(o[m].value===f){o[m].selected=!0,d&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function At(o,l,f){if(l!=null&&(l=""+Qn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Qn(f):""}function Fo(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(xe(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=Qn(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function br(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tf(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||Uo.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function bu(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var m in l)d=l[m],l.hasOwnProperty(m)&&f[m]!==d&&Tf(o,m,d)}else for(var x in l)l.hasOwnProperty(x)&&Tf(o,x,l[x])}function Cu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(o){return q0.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var zi=null;function Cr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ji=null,Hi=null;function Su(o){var l=oi(o);if(l&&(o=l.stateNode)){var f=o[Yt]||null;e:switch(o=l.stateNode,l.type){case"input":if(hr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+$t(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var m=d[Yt]||null;if(!m)throw Error(r(90));hr(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Tu(d)}break e;case"textarea":At(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Ui(o,!!f.multiple,l,!1)}}}var ui=!1;function bf(o,l,f){if(ui)return o(l,f);ui=!0;try{var d=o(l);return d}finally{if(ui=!1,(ji!==null||Hi!==null)&&(yh(),ji&&(l=ji,o=Hi,Hi=ji=null,Su(l),o)))for(l=0;l<o.length;l++)Su(o[l])}}function zo(o,l){var f=o.stateNode;if(f===null)return null;var d=f[Yt]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(jr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Sr=!1}var ci=null,ba=null,Gi=null;function Iu(){if(Gi)return Gi;var o,l=ba,f=l.length,d,m="value"in ci?ci.value:ci.textContent,x=m.length;for(o=0;o<f&&l[o]===m[o];o++);var C=f-o;for(d=1;d<=C&&l[f-d]===m[x-d];d++);return Gi=m.slice(o,1<d?1-d:void 0)}function fi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function hi(){return!0}function Ru(){return!1}function yn(o){function l(f,d,m,x,C){this._reactName=f,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var N in o)o.hasOwnProperty(N)&&(f=o[N],this[N]=f?f(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?hi:Ru,this.isPropagationStopped=Ru,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),l}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=yn(gt),Ho=p({},gt,{view:0,detail:0}),Cf=yn(Ho),js,Hs,di,Go=p({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==di&&(di&&o.type==="mousemove"?(js=o.screenX-di.screenX,Hs=o.screenY-di.screenY):Hs=js=0,di=o),js)},movementY:function(o){return"movementY"in o?o.movementY:Hs}}),Ir=yn(Go),Sf=p({},Go,{dataTransfer:0}),X0=yn(Sf),qo=p({},Ho,{relatedTarget:0}),Gs=yn(qo),Ou=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=yn(Ou),If=p({},gt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Xs=yn(If),K0=p({},gt,{data:0}),Du=yn(K0),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Of[o])?!!l[o]:!1}function Ko(){return Nu}var Df=p({},Ho,{key:function(o){if(o.key){var l=Xo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=fi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Rf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(o){return o.type==="keypress"?fi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?fi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ks=yn(Df),Nf=p({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=yn(Nf),qi=p({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Mf=yn(qi),Pf=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lf=yn(Pf),kf=p({},Go,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ws=yn(kf),Zn=p({},gt,{newState:0,oldState:0}),Bf=yn(Zn),Vf=[9,13,27,32],pi=jr&&"CompositionEvent"in window,g=null;jr&&"documentMode"in document&&(g=document.documentMode);var E=jr&&"TextEvent"in window&&!g,b=jr&&(!pi||g&&8<g&&11>=g),P=" ",$=!1;function re(o,l){switch(o){case"keyup":return Vf.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nt=!1;function nn(o,l){switch(o){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:($=!0,P);case"textInput":return o=l.data,o===P&&$?null:o;default:return null}}function rt(o,l){if(nt)return o==="compositionend"||!pi&&re(o,l)?(o=Iu(),Gi=ba=ci=null,nt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return b&&l.locale!=="ko"?null:l.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!_n[o.type]:l==="textarea"}function Xi(o,l,f,d){ji?Hi?Hi.push(d):Hi=[d]:ji=d,l=Th(l,"onChange"),0<l.length&&(f=new zs("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var Rn=null,gi=null;function Pu(o){xx(o,0)}function Ff(o){var l=si(o);if(Tu(l))return o}function zy(o,l){if(o==="change")return l}var jy=!1;if(jr){var W0;if(jr){var Y0="oninput"in document;if(!Y0){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Y0=typeof Hy.oninput=="function"}W0=Y0}else W0=!1;jy=W0&&(!document.documentMode||9<document.documentMode)}function Gy(){Rn&&(Rn.detachEvent("onpropertychange",qy),gi=Rn=null)}function qy(o){if(o.propertyName==="value"&&Ff(gi)){var l=[];Xi(l,gi,o,Cr(o)),bf(Pu,l)}}function a4(o,l,f){o==="focusin"?(Gy(),Rn=l,gi=f,Rn.attachEvent("onpropertychange",qy)):o==="focusout"&&Gy()}function o4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ff(gi)}function s4(o,l){if(o==="click")return Ff(l)}function l4(o,l){if(o==="input"||o==="change")return Ff(l)}function u4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var dr=typeof Object.is=="function"?Object.is:u4;function Lu(o,l){if(dr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var m=f[d];if(!je.call(l,m)||!dr(o[m],l[m]))return!1}return!0}function Xy(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ky(o,l){var f=Xy(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Xy(f)}}function Wy(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Wy(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Yy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Bo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Bo(o.document)}return l}function $0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var c4=jr&&"documentMode"in document&&11>=document.documentMode,Ys=null,Q0=null,ku=null,Z0=!1;function $y(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Z0||Ys==null||Ys!==Bo(d)||(d=Ys,"selectionStart"in d&&$0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ku&&Lu(ku,d)||(ku=d,d=Th(Q0,"onSelect"),0<d.length&&(l=new zs("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=Ys)))}function Wo(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var $s={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionrun:Wo("Transition","TransitionRun"),transitionstart:Wo("Transition","TransitionStart"),transitioncancel:Wo("Transition","TransitionCancel"),transitionend:Wo("Transition","TransitionEnd")},J0={},Qy={};jr&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Yo(o){if(J0[o])return J0[o];if(!$s[o])return o;var l=$s[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Qy)return J0[o]=l[f];return o}var Zy=Yo("animationend"),Jy=Yo("animationiteration"),e_=Yo("animationstart"),f4=Yo("transitionrun"),h4=Yo("transitionstart"),d4=Yo("transitioncancel"),t_=Yo("transitionend"),n_=new Map,e1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");e1.push("scrollEnd");function Hr(o,l){n_.set(o,l),zr(l,[o])}var r_=new WeakMap;function Rr(o,l){if(typeof o=="object"&&o!==null){var f=r_.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Vs(l)},r_.set(o,l),l)}return{value:o,source:l,stack:Vs(l)}}var Or=[],Qs=0,t1=0;function Uf(){for(var o=Qs,l=t1=Qs=0;l<o;){var f=Or[l];Or[l++]=null;var d=Or[l];Or[l++]=null;var m=Or[l];Or[l++]=null;var x=Or[l];if(Or[l++]=null,d!==null&&m!==null){var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}x!==0&&i_(f,m,x)}}function zf(o,l,f,d){Or[Qs++]=o,Or[Qs++]=l,Or[Qs++]=f,Or[Qs++]=d,t1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function n1(o,l,f,d){return zf(o,l,f,d),jf(o)}function Zs(o,l){return zf(o,null,null,l),jf(o)}function i_(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var m=!1,x=o.return;x!==null;)x.childLanes|=f,d=x.alternate,d!==null&&(d.childLanes|=f),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(m=!0)),o=x,x=x.return;return o.tag===3?(x=o.stateNode,m&&l!==null&&(m=31-Fn(f),o=x.hiddenUpdates,d=o[m],d===null?o[m]=[l]:d.push(l),l.lane=f|536870912),x):null}function jf(o){if(50<sc)throw sc=0,lp=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Js={};function p4(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(o,l,f,d){return new p4(o,l,f,d)}function r1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ki(o,l){var f=o.alternate;return f===null?(f=pr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function a_(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Hf(o,l,f,d,m,x){var C=0;if(d=o,typeof o=="function")r1(o)&&(C=1);else if(typeof o=="string")C=vR(o,f,me.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=pr(31,f,l,m),o.elementType=L,o.lanes=x,o;case w:return $o(f.children,m,x,l);case A:C=8,m|=24;break;case T:return o=pr(12,f,l,m|2),o.elementType=T,o.lanes=x,o;case z:return o=pr(13,f,l,m),o.elementType=z,o.lanes=x,o;case K:return o=pr(19,f,l,m),o.elementType=K,o.lanes=x,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:case O:C=10;break e;case S:C=9;break e;case k:C=11;break e;case D:C=14;break e;case R:C=16,d=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=pr(C,f,l,m),l.elementType=o,l.type=d,l.lanes=x,l}function $o(o,l,f,d){return o=pr(7,o,d,l),o.lanes=f,o}function i1(o,l,f){return o=pr(6,o,null,l),o.lanes=f,o}function a1(o,l,f){return l=pr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var el=[],tl=0,Gf=null,qf=0,Dr=[],Nr=0,Qo=null,Wi=1,Yi="";function Zo(o,l){el[tl++]=qf,el[tl++]=Gf,Gf=o,qf=l}function o_(o,l,f){Dr[Nr++]=Wi,Dr[Nr++]=Yi,Dr[Nr++]=Qo,Qo=o;var d=Wi;o=Yi;var m=32-Fn(d)-1;d&=~(1<<m),f+=1;var x=32-Fn(l)+m;if(30<x){var C=m-m%5;x=(d&(1<<C)-1).toString(32),d>>=C,m-=C,Wi=1<<32-Fn(l)+m|f<<m|d,Yi=x+o}else Wi=1<<x|f<<m|d,Yi=o}function o1(o){o.return!==null&&(Zo(o,1),o_(o,1,0))}function s1(o){for(;o===Gf;)Gf=el[--tl],el[tl]=null,qf=el[--tl],el[tl]=null;for(;o===Qo;)Qo=Dr[--Nr],Dr[Nr]=null,Yi=Dr[--Nr],Dr[Nr]=null,Wi=Dr[--Nr],Dr[Nr]=null}var Jn=null,jt=null,ht=!1,Jo=null,vi=!1,l1=Error(r(519));function es(o){var l=Error(r(418,""));throw Fu(Rr(l,o)),l1}function s_(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[tn]=o,l[Yt]=d,f){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(f=0;f<uc.length;f++)Je(uc[f],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":Je("invalid",l),Vo(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Fs(l);break;case"select":Je("invalid",l);break;case"textarea":Je("invalid",l),Fo(l,d.value,d.defaultValue,d.children),Fs(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||Tx(l.textContent,f)?(d.popover!=null&&(Je("beforetoggle",l),Je("toggle",l)),d.onScroll!=null&&Je("scroll",l),d.onScrollEnd!=null&&Je("scrollend",l),d.onClick!=null&&(l.onclick=bh),l=!0):l=!1,l||es(o)}function l_(o){for(Jn=o.return;Jn;)switch(Jn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:Jn=Jn.return}}function Bu(o){if(o!==Jn)return!1;if(!ht)return l_(o),ht=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Tp(o.type,o.memoizedProps)),f=!f),f&&jt&&es(o),l_(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){jt=qr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}jt=null}}else l===27?(l=jt,za(o.type)?(o=Ip,Ip=null,jt=o):jt=l):jt=Jn?qr(o.stateNode.nextSibling):null;return!0}function Vu(){jt=Jn=null,ht=!1}function u_(){var o=Jo;return o!==null&&(ar===null?ar=o:ar.push.apply(ar,o),Jo=null),o}function Fu(o){Jo===null?Jo=[o]:Jo.push(o)}var u1=se(null),ts=null,$i=null;function Ca(o,l,f){ce(u1,l._currentValue),l._currentValue=f}function Qi(o){o._currentValue=u1.current,de(u1)}function c1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function f1(o,l,f,d){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var x=m.dependencies;if(x!==null){var C=m.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=m;for(var G=0;G<l.length;G++)if(N.context===l[G]){x.lanes|=f,N=x.alternate,N!==null&&(N.lanes|=f),c1(x.return,f,o),d||(C=null);break e}x=N.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(r(341));C.lanes|=f,x=C.alternate,x!==null&&(x.lanes|=f),c1(C,f,o),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===o){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Uu(o,l,f,d){o=null;for(var m=l,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var N=m.type;dr(m.pendingProps.value,C.value)||(o!==null?o.push(N):o=[N])}}else if(m===ge.current){if(C=m.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(gc):o=[gc])}m=m.return}o!==null&&f1(l,o,f,d),l.flags|=262144}function Xf(o){for(o=o.firstContext;o!==null;){if(!dr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ns(o){ts=o,$i=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Un(o){return c_(ts,o)}function Kf(o,l){return ts===null&&ns(o),c_(o,l)}function c_(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},$i===null){if(o===null)throw Error(r(308));$i=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else $i=$i.next=l;return f}var g4=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},v4=n.unstable_scheduleCallback,m4=n.unstable_NormalPriority,an={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h1(){return{controller:new g4,data:new Map,refCount:0}}function zu(o){o.refCount--,o.refCount===0&&v4(m4,function(){o.controller.abort()})}var ju=null,d1=0,nl=0,rl=null;function y4(o,l){if(ju===null){var f=ju=[];d1=0,nl=gp(),rl={status:"pending",value:void 0,then:function(d){f.push(d)}}}return d1++,l.then(f_,f_),l}function f_(){if(--d1===0&&ju!==null){rl!==null&&(rl.status="fulfilled");var o=ju;ju=null,nl=0,rl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function _4(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(m){f.push(m)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var m=0;m<f.length;m++)(0,f[m])(l)},function(m){for(d.status="rejected",d.reason=m,m=0;m<f.length;m++)(0,f[m])(void 0)}),d}var h_=W.S;W.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&y4(o,l),h_!==null&&h_(o,l)};var rs=se(null);function p1(){var o=rs.current;return o!==null?o:Ot.pooledCache}function Wf(o,l){l===null?ce(rs,rs.current):ce(rs,l.pool)}function d_(){var o=p1();return o===null?null:{parent:an._currentValue,pool:o}}var Hu=Error(r(460)),p_=Error(r(474)),Yf=Error(r(542)),g1={then:function(){}};function g_(o){return o=o.status,o==="fulfilled"||o==="rejected"}function $f(){}function v_(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then($f,$f),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,y_(o),o;default:if(typeof l.status=="string")l.then($f,$f);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=d}},function(d){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,y_(o),o}throw Gu=l,Hu}}var Gu=null;function m_(){if(Gu===null)throw Error(r(459));var o=Gu;return Gu=null,o}function y_(o){if(o===Hu||o===Yf)throw Error(r(483))}var Sa=!1;function v1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ia(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ra(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(_t&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,l=jf(o),i_(o,null,f),l}return zf(o,d,l,f),jf(o)}function qu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,_u(o,f)}}function y1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var m=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?m=x=C:x=x.next=C,f=f.next}while(f!==null);x===null?m=x=l:x=x.next=l}else m=x=l;f={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var _1=!1;function Xu(){if(_1){var o=rl;if(o!==null)throw o}}function Ku(o,l,f,d){_1=!1;var m=o.updateQueue;Sa=!1;var x=m.firstBaseUpdate,C=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var G=N,Z=G.next;G.next=null,C===null?x=Z:C.next=Z,C=G;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==C&&(N===null?ae.firstBaseUpdate=Z:N.next=Z,ae.lastBaseUpdate=G))}if(x!==null){var ue=m.baseState;C=0,ae=Z=G=null,N=x;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(it&te)===te:(d&te)===te){te!==0&&te===nl&&(_1=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Be=o,Me=N;te=l;var Ct=f;switch(Me.tag){case 1:if(Be=Me.payload,typeof Be=="function"){ue=Be.call(Ct,ue,te);break e}ue=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Me.payload,te=typeof Be=="function"?Be.call(Ct,ue,te):Be,te==null)break e;ue=p({},ue,te);break e;case 2:Sa=!0}}te=N.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(Z=ae=ne,G=ue):ae=ae.next=ne,C|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ae===null&&(G=ue),m.baseState=G,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,x===null&&(m.shared.lanes=0),Ba|=C,o.lanes=C,o.memoizedState=ue}}function __(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function x_(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)__(f[o],l)}var il=se(null),Qf=se(0);function w_(o,l){o=ia,ce(Qf,o),ce(il,l),ia=o|l.baseLanes}function x1(){ce(Qf,ia),ce(il,il.current)}function w1(){ia=Qf.current,de(il),de(Qf)}var Oa=0,Xe=null,Tt=null,Qt=null,Zf=!1,al=!1,is=!1,Jf=0,Wu=0,ol=null,x4=0;function Xt(){throw Error(r(321))}function E1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!dr(o[f],l[f]))return!1;return!0}function A1(o,l,f,d,m,x){return Oa=x,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=o===null||o.memoizedState===null?i2:a2,is=!1,x=f(d,m),is=!1,al&&(x=A_(l,f,d,m)),E_(o),x}function E_(o){W.H=ah;var l=Tt!==null&&Tt.next!==null;if(Oa=0,Qt=Tt=Xe=null,Zf=!1,Wu=0,ol=null,l)throw Error(r(300));o===null||xn||(o=o.dependencies,o!==null&&Xf(o)&&(xn=!0))}function A_(o,l,f,d){Xe=o;var m=0;do{if(al&&(ol=null),Wu=0,al=!1,25<=m)throw Error(r(301));if(m+=1,Qt=Tt=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=S4,x=l(f,d)}while(al);return x}function w4(){var o=W.H,l=o.useState()[0];return l=typeof l.then=="function"?Yu(l):l,o=o.useState()[0],(Tt!==null?Tt.memoizedState:null)!==o&&(Xe.flags|=1024),l}function T1(){var o=Jf!==0;return Jf=0,o}function b1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function C1(o){if(Zf){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Zf=!1}Oa=0,Qt=Tt=Xe=null,al=!1,Wu=Jf=0,ol=null}function rr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o,Qt}function Zt(){if(Tt===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=Tt.next;var l=Qt===null?Xe.memoizedState:Qt.next;if(l!==null)Qt=l,Tt=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Tt=o,o={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o}return Qt}function S1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(o){var l=Wu;return Wu+=1,ol===null&&(ol=[]),o=v_(ol,o,l),l=Xe,(Qt===null?l.memoizedState:Qt.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?i2:a2),o}function eh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Yu(o);if(o.$$typeof===O)return Un(o)}throw Error(r(438,String(o)))}function I1(o){var l=null,f=Xe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=Xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=S1(),Xe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=U;return l.index++,f}function Zi(o,l){return typeof l=="function"?l(o):l}function th(o){var l=Zt();return R1(l,Tt,o)}function R1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var m=o.baseQueue,x=d.pending;if(x!==null){if(m!==null){var C=m.next;m.next=x.next,x.next=C}l.baseQueue=m=x,d.pending=null}if(x=o.baseState,m===null)o.memoizedState=x;else{l=m.next;var N=C=null,G=null,Z=l,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(it&ue)===ue:(Oa&ue)===ue){var te=Z.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===nl&&(ae=!0);else if((Oa&te)===te){Z=Z.next,te===nl&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(N=G=ue,C=x):G=G.next=ue,Xe.lanes|=te,Ba|=te;ue=Z.action,is&&f(x,ue),x=Z.hasEagerState?Z.eagerState:f(x,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(N=G=te,C=x):G=G.next=te,Xe.lanes|=ue,Ba|=ue;Z=Z.next}while(Z!==null&&Z!==l);if(G===null?C=x:G.next=N,!dr(x,o.memoizedState)&&(xn=!0,ae&&(f=rl,f!==null)))throw f;o.memoizedState=x,o.baseState=C,o.baseQueue=G,d.lastRenderedState=x}return m===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function O1(o){var l=Zt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,m=f.pending,x=l.memoizedState;if(m!==null){f.pending=null;var C=m=m.next;do x=o(x,C.action),C=C.next;while(C!==m);dr(x,l.memoizedState)||(xn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),f.lastRenderedState=x}return[x,d]}function T_(o,l,f){var d=Xe,m=Zt(),x=ht;if(x){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!dr((Tt||m).memoizedState,f);C&&(m.memoizedState=f,xn=!0),m=m.queue;var N=S_.bind(null,d,m,o);if($u(2048,8,N,[o]),m.getSnapshot!==l||C||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,sl(9,nh(),C_.bind(null,d,m,f,l),null),Ot===null)throw Error(r(349));x||(Oa&124)!==0||b_(d,l,f)}return f}function b_(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Xe.updateQueue,l===null?(l=S1(),Xe.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function C_(o,l,f,d){l.value=f,l.getSnapshot=d,I_(l)&&R_(o)}function S_(o,l,f){return f(function(){I_(l)&&R_(o)})}function I_(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!dr(o,f)}catch{return!0}}function R_(o){var l=Zs(o,2);l!==null&&_r(l,o,2)}function D1(o){var l=rr();if(typeof o=="function"){var f=o;if(o=f(),is){fr(!0);try{f()}finally{fr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},l}function O_(o,l,f,d){return o.baseState=f,R1(o,Tt,typeof d=="function"?d:Zi)}function E4(o,l,f,d,m){if(ih(o))throw Error(r(485));if(o=l.action,o!==null){var x={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};W.T!==null?f(!0):x.isTransition=!1,d(x),f=l.pending,f===null?(x.next=l.pending=x,D_(l,x)):(x.next=f.next,l.pending=f.next=x)}}function D_(o,l){var f=l.action,d=l.payload,m=o.state;if(l.isTransition){var x=W.T,C={};W.T=C;try{var N=f(m,d),G=W.S;G!==null&&G(C,N),N_(o,l,N)}catch(Z){N1(o,l,Z)}finally{W.T=x}}else try{x=f(m,d),N_(o,l,x)}catch(Z){N1(o,l,Z)}}function N_(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){M_(o,l,d)},function(d){return N1(o,l,d)}):M_(o,l,f)}function M_(o,l,f){l.status="fulfilled",l.value=f,P_(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,D_(o,f)))}function N1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,P_(l),l=l.next;while(l!==d)}o.action=null}function P_(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function L_(o,l){return l}function k_(o,l){if(ht){var f=Ot.formState;if(f!==null){e:{var d=Xe;if(ht){if(jt){t:{for(var m=jt,x=vi;m.nodeType!==8;){if(!x){m=null;break t}if(m=qr(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){jt=qr(m.nextSibling),d=m.data==="F!";break e}}es(d)}d=!1}d&&(l=f[0])}}return f=rr(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L_,lastRenderedState:l},f.queue=d,f=t2.bind(null,Xe,d),d.dispatch=f,d=D1(!1),x=B1.bind(null,Xe,!1,d.queue),d=rr(),m={state:l,dispatch:null,action:o,pending:null},d.queue=m,f=E4.bind(null,Xe,m,x,f),m.dispatch=f,d.memoizedState=o,[l,f,!1]}function B_(o){var l=Zt();return V_(l,Tt,o)}function V_(o,l,f){if(l=R1(o,l,L_)[0],o=th(Zi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Yu(l)}catch(C){throw C===Hu?Yf:C}else d=l;l=Zt();var m=l.queue,x=m.dispatch;return f!==l.memoizedState&&(Xe.flags|=2048,sl(9,nh(),A4.bind(null,m,f),null)),[d,x,o]}function A4(o,l){o.action=l}function F_(o){var l=Zt(),f=Tt;if(f!==null)return V_(l,f,o);Zt(),l=l.memoizedState,f=Zt();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function sl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=S1(),Xe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function nh(){return{destroy:void 0,resource:void 0}}function U_(){return Zt().memoizedState}function rh(o,l,f,d){var m=rr();d=d===void 0?null:d,Xe.flags|=o,m.memoizedState=sl(1|l,nh(),f,d)}function $u(o,l,f,d){var m=Zt();d=d===void 0?null:d;var x=m.memoizedState.inst;Tt!==null&&d!==null&&E1(d,Tt.memoizedState.deps)?m.memoizedState=sl(l,x,f,d):(Xe.flags|=o,m.memoizedState=sl(1|l,x,f,d))}function z_(o,l){rh(8390656,8,o,l)}function j_(o,l){$u(2048,8,o,l)}function H_(o,l){return $u(4,2,o,l)}function G_(o,l){return $u(4,4,o,l)}function q_(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function X_(o,l,f){f=f!=null?f.concat([o]):null,$u(4,4,q_.bind(null,l,o),f)}function M1(){}function K_(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&E1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function W_(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&E1(l,d[1]))return d[0];if(d=o(),is){fr(!0);try{o()}finally{fr(!1)}}return f.memoizedState=[d,l],d}function P1(o,l,f){return f===void 0||(Oa&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=Q2(),Xe.lanes|=o,Ba|=o,f)}function Y_(o,l,f,d){return dr(f,l)?f:il.current!==null?(o=P1(o,f,d),dr(o,l)||(xn=!0),o):(Oa&42)===0?(xn=!0,o.memoizedState=f):(o=Q2(),Xe.lanes|=o,Ba|=o,l)}function $_(o,l,f,d,m){var x=oe.p;oe.p=x!==0&&8>x?x:8;var C=W.T,N={};W.T=N,B1(o,!1,l,f);try{var G=m(),Z=W.S;if(Z!==null&&Z(N,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ae=_4(G,d);Qu(o,l,ae,yr(o))}else Qu(o,l,d,yr(o))}catch(ue){Qu(o,l,{then:function(){},status:"rejected",reason:ue},yr())}finally{oe.p=x,W.T=C}}function T4(){}function L1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var m=Q_(o).queue;$_(o,m,l,ee,f===null?T4:function(){return Z_(o),f(d)})}function Q_(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ee},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function Z_(o){var l=Q_(o).next.queue;Qu(o,l,{},yr())}function k1(){return Un(gc)}function J_(){return Zt().memoizedState}function e2(){return Zt().memoizedState}function b4(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=yr();o=Ia(f);var d=Ra(l,o,f);d!==null&&(_r(d,l,f),qu(d,l,f)),l={cache:h1()},o.payload=l;return}l=l.return}}function C4(o,l,f){var d=yr();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},ih(o)?n2(l,f):(f=n1(o,l,f,d),f!==null&&(_r(f,o,d),r2(f,l,d)))}function t2(o,l,f){var d=yr();Qu(o,l,f,d)}function Qu(o,l,f,d){var m={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(ih(o))n2(l,m);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var C=l.lastRenderedState,N=x(C,f);if(m.hasEagerState=!0,m.eagerState=N,dr(N,C))return zf(o,l,m,0),Ot===null&&Uf(),!1}catch{}finally{}if(f=n1(o,l,m,d),f!==null)return _r(f,o,d),r2(f,l,d),!0}return!1}function B1(o,l,f,d){if(d={lane:2,revertLane:gp(),action:d,hasEagerState:!1,eagerState:null,next:null},ih(o)){if(l)throw Error(r(479))}else l=n1(o,f,d,2),l!==null&&_r(l,o,2)}function ih(o){var l=o.alternate;return o===Xe||l!==null&&l===Xe}function n2(o,l){al=Zf=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function r2(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,_u(o,f)}}var ah={readContext:Un,use:eh,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},i2={readContext:Un,use:eh,useCallback:function(o,l){return rr().memoizedState=[o,l===void 0?null:l],o},useContext:Un,useEffect:z_,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,rh(4194308,4,q_.bind(null,l,o),f)},useLayoutEffect:function(o,l){return rh(4194308,4,o,l)},useInsertionEffect:function(o,l){rh(4,2,o,l)},useMemo:function(o,l){var f=rr();l=l===void 0?null:l;var d=o();if(is){fr(!0);try{o()}finally{fr(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=rr();if(f!==void 0){var m=f(l);if(is){fr(!0);try{f(l)}finally{fr(!1)}}}else m=l;return d.memoizedState=d.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},d.queue=o,o=o.dispatch=C4.bind(null,Xe,o),[d.memoizedState,o]},useRef:function(o){var l=rr();return o={current:o},l.memoizedState=o},useState:function(o){o=D1(o);var l=o.queue,f=t2.bind(null,Xe,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:M1,useDeferredValue:function(o,l){var f=rr();return P1(f,o,l)},useTransition:function(){var o=D1(!1);return o=$_.bind(null,Xe,o.queue,!0,!1),rr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=Xe,m=rr();if(ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ot===null)throw Error(r(349));(it&124)!==0||b_(d,l,f)}m.memoizedState=f;var x={value:f,getSnapshot:l};return m.queue=x,z_(S_.bind(null,d,x,o),[o]),d.flags|=2048,sl(9,nh(),C_.bind(null,d,x,f,l),null),f},useId:function(){var o=rr(),l=Ot.identifierPrefix;if(ht){var f=Yi,d=Wi;f=(d&~(1<<32-Fn(d)-1)).toString(32)+f,l=""+l+"R"+f,f=Jf++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=x4++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:k1,useFormState:k_,useActionState:k_,useOptimistic:function(o){var l=rr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=B1.bind(null,Xe,!0,f),f.dispatch=l,[o,l]},useMemoCache:I1,useCacheRefresh:function(){return rr().memoizedState=b4.bind(null,Xe)}},a2={readContext:Un,use:eh,useCallback:K_,useContext:Un,useEffect:j_,useImperativeHandle:X_,useInsertionEffect:H_,useLayoutEffect:G_,useMemo:W_,useReducer:th,useRef:U_,useState:function(){return th(Zi)},useDebugValue:M1,useDeferredValue:function(o,l){var f=Zt();return Y_(f,Tt.memoizedState,o,l)},useTransition:function(){var o=th(Zi)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:Yu(o),l]},useSyncExternalStore:T_,useId:J_,useHostTransitionStatus:k1,useFormState:B_,useActionState:B_,useOptimistic:function(o,l){var f=Zt();return O_(f,Tt,o,l)},useMemoCache:I1,useCacheRefresh:e2},S4={readContext:Un,use:eh,useCallback:K_,useContext:Un,useEffect:j_,useImperativeHandle:X_,useInsertionEffect:H_,useLayoutEffect:G_,useMemo:W_,useReducer:O1,useRef:U_,useState:function(){return O1(Zi)},useDebugValue:M1,useDeferredValue:function(o,l){var f=Zt();return Tt===null?P1(f,o,l):Y_(f,Tt.memoizedState,o,l)},useTransition:function(){var o=O1(Zi)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:Yu(o),l]},useSyncExternalStore:T_,useId:J_,useHostTransitionStatus:k1,useFormState:F_,useActionState:F_,useOptimistic:function(o,l){var f=Zt();return Tt!==null?O_(f,Tt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:I1,useCacheRefresh:e2},ll=null,Zu=0;function oh(o){var l=Zu;return Zu+=1,ll===null&&(ll=[]),v_(ll,o,l)}function Ju(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function sh(o,l){throw l.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function o2(o){var l=o._init;return l(o._payload)}function s2(o){function l(Y,X){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[X],Y.flags|=16):Q.push(X)}}function f(Y,X){if(!o)return null;for(;X!==null;)l(Y,X),X=X.sibling;return null}function d(Y){for(var X=new Map;Y!==null;)Y.key!==null?X.set(Y.key,Y):X.set(Y.index,Y),Y=Y.sibling;return X}function m(Y,X){return Y=Ki(Y,X),Y.index=0,Y.sibling=null,Y}function x(Y,X,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<X?(Y.flags|=67108866,X):Q):(Y.flags|=67108866,X)):(Y.flags|=1048576,X)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,X,Q,le){return X===null||X.tag!==6?(X=i1(Q,Y.mode,le),X.return=Y,X):(X=m(X,Q),X.return=Y,X)}function G(Y,X,Q,le){var we=Q.type;return we===w?ae(Y,X,Q.props.children,le,Q.key):X!==null&&(X.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&o2(we)===X.type)?(X=m(X,Q.props),Ju(X,Q),X.return=Y,X):(X=Hf(Q.type,Q.key,Q.props,null,Y.mode,le),Ju(X,Q),X.return=Y,X)}function Z(Y,X,Q,le){return X===null||X.tag!==4||X.stateNode.containerInfo!==Q.containerInfo||X.stateNode.implementation!==Q.implementation?(X=a1(Q,Y.mode,le),X.return=Y,X):(X=m(X,Q.children||[]),X.return=Y,X)}function ae(Y,X,Q,le,we){return X===null||X.tag!==7?(X=$o(Q,Y.mode,le,we),X.return=Y,X):(X=m(X,Q),X.return=Y,X)}function ue(Y,X,Q){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=i1(""+X,Y.mode,Q),X.return=Y,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return Q=Hf(X.type,X.key,X.props,null,Y.mode,Q),Ju(Q,X),Q.return=Y,Q;case _:return X=a1(X,Y.mode,Q),X.return=Y,X;case R:var le=X._init;return X=le(X._payload),ue(Y,X,Q)}if(xe(X)||j(X))return X=$o(X,Y.mode,Q,null),X.return=Y,X;if(typeof X.then=="function")return ue(Y,oh(X),Q);if(X.$$typeof===O)return ue(Y,Kf(Y,X),Q);sh(Y,X)}return null}function te(Y,X,Q,le){var we=X!==null?X.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return we!==null?null:N(Y,X,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===we?G(Y,X,Q,le):null;case _:return Q.key===we?Z(Y,X,Q,le):null;case R:return we=Q._init,Q=we(Q._payload),te(Y,X,Q,le)}if(xe(Q)||j(Q))return we!==null?null:ae(Y,X,Q,le,null);if(typeof Q.then=="function")return te(Y,X,oh(Q),le);if(Q.$$typeof===O)return te(Y,X,Kf(Y,Q),le);sh(Y,Q)}return null}function ne(Y,X,Q,le,we){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Q)||null,N(X,Y,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return Y=Y.get(le.key===null?Q:le.key)||null,G(X,Y,le,we);case _:return Y=Y.get(le.key===null?Q:le.key)||null,Z(X,Y,le,we);case R:var $e=le._init;return le=$e(le._payload),ne(Y,X,Q,le,we)}if(xe(le)||j(le))return Y=Y.get(Q)||null,ae(X,Y,le,we,null);if(typeof le.then=="function")return ne(Y,X,Q,oh(le),we);if(le.$$typeof===O)return ne(Y,X,Q,Kf(X,le),we);sh(X,le)}return null}function Be(Y,X,Q,le){for(var we=null,$e=null,Se=X,Le=X=0,En=null;Se!==null&&Le<Q.length;Le++){Se.index>Le?(En=Se,Se=null):En=Se.sibling;var ct=te(Y,Se,Q[Le],le);if(ct===null){Se===null&&(Se=En);break}o&&Se&&ct.alternate===null&&l(Y,Se),X=x(ct,X,Le),$e===null?we=ct:$e.sibling=ct,$e=ct,Se=En}if(Le===Q.length)return f(Y,Se),ht&&Zo(Y,Le),we;if(Se===null){for(;Le<Q.length;Le++)Se=ue(Y,Q[Le],le),Se!==null&&(X=x(Se,X,Le),$e===null?we=Se:$e.sibling=Se,$e=Se);return ht&&Zo(Y,Le),we}for(Se=d(Se);Le<Q.length;Le++)En=ne(Se,Y,Le,Q[Le],le),En!==null&&(o&&En.alternate!==null&&Se.delete(En.key===null?Le:En.key),X=x(En,X,Le),$e===null?we=En:$e.sibling=En,$e=En);return o&&Se.forEach(function(Xa){return l(Y,Xa)}),ht&&Zo(Y,Le),we}function Me(Y,X,Q,le){if(Q==null)throw Error(r(151));for(var we=null,$e=null,Se=X,Le=X=0,En=null,ct=Q.next();Se!==null&&!ct.done;Le++,ct=Q.next()){Se.index>Le?(En=Se,Se=null):En=Se.sibling;var Xa=te(Y,Se,ct.value,le);if(Xa===null){Se===null&&(Se=En);break}o&&Se&&Xa.alternate===null&&l(Y,Se),X=x(Xa,X,Le),$e===null?we=Xa:$e.sibling=Xa,$e=Xa,Se=En}if(ct.done)return f(Y,Se),ht&&Zo(Y,Le),we;if(Se===null){for(;!ct.done;Le++,ct=Q.next())ct=ue(Y,ct.value,le),ct!==null&&(X=x(ct,X,Le),$e===null?we=ct:$e.sibling=ct,$e=ct);return ht&&Zo(Y,Le),we}for(Se=d(Se);!ct.done;Le++,ct=Q.next())ct=ne(Se,Y,Le,ct.value,le),ct!==null&&(o&&ct.alternate!==null&&Se.delete(ct.key===null?Le:ct.key),X=x(ct,X,Le),$e===null?we=ct:$e.sibling=ct,$e=ct);return o&&Se.forEach(function(IR){return l(Y,IR)}),ht&&Zo(Y,Le),we}function Ct(Y,X,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var we=Q.key;X!==null;){if(X.key===we){if(we=Q.type,we===w){if(X.tag===7){f(Y,X.sibling),le=m(X,Q.props.children),le.return=Y,Y=le;break e}}else if(X.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&o2(we)===X.type){f(Y,X.sibling),le=m(X,Q.props),Ju(le,Q),le.return=Y,Y=le;break e}f(Y,X);break}else l(Y,X);X=X.sibling}Q.type===w?(le=$o(Q.props.children,Y.mode,le,Q.key),le.return=Y,Y=le):(le=Hf(Q.type,Q.key,Q.props,null,Y.mode,le),Ju(le,Q),le.return=Y,Y=le)}return C(Y);case _:e:{for(we=Q.key;X!==null;){if(X.key===we)if(X.tag===4&&X.stateNode.containerInfo===Q.containerInfo&&X.stateNode.implementation===Q.implementation){f(Y,X.sibling),le=m(X,Q.children||[]),le.return=Y,Y=le;break e}else{f(Y,X);break}else l(Y,X);X=X.sibling}le=a1(Q,Y.mode,le),le.return=Y,Y=le}return C(Y);case R:return we=Q._init,Q=we(Q._payload),Ct(Y,X,Q,le)}if(xe(Q))return Be(Y,X,Q,le);if(j(Q)){if(we=j(Q),typeof we!="function")throw Error(r(150));return Q=we.call(Q),Me(Y,X,Q,le)}if(typeof Q.then=="function")return Ct(Y,X,oh(Q),le);if(Q.$$typeof===O)return Ct(Y,X,Kf(Y,Q),le);sh(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,X!==null&&X.tag===6?(f(Y,X.sibling),le=m(X,Q),le.return=Y,Y=le):(f(Y,X),le=i1(Q,Y.mode,le),le.return=Y,Y=le),C(Y)):f(Y,X)}return function(Y,X,Q,le){try{Zu=0;var we=Ct(Y,X,Q,le);return ll=null,we}catch(Se){if(Se===Hu||Se===Yf)throw Se;var $e=pr(29,Se,null,Y.mode);return $e.lanes=le,$e.return=Y,$e}finally{}}}var ul=s2(!0),l2=s2(!1),Mr=se(null),mi=null;function Da(o){var l=o.alternate;ce(on,on.current&1),ce(Mr,o),mi===null&&(l===null||il.current!==null||l.memoizedState!==null)&&(mi=o)}function u2(o){if(o.tag===22){if(ce(on,on.current),ce(Mr,o),mi===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(mi=o)}}else Na()}function Na(){ce(on,on.current),ce(Mr,Mr.current)}function Ji(o){de(Mr),mi===o&&(mi=null),de(on)}var on=se(0);function lh(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Sp(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function V1(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var F1={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=yr(),m=Ia(d);m.payload=l,f!=null&&(m.callback=f),l=Ra(o,m,d),l!==null&&(_r(l,o,d),qu(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=yr(),m=Ia(d);m.tag=1,m.payload=l,f!=null&&(m.callback=f),l=Ra(o,m,d),l!==null&&(_r(l,o,d),qu(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=yr(),d=Ia(f);d.tag=2,l!=null&&(d.callback=l),l=Ra(o,d,f),l!==null&&(_r(l,o,f),qu(l,o,f))}};function c2(o,l,f,d,m,x,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,x,C):l.prototype&&l.prototype.isPureReactComponent?!Lu(f,d)||!Lu(m,x):!0}function f2(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&F1.enqueueReplaceState(l,l.state,null)}function as(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var m in o)f[m]===void 0&&(f[m]=o[m])}return f}var uh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function h2(o){uh(o)}function d2(o){console.error(o)}function p2(o){uh(o)}function ch(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function g2(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function U1(o,l,f){return f=Ia(f),f.tag=3,f.payload={element:null},f.callback=function(){ch(o,l)},f}function v2(o){return o=Ia(o),o.tag=3,o}function m2(o,l,f,d){var m=f.type.getDerivedStateFromError;if(typeof m=="function"){var x=d.value;o.payload=function(){return m(x)},o.callback=function(){g2(l,f,d)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){g2(l,f,d),typeof m!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function I4(o,l,f,d,m){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&Uu(l,f,m,!0),f=Mr.current,f!==null){switch(f.tag){case 13:return mi===null?cp():f.alternate===null&&Ht===0&&(Ht=3),f.flags&=-257,f.flags|=65536,f.lanes=m,d===g1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),hp(o,d,m)),!1;case 22:return f.flags|=65536,d===g1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),hp(o,d,m)),!1}throw Error(r(435,f.tag))}return hp(o,d,m),cp(),!1}if(ht)return l=Mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,d!==l1&&(o=Error(r(422),{cause:d}),Fu(Rr(o,f)))):(d!==l1&&(l=Error(r(423),{cause:d}),Fu(Rr(l,f))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,d=Rr(d,f),m=U1(o.stateNode,d,m),y1(o,m),Ht!==4&&(Ht=2)),!1;var x=Error(r(520),{cause:d});if(x=Rr(x,f),oc===null?oc=[x]:oc.push(x),Ht!==4&&(Ht=2),l===null)return!0;d=Rr(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=m&-m,f.lanes|=o,o=U1(f.stateNode,d,o),y1(f,o),!1;case 1:if(l=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Va===null||!Va.has(x))))return f.flags|=65536,m&=-m,f.lanes|=m,m=v2(m),m2(m,o,f,d),y1(f,m),!1}f=f.return}while(f!==null);return!1}var y2=Error(r(461)),xn=!1;function On(o,l,f,d){l.child=o===null?l2(l,null,f,d):ul(l,o.child,f,d)}function _2(o,l,f,d,m){f=f.render;var x=l.ref;if("ref"in d){var C={};for(var N in d)N!=="ref"&&(C[N]=d[N])}else C=d;return ns(l),d=A1(o,l,f,C,x,m),N=T1(),o!==null&&!xn?(b1(o,l,m),ea(o,l,m)):(ht&&N&&o1(l),l.flags|=1,On(o,l,d,m),l.child)}function x2(o,l,f,d,m){if(o===null){var x=f.type;return typeof x=="function"&&!r1(x)&&x.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=x,w2(o,l,x,d,m)):(o=Hf(f.type,null,d,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(x=o.child,!W1(o,m)){var C=x.memoizedProps;if(f=f.compare,f=f!==null?f:Lu,f(C,d)&&o.ref===l.ref)return ea(o,l,m)}return l.flags|=1,o=Ki(x,d),o.ref=l.ref,o.return=l,l.child=o}function w2(o,l,f,d,m){if(o!==null){var x=o.memoizedProps;if(Lu(x,d)&&o.ref===l.ref)if(xn=!1,l.pendingProps=d=x,W1(o,m))(o.flags&131072)!==0&&(xn=!0);else return l.lanes=o.lanes,ea(o,l,m)}return z1(o,l,f,d,m)}function E2(o,l,f){var d=l.pendingProps,m=d.children,x=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=x!==null?x.baseLanes|f:f,o!==null){for(m=l.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;l.childLanes=x&~d}else l.childLanes=0,l.child=null;return A2(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Wf(l,x!==null?x.cachePool:null),x!==null?w_(l,x):x1(),u2(l);else return l.lanes=l.childLanes=536870912,A2(o,l,x!==null?x.baseLanes|f:f,f)}else x!==null?(Wf(l,x.cachePool),w_(l,x),Na(),l.memoizedState=null):(o!==null&&Wf(l,null),x1(),Na());return On(o,l,m,f),l.child}function A2(o,l,f,d){var m=p1();return m=m===null?null:{parent:an._currentValue,pool:m},l.memoizedState={baseLanes:f,cachePool:m},o!==null&&Wf(l,null),x1(),u2(l),o!==null&&Uu(o,l,d,!0),null}function fh(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function z1(o,l,f,d,m){return ns(l),f=A1(o,l,f,d,void 0,m),d=T1(),o!==null&&!xn?(b1(o,l,m),ea(o,l,m)):(ht&&d&&o1(l),l.flags|=1,On(o,l,f,m),l.child)}function T2(o,l,f,d,m,x){return ns(l),l.updateQueue=null,f=A_(l,d,f,m),E_(o),d=T1(),o!==null&&!xn?(b1(o,l,x),ea(o,l,x)):(ht&&d&&o1(l),l.flags|=1,On(o,l,f,x),l.child)}function b2(o,l,f,d,m){if(ns(l),l.stateNode===null){var x=Js,C=f.contextType;typeof C=="object"&&C!==null&&(x=Un(C)),x=new f(d,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=F1,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=d,x.state=l.memoizedState,x.refs={},v1(l),C=f.contextType,x.context=typeof C=="object"&&C!==null?Un(C):Js,x.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(V1(l,f,C,d),x.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&F1.enqueueReplaceState(x,x.state,null),Ku(l,d,x,m),Xu(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){x=l.stateNode;var N=l.memoizedProps,G=as(f,N);x.props=G;var Z=x.context,ae=f.contextType;C=Js,typeof ae=="object"&&ae!==null&&(C=Un(ae));var ue=f.getDerivedStateFromProps;ae=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||Z!==C)&&f2(l,x,d,C),Sa=!1;var te=l.memoizedState;x.state=te,Ku(l,d,x,m),Xu(),Z=l.memoizedState,N||te!==Z||Sa?(typeof ue=="function"&&(V1(l,f,ue,d),Z=l.memoizedState),(G=Sa||c2(l,f,G,d,te,Z,C))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Z),x.props=d,x.state=Z,x.context=C,d=G):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{x=l.stateNode,m1(o,l),C=l.memoizedProps,ae=as(f,C),x.props=ae,ue=l.pendingProps,te=x.context,Z=f.contextType,G=Js,typeof Z=="object"&&Z!==null&&(G=Un(Z)),N=f.getDerivedStateFromProps,(Z=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ue||te!==G)&&f2(l,x,d,G),Sa=!1,te=l.memoizedState,x.state=te,Ku(l,d,x,m),Xu();var ne=l.memoizedState;C!==ue||te!==ne||Sa||o!==null&&o.dependencies!==null&&Xf(o.dependencies)?(typeof N=="function"&&(V1(l,f,N,d),ne=l.memoizedState),(ae=Sa||c2(l,f,ae,d,te,ne,G)||o!==null&&o.dependencies!==null&&Xf(o.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ne,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ne,G)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ne),x.props=d,x.state=ne,x.context=G,d=ae):(typeof x.componentDidUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),d=!1)}return x=d,fh(o,l),d=(l.flags&128)!==0,x||d?(x=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,o!==null&&d?(l.child=ul(l,o.child,null,m),l.child=ul(l,null,f,m)):On(o,l,f,m),l.memoizedState=x.state,o=l.child):o=ea(o,l,m),o}function C2(o,l,f,d){return Vu(),l.flags|=256,On(o,l,f,d),l.child}var j1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H1(o){return{baseLanes:o,cachePool:d_()}}function G1(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Pr),o}function S2(o,l,f){var d=l.pendingProps,m=!1,x=(l.flags&128)!==0,C;if((C=x)||(C=o!==null&&o.memoizedState===null?!1:(on.current&2)!==0),C&&(m=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,o===null){if(ht){if(m?Da(l):Na(),ht){var N=jt,G;if(G=N){e:{for(G=N,N=vi;G.nodeType!==8;){if(!N){N=null;break e}if(G=qr(G.nextSibling),G===null){N=null;break e}}N=G}N!==null?(l.memoizedState={dehydrated:N,treeContext:Qo!==null?{id:Wi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},G=pr(18,null,null,0),G.stateNode=N,G.return=l,l.child=G,Jn=l,jt=null,G=!0):G=!1}G||es(l)}if(N=l.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Sp(N)?l.lanes=32:l.lanes=536870912,null;Ji(l)}return N=d.children,d=d.fallback,m?(Na(),m=l.mode,N=hh({mode:"hidden",children:N},m),d=$o(d,m,f,null),N.return=l,d.return=l,N.sibling=d,l.child=N,m=l.child,m.memoizedState=H1(f),m.childLanes=G1(o,C,f),l.memoizedState=j1,d):(Da(l),q1(l,N))}if(G=o.memoizedState,G!==null&&(N=G.dehydrated,N!==null)){if(x)l.flags&256?(Da(l),l.flags&=-257,l=X1(o,l,f)):l.memoizedState!==null?(Na(),l.child=o.child,l.flags|=128,l=null):(Na(),m=d.fallback,N=l.mode,d=hh({mode:"visible",children:d.children},N),m=$o(m,N,f,null),m.flags|=2,d.return=l,m.return=l,d.sibling=m,l.child=d,ul(l,o.child,null,f),d=l.child,d.memoizedState=H1(f),d.childLanes=G1(o,C,f),l.memoizedState=j1,l=m);else if(Da(l),Sp(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var Z=C.dgst;C=Z,d=Error(r(419)),d.stack="",d.digest=C,Fu({value:d,source:null,stack:null}),l=X1(o,l,f)}else if(xn||Uu(o,l,f,!1),C=(f&o.childLanes)!==0,xn||C){if(C=Ot,C!==null&&(d=f&-f,d=(d&42)!==0?1:_a(d),d=(d&(C.suspendedLanes|f))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,Zs(o,d),_r(C,o,d),y2;N.data==="$?"||cp(),l=X1(o,l,f)}else N.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=G.treeContext,jt=qr(N.nextSibling),Jn=l,ht=!0,Jo=null,vi=!1,o!==null&&(Dr[Nr++]=Wi,Dr[Nr++]=Yi,Dr[Nr++]=Qo,Wi=o.id,Yi=o.overflow,Qo=l),l=q1(l,d.children),l.flags|=4096);return l}return m?(Na(),m=d.fallback,N=l.mode,G=o.child,Z=G.sibling,d=Ki(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,Z!==null?m=Ki(Z,m):(m=$o(m,N,f,null),m.flags|=2),m.return=l,d.return=l,d.sibling=m,l.child=d,d=m,m=l.child,N=o.child.memoizedState,N===null?N=H1(f):(G=N.cachePool,G!==null?(Z=an._currentValue,G=G.parent!==Z?{parent:Z,pool:Z}:G):G=d_(),N={baseLanes:N.baseLanes|f,cachePool:G}),m.memoizedState=N,m.childLanes=G1(o,C,f),l.memoizedState=j1,d):(Da(l),f=o.child,o=f.sibling,f=Ki(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(C=l.deletions,C===null?(l.deletions=[o],l.flags|=16):C.push(o)),l.child=f,l.memoizedState=null,f)}function q1(o,l){return l=hh({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function hh(o,l){return o=pr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function X1(o,l,f){return ul(l,o.child,null,f),o=q1(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function I2(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),c1(o.return,l,f)}function K1(o,l,f,d,m){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:m}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=f,x.tailMode=m)}function R2(o,l,f){var d=l.pendingProps,m=d.revealOrder,x=d.tail;if(On(o,l,d.children,f),d=on.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&I2(o,f,l);else if(o.tag===19)I2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(ce(on,d),m){case"forwards":for(f=l.child,m=null;f!==null;)o=f.alternate,o!==null&&lh(o)===null&&(m=f),f=f.sibling;f=m,f===null?(m=l.child,l.child=null):(m=f.sibling,f.sibling=null),K1(l,!1,m,f,x);break;case"backwards":for(f=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&lh(o)===null){l.child=m;break}o=m.sibling,m.sibling=f,f=m,m=o}K1(l,!0,f,null,x);break;case"together":K1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ea(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Ba|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Uu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Ki(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Ki(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function W1(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Xf(o)))}function R4(o,l,f){switch(l.tag){case 3:Ie(l,l.stateNode.containerInfo),Ca(l,an,o.memoizedState.cache),Vu();break;case 27:case 5:Ge(l);break;case 4:Ie(l,l.stateNode.containerInfo);break;case 10:Ca(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Da(l),l.flags|=128,null):(f&l.child.childLanes)!==0?S2(o,l,f):(Da(l),o=ea(o,l,f),o!==null?o.sibling:null);Da(l);break;case 19:var m=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(Uu(o,l,f,!1),d=(f&l.childLanes)!==0),m){if(d)return R2(o,l,f);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(on,on.current),d)break;return null;case 22:case 23:return l.lanes=0,E2(o,l,f);case 24:Ca(l,an,o.memoizedState.cache)}return ea(o,l,f)}function O2(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)xn=!0;else{if(!W1(o,f)&&(l.flags&128)===0)return xn=!1,R4(o,l,f);xn=(o.flags&131072)!==0}else xn=!1,ht&&(l.flags&1048576)!==0&&o_(l,qf,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,m=d._init;if(d=m(d._payload),l.type=d,typeof d=="function")r1(d)?(o=as(d,o),l.tag=1,l=b2(null,l,d,o,f)):(l.tag=0,l=z1(null,l,d,o,f));else{if(d!=null){if(m=d.$$typeof,m===k){l.tag=11,l=_2(null,l,d,o,f);break e}else if(m===D){l.tag=14,l=x2(null,l,d,o,f);break e}}throw l=_e(d)||d,Error(r(306,l,""))}}return l;case 0:return z1(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,m=as(d,l.pendingProps),b2(o,l,d,m,f);case 3:e:{if(Ie(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var x=l.memoizedState;m=x.element,m1(o,l),Ku(l,d,null,f);var C=l.memoizedState;if(d=C.cache,Ca(l,an,d),d!==x.cache&&f1(l,[an],f,!0),Xu(),d=C.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=C2(o,l,d,f);break e}else if(d!==m){m=Rr(Error(r(424)),l),Fu(m),l=C2(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(jt=qr(o.firstChild),Jn=l,ht=!0,Jo=null,vi=!0,f=l2(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Vu(),d===m){l=ea(o,l,f);break e}On(o,l,d,f)}l=l.child}return l;case 26:return fh(o,l),o===null?(f=Px(l.type,null,l.pendingProps,null))?l.memoizedState=f:ht||(f=l.type,o=l.pendingProps,d=Ch(Ce.current).createElement(f),d[tn]=l,d[Yt]=o,Nn(d,f,o),qt(d),l.stateNode=d):l.memoizedState=Px(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ge(l),o===null&&ht&&(d=l.stateNode=Dx(l.type,l.pendingProps,Ce.current),Jn=l,vi=!0,m=jt,za(l.type)?(Ip=m,jt=qr(d.firstChild)):jt=m),On(o,l,l.pendingProps.children,f),fh(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ht&&((m=d=jt)&&(d=rR(d,l.type,l.pendingProps,vi),d!==null?(l.stateNode=d,Jn=l,jt=qr(d.firstChild),vi=!1,m=!0):m=!1),m||es(l)),Ge(l),m=l.type,x=l.pendingProps,C=o!==null?o.memoizedProps:null,d=x.children,Tp(m,x)?d=null:C!==null&&Tp(m,C)&&(l.flags|=32),l.memoizedState!==null&&(m=A1(o,l,w4,null,null,f),gc._currentValue=m),fh(o,l),On(o,l,d,f),l.child;case 6:return o===null&&ht&&((o=f=jt)&&(f=iR(f,l.pendingProps,vi),f!==null?(l.stateNode=f,Jn=l,jt=null,o=!0):o=!1),o||es(l)),null;case 13:return S2(o,l,f);case 4:return Ie(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=ul(l,null,d,f):On(o,l,d,f),l.child;case 11:return _2(o,l,l.type,l.pendingProps,f);case 7:return On(o,l,l.pendingProps,f),l.child;case 8:return On(o,l,l.pendingProps.children,f),l.child;case 12:return On(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Ca(l,l.type,d.value),On(o,l,d.children,f),l.child;case 9:return m=l.type._context,d=l.pendingProps.children,ns(l),m=Un(m),d=d(m),l.flags|=1,On(o,l,d,f),l.child;case 14:return x2(o,l,l.type,l.pendingProps,f);case 15:return w2(o,l,l.type,l.pendingProps,f);case 19:return R2(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=hh(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Ki(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return E2(o,l,f);case 24:return ns(l),d=Un(an),o===null?(m=p1(),m===null&&(m=Ot,x=h1(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=f),m=x),l.memoizedState={parent:d,cache:m},v1(l),Ca(l,an,m)):((o.lanes&f)!==0&&(m1(o,l),Ku(l,null,null,f),Xu()),m=o.memoizedState,x=l.memoizedState,m.parent!==d?(m={parent:d,cache:d},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Ca(l,an,d)):(d=x.cache,Ca(l,an,d),d!==m.cache&&f1(l,[an],f,!0))),On(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ta(o){o.flags|=4}function D2(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Fx(l)){if(l=Mr.current,l!==null&&((it&4194048)===it?mi!==null:(it&62914560)!==it&&(it&536870912)===0||l!==mi))throw Gu=g1,p_;o.flags|=8192}}function dh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?mu():536870912,o.lanes|=l,dl|=l)}function ec(o,l){if(!ht)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Ft(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function O4(o,l,f){var d=l.pendingProps;switch(s1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Ft(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Qi(an),ut(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Bu(l)?ta(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,u_())),Ft(l),null;case 26:return f=l.memoizedState,o===null?(ta(l),f!==null?(Ft(l),D2(l,f)):(Ft(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ta(l),Ft(l),D2(l,f)):(Ft(l),l.flags&=-16777217):(o.memoizedProps!==d&&ta(l),Ft(l),l.flags&=-16777217),null;case 27:ze(l),f=Ce.current;var m=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ta(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}o=me.current,Bu(l)?s_(l):(o=Dx(m,d,f),l.stateNode=o,ta(l))}return Ft(l),null;case 5:if(ze(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ta(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}if(o=me.current,Bu(l))s_(l);else{switch(m=Ch(Ce.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?m.createElement(f,{is:d.is}):m.createElement(f)}}o[tn]=l,o[Yt]=d;e:for(m=l.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break e;for(;m.sibling===null;){if(m.return===null||m.return===l)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l.stateNode=o;e:switch(Nn(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ta(l)}}return Ft(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&ta(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=Ce.current,Bu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,m=Jn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}o[tn]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||Tx(o.nodeValue,f)),o||es(l)}else o=Ch(o).createTextNode(d),o[tn]=l,l.stateNode=o}return Ft(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=Bu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[tn]=l}else Vu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),m=!1}else m=u_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(Ji(l),l):(Ji(l),null)}if(Ji(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),dh(l,l.updateQueue),Ft(l),null;case 4:return ut(),o===null&&_p(l.stateNode.containerInfo),Ft(l),null;case 10:return Qi(l.type),Ft(l),null;case 19:if(de(on),m=l.memoizedState,m===null)return Ft(l),null;if(d=(l.flags&128)!==0,x=m.rendering,x===null)if(d)ec(m,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(x=lh(o),x!==null){for(l.flags|=128,ec(m,!1),o=x.updateQueue,l.updateQueue=o,dh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)a_(f,o),f=f.sibling;return ce(on,on.current&1|2),l.child}o=o.sibling}m.tail!==null&&mn()>vh&&(l.flags|=128,d=!0,ec(m,!1),l.lanes=4194304)}else{if(!d)if(o=lh(x),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,dh(l,o),ec(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ht)return Ft(l),null}else 2*mn()-m.renderingStartTime>vh&&f!==536870912&&(l.flags|=128,d=!0,ec(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(o=m.last,o!==null?o.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=mn(),l.sibling=null,o=on.current,ce(on,d?o&1|2:o&1),l):(Ft(l),null);case 22:case 23:return Ji(l),w1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),f=l.updateQueue,f!==null&&dh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&de(rs),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Qi(an),Ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function D4(o,l){switch(s1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Qi(an),ut(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return ze(l),null;case 13:if(Ji(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Vu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return de(on),null;case 4:return ut(),null;case 10:return Qi(l.type),null;case 22:case 23:return Ji(l),w1(),o!==null&&de(rs),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Qi(an),null;case 25:return null;default:return null}}function N2(o,l){switch(s1(l),l.tag){case 3:Qi(an),ut();break;case 26:case 27:case 5:ze(l);break;case 4:ut();break;case 13:Ji(l);break;case 19:de(on);break;case 10:Qi(l.type);break;case 22:case 23:Ji(l),w1(),o!==null&&de(rs);break;case 24:Qi(an)}}function tc(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var m=d.next;f=m;do{if((f.tag&o)===o){d=void 0;var x=f.create,C=f.inst;d=x(),C.destroy=d}f=f.next}while(f!==m)}}catch(N){Rt(l,l.return,N)}}function Ma(o,l,f){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&o)===o){var C=d.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,m=l;var G=f,Z=N;try{Z()}catch(ae){Rt(m,G,ae)}}}d=d.next}while(d!==x)}}catch(ae){Rt(l,l.return,ae)}}function M2(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{x_(l,f)}catch(d){Rt(o,o.return,d)}}}function P2(o,l,f){f.props=as(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Rt(o,l,d)}}function nc(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(m){Rt(o,l,m)}}function yi(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(m){Rt(o,l,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(m){Rt(o,l,m)}else f.current=null}function L2(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(m){Rt(o,o.return,m)}}function Y1(o,l,f){try{var d=o.stateNode;Z4(d,o.type,f,l),d[Yt]=l}catch(m){Rt(o,o.return,m)}}function k2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&za(o.type)||o.tag===4}function $1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||k2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&za(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Q1(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=bh));else if(d!==4&&(d===27&&za(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Q1(o,l,f),o=o.sibling;o!==null;)Q1(o,l,f),o=o.sibling}function ph(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&za(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(ph(o,l,f),o=o.sibling;o!==null;)ph(o,l,f),o=o.sibling}function B2(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);Nn(l,d,f),l[tn]=o,l[Yt]=f}catch(x){Rt(o,o.return,x)}}var na=!1,Kt=!1,Z1=!1,V2=typeof WeakSet=="function"?WeakSet:Set,wn=null;function N4(o,l){if(o=o.containerInfo,Ep=Nh,o=Yy(o),$0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var C=0,N=-1,G=-1,Z=0,ae=0,ue=o,te=null;t:for(;;){for(var ne;ue!==f||m!==0&&ue.nodeType!==3||(N=C+m),ue!==x||d!==0&&ue.nodeType!==3||(G=C+d),ue.nodeType===3&&(C+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===o)break t;if(te===f&&++Z===m&&(N=C),te===x&&++ae===d&&(G=C),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}f=N===-1||G===-1?null:{start:N,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(Ap={focusedElem:o,selectionRange:f},Nh=!1,wn=l;wn!==null;)if(l=wn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,wn=o;else for(;wn!==null;){switch(l=wn,x=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&x!==null){o=void 0,f=l,m=x.memoizedProps,x=x.memoizedState,d=f.stateNode;try{var Be=as(f.type,m,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Be,x),d.__reactInternalSnapshotBeforeUpdate=o}catch(Me){Rt(f,f.return,Me)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Cp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Cp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,wn=o;break}wn=l.return}}function F2(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:Pa(o,f),d&4&&tc(5,f);break;case 1:if(Pa(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(C){Rt(f,f.return,C)}else{var m=as(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(m,l,o.__reactInternalSnapshotBeforeUpdate)}catch(C){Rt(f,f.return,C)}}d&64&&M2(f),d&512&&nc(f,f.return);break;case 3:if(Pa(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{x_(o,l)}catch(C){Rt(f,f.return,C)}}break;case 27:l===null&&d&4&&B2(f);case 26:case 5:Pa(o,f),l===null&&d&4&&L2(f),d&512&&nc(f,f.return);break;case 12:Pa(o,f);break;case 13:Pa(o,f),d&4&&j2(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=z4.bind(null,f),aR(o,f))));break;case 22:if(d=f.memoizedState!==null||na,!d){l=l!==null&&l.memoizedState!==null||Kt,m=na;var x=Kt;na=d,(Kt=l)&&!x?La(o,f,(f.subtreeFlags&8772)!==0):Pa(o,f),na=m,Kt=x}break;case 30:break;default:Pa(o,f)}}function U2(o){var l=o.alternate;l!==null&&(o.alternate=null,U2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Ea(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Lt=null,ir=!1;function ra(o,l,f){for(f=f.child;f!==null;)z2(o,l,f),f=f.sibling}function z2(o,l,f){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(zt,f)}catch{}switch(f.tag){case 26:Kt||yi(f,l),ra(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Kt||yi(f,l);var d=Lt,m=ir;za(f.type)&&(Lt=f.stateNode,ir=!1),ra(o,l,f),fc(f.stateNode),Lt=d,ir=m;break;case 5:Kt||yi(f,l);case 6:if(d=Lt,m=ir,Lt=null,ra(o,l,f),Lt=d,ir=m,Lt!==null)if(ir)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(f.stateNode)}catch(x){Rt(f,l,x)}else try{Lt.removeChild(f.stateNode)}catch(x){Rt(f,l,x)}break;case 18:Lt!==null&&(ir?(o=Lt,Rx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),_c(o)):Rx(Lt,f.stateNode));break;case 4:d=Lt,m=ir,Lt=f.stateNode.containerInfo,ir=!0,ra(o,l,f),Lt=d,ir=m;break;case 0:case 11:case 14:case 15:Kt||Ma(2,f,l),Kt||Ma(4,f,l),ra(o,l,f);break;case 1:Kt||(yi(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&P2(f,l,d)),ra(o,l,f);break;case 21:ra(o,l,f);break;case 22:Kt=(d=Kt)||f.memoizedState!==null,ra(o,l,f),Kt=d;break;default:ra(o,l,f)}}function j2(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{_c(o)}catch(f){Rt(l,l.return,f)}}function M4(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new V2),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new V2),l;default:throw Error(r(435,o.tag))}}function J1(o,l){var f=M4(o);l.forEach(function(d){var m=j4.bind(null,o,d);f.has(d)||(f.add(d),d.then(m,m))})}function gr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var m=f[d],x=o,C=l,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(za(N.type)){Lt=N.stateNode,ir=!1;break e}break;case 5:Lt=N.stateNode,ir=!1;break e;case 3:case 4:Lt=N.stateNode.containerInfo,ir=!0;break e}N=N.return}if(Lt===null)throw Error(r(160));z2(x,C,m),Lt=null,ir=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)H2(l,o),l=l.sibling}var Gr=null;function H2(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gr(l,o),vr(o),d&4&&(Ma(3,o,o.return),tc(3,o),Ma(5,o,o.return));break;case 1:gr(l,o),vr(o),d&512&&(Kt||f===null||yi(f,f.return)),d&64&&na&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var m=Gr;if(gr(l,o),vr(o),d&512&&(Kt||f===null||yi(f,f.return)),d&4){var x=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Po]||x[tn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(d),m.head.insertBefore(x,m.querySelector("head > title"))),Nn(x,d,f),x[tn]=o,qt(x),d=x;break e;case"link":var C=Bx("link","href",m).get(d+(f.href||""));if(C){for(var N=0;N<C.length;N++)if(x=C[N],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(N,1);break t}}x=m.createElement(d),Nn(x,d,f),m.head.appendChild(x);break;case"meta":if(C=Bx("meta","content",m).get(d+(f.content||""))){for(N=0;N<C.length;N++)if(x=C[N],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(N,1);break t}}x=m.createElement(d),Nn(x,d,f),m.head.appendChild(x);break;default:throw Error(r(468,d))}x[tn]=o,qt(x),d=x}o.stateNode=d}else Vx(m,o.type,o.stateNode);else o.stateNode=kx(m,d,o.memoizedProps);else x!==d?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,d===null?Vx(m,o.type,o.stateNode):kx(m,d,o.memoizedProps)):d===null&&o.stateNode!==null&&Y1(o,o.memoizedProps,f.memoizedProps)}break;case 27:gr(l,o),vr(o),d&512&&(Kt||f===null||yi(f,f.return)),f!==null&&d&4&&Y1(o,o.memoizedProps,f.memoizedProps);break;case 5:if(gr(l,o),vr(o),d&512&&(Kt||f===null||yi(f,f.return)),o.flags&32){m=o.stateNode;try{br(m,"")}catch(ne){Rt(o,o.return,ne)}}d&4&&o.stateNode!=null&&(m=o.memoizedProps,Y1(o,m,f!==null?f.memoizedProps:m)),d&1024&&(Z1=!0);break;case 6:if(gr(l,o),vr(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(ne){Rt(o,o.return,ne)}}break;case 3:if(Rh=null,m=Gr,Gr=Sh(l.containerInfo),gr(l,o),Gr=m,vr(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{_c(l.containerInfo)}catch(ne){Rt(o,o.return,ne)}Z1&&(Z1=!1,G2(o));break;case 4:d=Gr,Gr=Sh(o.stateNode.containerInfo),gr(l,o),vr(o),Gr=d;break;case 12:gr(l,o),vr(o);break;case 13:gr(l,o),vr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ap=mn()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,J1(o,d)));break;case 22:m=o.memoizedState!==null;var G=f!==null&&f.memoizedState!==null,Z=na,ae=Kt;if(na=Z||m,Kt=ae||G,gr(l,o),Kt=ae,na=Z,vr(o),d&8192)e:for(l=o.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(f===null||G||na||Kt||os(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){G=f=l;try{if(x=G.stateNode,m)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=G.stateNode;var ue=G.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Rt(G,G.return,ne)}}}else if(l.tag===6){if(f===null){G=l;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(ne){Rt(G,G.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,J1(o,f))));break;case 19:gr(l,o),vr(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,J1(o,d)));break;case 30:break;case 21:break;default:gr(l,o),vr(o)}}function vr(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(k2(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var m=f.stateNode,x=$1(o);ph(o,x,m);break;case 5:var C=f.stateNode;f.flags&32&&(br(C,""),f.flags&=-33);var N=$1(o);ph(o,N,C);break;case 3:case 4:var G=f.stateNode.containerInfo,Z=$1(o);Q1(o,Z,G);break;default:throw Error(r(161))}}catch(ae){Rt(o,o.return,ae)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function G2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;G2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Pa(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)F2(o,l.alternate,l),l=l.sibling}function os(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Ma(4,l,l.return),os(l);break;case 1:yi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&P2(l,l.return,f),os(l);break;case 27:fc(l.stateNode);case 26:case 5:yi(l,l.return),os(l);break;case 22:l.memoizedState===null&&os(l);break;case 30:os(l);break;default:os(l)}o=o.sibling}}function La(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,m=o,x=l,C=x.flags;switch(x.tag){case 0:case 11:case 15:La(m,x,f),tc(4,x);break;case 1:if(La(m,x,f),d=x,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Rt(d,d.return,Z)}if(d=x,m=d.updateQueue,m!==null){var N=d.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)__(G[m],N)}catch(Z){Rt(d,d.return,Z)}}f&&C&64&&M2(x),nc(x,x.return);break;case 27:B2(x);case 26:case 5:La(m,x,f),f&&d===null&&C&4&&L2(x),nc(x,x.return);break;case 12:La(m,x,f);break;case 13:La(m,x,f),f&&C&4&&j2(m,x);break;case 22:x.memoizedState===null&&La(m,x,f),nc(x,x.return);break;case 30:break;default:La(m,x,f)}l=l.sibling}}function ep(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&zu(f))}function tp(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&zu(o))}function _i(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)q2(o,l,f,d),l=l.sibling}function q2(o,l,f,d){var m=l.flags;switch(l.tag){case 0:case 11:case 15:_i(o,l,f,d),m&2048&&tc(9,l);break;case 1:_i(o,l,f,d);break;case 3:_i(o,l,f,d),m&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&zu(o)));break;case 12:if(m&2048){_i(o,l,f,d),o=l.stateNode;try{var x=l.memoizedProps,C=x.id,N=x.onPostCommit;typeof N=="function"&&N(C,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){Rt(l,l.return,G)}}else _i(o,l,f,d);break;case 13:_i(o,l,f,d);break;case 23:break;case 22:x=l.stateNode,C=l.alternate,l.memoizedState!==null?x._visibility&2?_i(o,l,f,d):rc(o,l):x._visibility&2?_i(o,l,f,d):(x._visibility|=2,cl(o,l,f,d,(l.subtreeFlags&10256)!==0)),m&2048&&ep(C,l);break;case 24:_i(o,l,f,d),m&2048&&tp(l.alternate,l);break;default:_i(o,l,f,d)}}function cl(o,l,f,d,m){for(m=m&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var x=o,C=l,N=f,G=d,Z=C.flags;switch(C.tag){case 0:case 11:case 15:cl(x,C,N,G,m),tc(8,C);break;case 23:break;case 22:var ae=C.stateNode;C.memoizedState!==null?ae._visibility&2?cl(x,C,N,G,m):rc(x,C):(ae._visibility|=2,cl(x,C,N,G,m)),m&&Z&2048&&ep(C.alternate,C);break;case 24:cl(x,C,N,G,m),m&&Z&2048&&tp(C.alternate,C);break;default:cl(x,C,N,G,m)}l=l.sibling}}function rc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,m=d.flags;switch(d.tag){case 22:rc(f,d),m&2048&&ep(d.alternate,d);break;case 24:rc(f,d),m&2048&&tp(d.alternate,d);break;default:rc(f,d)}l=l.sibling}}var ic=8192;function fl(o){if(o.subtreeFlags&ic)for(o=o.child;o!==null;)X2(o),o=o.sibling}function X2(o){switch(o.tag){case 26:fl(o),o.flags&ic&&o.memoizedState!==null&&yR(Gr,o.memoizedState,o.memoizedProps);break;case 5:fl(o);break;case 3:case 4:var l=Gr;Gr=Sh(o.stateNode.containerInfo),fl(o),Gr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=ic,ic=16777216,fl(o),ic=l):fl(o));break;default:fl(o)}}function K2(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function ac(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,Y2(d,o)}K2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)W2(o),o=o.sibling}function W2(o){switch(o.tag){case 0:case 11:case 15:ac(o),o.flags&2048&&Ma(9,o,o.return);break;case 3:ac(o);break;case 12:ac(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,gh(o)):ac(o);break;default:ac(o)}}function gh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,Y2(d,o)}K2(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Ma(8,l,l.return),gh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,gh(l));break;default:gh(l)}o=o.sibling}}function Y2(o,l){for(;wn!==null;){var f=wn;switch(f.tag){case 0:case 11:case 15:Ma(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:zu(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,wn=d;else e:for(f=o;wn!==null;){d=wn;var m=d.sibling,x=d.return;if(U2(d),d===f){wn=null;break e}if(m!==null){m.return=x,wn=m;break e}wn=x}}}var P4={getCacheForType:function(o){var l=Un(an),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},L4=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ot=null,Ze=null,it=0,xt=0,mr=null,ka=!1,hl=!1,np=!1,ia=0,Ht=0,Ba=0,ss=0,rp=0,Pr=0,dl=0,oc=null,ar=null,ip=!1,ap=0,vh=1/0,mh=null,Va=null,Dn=0,Fa=null,pl=null,gl=0,op=0,sp=null,$2=null,sc=0,lp=null;function yr(){if((_t&2)!==0&&it!==0)return it&-it;if(W.T!==null){var o=nl;return o!==0?o:gp()}return xa()}function Q2(){Pr===0&&(Pr=(it&536870912)===0||ht?vu():536870912);var o=Mr.current;return o!==null&&(o.flags|=32),Pr}function _r(o,l,f){(o===Ot&&(xt===2||xt===9)||o.cancelPendingCommit!==null)&&(vl(o,0),Ua(o,it,Pr,!1)),ki(o,f),((_t&2)===0||o!==Ot)&&(o===Ot&&((_t&2)===0&&(ss|=f),Ht===4&&Ua(o,it,Pr,!1)),xi(o))}function Z2(o,l,f){if((_t&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Mo(o,l),m=d?V4(o,l):fp(o,l,!0),x=d;do{if(m===0){hl&&!d&&Ua(o,l,0,!1);break}else{if(f=o.current.alternate,x&&!k4(f)){m=fp(o,l,!1),x=!1;continue}if(m===2){if(x=l,o.errorRecoveryDisabledLanes&x)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var N=o;m=oc;var G=N.current.memoizedState.isDehydrated;if(G&&(vl(N,C).flags|=256),C=fp(N,C,!1),C!==2){if(np&&!G){N.errorRecoveryDisabledLanes|=x,ss|=x,m=4;break e}x=ar,ar=m,x!==null&&(ar===null?ar=x:ar.push.apply(ar,x))}m=C}if(x=!1,m!==2)continue}}if(m===1){vl(o,0),Ua(o,l,0,!0);break}e:{switch(d=o,x=m,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ua(d,l,Pr,!ka);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(m=ap+300-mn(),10<m)){if(Ua(d,l,Pr,!ka),Ms(d,0,!0)!==0)break e;d.timeoutHandle=Sx(J2.bind(null,d,f,ar,mh,ip,l,Pr,ss,dl,ka,x,2,-0,0),m);break e}J2(d,f,ar,mh,ip,l,Pr,ss,dl,ka,x,0,-0,0)}}break}while(!0);xi(o)}function J2(o,l,f,d,m,x,C,N,G,Z,ae,ue,te,ne){if(o.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(pc={stylesheets:null,count:0,unsuspend:mR},X2(l),ue=_R(),ue!==null)){o.cancelPendingCommit=ue(ox.bind(null,o,l,x,f,d,m,C,N,G,ae,1,te,ne)),Ua(o,x,C,!Z);return}ox(o,l,x,f,d,m,C,N,G)}function k4(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var m=f[d],x=m.getSnapshot;m=m.value;try{if(!dr(x(),m))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ua(o,l,f,d){l&=~rp,l&=~ss,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var m=l;0<m;){var x=31-Fn(m),C=1<<x;d[x]=-1,m&=~C}f!==0&&ai(o,f,l)}function yh(){return(_t&6)===0?(lc(0),!1):!0}function up(){if(Ze!==null){if(xt===0)var o=Ze.return;else o=Ze,$i=ts=null,C1(o),ll=null,Zu=0,o=Ze;for(;o!==null;)N2(o.alternate,o),o=o.return;Ze=null}}function vl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,eR(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),up(),Ot=o,Ze=f=Ki(o.current,null),it=l,xt=0,mr=null,ka=!1,hl=Mo(o,l),np=!1,dl=Pr=rp=ss=Ba=Ht=0,ar=oc=null,ip=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var m=31-Fn(d),x=1<<m;l|=o[m],d&=~x}return ia=l,Uf(),f}function ex(o,l){Xe=null,W.H=ah,l===Hu||l===Yf?(l=m_(),xt=3):l===p_?(l=m_(),xt=4):xt=l===y2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,mr=l,Ze===null&&(Ht=1,ch(o,Rr(l,o.current)))}function tx(){var o=W.H;return W.H=ah,o===null?ah:o}function nx(){var o=W.A;return W.A=P4,o}function cp(){Ht=4,ka||(it&4194048)!==it&&Mr.current!==null||(hl=!0),(Ba&134217727)===0&&(ss&134217727)===0||Ot===null||Ua(Ot,it,Pr,!1)}function fp(o,l,f){var d=_t;_t|=2;var m=tx(),x=nx();(Ot!==o||it!==l)&&(mh=null,vl(o,l)),l=!1;var C=Ht;e:do try{if(xt!==0&&Ze!==null){var N=Ze,G=mr;switch(xt){case 8:up(),C=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(l=!0);var Z=xt;if(xt=0,mr=null,ml(o,N,G,Z),f&&hl){C=0;break e}break;default:Z=xt,xt=0,mr=null,ml(o,N,G,Z)}}B4(),C=Ht;break}catch(ae){ex(o,ae)}while(!0);return l&&o.shellSuspendCounter++,$i=ts=null,_t=d,W.H=m,W.A=x,Ze===null&&(Ot=null,it=0,Uf()),C}function B4(){for(;Ze!==null;)rx(Ze)}function V4(o,l){var f=_t;_t|=2;var d=tx(),m=nx();Ot!==o||it!==l?(mh=null,vh=mn()+500,vl(o,l)):hl=Mo(o,l);e:do try{if(xt!==0&&Ze!==null){l=Ze;var x=mr;t:switch(xt){case 1:xt=0,mr=null,ml(o,l,x,1);break;case 2:case 9:if(g_(x)){xt=0,mr=null,ix(l);break}l=function(){xt!==2&&xt!==9||Ot!==o||(xt=7),xi(o)},x.then(l,l);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:g_(x)?(xt=0,mr=null,ix(l)):(xt=0,mr=null,ml(o,l,x,7));break;case 5:var C=null;switch(Ze.tag){case 26:C=Ze.memoizedState;case 5:case 27:var N=Ze;if(!C||Fx(C)){xt=0,mr=null;var G=N.sibling;if(G!==null)Ze=G;else{var Z=N.return;Z!==null?(Ze=Z,_h(Z)):Ze=null}break t}}xt=0,mr=null,ml(o,l,x,5);break;case 6:xt=0,mr=null,ml(o,l,x,6);break;case 8:up(),Ht=6;break e;default:throw Error(r(462))}}F4();break}catch(ae){ex(o,ae)}while(!0);return $i=ts=null,W.H=d,W.A=m,_t=f,Ze!==null?0:(Ot=null,it=0,Uf(),Ht)}function F4(){for(;Ze!==null&&!Fr();)rx(Ze)}function rx(o){var l=O2(o.alternate,o,ia);o.memoizedProps=o.pendingProps,l===null?_h(o):Ze=l}function ix(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=T2(f,l,l.pendingProps,l.type,void 0,it);break;case 11:l=T2(f,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:C1(l);default:N2(f,l),l=Ze=a_(l,ia),l=O2(f,l,ia)}o.memoizedProps=o.pendingProps,l===null?_h(o):Ze=l}function ml(o,l,f,d){$i=ts=null,C1(l),ll=null,Zu=0;var m=l.return;try{if(I4(o,m,l,f,it)){Ht=1,ch(o,Rr(f,o.current)),Ze=null;return}}catch(x){if(m!==null)throw Ze=m,x;Ht=1,ch(o,Rr(f,o.current)),Ze=null;return}l.flags&32768?(ht||d===1?o=!0:hl||(it&536870912)!==0?o=!1:(ka=o=!0,(d===2||d===9||d===3||d===6)&&(d=Mr.current,d!==null&&d.tag===13&&(d.flags|=16384))),ax(l,o)):_h(l)}function _h(o){var l=o;do{if((l.flags&32768)!==0){ax(l,ka);return}o=l.return;var f=O4(l.alternate,l,ia);if(f!==null){Ze=f;return}if(l=l.sibling,l!==null){Ze=l;return}Ze=l=o}while(l!==null);Ht===0&&(Ht=5)}function ax(o,l){do{var f=D4(o.alternate,o);if(f!==null){f.flags&=32767,Ze=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Ze=o;return}Ze=o=f}while(o!==null);Ht=6,Ze=null}function ox(o,l,f,d,m,x,C,N,G){o.cancelPendingCommit=null;do xh();while(Dn!==0);if((_t&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=t1,yu(o,f,x,C,N,G),o===Ot&&(Ze=Ot=null,it=0),pl=l,Fa=o,gl=f,op=x,sp=m,$2=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H4(Ro,function(){return fx(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,m=oe.p,oe.p=2,C=_t,_t|=4;try{N4(o,l,f)}finally{_t=C,oe.p=m,W.T=d}}Dn=1,sx(),lx(),ux()}}function sx(){if(Dn===1){Dn=0;var o=Fa,l=pl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=W.T,W.T=null;var d=oe.p;oe.p=2;var m=_t;_t|=4;try{H2(l,o);var x=Ap,C=Yy(o.containerInfo),N=x.focusedElem,G=x.selectionRange;if(C!==N&&N&&N.ownerDocument&&Wy(N.ownerDocument.documentElement,N)){if(G!==null&&$0(N)){var Z=G.start,ae=G.end;if(ae===void 0&&(ae=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ae,N.value.length);else{var ue=N.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=N.textContent.length,Me=Math.min(G.start,Be),Ct=G.end===void 0?Me:Math.min(G.end,Be);!ne.extend&&Me>Ct&&(C=Ct,Ct=Me,Me=C);var Y=Ky(N,Me),X=Ky(N,Ct);if(Y&&X&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==X.node||ne.focusOffset!==X.offset)){var Q=ue.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Me>Ct?(ne.addRange(Q),ne.extend(X.node,X.offset)):(Q.setEnd(X.node,X.offset),ne.addRange(Q))}}}}for(ue=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var le=ue[N];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Nh=!!Ep,Ap=Ep=null}finally{_t=m,oe.p=d,W.T=f}}o.current=l,Dn=2}}function lx(){if(Dn===2){Dn=0;var o=Fa,l=pl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=W.T,W.T=null;var d=oe.p;oe.p=2;var m=_t;_t|=4;try{F2(o,l.alternate,l)}finally{_t=m,oe.p=d,W.T=f}}Dn=3}}function ux(){if(Dn===4||Dn===3){Dn=0,ri();var o=Fa,l=pl,f=gl,d=$2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Dn=5:(Dn=0,pl=Fa=null,cx(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Va=null),Ps(f),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(zt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=W.T,m=oe.p,oe.p=2,W.T=null;try{for(var x=o.onRecoverableError,C=0;C<d.length;C++){var N=d[C];x(N.value,{componentStack:N.stack})}}finally{W.T=l,oe.p=m}}(gl&3)!==0&&xh(),xi(o),m=o.pendingLanes,(f&4194090)!==0&&(m&42)!==0?o===lp?sc++:(sc=0,lp=o):sc=0,lc(0)}}function cx(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,zu(l)))}function xh(o){return sx(),lx(),ux(),fx()}function fx(){if(Dn!==5)return!1;var o=Fa,l=op;op=0;var f=Ps(gl),d=W.T,m=oe.p;try{oe.p=32>f?32:f,W.T=null,f=sp,sp=null;var x=Fa,C=gl;if(Dn=0,pl=Fa=null,gl=0,(_t&6)!==0)throw Error(r(331));var N=_t;if(_t|=4,W2(x.current),q2(x,x.current,C,f),_t=N,lc(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(zt,x)}catch{}return!0}finally{oe.p=m,W.T=d,cx(o,l)}}function hx(o,l,f){l=Rr(f,l),l=U1(o.stateNode,l,2),o=Ra(o,l,2),o!==null&&(ki(o,2),xi(o))}function Rt(o,l,f){if(o.tag===3)hx(o,o,f);else for(;l!==null;){if(l.tag===3){hx(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Va===null||!Va.has(d))){o=Rr(f,o),f=v2(2),d=Ra(l,f,2),d!==null&&(m2(f,d,l,o),ki(d,2),xi(d));break}}l=l.return}}function hp(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new L4;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(f)||(np=!0,m.add(f),o=U4.bind(null,o,l,f),l.then(o,o))}function U4(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ot===o&&(it&f)===f&&(Ht===4||Ht===3&&(it&62914560)===it&&300>mn()-ap?(_t&2)===0&&vl(o,0):rp|=f,dl===it&&(dl=0)),xi(o)}function dx(o,l){l===0&&(l=mu()),o=Zs(o,l),o!==null&&(ki(o,l),xi(o))}function z4(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),dx(o,f)}function j4(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(f=m.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),dx(o,f)}function H4(o,l){return Gt(o,l)}var wh=null,yl=null,dp=!1,Eh=!1,pp=!1,ls=0;function xi(o){o!==yl&&o.next===null&&(yl===null?wh=yl=o:yl=yl.next=o),Eh=!0,dp||(dp=!0,q4())}function lc(o,l){if(!pp&&Eh){pp=!0;do for(var f=!1,d=wh;d!==null;){if(o!==0){var m=d.pendingLanes;if(m===0)var x=0;else{var C=d.suspendedLanes,N=d.pingedLanes;x=(1<<31-Fn(42|o)+1)-1,x&=m&~(C&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,mx(d,x))}else x=it,x=Ms(d,d===Ot?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Mo(d,x)||(f=!0,mx(d,x));d=d.next}while(f);pp=!1}}function G4(){px()}function px(){Eh=dp=!1;var o=0;ls!==0&&(J4()&&(o=ls),ls=0);for(var l=mn(),f=null,d=wh;d!==null;){var m=d.next,x=gx(d,l);x===0?(d.next=null,f===null?wh=m:f.next=m,m===null&&(yl=f)):(f=d,(o!==0||(x&3)!==0)&&(Eh=!0)),d=m}lc(o)}function gx(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var C=31-Fn(x),N=1<<C,G=m[C];G===-1?((N&f)===0||(N&d)!==0)&&(m[C]=gu(N,l)):G<=l&&(o.expiredLanes|=N),x&=~N}if(l=Ot,f=it,f=Ms(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(xt===2||xt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&vn(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Mo(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&vn(d),Ps(f)){case 2:case 8:f=Ds;break;case 32:f=Ro;break;case 268435456:f=Ns;break;default:f=Ro}return d=vx.bind(null,o),f=Gt(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&vn(d),o.callbackPriority=2,o.callbackNode=null,2}function vx(o,l){if(Dn!==0&&Dn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(xh()&&o.callbackNode!==f)return null;var d=it;return d=Ms(o,o===Ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(Z2(o,d,l),gx(o,mn()),o.callbackNode!=null&&o.callbackNode===f?vx.bind(null,o):null)}function mx(o,l){if(xh())return null;Z2(o,l,!0)}function q4(){tR(function(){(_t&6)!==0?Gt(ii,G4):px()})}function gp(){return ls===0&&(ls=vu()),ls}function yx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Us(""+o)}function _x(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function X4(o,l,f,d,m){if(l==="submit"&&f&&f.stateNode===m){var x=yx((m[Yt]||null).action),C=d.submitter;C&&(l=(l=C[Yt]||null)?yx(l.formAction):C.getAttribute("formAction"),l!==null&&(x=l,C=null));var N=new zs("action","action",null,d,m);o.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ls!==0){var G=C?_x(m,C):new FormData(m);L1(f,{pending:!0,data:G,method:m.method,action:x},null,G)}}else typeof x=="function"&&(N.preventDefault(),G=C?_x(m,C):new FormData(m),L1(f,{pending:!0,data:G,method:m.method,action:x},x,G))},currentTarget:m}]})}}for(var vp=0;vp<e1.length;vp++){var mp=e1[vp],K4=mp.toLowerCase(),W4=mp[0].toUpperCase()+mp.slice(1);Hr(K4,"on"+W4)}Hr(Zy,"onAnimationEnd"),Hr(Jy,"onAnimationIteration"),Hr(e_,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(f4,"onTransitionRun"),Hr(h4,"onTransitionStart"),Hr(d4,"onTransitionCancel"),Hr(t_,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function xx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],m=d.event;d=d.listeners;e:{var x=void 0;if(l)for(var C=d.length-1;0<=C;C--){var N=d[C],G=N.instance,Z=N.currentTarget;if(N=N.listener,G!==x&&m.isPropagationStopped())break e;x=N,m.currentTarget=Z;try{x(m)}catch(ae){uh(ae)}m.currentTarget=null,x=G}else for(C=0;C<d.length;C++){if(N=d[C],G=N.instance,Z=N.currentTarget,N=N.listener,G!==x&&m.isPropagationStopped())break e;x=N,m.currentTarget=Z;try{x(m)}catch(ae){uh(ae)}m.currentTarget=null,x=G}}}}function Je(o,l){var f=l[xu];f===void 0&&(f=l[xu]=new Set);var d=o+"__bubble";f.has(d)||(wx(l,o,2,!1),f.add(d))}function yp(o,l,f){var d=0;l&&(d|=4),wx(f,o,d,l)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function _p(o){if(!o[Ah]){o[Ah]=!0,wu.forEach(function(f){f!=="selectionchange"&&(Y4.has(f)||yp(f,!1,o),yp(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Ah]||(l[Ah]=!0,yp("selectionchange",!1,l))}}function wx(o,l,f,d){switch(qx(l)){case 2:var m=ER;break;case 8:m=AR;break;default:m=Mp}f=m.bind(null,l,f,o),m=void 0,!Sr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?o.addEventListener(l,f,{capture:!0,passive:m}):o.addEventListener(l,f,!0):m!==void 0?o.addEventListener(l,f,{passive:m}):o.addEventListener(l,f,!1)}function xp(o,l,f,d,m){var x=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var N=d.stateNode.containerInfo;if(N===m)break;if(C===4)for(C=d.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;N!==null;){if(C=Bi(N),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){d=x=C;continue e}N=N.parentNode}}d=d.return}bf(function(){var Z=x,ae=Cr(f),ue=[];e:{var te=n_.get(o);if(te!==void 0){var ne=zs,Be=o;switch(o){case"keypress":if(fi(f)===0)break e;case"keydown":case"keyup":ne=Ks;break;case"focusin":Be="focus",ne=Gs;break;case"focusout":Be="blur",ne=Gs;break;case"beforeblur":case"afterblur":ne=Gs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Mf;break;case Zy:case Jy:case e_:ne=qs;break;case t_:ne=Lf;break;case"scroll":case"scrollend":ne=Cf;break;case"wheel":ne=Ws;break;case"copy":case"cut":case"paste":ne=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Mu;break;case"toggle":case"beforetoggle":ne=Bf}var Me=(l&4)!==0,Ct=!Me&&(o==="scroll"||o==="scrollend"),Y=Me?te!==null?te+"Capture":null:te;Me=[];for(var X=Z,Q;X!==null;){var le=X;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||Y===null||(le=zo(X,Y),le!=null&&Me.push(cc(X,le,Q))),Ct)break;X=X.return}0<Me.length&&(te=new ne(te,Be,null,f,ae),ue.push({event:te,listeners:Me}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&f!==zi&&(Be=f.relatedTarget||f.fromElement)&&(Bi(Be)||Be[Tr]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=f.relatedTarget||f.toElement,ne=Z,Be=Be?Bi(Be):null,Be!==null&&(Ct=a(Be),Me=Be.tag,Be!==Ct||Me!==5&&Me!==27&&Me!==6)&&(Be=null)):(ne=null,Be=Z),ne!==Be)){if(Me=Ir,le="onMouseLeave",Y="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(Me=Mu,le="onPointerLeave",Y="onPointerEnter",X="pointer"),Ct=ne==null?te:si(ne),Q=Be==null?te:si(Be),te=new Me(le,X+"leave",ne,f,ae),te.target=Ct,te.relatedTarget=Q,le=null,Bi(ae)===Z&&(Me=new Me(Y,X+"enter",Be,f,ae),Me.target=Q,Me.relatedTarget=Ct,le=Me),Ct=le,ne&&Be)t:{for(Me=ne,Y=Be,X=0,Q=Me;Q;Q=_l(Q))X++;for(Q=0,le=Y;le;le=_l(le))Q++;for(;0<X-Q;)Me=_l(Me),X--;for(;0<Q-X;)Y=_l(Y),Q--;for(;X--;){if(Me===Y||Y!==null&&Me===Y.alternate)break t;Me=_l(Me),Y=_l(Y)}Me=null}else Me=null;ne!==null&&Ex(ue,te,ne,Me,!1),Be!==null&&Ct!==null&&Ex(ue,Ct,Be,Me,!0)}}e:{if(te=Z?si(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var we=zy;else if(rn(te))if(jy)we=l4;else{we=o4;var $e=a4}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Cu(Z.elementType)&&(we=zy):we=s4;if(we&&(we=we(o,Z))){Xi(ue,we,f,ae);break e}$e&&$e(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Ta(te,"number",te.value)}switch($e=Z?si(Z):window,o){case"focusin":(rn($e)||$e.contentEditable==="true")&&(Ys=$e,Q0=Z,ku=null);break;case"focusout":ku=Q0=Ys=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,$y(ue,f,ae);break;case"selectionchange":if(c4)break;case"keydown":case"keyup":$y(ue,f,ae)}var Se;if(pi)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else nt?re(o,f)&&(Le="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Le="onCompositionStart");Le&&(b&&f.locale!=="ko"&&(nt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&nt&&(Se=Iu()):(ci=ae,ba="value"in ci?ci.value:ci.textContent,nt=!0)),$e=Th(Z,Le),0<$e.length&&(Le=new Du(Le,o,null,f,ae),ue.push({event:Le,listeners:$e}),Se?Le.data=Se:(Se=pe(f),Se!==null&&(Le.data=Se)))),(Se=E?nn(o,f):rt(o,f))&&(Le=Th(Z,"onBeforeInput"),0<Le.length&&($e=new Du("onBeforeInput","beforeinput",null,f,ae),ue.push({event:$e,listeners:Le}),$e.data=Se)),X4(ue,o,Z,f,ae)}xx(ue,l)})}function cc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Th(o,l){for(var f=l+"Capture",d=[];o!==null;){var m=o,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=zo(o,f),m!=null&&d.unshift(cc(o,m,x)),m=zo(o,l),m!=null&&d.push(cc(o,m,x))),o.tag===3)return d;o=o.return}return[]}function _l(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Ex(o,l,f,d,m){for(var x=l._reactName,C=[];f!==null&&f!==d;){var N=f,G=N.alternate,Z=N.stateNode;if(N=N.tag,G!==null&&G===d)break;N!==5&&N!==26&&N!==27||Z===null||(G=Z,m?(Z=zo(f,x),Z!=null&&C.unshift(cc(f,Z,G))):m||(Z=zo(f,x),Z!=null&&C.push(cc(f,Z,G)))),f=f.return}C.length!==0&&o.push({event:l,listeners:C})}var $4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function Ax(o){return(typeof o=="string"?o:""+o).replace($4,`
`).replace(Q4,"")}function Tx(o,l){return l=Ax(l),Ax(o)===l}function bh(){}function bt(o,l,f,d,m,x){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||br(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&br(o,""+d);break;case"className":li(o,"class",d);break;case"tabIndex":li(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":li(o,f,d);break;case"style":bu(o,d,x);break;case"data":if(l!=="object"){li(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Us(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(l!=="input"&&bt(o,l,"name",m.name,m,null),bt(o,l,"formEncType",m.formEncType,m,null),bt(o,l,"formMethod",m.formMethod,m,null),bt(o,l,"formTarget",m.formTarget,m,null)):(bt(o,l,"encType",m.encType,m,null),bt(o,l,"method",m.method,m,null),bt(o,l,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Us(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=bh);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Us(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Je("beforetoggle",o),Je("toggle",o),Aa(o,"popover",d);break;case"xlinkActuate":In(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":In(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":In(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":In(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":In(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":In(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":In(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":In(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":In(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Aa(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=G0.get(f)||f,Aa(o,f,d))}}function wp(o,l,f,d,m,x){switch(f){case"style":bu(o,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?br(o,d):(typeof d=="number"||typeof d=="bigint")&&br(o,""+d);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"onClick":d!=null&&(o.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(m=f.endsWith("Capture"),l=f.slice(2,m?f.length-7:void 0),x=o[Yt]||null,x=x!=null?x[f]:null,typeof x=="function"&&o.removeEventListener(l,x,m),typeof d=="function")){typeof x!="function"&&x!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,m);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Aa(o,f,d)}}}function Nn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",o),Je("load",o);var d=!1,m=!1,x;for(x in f)if(f.hasOwnProperty(x)){var C=f[x];if(C!=null)switch(x){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,x,C,f,null)}}m&&bt(o,l,"srcSet",f.srcSet,f,null),d&&bt(o,l,"src",f.src,f,null);return;case"input":Je("invalid",o);var N=x=C=m=null,G=null,Z=null;for(d in f)if(f.hasOwnProperty(d)){var ae=f[d];if(ae!=null)switch(d){case"name":m=ae;break;case"type":C=ae;break;case"checked":G=ae;break;case"defaultChecked":Z=ae;break;case"value":x=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:bt(o,l,d,ae,f,null)}}Vo(o,x,N,G,Z,C,m,!1),Fs(o);return;case"select":Je("invalid",o),d=C=x=null;for(m in f)if(f.hasOwnProperty(m)&&(N=f[m],N!=null))switch(m){case"value":x=N;break;case"defaultValue":C=N;break;case"multiple":d=N;default:bt(o,l,m,N,f,null)}l=x,f=C,o.multiple=!!d,l!=null?Ui(o,!!d,l,!1):f!=null&&Ui(o,!!d,f,!0);return;case"textarea":Je("invalid",o),x=m=d=null;for(C in f)if(f.hasOwnProperty(C)&&(N=f[C],N!=null))switch(C){case"value":d=N;break;case"defaultValue":m=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:bt(o,l,C,N,f,null)}Fo(o,d,m,x),Fs(o);return;case"option":for(G in f)if(f.hasOwnProperty(G)&&(d=f[G],d!=null))switch(G){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(o,l,G,d,f,null)}return;case"dialog":Je("beforetoggle",o),Je("toggle",o),Je("cancel",o),Je("close",o);break;case"iframe":case"object":Je("load",o);break;case"video":case"audio":for(d=0;d<uc.length;d++)Je(uc[d],o);break;case"image":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"embed":case"source":case"link":Je("error",o),Je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in f)if(f.hasOwnProperty(Z)&&(d=f[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,Z,d,f,null)}return;default:if(Cu(l)){for(ae in f)f.hasOwnProperty(ae)&&(d=f[ae],d!==void 0&&wp(o,l,ae,d,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(d=f[N],d!=null&&bt(o,l,N,d,f,null))}function Z4(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,C=null,N=null,G=null,Z=null,ae=null;for(ne in f){var ue=f[ne];if(f.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":G=ue;default:d.hasOwnProperty(ne)||bt(o,l,ne,null,d,ue)}}for(var te in d){var ne=d[te];if(ue=f[te],d.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":x=ne;break;case"name":m=ne;break;case"checked":Z=ne;break;case"defaultChecked":ae=ne;break;case"value":C=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ue&&bt(o,l,te,ne,d,ue)}}hr(o,C,N,G,Z,ae,x,m);return;case"select":ne=C=N=te=null;for(x in f)if(G=f[x],f.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ne=G;default:d.hasOwnProperty(x)||bt(o,l,x,null,d,G)}for(m in d)if(x=d[m],G=f[m],d.hasOwnProperty(m)&&(x!=null||G!=null))switch(m){case"value":te=x;break;case"defaultValue":N=x;break;case"multiple":C=x;default:x!==G&&bt(o,l,m,x,d,G)}l=N,f=C,d=ne,te!=null?Ui(o,!!f,te,!1):!!d!=!!f&&(l!=null?Ui(o,!!f,l,!0):Ui(o,!!f,f?[]:"",!1));return;case"textarea":ne=te=null;for(N in f)if(m=f[N],f.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(o,l,N,null,d,m)}for(C in d)if(m=d[C],x=f[C],d.hasOwnProperty(C)&&(m!=null||x!=null))switch(C){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==x&&bt(o,l,C,m,d,x)}At(o,te,ne);return;case"option":for(var Be in f)if(te=f[Be],f.hasOwnProperty(Be)&&te!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":o.selected=!1;break;default:bt(o,l,Be,null,d,te)}for(G in d)if(te=d[G],ne=f[G],d.hasOwnProperty(G)&&te!==ne&&(te!=null||ne!=null))switch(G){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:bt(o,l,G,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in f)te=f[Me],f.hasOwnProperty(Me)&&te!=null&&!d.hasOwnProperty(Me)&&bt(o,l,Me,null,d,te);for(Z in d)if(te=d[Z],ne=f[Z],d.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:bt(o,l,Z,te,d,ne)}return;default:if(Cu(l)){for(var Ct in f)te=f[Ct],f.hasOwnProperty(Ct)&&te!==void 0&&!d.hasOwnProperty(Ct)&&wp(o,l,Ct,void 0,d,te);for(ae in d)te=d[ae],ne=f[ae],!d.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||wp(o,l,ae,te,d,ne);return}}for(var Y in f)te=f[Y],f.hasOwnProperty(Y)&&te!=null&&!d.hasOwnProperty(Y)&&bt(o,l,Y,null,d,te);for(ue in d)te=d[ue],ne=f[ue],!d.hasOwnProperty(ue)||te===ne||te==null&&ne==null||bt(o,l,ue,te,d,ne)}var Ep=null,Ap=null;function Ch(o){return o.nodeType===9?o:o.ownerDocument}function bx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cx(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Tp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bp=null;function J4(){var o=window.event;return o&&o.type==="popstate"?o===bp?!1:(bp=o,!0):(bp=null,!1)}var Sx=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(o){return Ix.resolve(null).then(o).catch(nR)}:Sx;function nR(o){setTimeout(function(){throw o})}function za(o){return o==="head"}function Rx(o,l){var f=l,d=0,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(0<d&&8>d){f=d;var C=o.ownerDocument;if(f&1&&fc(C.documentElement),f&2&&fc(C.body),f&4)for(f=C.head,fc(f),C=f.firstChild;C;){var N=C.nextSibling,G=C.nodeName;C[Po]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=N}}if(m===0){o.removeChild(x),_c(l);return}m--}else f==="$"||f==="$?"||f==="$!"?m++:d=f.charCodeAt(0)-48;else d=0;f=x}while(f);_c(l)}function Cp(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Cp(f),Ea(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function rR(o,l,f,d){for(;o.nodeType===1;){var m=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Po])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=qr(o.nextSibling),o===null)break}return null}function iR(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=qr(o.nextSibling),o===null))return null;return o}function Sp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function aR(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function qr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Ip=null;function Ox(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function Dx(o,l,f){switch(l=Ch(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function fc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Ea(o)}var Lr=new Map,Nx=new Set;function Sh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var aa=oe.d;oe.d={f:oR,r:sR,D:lR,C:uR,L:cR,m:fR,X:dR,S:hR,M:pR};function oR(){var o=aa.f(),l=yh();return o||l}function sR(o){var l=oi(o);l!==null&&l.tag===5&&l.type==="form"?Z_(l):aa.r(o)}var xl=typeof document>"u"?null:document;function Mx(o,l,f){var d=xl;if(d&&typeof l=="string"&&l){var m=$t(l);m='link[rel="'+o+'"][href="'+m+'"]',typeof f=="string"&&(m+='[crossorigin="'+f+'"]'),Nx.has(m)||(Nx.add(m),o={rel:o,crossOrigin:f,href:l},d.querySelector(m)===null&&(l=d.createElement("link"),Nn(l,"link",o),qt(l),d.head.appendChild(l)))}}function lR(o){aa.D(o),Mx("dns-prefetch",o,null)}function uR(o,l){aa.C(o,l),Mx("preconnect",o,l)}function cR(o,l,f){aa.L(o,l,f);var d=xl;if(d&&o&&l){var m='link[rel="preload"][as="'+$t(l)+'"]';l==="image"&&f&&f.imageSrcSet?(m+='[imagesrcset="'+$t(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(m+='[imagesizes="'+$t(f.imageSizes)+'"]')):m+='[href="'+$t(o)+'"]';var x=m;switch(l){case"style":x=wl(o);break;case"script":x=El(o)}Lr.has(x)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Lr.set(x,o),d.querySelector(m)!==null||l==="style"&&d.querySelector(hc(x))||l==="script"&&d.querySelector(dc(x))||(l=d.createElement("link"),Nn(l,"link",o),qt(l),d.head.appendChild(l)))}}function fR(o,l){aa.m(o,l);var f=xl;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(o)+'"]',x=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=El(o)}if(!Lr.has(x)&&(o=p({rel:"modulepreload",href:o},l),Lr.set(x,o),f.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(dc(x)))return}d=f.createElement("link"),Nn(d,"link",o),qt(d),f.head.appendChild(d)}}}function hR(o,l,f){aa.S(o,l,f);var d=xl;if(d&&o){var m=$n(d).hoistableStyles,x=wl(o);l=l||"default";var C=m.get(x);if(!C){var N={loading:0,preload:null};if(C=d.querySelector(hc(x)))N.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Lr.get(x))&&Rp(o,f);var G=C=d.createElement("link");qt(G),Nn(G,"link",o),G._p=new Promise(function(Z,ae){G.onload=Z,G.onerror=ae}),G.addEventListener("load",function(){N.loading|=1}),G.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ih(C,l,d)}C={type:"stylesheet",instance:C,count:1,state:N},m.set(x,C)}}}function dR(o,l){aa.X(o,l);var f=xl;if(f&&o){var d=$n(f).hoistableScripts,m=El(o),x=d.get(m);x||(x=f.querySelector(dc(m)),x||(o=p({src:o,async:!0},l),(l=Lr.get(m))&&Op(o,l),x=f.createElement("script"),qt(x),Nn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function pR(o,l){aa.M(o,l);var f=xl;if(f&&o){var d=$n(f).hoistableScripts,m=El(o),x=d.get(m);x||(x=f.querySelector(dc(m)),x||(o=p({src:o,async:!0,type:"module"},l),(l=Lr.get(m))&&Op(o,l),x=f.createElement("script"),qt(x),Nn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function Px(o,l,f,d){var m=(m=Ce.current)?Sh(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=wl(f.href),f=$n(m).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=wl(f.href);var x=$n(m).hoistableStyles,C=x.get(o);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,C),(x=m.querySelector(hc(o)))&&!x._p&&(C.instance=x,C.state.loading=5),Lr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Lr.set(o,f),x||gR(m,o,f,C.state))),l&&d===null)throw Error(r(528,""));return C}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=El(f),f=$n(m).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function wl(o){return'href="'+$t(o)+'"'}function hc(o){return'link[rel="stylesheet"]['+o+"]"}function Lx(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function gR(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Nn(l,"link",f),qt(l),o.head.appendChild(l))}function El(o){return'[src="'+$t(o)+'"]'}function dc(o){return"script[async]"+o}function kx(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+$t(f.href)+'"]');if(d)return l.instance=d,qt(d),d;var m=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),qt(d),Nn(d,"style",m),Ih(d,f.precedence,o),l.instance=d;case"stylesheet":m=wl(f.href);var x=o.querySelector(hc(m));if(x)return l.state.loading|=4,l.instance=x,qt(x),x;d=Lx(f),(m=Lr.get(m))&&Rp(d,m),x=(o.ownerDocument||o).createElement("link"),qt(x);var C=x;return C._p=new Promise(function(N,G){C.onload=N,C.onerror=G}),Nn(x,"link",d),l.state.loading|=4,Ih(x,f.precedence,o),l.instance=x;case"script":return x=El(f.src),(m=o.querySelector(dc(x)))?(l.instance=m,qt(m),m):(d=f,(m=Lr.get(x))&&(d=p({},f),Op(d,m)),o=o.ownerDocument||o,m=o.createElement("script"),qt(m),Nn(m,"link",d),o.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Ih(d,f.precedence,o));return l.instance}function Ih(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,x=m,C=0;C<d.length;C++){var N=d[C];if(N.dataset.precedence===l)x=N;else if(x!==m)break}x?x.parentNode.insertBefore(o,x.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Rp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Op(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Rh=null;function Bx(o,l,f){if(Rh===null){var d=new Map,m=Rh=new Map;m.set(f,d)}else m=Rh,d=m.get(f),d||(d=new Map,m.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),m=0;m<f.length;m++){var x=f[m];if(!(x[Po]||x[tn]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(l)||"";C=o+C;var N=d.get(C);N?N.push(x):d.set(C,[x])}}return d}function Vx(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function vR(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Fx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var pc=null;function mR(){}function yR(o,l,f){if(pc===null)throw Error(r(475));var d=pc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=wl(f.href),x=o.querySelector(hc(m));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Oh.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=x,qt(x);return}x=o.ownerDocument||o,f=Lx(f),(m=Lr.get(m))&&Rp(f,m),x=x.createElement("link"),qt(x);var C=x;C._p=new Promise(function(N,G){C.onload=N,C.onerror=G}),Nn(x,"link",f),l.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Oh.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function _R(){if(pc===null)throw Error(r(475));var o=pc;return o.stylesheets&&o.count===0&&Dp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Dp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Dh=null;function Dp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Dh=new Map,l.forEach(xR,o),Dh=null,Oh.call(o))}function xR(o,l){if(!(l.state.loading&4)){var f=Dh.get(o);if(f)var d=f.get(null);else{f=new Map,Dh.set(o,f);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var C=m[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),d=C)}d&&f.set(null,d)}m=l.instance,C=m.getAttribute("data-precedence"),x=f.get(C)||d,x===d&&f.set(null,m),f.set(C,m),this.count++,d=Oh.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),x?x.parentNode.insertBefore(m,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),l.state.loading|=4}}var gc={$$typeof:O,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function wR(o,l,f,d,m,x,C,N){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ux(o,l,f,d,m,x,C,N,G,Z,ae,ue){return o=new wR(o,l,f,C,N,G,Z,ue),l=1,x===!0&&(l|=24),x=pr(3,null,null,l),o.current=x,x.stateNode=o,l=h1(),l.refCount++,o.pooledCache=l,l.refCount++,x.memoizedState={element:d,isDehydrated:f,cache:l},v1(x),o}function zx(o){return o?(o=Js,o):Js}function jx(o,l,f,d,m,x){m=zx(m),d.context===null?d.context=m:d.pendingContext=m,d=Ia(l),d.payload={element:f},x=x===void 0?null:x,x!==null&&(d.callback=x),f=Ra(o,d,l),f!==null&&(_r(f,o,l),qu(f,o,l))}function Hx(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Np(o,l){Hx(o,l),(o=o.alternate)&&Hx(o,l)}function Gx(o){if(o.tag===13){var l=Zs(o,67108864);l!==null&&_r(l,o,67108864),Np(o,67108864)}}var Nh=!0;function ER(o,l,f,d){var m=W.T;W.T=null;var x=oe.p;try{oe.p=2,Mp(o,l,f,d)}finally{oe.p=x,W.T=m}}function AR(o,l,f,d){var m=W.T;W.T=null;var x=oe.p;try{oe.p=8,Mp(o,l,f,d)}finally{oe.p=x,W.T=m}}function Mp(o,l,f,d){if(Nh){var m=Pp(d);if(m===null)xp(o,l,d,Mh,f),Xx(o,d);else if(bR(m,o,l,f,d))d.stopPropagation();else if(Xx(o,d),l&4&&-1<TR.indexOf(o)){for(;m!==null;){var x=oi(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=Ur(x.pendingLanes);if(C!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var G=1<<31-Fn(C);N.entanglements[1]|=G,C&=~G}xi(x),(_t&6)===0&&(vh=mn()+500,lc(0))}}break;case 13:N=Zs(x,2),N!==null&&_r(N,x,2),yh(),Np(x,2)}if(x=Pp(d),x===null&&xp(o,l,d,Mh,f),x===m)break;m=x}m!==null&&d.stopPropagation()}else xp(o,l,d,null,f)}}function Pp(o){return o=Cr(o),Lp(o)}var Mh=null;function Lp(o){if(Mh=null,o=Bi(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Mh=o,null}function qx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case ii:return 2;case Ds:return 8;case Ro:case F0:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var kp=!1,ja=null,Ha=null,Ga=null,vc=new Map,mc=new Map,qa=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xx(o,l){switch(o){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":vc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(l.pointerId)}}function yc(o,l,f,d,m,x){return o===null||o.nativeEvent!==x?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},l!==null&&(l=oi(l),l!==null&&Gx(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function bR(o,l,f,d,m){switch(l){case"focusin":return ja=yc(ja,o,l,f,d,m),!0;case"dragenter":return Ha=yc(Ha,o,l,f,d,m),!0;case"mouseover":return Ga=yc(Ga,o,l,f,d,m),!0;case"pointerover":var x=m.pointerId;return vc.set(x,yc(vc.get(x)||null,o,l,f,d,m)),!0;case"gotpointercapture":return x=m.pointerId,mc.set(x,yc(mc.get(x)||null,o,l,f,d,m)),!0}return!1}function Kx(o){var l=Bi(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,yf(o.priority,function(){if(f.tag===13){var d=yr();d=_a(d);var m=Zs(f,d);m!==null&&_r(m,f,d),Np(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ph(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Pp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);zi=d,f.target.dispatchEvent(d),zi=null}else return l=oi(f),l!==null&&Gx(l),o.blockedOn=f,!1;l.shift()}return!0}function Wx(o,l,f){Ph(o)&&f.delete(l)}function CR(){kp=!1,ja!==null&&Ph(ja)&&(ja=null),Ha!==null&&Ph(Ha)&&(Ha=null),Ga!==null&&Ph(Ga)&&(Ga=null),vc.forEach(Wx),mc.forEach(Wx)}function Lh(o,l){o.blockedOn===l&&(o.blockedOn=null,kp||(kp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CR)))}var kh=null;function Yx(o){kh!==o&&(kh=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kh===o&&(kh=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],m=o[l+2];if(typeof d!="function"){if(Lp(d||f)===null)continue;break}var x=oi(f);x!==null&&(o.splice(l,3),l-=3,L1(x,{pending:!0,data:m,method:f.method,action:d},d,m))}}))}function _c(o){function l(G){return Lh(G,o)}ja!==null&&Lh(ja,o),Ha!==null&&Lh(Ha,o),Ga!==null&&Lh(Ga,o),vc.forEach(l),mc.forEach(l);for(var f=0;f<qa.length;f++){var d=qa[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<qa.length&&(f=qa[0],f.blockedOn===null);)Kx(f),f.blockedOn===null&&qa.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var m=f[d],x=f[d+1],C=m[Yt]||null;if(typeof x=="function")C||Yx(f);else if(C){var N=null;if(x&&x.hasAttribute("formAction")){if(m=x,C=x[Yt]||null)N=C.formAction;else if(Lp(m)!==null)continue}else N=C.action;typeof N=="function"?f[d+1]=N:(f.splice(d,3),d-=3),Yx(f)}}}function Bp(o){this._internalRoot=o}Bh.prototype.render=Bp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=yr();jx(f,d,o,l,null,null)},Bh.prototype.unmount=Bp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;jx(o.current,2,null,o,null,null),yh(),l[Tr]=null}};function Bh(o){this._internalRoot=o}Bh.prototype.unstable_scheduleHydration=function(o){if(o){var l=xa();o={blockedOn:null,target:o,priority:l};for(var f=0;f<qa.length&&l!==0&&l<qa[f].priority;f++);qa.splice(f,0,o),f===0&&Kx(o)}};var $x=e.version;if($x!=="19.1.0")throw Error(r(527,$x,"19.1.0"));oe.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var SR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{zt=Vh.inject(SR),yt=Vh}catch{}}return wc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",m=h2,x=d2,C=p2,N=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks)),l=Ux(o,1,!1,null,null,f,d,m,x,C,N,null),o[Tr]=l.current,_p(o),new Bp(l)},wc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,m="",x=h2,C=d2,N=p2,G=null,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(m=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(G=f.unstable_transitionCallbacks),f.formState!==void 0&&(Z=f.formState)),l=Ux(o,1,!0,l,f??null,d,m,x,C,N,G,Z),l.context=zx(null),f=l.current,d=yr(),d=_a(d),m=Ia(d),m.callback=null,Ra(f,m,d),f=d,l.current.lanes=f,ki(l,f),xi(l),o[Tr]=l.current,_p(o),new Bh(l)},wc.version="19.1.0",wc}var ow;function BR(){if(ow)return Up.exports;ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=kR(),Up.exports}var VR=BR();function qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function FR(n,e){const t=M.createContext(e),r=a=>{const{children:s,...u}=a,c=M.useMemo(()=>u,Object.values(u));return B.jsx(t.Provider,{value:c,children:s})};r.displayName=n+"Provider";function i(a){const s=M.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function Ss(n,e=[]){let t=[];function r(a,s){const u=M.createContext(s),c=t.length;t=[...t,s];const h=v=>{var I;const{scope:y,children:_,...w}=v,A=((I=y==null?void 0:y[n])==null?void 0:I[c])||u,T=M.useMemo(()=>w,Object.values(w));return B.jsx(A.Provider,{value:T,children:_})};h.displayName=a+"Provider";function p(v,y){var A;const _=((A=y==null?void 0:y[n])==null?void 0:A[c])||u,w=M.useContext(_);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,p]}const i=()=>{const a=t.map(s=>M.createContext(s));return function(u){const c=(u==null?void 0:u[n])||a;return M.useMemo(()=>({[`__scope${n}`]:{...u,[n]:c}}),[u,c])}};return i.scopeName=n,[r,UR(i,...e)]}function UR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((u,{useScope:c,scopeName:h})=>{const v=c(a)[`__scope${h}`];return{...u,...v}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function sw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function KT(...n){return e=>{let t=!1;const r=n.map(i=>{const a=sw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():sw(n[i],null)}}}}function Vt(...n){return M.useCallback(KT(...n),n)}function zl(n){const e=jR(n),t=M.forwardRef((r,i)=>{const{children:a,...s}=r,u=M.Children.toArray(a),c=u.find(GR);if(c){const h=c.props.children,p=u.map(v=>v===c?M.Children.count(h)>1?M.Children.only(null):M.isValidElement(h)?h.props.children:null:v);return B.jsx(e,{...s,ref:i,children:M.isValidElement(h)?M.cloneElement(h,void 0,p):null})}return B.jsx(e,{...s,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var zR=zl("Slot");function jR(n){const e=M.forwardRef((t,r)=>{const{children:i,...a}=t;if(M.isValidElement(i)){const s=XR(i),u=qR(a,i.props);return i.type!==M.Fragment&&(u.ref=r?KT(r,s):s),M.cloneElement(i,u)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var WT=Symbol("radix.slottable");function HR(n){const e=({children:t})=>B.jsx(B.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=WT,e}function GR(n){return M.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===WT}function qR(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{const c=a(...u);return i(...u),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function XR(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function YT(n){const e=n+"CollectionProvider",[t,r]=Ss(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=A=>{const{scope:T,children:I}=A,S=Qa.useRef(null),O=Qa.useRef(new Map).current;return B.jsx(i,{scope:T,itemMap:O,collectionRef:S,children:I})};s.displayName=e;const u=n+"CollectionSlot",c=zl(u),h=Qa.forwardRef((A,T)=>{const{scope:I,children:S}=A,O=a(u,I),k=Vt(T,O.collectionRef);return B.jsx(c,{ref:k,children:S})});h.displayName=u;const p=n+"CollectionItemSlot",v="data-radix-collection-item",y=zl(p),_=Qa.forwardRef((A,T)=>{const{scope:I,children:S,...O}=A,k=Qa.useRef(null),z=Vt(T,k),K=a(p,I);return Qa.useEffect(()=>(K.itemMap.set(k,{ref:k,...O}),()=>void K.itemMap.delete(k))),B.jsx(y,{[v]:"",ref:z,children:S})});_.displayName=p;function w(A){const T=a(n+"CollectionConsumer",A);return Qa.useCallback(()=>{const S=T.collectionRef.current;if(!S)return[];const O=Array.from(S.querySelectorAll(`[${v}]`));return Array.from(T.itemMap.values()).sort((K,D)=>O.indexOf(K.ref.current)-O.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:s,Slot:h,ItemSlot:_},w,r]}var Xn=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},KR=qT[" useId ".trim().toString()]||(()=>{}),WR=0;function ua(n){const[e,t]=M.useState(KR());return Xn(()=>{t(r=>r??String(WR++))},[n]),n||(e?`radix-${e}`:"")}var Zc=XT();const YR=_m(Zc);var $R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=$R.reduce((n,e)=>{const t=zl(`Primitive.${e}`),r=M.forwardRef((i,a)=>{const{asChild:s,...u}=i,c=s?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function QR(n,e){n&&Zc.flushSync(()=>n.dispatchEvent(e))}function go(n){const e=M.useRef(n);return M.useEffect(()=>{e.current=n}),M.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var ZR=qT[" useInsertionEffect ".trim().toString()]||Xn;function jl({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,s]=JR({defaultProp:e,onChange:t}),u=n!==void 0,c=u?n:i;{const p=M.useRef(n!==void 0);M.useEffect(()=>{const v=p.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=M.useCallback(p=>{var v;if(u){const y=e8(p)?p(n):p;y!==n&&((v=s.current)==null||v.call(s,y))}else a(p)},[u,n,a,s]);return[c,h]}function JR({defaultProp:n,onChange:e}){const[t,r]=M.useState(n),i=M.useRef(t),a=M.useRef(e);return ZR(()=>{a.current=e},[e]),M.useEffect(()=>{var s;i.current!==t&&((s=a.current)==null||s.call(a,t),i.current=t)},[t,i]),[t,r,a]}function e8(n){return typeof n=="function"}var t8=M.createContext(void 0);function wm(n){const e=M.useContext(t8);return n||e||"ltr"}var Gp="rovingFocusGroup.onEntryFocus",n8={bubbles:!1,cancelable:!0},Jc="RovingFocusGroup",[gv,$T,r8]=YT(Jc),[i8,QT]=Ss(Jc,[r8]),[a8,o8]=i8(Jc),ZT=M.forwardRef((n,e)=>B.jsx(gv.Provider,{scope:n.__scopeRovingFocusGroup,children:B.jsx(gv.Slot,{scope:n.__scopeRovingFocusGroup,children:B.jsx(s8,{...n,ref:e})})}));ZT.displayName=Jc;var s8=M.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=n,y=M.useRef(null),_=Vt(e,y),w=wm(a),[A,T]=jl({prop:s,defaultProp:u??null,onChange:c,caller:Jc}),[I,S]=M.useState(!1),O=go(h),k=$T(t),z=M.useRef(!1),[K,D]=M.useState(0);return M.useEffect(()=>{const R=y.current;if(R)return R.addEventListener(Gp,O),()=>R.removeEventListener(Gp,O)},[O]),B.jsx(a8,{scope:t,orientation:r,dir:w,loop:i,currentTabStopId:A,onItemFocus:M.useCallback(R=>T(R),[T]),onItemShiftTab:M.useCallback(()=>S(!0),[]),onFocusableItemAdd:M.useCallback(()=>D(R=>R+1),[]),onFocusableItemRemove:M.useCallback(()=>D(R=>R-1),[]),children:B.jsx(st.div,{tabIndex:I||K===0?-1:0,"data-orientation":r,...v,ref:_,style:{outline:"none",...n.style},onMouseDown:qe(n.onMouseDown,()=>{z.current=!0}),onFocus:qe(n.onFocus,R=>{const L=!z.current;if(R.target===R.currentTarget&&L&&!I){const U=new CustomEvent(Gp,n8);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const H=k().filter(W=>W.focusable),j=H.find(W=>W.active),F=H.find(W=>W.id===A),xe=[j,F,...H].filter(Boolean).map(W=>W.ref.current);tb(xe,p)}}z.current=!1}),onBlur:qe(n.onBlur,()=>S(!1))})})}),JT="RovingFocusGroupItem",eb=M.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:s,...u}=n,c=ua(),h=a||c,p=o8(JT,t),v=p.currentTabStopId===h,y=$T(t),{onFocusableItemAdd:_,onFocusableItemRemove:w,currentTabStopId:A}=p;return M.useEffect(()=>{if(r)return _(),()=>w()},[r,_,w]),B.jsx(gv.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:B.jsx(st.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:qe(n.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:qe(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:qe(n.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const I=c8(T,p.orientation,p.dir);if(I!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let O=y().filter(k=>k.focusable).map(k=>k.ref.current);if(I==="last")O.reverse();else if(I==="prev"||I==="next"){I==="prev"&&O.reverse();const k=O.indexOf(T.currentTarget);O=p.loop?f8(O,k+1):O.slice(k+1)}setTimeout(()=>tb(O))}}),children:typeof s=="function"?s({isCurrentTabStop:v,hasTabStop:A!=null}):s})})});eb.displayName=JT;var l8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function u8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function c8(n,e,t){const r=u8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return l8[r]}function tb(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function f8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var h8=ZT,d8=eb;function p8(n,e){return M.useReducer((t,r)=>e[t][r]??t,n)}var Is=n=>{const{present:e,children:t}=n,r=g8(e),i=typeof t=="function"?t({present:r.isPresent}):M.Children.only(t),a=Vt(r.ref,v8(i));return typeof t=="function"||r.isPresent?M.cloneElement(i,{ref:a}):null};Is.displayName="Presence";function g8(n){const[e,t]=M.useState(),r=M.useRef(null),i=M.useRef(n),a=M.useRef("none"),s=n?"mounted":"unmounted",[u,c]=p8(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const h=Fh(r.current);a.current=u==="mounted"?h:"none"},[u]),Xn(()=>{const h=r.current,p=i.current;if(p!==n){const y=a.current,_=Fh(h);n?c("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Xn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,v=_=>{const A=Fh(r.current).includes(_.animationName);if(_.target===e&&A&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=_=>{_.target===e&&(a.current=Fh(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:M.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Fh(n){return(n==null?void 0:n.animationName)||"none"}function v8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zd="Tabs",[m8,fj]=Ss(Zd,[QT]),nb=QT(),[y8,Em]=m8(Zd),rb=M.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:u,activationMode:c="automatic",...h}=n,p=wm(u),[v,y]=jl({prop:r,onChange:i,defaultProp:a??"",caller:Zd});return B.jsx(y8,{scope:t,baseId:ua(),value:v,onValueChange:y,orientation:s,dir:p,activationMode:c,children:B.jsx(st.div,{dir:p,"data-orientation":s,...h,ref:e})})});rb.displayName=Zd;var ib="TabsList",ab=M.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=Em(ib,t),s=nb(t);return B.jsx(h8,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:B.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});ab.displayName=ib;var ob="TabsTrigger",sb=M.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,s=Em(ob,t),u=nb(t),c=cb(s.baseId,r),h=fb(s.baseId,r),p=r===s.value;return B.jsx(d8,{asChild:!0,...u,focusable:!i,active:p,children:B.jsx(st.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:qe(n.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?s.onValueChange(r):v.preventDefault()}),onKeyDown:qe(n.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&s.onValueChange(r)}),onFocus:qe(n.onFocus,()=>{const v=s.activationMode!=="manual";!p&&!i&&v&&s.onValueChange(r)})})})});sb.displayName=ob;var lb="TabsContent",ub=M.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...s}=n,u=Em(lb,t),c=cb(u.baseId,r),h=fb(u.baseId,r),p=r===u.value,v=M.useRef(p);return M.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),B.jsx(Is,{present:i||p,children:({present:y})=>B.jsx(st.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:h,tabIndex:0,...s,ref:e,style:{...n.style,animationDuration:v.current?"0s":void 0},children:y&&a})})});ub.displayName=lb;function cb(n,e){return`${n}-trigger-${e}`}function fb(n,e){return`${n}-content-${e}`}var _8=rb,x8=ab,w8=sb,E8=ub;function hb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=hb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function db(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=hb(n))&&(r&&(r+=" "),r+=e);return r}const Am="-",A8=n=>{const e=b8(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{const u=s.split(Am);return u[0]===""&&u.length!==1&&u.shift(),pb(u,e)||T8(s)},getConflictingClassGroupIds:(s,u)=>{const c=t[s]||[];return u&&r[s]?[...c,...r[s]]:c}}},pb=(n,e)=>{var s;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?pb(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Am);return(s=e.validators.find(({validator:u})=>u(a)))==null?void 0:s.classGroupId},lw=/^\[(.+)\]$/,T8=n=>{if(lw.test(n)){const e=lw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},b8=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)vv(t[i],r,i,e);return r},vv=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:uw(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(C8(i)){vv(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,s])=>{vv(s,uw(e,a),t,r)})})},uw=(n,e)=>{let t=n;return e.split(Am).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},C8=n=>n.isThemeGetter,S8=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,s)=>{t.set(a,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){t.has(a)?t.set(a,s):i(a,s)}}},mv="!",yv=":",I8=yv.length,R8=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let s=0,u=0,c=0,h;for(let w=0;w<i.length;w++){let A=i[w];if(s===0&&u===0){if(A===yv){a.push(i.slice(c,w)),c=w+I8;continue}if(A==="/"){h=w;continue}}A==="["?s++:A==="]"?s--:A==="("?u++:A===")"&&u--}const p=a.length===0?i:i.substring(c),v=O8(p),y=v!==p,_=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:_}};if(e){const i=e+yv,a=r;r=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},O8=n=>n.endsWith(mv)?n.substring(0,n.length-1):n.startsWith(mv)?n.substring(1):n,D8=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},N8=n=>({cache:S8(n.cacheSize),parseClassName:R8(n),sortModifiers:D8(n),...A8(n)}),M8=/\s+/,P8=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],u=n.trim().split(M8);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:v,modifiers:y,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:A}=t(p);if(v){c=p+(c.length>0?" "+c:c);continue}let T=!!A,I=r(T?w.substring(0,A):w);if(!I){if(!T){c=p+(c.length>0?" "+c:c);continue}if(I=r(w),!I){c=p+(c.length>0?" "+c:c);continue}T=!1}const S=a(y).join(":"),O=_?S+mv:S,k=O+I;if(s.includes(k))continue;s.push(k);const z=i(I,T);for(let K=0;K<z.length;++K){const D=z[K];s.push(O+D)}c=p+(c.length>0?" "+c:c)}return c};function L8(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=gb(e))&&(r&&(r+=" "),r+=t);return r}const gb=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=gb(n[r]))&&(t&&(t+=" "),t+=e);return t};function k8(n,...e){let t,r,i,a=s;function s(c){const h=e.reduce((p,v)=>v(p),n());return t=N8(h),r=t.cache.get,i=t.cache.set,a=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=P8(c,t);return i(c,p),p}return function(){return a(L8.apply(null,arguments))}}const sn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},vb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,B8=/^\d+\/\d+$/,V8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,z8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=n=>B8.test(n),Ke=n=>!!n&&!Number.isNaN(Number(n)),Ka=n=>!!n&&Number.isInteger(Number(n)),qp=n=>n.endsWith("%")&&Ke(n.slice(0,-1)),oa=n=>V8.test(n),H8=()=>!0,G8=n=>F8.test(n)&&!U8.test(n),yb=()=>!1,q8=n=>z8.test(n),X8=n=>j8.test(n),K8=n=>!Ee(n)&&!Ae(n),W8=n=>tu(n,wb,yb),Ee=n=>vb.test(n),us=n=>tu(n,Eb,G8),Xp=n=>tu(n,J8,Ke),cw=n=>tu(n,_b,yb),Y8=n=>tu(n,xb,X8),Uh=n=>tu(n,Ab,q8),Ae=n=>mb.test(n),Ec=n=>nu(n,Eb),$8=n=>nu(n,e6),fw=n=>nu(n,_b),Q8=n=>nu(n,wb),Z8=n=>nu(n,xb),zh=n=>nu(n,Ab,!0),tu=(n,e,t)=>{const r=vb.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},nu=(n,e,t=!1)=>{const r=mb.exec(n);return r?r[1]?e(r[1]):t:!1},_b=n=>n==="position"||n==="percentage",xb=n=>n==="image"||n==="url",wb=n=>n==="length"||n==="size"||n==="bg-size",Eb=n=>n==="length",J8=n=>n==="number",e6=n=>n==="family-name",Ab=n=>n==="shadow",t6=()=>{const n=sn("color"),e=sn("font"),t=sn("text"),r=sn("font-weight"),i=sn("tracking"),a=sn("leading"),s=sn("breakpoint"),u=sn("container"),c=sn("spacing"),h=sn("radius"),p=sn("shadow"),v=sn("inset-shadow"),y=sn("text-shadow"),_=sn("drop-shadow"),w=sn("blur"),A=sn("perspective"),T=sn("aspect"),I=sn("ease"),S=sn("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...k(),Ae,Ee],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],R=()=>[Ae,Ee,c],L=()=>[Al,"full","auto",...R()],U=()=>[Ka,"none","subgrid",Ae,Ee],H=()=>["auto",{span:["full",Ka,Ae,Ee]},Ka,Ae,Ee],j=()=>[Ka,"auto",Ae,Ee],F=()=>["auto","min","max","fr",Ae,Ee],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...R()],oe=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],ee=()=>[n,Ae,Ee],be=()=>[...k(),fw,cw,{position:[Ae,Ee]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",Q8,W8,{size:[Ae,Ee]}],de=()=>[qp,Ec,us],ce=()=>["","none","full",h,Ae,Ee],me=()=>["",Ke,Ec,us],Pe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Ke,qp,fw,cw],Ie=()=>["","none",w,Ae,Ee],ut=()=>["none",Ke,Ae,Ee],Ge=()=>["none",Ke,Ae,Ee],ze=()=>[Ke,Ae,Ee],je=()=>[Al,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oa],breakpoint:[oa],color:[H8],container:[oa],"drop-shadow":[oa],ease:["in","out","in-out"],font:[K8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oa],shadow:[oa],spacing:["px",Ke],text:[oa],"text-shadow":[oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Ee,Ae,T]}],container:["container"],columns:[{columns:[Ke,Ee,Ae,u]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Ka,"auto",Ae,Ee]}],basis:[{basis:[Al,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,Al,"auto","initial","none",Ee]}],grow:[{grow:["",Ke,Ae,Ee]}],shrink:[{shrink:["",Ke,Ae,Ee]}],order:[{order:[Ka,"first","last","none",Ae,Ee]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[u,"screen",...oe()]}],"min-w":[{"min-w":[u,"screen","none",...oe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[s]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",t,Ec,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,Xp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qp,Ee]}],"font-family":[{font:[$8,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,Ee]}],"line-clamp":[{"line-clamp":[Ke,"none",Ae,Xp]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",Ae,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Ae,us]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Ke,"auto",Ae,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ka,Ae,Ee],radial:["",Ae,Ee],conic:[Ka,Ae,Ee]},Z8,Y8]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Ae,Ee]}],"outline-w":[{outline:["",Ke,Ec,us]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,zh,Uh]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",v,zh,Uh]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Ke,us]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",y,zh,Uh]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Ke,Ae,Ee]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ae,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Ee]}],filter:[{filter:["","none",Ae,Ee]}],blur:[{blur:Ie()}],brightness:[{brightness:[Ke,Ae,Ee]}],contrast:[{contrast:[Ke,Ae,Ee]}],"drop-shadow":[{"drop-shadow":["","none",_,zh,Uh]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Ke,Ae,Ee]}],"hue-rotate":[{"hue-rotate":[Ke,Ae,Ee]}],invert:[{invert:["",Ke,Ae,Ee]}],saturate:[{saturate:[Ke,Ae,Ee]}],sepia:[{sepia:["",Ke,Ae,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Ee]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Ae,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Ae,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Ae,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Ae,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Ae,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Ae,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Ae,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Ae,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Ae,Ee]}],ease:[{ease:["linear","initial",I,Ae,Ee]}],delay:[{delay:[Ke,Ae,Ee]}],animate:[{animate:["none",S,Ae,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ae,Ee]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ut()}],"rotate-x":[{"rotate-x":ut()}],"rotate-y":[{"rotate-y":ut()}],"rotate-z":[{"rotate-z":ut()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Ae,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Ee]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Ke,Ec,us,Xp]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},n6=k8(t6);function It(...n){return n6(db(n))}function r6({className:n,...e}){return B.jsx(_8,{"data-slot":"tabs",className:It("flex flex-col gap-2",n),...e})}function i6({className:n,...e}){return B.jsx(x8,{"data-slot":"tabs-list",className:It("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function Kp({className:n,...e}){return B.jsx(w8,{"data-slot":"tabs-trigger",className:It("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Wp({className:n,...e}){return B.jsx(E8,{"data-slot":"tabs-content",className:It("flex-1 outline-none",n),...e})}const hw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,dw=db,a6=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return dw(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(h=>{const p=t==null?void 0:t[h],v=a==null?void 0:a[h];if(p===null)return null;const y=hw(p)||hw(v);return i[h][y]}),u=t&&Object.entries(t).reduce((h,p)=>{let[v,y]=p;return y===void 0||(h[v]=y),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:v,className:y,..._}=p;return Object.entries(_).every(w=>{let[A,T]=w;return Array.isArray(T)?T.includes({...a,...u}[A]):{...a,...u}[A]===T})?[...h,v,y]:h},[]);return dw(n,s,c,t==null?void 0:t.class,t==null?void 0:t.className)},o6=a6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ca({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?zR:"button";return B.jsx(a,{"data-slot":"button",className:It(o6({variant:e,size:t,className:n})),...i})}function s6({className:n,...e}){return B.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:B.jsx("table",{"data-slot":"table",className:It("w-full caption-bottom text-sm",n),...e})})}function l6({className:n,...e}){return B.jsx("thead",{"data-slot":"table-header",className:It("[&_tr]:border-b",n),...e})}function u6({className:n,...e}){return B.jsx("tbody",{"data-slot":"table-body",className:It("[&_tr:last-child]:border-0",n),...e})}function Yp({className:n,...e}){return B.jsx("tr",{"data-slot":"table-row",className:It("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function c6({className:n,...e}){return B.jsx("th",{"data-slot":"table-head",className:It("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function $p({className:n,...e}){return B.jsx("td",{"data-slot":"table-cell",className:It("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const f6=()=>{};var pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},h6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,v=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;c||(_=64,s||(y=64)),r.push(t[p],t[v],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Tb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):h6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||v==null)throw new d6;const y=a<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),v!==64){const w=h<<6&192|v;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class d6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p6=function(n){const e=Tb(n);return bb.encodeByteArray(e,!0)},Td=function(n){return p6(n).replace(/\./g,"")},Cb=function(n){try{return bb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=()=>g6().__FIREBASE_DEFAULTS__,m6=()=>{if(typeof process>"u"||typeof pw>"u")return;const n=pw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Cb(n[1]);return e&&JSON.parse(e)},Jd=()=>{try{return f6()||v6()||m6()||y6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sb=n=>{var e,t;return(t=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_6=n=>{const e=Sb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ib=()=>{var n;return(n=Jd())===null||n===void 0?void 0:n.config},Rb=n=>{var e;return(e=Jd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){return n.endsWith(".cloudworkstations.dev")}async function Ob(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Td(JSON.stringify(t)),Td(JSON.stringify(s)),""].join(".")}const Lc={};function E6(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function A6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gw=!1;function Db(n,e){if(typeof window>"u"||typeof document>"u"||!ef(window.location.host)||Lc[n]===e||Lc[n]||gw)return;Lc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=E6().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{gw=!0,s()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=A6(r),_=t("text"),w=document.getElementById(_)||document.createElement("span"),A=t("learnmore"),T=document.getElementById(A)||document.createElement("a"),I=t("preprendIcon"),S=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const O=y.element;u(O),p(T,A);const k=h();c(S,I),O.append(S,w,T,k),document.body.appendChild(O)}a?(w.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function b6(){var n;const e=(n=Jd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function I6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R6(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function O6(){return!b6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D6(){try{return typeof indexedDB=="object"}catch{return!1}}function N6(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="FirebaseError";class ya extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=M6,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tf.prototype.create)}}class tf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?P6(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ya(i,u,r)}}function P6(n,e){return n.replace(L6,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L6=/\{\$([^}]+)}/g;function k6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ys(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(vw(a)&&vw(s)){if(!ys(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function B6(n,e){const t=new V6(n,e);return t.subscribe.bind(t)}class V6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");F6(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n){return n&&n._delegate?n._delegate:n}class _s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U6=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new x6;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j6(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function z6(n){return n===hs?void 0:n}function j6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new U6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const G6={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},q6=et.INFO,X6={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},K6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=X6[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=q6,this._logHandler=K6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const W6=(n,e)=>e.some(t=>n instanceof t);let mw,yw;function Y6(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $6(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,_v=new WeakMap,Mb=new WeakMap,Zp=new WeakMap,bm=new WeakMap;function Q6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(ao(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Nb.set(t,n)}).catch(()=>{}),bm.set(e,n),e}function Z6(n){if(_v.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});_v.set(n,e)}let xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _v.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Mb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ao(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function J6(n){xv=n(xv)}function eO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jp(this),e,...t);return Mb.set(r,e.sort?e.sort():[e]),ao(r)}:$6().includes(n)?function(...e){return n.apply(Jp(this),e),ao(Nb.get(this))}:function(...e){return ao(n.apply(Jp(this),e))}}function tO(n){return typeof n=="function"?eO(n):(n instanceof IDBTransaction&&Z6(n),W6(n,Y6())?new Proxy(n,xv):n)}function ao(n){if(n instanceof IDBRequest)return Q6(n);if(Zp.has(n))return Zp.get(n);const e=tO(n);return e!==n&&(Zp.set(n,e),bm.set(e,n)),e}const Jp=n=>bm.get(n);function nO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=ao(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ao(s.result),c.oldVersion,c.newVersion,ao(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const rO=["get","getKey","getAll","getAllKeys","count"],iO=["put","add","delete","clear"],eg=new Map;function _w(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(eg.get(e))return eg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=iO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rO.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return eg.set(e,a),a}J6(n=>({...n,get:(e,t,r)=>_w(e,t)||n.get(e,t,r),has:(e,t)=>!!_w(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wv="@firebase/app",xw="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Tm("@firebase/app"),sO="@firebase/app-compat",lO="@firebase/analytics-compat",uO="@firebase/analytics",cO="@firebase/app-check-compat",fO="@firebase/app-check",hO="@firebase/auth",dO="@firebase/auth-compat",pO="@firebase/database",gO="@firebase/data-connect",vO="@firebase/database-compat",mO="@firebase/functions",yO="@firebase/functions-compat",_O="@firebase/installations",xO="@firebase/installations-compat",wO="@firebase/messaging",EO="@firebase/messaging-compat",AO="@firebase/performance",TO="@firebase/performance-compat",bO="@firebase/remote-config",CO="@firebase/remote-config-compat",SO="@firebase/storage",IO="@firebase/storage-compat",RO="@firebase/firestore",OO="@firebase/ai",DO="@firebase/firestore-compat",NO="firebase",MO="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="[DEFAULT]",PO={[wv]:"fire-core",[sO]:"fire-core-compat",[uO]:"fire-analytics",[lO]:"fire-analytics-compat",[fO]:"fire-app-check",[cO]:"fire-app-check-compat",[hO]:"fire-auth",[dO]:"fire-auth-compat",[pO]:"fire-rtdb",[gO]:"fire-data-connect",[vO]:"fire-rtdb-compat",[mO]:"fire-fn",[yO]:"fire-fn-compat",[_O]:"fire-iid",[xO]:"fire-iid-compat",[wO]:"fire-fcm",[EO]:"fire-fcm-compat",[AO]:"fire-perf",[TO]:"fire-perf-compat",[bO]:"fire-rc",[CO]:"fire-rc-compat",[SO]:"fire-gcs",[IO]:"fire-gcs-compat",[RO]:"fire-fst",[DO]:"fire-fst-compat",[OO]:"fire-vertex","fire-js":"fire-js",[NO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,LO=new Map,Av=new Map;function ww(n,e){try{n.container.addComponent(e)}catch(t){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(Av.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Av.set(e,n);for(const t of bd.values())ww(t,n);for(const t of LO.values())ww(t,n);return!0}function Cm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new tf("app","Firebase",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=MO;function Pb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ev,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(t||(t=Ib()),!t)throw oo.create("no-options");const a=bd.get(i);if(a){if(ys(t,a.options)&&ys(r,a.config))return a;throw oo.create("duplicate-app",{appName:i})}const s=new H6(i);for(const c of Av.values())s.addComponent(c);const u=new BO(t,r,s);return bd.set(i,u),u}function Lb(n=Ev){const e=bd.get(n);if(!e&&n===Ev&&Ib())return Pb();if(!e)throw oo.create("no-app",{appName:n});return e}function so(n,e,t){var r;let i=(r=PO[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(u.join(" "));return}Hl(new _s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="firebase-heartbeat-database",FO=1,zc="firebase-heartbeat-store";let tg=null;function kb(){return tg||(tg=nO(VO,FO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw oo.create("idb-open",{originalErrorMessage:n.message})})),tg}async function UO(n){try{const t=(await kb()).transaction(zc),r=await t.objectStore(zc).get(Bb(n));return await t.done,r}catch(e){if(e instanceof ya)fa.warn(e.message);else{const t=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(t.message)}}}async function Ew(n,e){try{const r=(await kb()).transaction(zc,"readwrite");await r.objectStore(zc).put(e,Bb(n)),await r.done}catch(t){if(t instanceof ya)fa.warn(t.message);else{const r=oo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fa.warn(r.message)}}}function Bb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1024,jO=30;class HO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Aw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jO){const s=XO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Aw(),{heartbeatsToSend:r,unsentEntries:i}=GO(this._heartbeatsCache.heartbeats),a=Td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fa.warn(t),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function GO(n,e=zO){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Tw(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Tw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D6()?N6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ew(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tw(n){return Td(JSON.stringify({version:2,heartbeats:n})).length}function XO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n){Hl(new _s("platform-logger",e=>new aO(e),"PRIVATE")),Hl(new _s("heartbeat",e=>new HO(e),"PRIVATE")),so(wv,xw,n),so(wv,xw,"esm2017"),so("fire-js","")}KO("");var Ei=function(){return Ei=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ei.apply(this,arguments)};function rf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function WO(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YO=Vb,Fb=new tf("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Tm("@firebase/auth");function $O(n,...e){Cd.logLevel<=et.WARN&&Cd.warn(`Auth (${ru}): ${n}`,...e)}function od(n,...e){Cd.logLevel<=et.ERROR&&Cd.error(`Auth (${ru}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n,...e){throw Sm(n,...e)}function bi(n,...e){return Sm(n,...e)}function Ub(n,e,t){const r=Object.assign(Object.assign({},YO()),{[e]:t});return new tf("auth","Firebase",r).create(e,{appName:n.name})}function lo(n){return Ub(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Fb.create(n,...e)}function Ve(n,e,...t){if(!n)throw Sm(e,...t)}function sa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw od(e),new Error(e)}function da(n,e){n||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QO(){return bw()==="http:"||bw()==="https:"}function bw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QO()||S6()||"connection"in navigator)?navigator.onLine:!0}function JO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=T6()||I6()}get(){return ZO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e){da(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new af(3e4,6e4);function e0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function iu(n,e,t,r,i={}){return jb(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=nf(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return C6()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&ef(n.emulatorConfig.host)&&(h.credentials="include"),zb.fetch()(await Gb(n,n.config.apiHost,t,u),h)})}async function jb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eD),e);try{const i=new rD(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw jh(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw jh(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw jh(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ub(n,p,h);ha(n,p)}}catch(i){if(i instanceof ya)throw i;ha(n,"network-request-failed",{message:String(i)})}}async function Hb(n,e,t,r,i={}){const a=await iu(n,e,t,r,i);return"mfaPendingCredential"in a&&ha(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Gb(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?Im(n.config,i):`${n.config.apiScheme}://${i}`;return tD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),nD.get())})}}function jh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=bi(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return iu(n,"POST","/v1/accounts:delete",e)}async function Sd(n,e){return iu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aD(n,e=!1){const t=Wn(n),r=await t.getIdToken(e),i=Rm(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:kc(ng(i.auth_time)),issuedAtTime:kc(ng(i.iat)),expirationTime:kc(ng(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ng(n){return Number(n)*1e3}function Rm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cb(t);return i?JSON.parse(i):(od("Failed to decode base64 JWT payload"),null)}catch(i){return od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Cw(n){const e=Rm(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ya&&oD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function oD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n){var e;const t=n.auth,r=await n.getIdToken(),i=await jc(n,Sd(t,{idToken:r}));Ve(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qb(a.providerUserInfo):[],u=uD(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new bv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function lD(n){const e=Wn(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qb(n){return n.map(e=>{var{providerId:t}=e,r=rf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){const t=await jb(n,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await Gb(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",zb.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fD(n,e){return iu(n,"POST","/v2/accounts:revokeToken",e0(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=Cw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await cD(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Ll;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ve(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new bv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await jc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await jc(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,S=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:k,isAnonymous:z,providerData:K,stsTokenManager:D}=t;Ve(O&&D,e,"internal-error");const R=Ll.fromJSON(this.name,D);Ve(typeof O=="string",e,"internal-error"),Wa(v,e.name),Wa(y,e.name),Ve(typeof k=="boolean",e,"internal-error"),Ve(typeof z=="boolean",e,"internal-error"),Wa(_,e.name),Wa(w,e.name),Wa(A,e.name),Wa(T,e.name),Wa(I,e.name),Wa(S,e.name);const L=new Zr({uid:O,auth:e,email:y,emailVerified:k,displayName:v,isAnonymous:z,photoURL:w,phoneNumber:_,tenantId:A,stsTokenManager:R,createdAt:I,lastLoginAt:S});return K&&Array.isArray(K)&&(L.providerData=K.map(U=>Object.assign({},U))),T&&(L._redirectEventId=T),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ll;i.updateFromServerResponse(t);const a=new Zr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Id(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?qb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ll;u.updateFromIdToken(r);const c=new Zr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new bv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;function la(n){da(n instanceof Function,"Expected a class definition");let e=Sw.get(n);return e?(da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Sw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xb.type="NONE";const Iw=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n,e,t){return`firebase:${n}:${e}:${t}`}class kl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,a),this.fullPersistenceKey=sd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sd(this.auth,{idToken:e}).catch(()=>{});return t?Zr._fromGetAccountInfoResponse(this.auth,t,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kl(la(Iw),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||la(Iw);const s=sd(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let v;if(typeof p=="string"){const y=await Sd(e,{idToken:p}).catch(()=>{});if(!y)break;v=await Zr._fromGetAccountInfoResponse(e,y,p)}else v=Zr._fromJSON(e,p);h!==a&&(u=v),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new kl(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new kl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Jb(e))return"Webos";if(Wb(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kb(n=Kn()){return/firefox\//i.test(n)}function Wb(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(n=Kn()){return/crios\//i.test(n)}function $b(n=Kn()){return/iemobile/i.test(n)}function Qb(n=Kn()){return/android/i.test(n)}function Zb(n=Kn()){return/blackberry/i.test(n)}function Jb(n=Kn()){return/webos/i.test(n)}function Om(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hD(n=Kn()){var e;return Om(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dD(){return R6()&&document.documentMode===10}function eC(n=Kn()){return Om(n)||Qb(n)||Jb(n)||Zb(n)||/windows phone/i.test(n)||$b(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n,e=[]){let t;switch(n){case"Browser":t=Rw(Kn());break;case"Worker":t=`${Rw(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e={}){return iu(n,"GET","/v2/passwordPolicy",e0(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=6;class mD{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:vD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=la(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sd(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(lo(this));const t=e?Wn(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(la(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gD(this),t=new mD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await fD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&la(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[la(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$O(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function t0(n){return Wn(n)}class Ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=B6(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(n){Dm=n}function xD(n){return Dm.loadJS(n)}function wD(){return Dm.gapiScript}function ED(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(n,e){const t=Cm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(ys(a,e??{}))return i;ha(i,"already-initialized")}return t.initialize({options:e})}function TD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(la);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bD(n,e,t){const r=t0(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=nC(e),{host:s,port:u}=CD(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ys(h,r.config.emulator)&&ys(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,ef(s)?(Ob(`${a}//${s}${c}`),Db("Auth",!0)):SD()}function nC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CD(n){const e=nC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Dw(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Dw(s)}}}function Dw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,t){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e){return Hb(n,"POST","/v1/accounts:signInWithIdp",e0(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="http://localhost";class xs extends rC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ha("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=rf(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new xs(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Bl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bl(e,t)}buildRequest(){const e={requestUri:ID,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends of{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends of{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return to.credential(t,r)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends of{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends of{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ro.credential(t,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(n,e){return Hb(n,"POST","/v1/accounts:signUp",e0(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Zr._fromIdTokenResponse(e,r,i),s=Nw(r);return new vo({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Nw(r);return new vo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Nw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(n){var e;if(Yr(n.app))return Promise.reject(lo(n));const t=t0(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new vo({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await RD(t,{returnSecureToken:!0}),i=await vo._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends ya{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Rd(e,t,r,i)}}function aC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,a,e,r):a})}async function DD(n,e,t=!1){const r=await jc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e,t=!1){const{auth:r}=n;if(Yr(r.app))return Promise.reject(lo(r));const i="reauthenticate";try{const a=await jc(n,aC(r,i,e,n),t);Ve(a.idToken,r,"internal-error");const s=Rm(a.idToken);Ve(s,r,"internal-error");const{sub:u}=s;return Ve(n.uid===u,r,"user-mismatch"),vo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ha(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(n,e,t=!1){if(Yr(n.app))return Promise.reject(lo(n));const r="signIn",i=await aC(n,r,e),a=await vo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e,t,r){return Wn(n).onIdTokenChanged(e,t,r)}function LD(n,e,t){return Wn(n).beforeAuthStateChanged(e,t)}function kD(n,e,t,r){return Wn(n).onAuthStateChanged(e,t,r)}const Od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1e3,VD=10;class sC extends oC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);dD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sC.type="LOCAL";const FD=sC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends oC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lC.type="SESSION";const uC=lC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new n0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await UD(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=Nm("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function jD(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function HD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qD(){return cC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",XD=1,Dd="firebaseLocalStorage",hC="fbase_key";class sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function r0(n,e){return n.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function KD(){const n=indexedDB.deleteDatabase(fC);return new sf(n).toPromise()}function Cv(){const n=indexedDB.open(fC,XD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dd,{keyPath:hC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dd)?e(r):(r.close(),await KD(),e(await Cv()))})})}async function Mw(n,e,t){const r=r0(n,!0).put({[hC]:e,value:t});return new sf(r).toPromise()}async function WD(n,e){const t=r0(n,!1).get(e),r=await new sf(t).toPromise();return r===void 0?null:r.value}function Pw(n,e){const t=r0(n,!0).delete(e);return new sf(t).toPromise()}const YD=800,$D=3;class dC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$D)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n0._getInstance(qD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cv();return await Mw(e,Od,"1"),await Pw(e,Od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=r0(i,!1).getAll();return new sf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dC.type="LOCAL";const QD=dC;new af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n,e){return e?la(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends rC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JD(n){return MD(n.auth,new Mm(n),n.bypassAuthState)}function eN(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),ND(t,new Mm(n),n.bypassAuthState)}async function tN(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),DD(t,new Mm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JD;case"linkViaPopup":case"linkViaRedirect":return tN;case"reauthViaPopup":case"reauthViaRedirect":return eN;default:ha(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new af(2e3,1e4);class Nl extends pC{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nN.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="pendingRedirect",ld=new Map;class iN extends pC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ld.get(this.auth._key());if(!e){try{const r=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ld.set(this.auth._key(),e)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(n,e){const t=lN(e),r=sN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function oN(n,e){ld.set(n._key(),e)}function sN(n){return la(n._redirectPersistence)}function lN(n){return sd(rN,n.config.apiKey,n.name)}async function uN(n,e,t=!1){if(Yr(n.app))return Promise.reject(lo(n));const r=t0(n),i=ZD(r,e),s=await new iN(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e={}){return iu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function vN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dN(n);for(const t of e)try{if(mN(t))return}catch{}ha(n,"unauthorized-domain")}function mN(n){const e=Tv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!gN.test(t))return!1;if(pN.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new af(3e4,6e4);function kw(){const n=Ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _N(n){return new Promise((e,t)=>{var r,i,a;function s(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(bi(n,"network-request-failed"))},timeout:yN.get()})}if(!((i=(r=Ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ci().gapi)===null||a===void 0)&&a.load)s();else{const u=ED("iframefcb");return Ci()[u]=()=>{gapi.load?s():t(bi(n,"network-request-failed"))},xD(`${wD()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw ud=null,e})}let ud=null;function xN(n){return ud=ud||_N(n),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new af(5e3,15e3),EN="__/auth/iframe",AN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Im(e,AN):`https://${n.config.authDomain}/${EN}`,r={apiKey:e.apiKey,appName:n.name,v:ru},i=bN.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${nf(r).slice(1)}`}async function SN(n){const e=await xN(n),t=Ci().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:CN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=bi(n,"network-request-failed"),u=Ci().setTimeout(()=>{a(s)},wN.get());function c(){Ci().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RN=500,ON=600,DN="_blank",NN="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MN(n,e,t,r=RN,i=ON){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},IN),{width:r.toString(),height:i.toString(),top:a,left:s}),h=Kn().toLowerCase();t&&(u=Yb(h)?DN:t),Kb(h)&&(e=e||NN,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,w])=>`${y}${_}=${w},`,"");if(hD(h)&&u!=="_self")return PN(e||"",u),new Bw(null);const v=window.open(e||"",u,p);Ve(v,n,"popup-blocked");try{v.focus()}catch{}return new Bw(v)}function PN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",kN="emulator/auth/handler",BN=encodeURIComponent("fac");async function Vw(n,e,t,r,i,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ru,eventId:i};if(e instanceof iC){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",k6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))s[p]=v}if(e instanceof of){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${BN}=${encodeURIComponent(c)}`:"";return`${VN(n)}?${nf(u).slice(1)}${h}`}function VN({config:n}){return n.emulator?Im(n,kN):`https://${n.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uC,this._completeRedirectFn=uN,this._overrideRedirectResult=oN}async _openPopup(e,t,r,i){var a;da((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Vw(e,t,r,Tv(),i);return MN(e,s,Nm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Vw(e,t,r,Tv(),i);return jD(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(da(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SN(e),r=new fN(e);return t.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rg,{type:rg},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[rg];s!==void 0&&t(!!s),ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eC()||Wb()||Om()}}const UN=FN;var Fw="@firebase/auth",Uw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(n){Hl(new _s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(n)},h=new yD(r,i,a,c);return TD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new _s("auth-internal",e=>{const t=t0(e.getProvider("auth").getImmediate());return(r=>new zN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),so(Fw,Uw,jN(n)),so(Fw,Uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=5*60,qN=Rb("authIdTokenMaxAge")||GN;let zw=null;const XN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qN)return;const i=t==null?void 0:t.token;zw!==i&&(zw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KN(n=Lb()){const e=Cm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AD(n,{popupRedirectResolver:UN,persistence:[QD,FD,uC]}),r=Rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=XN(a.toString());LD(t,s,()=>s(t.currentUser)),PD(t,u=>s(u))}}const i=Sb("auth");return i&&bD(t,`http://${i}`),t}function WN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_D({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=bi("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",WN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,vC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function L(){}L.prototype=R.prototype,D.D=R.prototype,D.prototype=new L,D.prototype.constructor=D,D.C=function(U,H,j){for(var F=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)F[_e-2]=arguments[_e];return R.prototype[H].apply(U,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,R,L){L||(L=0);var U=Array(16);if(typeof R=="string")for(var H=0;16>H;++H)U[H]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(H=0;16>H;++H)U[H]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=D.g[0],L=D.g[1],H=D.g[2];var j=D.g[3],F=R+(j^L&(H^j))+U[0]+3614090360&4294967295;R=L+(F<<7&4294967295|F>>>25),F=j+(H^R&(L^H))+U[1]+3905402710&4294967295,j=R+(F<<12&4294967295|F>>>20),F=H+(L^j&(R^L))+U[2]+606105819&4294967295,H=j+(F<<17&4294967295|F>>>15),F=L+(R^H&(j^R))+U[3]+3250441966&4294967295,L=H+(F<<22&4294967295|F>>>10),F=R+(j^L&(H^j))+U[4]+4118548399&4294967295,R=L+(F<<7&4294967295|F>>>25),F=j+(H^R&(L^H))+U[5]+1200080426&4294967295,j=R+(F<<12&4294967295|F>>>20),F=H+(L^j&(R^L))+U[6]+2821735955&4294967295,H=j+(F<<17&4294967295|F>>>15),F=L+(R^H&(j^R))+U[7]+4249261313&4294967295,L=H+(F<<22&4294967295|F>>>10),F=R+(j^L&(H^j))+U[8]+1770035416&4294967295,R=L+(F<<7&4294967295|F>>>25),F=j+(H^R&(L^H))+U[9]+2336552879&4294967295,j=R+(F<<12&4294967295|F>>>20),F=H+(L^j&(R^L))+U[10]+4294925233&4294967295,H=j+(F<<17&4294967295|F>>>15),F=L+(R^H&(j^R))+U[11]+2304563134&4294967295,L=H+(F<<22&4294967295|F>>>10),F=R+(j^L&(H^j))+U[12]+1804603682&4294967295,R=L+(F<<7&4294967295|F>>>25),F=j+(H^R&(L^H))+U[13]+4254626195&4294967295,j=R+(F<<12&4294967295|F>>>20),F=H+(L^j&(R^L))+U[14]+2792965006&4294967295,H=j+(F<<17&4294967295|F>>>15),F=L+(R^H&(j^R))+U[15]+1236535329&4294967295,L=H+(F<<22&4294967295|F>>>10),F=R+(H^j&(L^H))+U[1]+4129170786&4294967295,R=L+(F<<5&4294967295|F>>>27),F=j+(L^H&(R^L))+U[6]+3225465664&4294967295,j=R+(F<<9&4294967295|F>>>23),F=H+(R^L&(j^R))+U[11]+643717713&4294967295,H=j+(F<<14&4294967295|F>>>18),F=L+(j^R&(H^j))+U[0]+3921069994&4294967295,L=H+(F<<20&4294967295|F>>>12),F=R+(H^j&(L^H))+U[5]+3593408605&4294967295,R=L+(F<<5&4294967295|F>>>27),F=j+(L^H&(R^L))+U[10]+38016083&4294967295,j=R+(F<<9&4294967295|F>>>23),F=H+(R^L&(j^R))+U[15]+3634488961&4294967295,H=j+(F<<14&4294967295|F>>>18),F=L+(j^R&(H^j))+U[4]+3889429448&4294967295,L=H+(F<<20&4294967295|F>>>12),F=R+(H^j&(L^H))+U[9]+568446438&4294967295,R=L+(F<<5&4294967295|F>>>27),F=j+(L^H&(R^L))+U[14]+3275163606&4294967295,j=R+(F<<9&4294967295|F>>>23),F=H+(R^L&(j^R))+U[3]+4107603335&4294967295,H=j+(F<<14&4294967295|F>>>18),F=L+(j^R&(H^j))+U[8]+1163531501&4294967295,L=H+(F<<20&4294967295|F>>>12),F=R+(H^j&(L^H))+U[13]+2850285829&4294967295,R=L+(F<<5&4294967295|F>>>27),F=j+(L^H&(R^L))+U[2]+4243563512&4294967295,j=R+(F<<9&4294967295|F>>>23),F=H+(R^L&(j^R))+U[7]+1735328473&4294967295,H=j+(F<<14&4294967295|F>>>18),F=L+(j^R&(H^j))+U[12]+2368359562&4294967295,L=H+(F<<20&4294967295|F>>>12),F=R+(L^H^j)+U[5]+4294588738&4294967295,R=L+(F<<4&4294967295|F>>>28),F=j+(R^L^H)+U[8]+2272392833&4294967295,j=R+(F<<11&4294967295|F>>>21),F=H+(j^R^L)+U[11]+1839030562&4294967295,H=j+(F<<16&4294967295|F>>>16),F=L+(H^j^R)+U[14]+4259657740&4294967295,L=H+(F<<23&4294967295|F>>>9),F=R+(L^H^j)+U[1]+2763975236&4294967295,R=L+(F<<4&4294967295|F>>>28),F=j+(R^L^H)+U[4]+1272893353&4294967295,j=R+(F<<11&4294967295|F>>>21),F=H+(j^R^L)+U[7]+4139469664&4294967295,H=j+(F<<16&4294967295|F>>>16),F=L+(H^j^R)+U[10]+3200236656&4294967295,L=H+(F<<23&4294967295|F>>>9),F=R+(L^H^j)+U[13]+681279174&4294967295,R=L+(F<<4&4294967295|F>>>28),F=j+(R^L^H)+U[0]+3936430074&4294967295,j=R+(F<<11&4294967295|F>>>21),F=H+(j^R^L)+U[3]+3572445317&4294967295,H=j+(F<<16&4294967295|F>>>16),F=L+(H^j^R)+U[6]+76029189&4294967295,L=H+(F<<23&4294967295|F>>>9),F=R+(L^H^j)+U[9]+3654602809&4294967295,R=L+(F<<4&4294967295|F>>>28),F=j+(R^L^H)+U[12]+3873151461&4294967295,j=R+(F<<11&4294967295|F>>>21),F=H+(j^R^L)+U[15]+530742520&4294967295,H=j+(F<<16&4294967295|F>>>16),F=L+(H^j^R)+U[2]+3299628645&4294967295,L=H+(F<<23&4294967295|F>>>9),F=R+(H^(L|~j))+U[0]+4096336452&4294967295,R=L+(F<<6&4294967295|F>>>26),F=j+(L^(R|~H))+U[7]+1126891415&4294967295,j=R+(F<<10&4294967295|F>>>22),F=H+(R^(j|~L))+U[14]+2878612391&4294967295,H=j+(F<<15&4294967295|F>>>17),F=L+(j^(H|~R))+U[5]+4237533241&4294967295,L=H+(F<<21&4294967295|F>>>11),F=R+(H^(L|~j))+U[12]+1700485571&4294967295,R=L+(F<<6&4294967295|F>>>26),F=j+(L^(R|~H))+U[3]+2399980690&4294967295,j=R+(F<<10&4294967295|F>>>22),F=H+(R^(j|~L))+U[10]+4293915773&4294967295,H=j+(F<<15&4294967295|F>>>17),F=L+(j^(H|~R))+U[1]+2240044497&4294967295,L=H+(F<<21&4294967295|F>>>11),F=R+(H^(L|~j))+U[8]+1873313359&4294967295,R=L+(F<<6&4294967295|F>>>26),F=j+(L^(R|~H))+U[15]+4264355552&4294967295,j=R+(F<<10&4294967295|F>>>22),F=H+(R^(j|~L))+U[6]+2734768916&4294967295,H=j+(F<<15&4294967295|F>>>17),F=L+(j^(H|~R))+U[13]+1309151649&4294967295,L=H+(F<<21&4294967295|F>>>11),F=R+(H^(L|~j))+U[4]+4149444226&4294967295,R=L+(F<<6&4294967295|F>>>26),F=j+(L^(R|~H))+U[11]+3174756917&4294967295,j=R+(F<<10&4294967295|F>>>22),F=H+(R^(j|~L))+U[2]+718787259&4294967295,H=j+(F<<15&4294967295|F>>>17),F=L+(j^(H|~R))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(H+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+H&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var L=R-this.blockSize,U=this.B,H=this.h,j=0;j<R;){if(H==0)for(;j<=L;)i(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(U[H++]=D.charCodeAt(j++),H==this.blockSize){i(this,U),H=0;break}}else for(;j<R;)if(U[H++]=D[j++],H==this.blockSize){i(this,U),H=0;break}}this.h=H,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var L=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=L&255,L/=256;for(this.u(D),D=Array(16),R=L=0;4>R;++R)for(var U=0;32>U;U+=8)D[L++]=this.g[R]>>>U&255;return D};function a(D,R){var L=u;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=R(D)}function s(D,R){this.h=R;for(var L=[],U=!0,H=D.length-1;0<=H;H--){var j=D[H]|0;U&&j==R||(L[H]=j,U=!1)}this.g=L}var u={};function c(D){return-128<=D&&128>D?a(D,function(R){return new s([R|0],0>R?-1:0)}):new s([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return T(h(-D));for(var R=[],L=1,U=0;D>=L;U++)R[U]=D/L|0,L*=4294967296;return new s(R,0)}function p(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return T(p(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(R,8)),U=v,H=0;H<D.length;H+=8){var j=Math.min(8,D.length-H),F=parseInt(D.substring(H,H+j),R);8>j?(j=h(Math.pow(R,j)),U=U.j(j).add(h(F))):(U=U.j(L),U=U.add(h(F)))}return U}var v=c(0),y=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-T(this).m();for(var D=0,R=1,L=0;L<this.g.length;L++){var U=this.i(L);D+=(0<=U?U:4294967296+U)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+T(this).toString(D);for(var R=h(Math.pow(D,6)),L=this,U="";;){var H=k(L,R).g;L=I(L,H.j(R));var j=((0<L.g.length?L.g[0]:L.h)>>>0).toString(D);if(L=H,w(L))return j+U;for(;6>j.length;)j="0"+j;U=j+U}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=I(this,D),A(D)?-1:w(D)?0:1};function T(D){for(var R=D.g.length,L=[],U=0;U<R;U++)L[U]=~D.g[U];return new s(L,~D.h).add(y)}n.abs=function(){return A(this)?T(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],U=0,H=0;H<=R;H++){var j=U+(this.i(H)&65535)+(D.i(H)&65535),F=(j>>>16)+(this.i(H)>>>16)+(D.i(H)>>>16);U=F>>>16,j&=65535,F&=65535,L[H]=F<<16|j}return new s(L,L[L.length-1]&-2147483648?-1:0)};function I(D,R){return D.add(T(R))}n.j=function(D){if(w(this)||w(D))return v;if(A(this))return A(D)?T(this).j(T(D)):T(T(this).j(D));if(A(D))return T(this.j(T(D)));if(0>this.l(_)&&0>D.l(_))return h(this.m()*D.m());for(var R=this.g.length+D.g.length,L=[],U=0;U<2*R;U++)L[U]=0;for(U=0;U<this.g.length;U++)for(var H=0;H<D.g.length;H++){var j=this.i(U)>>>16,F=this.i(U)&65535,_e=D.i(H)>>>16,xe=D.i(H)&65535;L[2*U+2*H]+=F*xe,S(L,2*U+2*H),L[2*U+2*H+1]+=j*xe,S(L,2*U+2*H+1),L[2*U+2*H+1]+=F*_e,S(L,2*U+2*H+1),L[2*U+2*H+2]+=j*_e,S(L,2*U+2*H+2)}for(U=0;U<R;U++)L[U]=L[2*U+1]<<16|L[2*U];for(U=R;U<2*R;U++)L[U]=0;return new s(L,0)};function S(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function O(D,R){this.g=D,this.h=R}function k(D,R){if(w(R))throw Error("division by zero");if(w(D))return new O(v,v);if(A(D))return R=k(T(D),R),new O(T(R.g),T(R.h));if(A(R))return R=k(D,T(R)),new O(T(R.g),R.h);if(30<D.g.length){if(A(D)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var L=y,U=R;0>=U.l(D);)L=z(L),U=z(U);var H=K(L,1),j=K(U,1);for(U=K(U,2),L=K(L,2);!w(U);){var F=j.add(U);0>=F.l(D)&&(H=H.add(L),j=F),U=K(U,1),L=K(L,1)}return R=I(D,H.j(R)),new O(H,R)}for(H=v;0<=D.l(R);){for(L=Math.max(1,Math.floor(D.m()/R.m())),U=Math.ceil(Math.log(L)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),j=h(L),F=j.j(R);A(F)||0<F.l(D);)L-=U,j=h(L),F=j.j(R);w(j)&&(j=y),H=H.add(j),D=I(D,F)}return new O(H,D)}n.A=function(D){return k(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],U=0;U<R;U++)L[U]=this.i(U)&D.i(U);return new s(L,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],U=0;U<R;U++)L[U]=this.i(U)|D.i(U);return new s(L,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),L=[],U=0;U<R;U++)L[U]=this.i(U)^D.i(U);return new s(L,this.h^D.h)};function z(D){for(var R=D.g.length+1,L=[],U=0;U<R;U++)L[U]=D.i(U)<<1|D.i(U-1)>>>31;return new s(L,D.h)}function K(D,R){var L=R>>5;R%=32;for(var U=D.g.length-L,H=[],j=0;j<U;j++)H[j]=0<R?D.i(j+L)>>>R|D.i(j+L+1)<<32-R:D.i(j+L);return new s(H,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vC=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,uo=s}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mC,Cc,yC,cd,Sv,_C,xC,wC;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,b){return g==Array.prototype||g==Object.prototype||(g[E]=b.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var E=0;E<g.length;++E){var b=g[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(g,E){if(E)e:{var b=r;g=g.split(".");for(var P=0;P<g.length-1;P++){var $=g[P];if(!($ in b))break e;b=b[$]}g=g[g.length-1],P=b[g],E=E(P),E!=P&&E!=null&&e(b,g,{configurable:!0,writable:!0,value:E})}}function a(g,E){g instanceof String&&(g+="");var b=0,P=!1,$={next:function(){if(!P&&b<g.length){var re=b++;return{value:E(re,g[re]),done:!1}}return P=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(g){return g||function(){return a(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function h(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,b){return g.call.apply(g.bind,arguments)}function v(g,E,b){if(!g)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,P),g.apply(E,$)}}return function(){return g.apply(E,arguments)}}function y(g,E,b){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,y.apply(null,arguments)}function _(g,E){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),g.apply(this,P)}}function w(g,E){function b(){}b.prototype=E.prototype,g.aa=E.prototype,g.prototype=new b,g.prototype.constructor=g,g.Qb=function(P,$,re){for(var pe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)pe[nt-2]=arguments[nt];return E.prototype[$].apply(P,pe)}}function A(g){const E=g.length;if(0<E){const b=Array(E);for(let P=0;P<E;P++)b[P]=g[P];return b}return[]}function T(g,E){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(c(P)){const $=g.length||0,re=P.length||0;g.length=$+re;for(let pe=0;pe<re;pe++)g[$+pe]=P[pe]}else g.push(P)}}class I{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function S(g){return/^[\s\xa0]*$/.test(g)}function O(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function k(g){return k[" "](g),g}k[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function K(g,E,b){for(const P in g)E.call(b,g[P],P,g)}function D(g,E){for(const b in g)E.call(void 0,g[b],b,g)}function R(g){const E={};for(const b in g)E[b]=g[b];return E}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,E){let b,P;for(let $=1;$<arguments.length;$++){P=arguments[$];for(b in P)g[b]=P[b];for(let re=0;re<L.length;re++)b=L[re],Object.prototype.hasOwnProperty.call(P,b)&&(g[b]=P[b])}}function H(g){var E=1;g=g.split(":");const b=[];for(;0<E&&g.length;)b.push(g.shift()),E--;return g.length&&b.push(g.join(":")),b}function j(g){u.setTimeout(()=>{throw g},0)}function F(){var g=be;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class _e{constructor(){this.h=this.g=null}add(E,b){const P=xe.get();P.set(E,b),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new I(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ee=!1,be=new _e,q=()=>{const g=u.Promise.resolve(void 0);oe=()=>{g.then(se)}};var se=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(b){j(b)}var E=xe;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}ee=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const b=()=>{};u.addEventListener("test",b,E),u.removeEventListener("test",b,E)}catch{}return g}();function Pe(g,E){if(ce.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var b=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(z){e:{try{k(E.nodeName);var $=!0;break e}catch{}$=!1}$||(E=null)}}else b=="mouseover"?E=g.fromElement:b=="mouseout"&&(E=g.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Pe.aa.h.call(this)}}w(Pe,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function ut(g,E,b,P,$){this.listener=g,this.proxy=null,this.src=E,this.type=b,this.capture=!!P,this.ha=$,this.key=++Ie,this.da=this.fa=!1}function Ge(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ze(g){this.src=g,this.g={},this.h=0}ze.prototype.add=function(g,E,b,P,$){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var pe=Gt(g,E,P,$);return-1<pe?(E=g[pe],b||(E.fa=!1)):(E=new ut(E,this.src,re,!!P,$),E.fa=b,g.push(E)),E};function je(g,E){var b=E.type;if(b in g.g){var P=g.g[b],$=Array.prototype.indexOf.call(P,E,void 0),re;(re=0<=$)&&Array.prototype.splice.call(P,$,1),re&&(Ge(E),g.g[b].length==0&&(delete g.g[b],g.h--))}}function Gt(g,E,b,P){for(var $=0;$<g.length;++$){var re=g[$];if(!re.da&&re.listener==E&&re.capture==!!b&&re.ha==P)return $}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),Fr={};function ri(g,E,b,P,$){if(Array.isArray(E)){for(var re=0;re<E.length;re++)ri(g,E[re],b,P,$);return null}return b=vf(b),g&&g[ge]?g.K(E,b,h(P)?!!P.capture:!1,$):mn(g,E,b,!1,P,$)}function mn(g,E,b,P,$,re){if(!E)throw Error("Invalid event type");var pe=h($)?!!$.capture:!!$,nt=Ns(g);if(nt||(g[vn]=nt=new ze(g)),b=nt.add(E,b,P,pe,re),b.proxy)return b;if(P=du(),b.proxy=P,P.src=g,P.listener=b,g.addEventListener)me||($=pe),$===void 0&&($=!1),g.addEventListener(E.toString(),P,$);else if(g.attachEvent)g.attachEvent(Ro(E.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function du(){function g(b){return E.call(g.src,g.listener,b)}const E=F0;return g}function ii(g,E,b,P,$){if(Array.isArray(E))for(var re=0;re<E.length;re++)ii(g,E[re],b,P,$);else P=h(P)?!!P.capture:!!P,b=vf(b),g&&g[ge]?(g=g.i,E=String(E).toString(),E in g.g&&(re=g.g[E],b=Gt(re,b,P,$),-1<b&&(Ge(re[b]),Array.prototype.splice.call(re,b,1),re.length==0&&(delete g.g[E],g.h--)))):g&&(g=Ns(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Gt(E,b,P,$)),(b=-1<g?E[g]:null)&&Ds(b))}function Ds(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[ge])je(E.i,g);else{var b=g.type,P=g.proxy;E.removeEventListener?E.removeEventListener(b,P,g.capture):E.detachEvent?E.detachEvent(Ro(b),P):E.addListener&&E.removeListener&&E.removeListener(P),(b=Ns(E))?(je(b,g),b.h==0&&(b.src=null,E[vn]=null)):Ge(g)}}}function Ro(g){return g in Fr?Fr[g]:Fr[g]="on"+g}function F0(g,E){if(g.da)g=!0;else{E=new Pe(E,this);var b=g.listener,P=g.ha||g.src;g.fa&&Ds(g),g=b.call(P,E)}return g}function Ns(g){return g=g[vn],g instanceof ze?g:null}var pu="__closure_events_fn_"+(1e9*Math.random()>>>0);function vf(g){return typeof g=="function"?g:(g[pu]||(g[pu]=function(E){return g.handleEvent(E)}),g[pu])}function zt(){de.call(this),this.i=new ze(this),this.M=this,this.F=null}w(zt,de),zt.prototype[ge]=!0,zt.prototype.removeEventListener=function(g,E,b,P){ii(this,g,E,b,P)};function yt(g,E){var b,P=g.F;if(P)for(b=[];P;P=P.F)b.push(P);if(g=g.M,P=E.type||E,typeof E=="string")E=new ce(E,g);else if(E instanceof ce)E.target=E.target||g;else{var $=E;E=new ce(P,g),U(E,$)}if($=!0,b)for(var re=b.length-1;0<=re;re--){var pe=E.g=b[re];$=fr(pe,P,!0,E)&&$}if(pe=E.g=g,$=fr(pe,P,!0,E)&&$,$=fr(pe,P,!1,E)&&$,b)for(re=0;re<b.length;re++)pe=E.g=b[re],$=fr(pe,P,!1,E)&&$}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var b=g.g[E],P=0;P<b.length;P++)Ge(b[P]);delete g.g[E],g.h--}}this.F=null},zt.prototype.K=function(g,E,b,P){return this.i.add(String(g),E,!1,b,P)},zt.prototype.L=function(g,E,b,P){return this.i.add(String(g),E,!0,b,P)};function fr(g,E,b,P){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var $=!0,re=0;re<E.length;++re){var pe=E[re];if(pe&&!pe.da&&pe.capture==b){var nt=pe.listener,nn=pe.ha||pe.src;pe.fa&&je(g.i,pe),$=nt.call(nn,P)!==!1&&$}}return $&&!P.defaultPrevented}function Fn(g,E,b){if(typeof g=="function")b&&(g=y(g,b));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(g,E||0)}function mf(g){g.g=Fn(()=>{g.g=null,g.i&&(g.i=!1,mf(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class U0 extends de{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:mf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(g){de.call(this),this.h=g,this.g={}}w(Oo,de);var Do=[];function No(g){K(g.g,function(E,b){this.g.hasOwnProperty(b)&&Ds(E)},g),g.g={}}Oo.prototype.N=function(){Oo.aa.N.call(this),No(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=u.JSON.stringify,Ms=u.JSON.parse,Mo=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function gu(){}gu.prototype.h=null;function vu(g){return g.h||(g.h=g.i())}function mu(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ce.call(this,"d")}w(ki,ce);function yu(){ce.call(this,"c")}w(yu,ce);var ai={},_u=null;function _a(){return _u=_u||new zt}ai.La="serverreachability";function Ps(g){ce.call(this,ai.La,g)}w(Ps,ce);function xa(g){const E=_a();yt(E,new Ps(E))}ai.STAT_EVENT="statevent";function yf(g,E){ce.call(this,ai.STAT_EVENT,g),this.stat=E}w(yf,ce);function Pt(g){const E=_a();yt(E,new yf(E,g))}ai.Ma="timingevent";function tn(g,E){ce.call(this,ai.Ma,g),this.size=E}w(tn,ce);function Yt(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},E)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function xu(g,E,b,P,$,re){g.info(function(){if(g.g)if(re)for(var pe="",nt=re.split("&"),nn=0;nn<nt.length;nn++){var rt=nt[nn].split("=");if(1<rt.length){var _n=rt[0];rt=rt[1];var rn=_n.split("_");pe=2<=rn.length&&rn[1]=="type"?pe+(_n+"="+rt+"&"):pe+(_n+"=redacted&")}}else pe=null;else pe=re;return"XMLHTTP REQ ("+P+") [attempt "+$+"]: "+E+`
`+b+`
`+pe})}function z0(g,E,b,P,$,re,pe){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+$+"]: "+E+`
`+b+`
`+re+" "+pe})}function wa(g,E,b,P){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Po(g,b)+(P?" "+P:"")})}function _f(g,E){g.info(function(){return"TIMEOUT: "+E})}Tr.prototype.info=function(){};function Po(g,E){if(!g.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(g=0;g<b.length;g++)if(Array.isArray(b[g])){var P=b[g];if(!(2>P.length)){var $=P[1];if(Array.isArray($)&&!(1>$.length)){var re=$[0];if(re!="noop"&&re!="stop"&&re!="close")for(var pe=1;pe<$.length;pe++)$[pe]=""}}}}return Ur(b)}catch{return E}}var Ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function si(){}w(si,gu),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},oi=new si;function $n(g,E,b,P){this.j=g,this.i=E,this.l=b,this.R=P||1,this.U=new Oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var wu={},Ls={};function zr(g,E,b){g.L=1,g.v=Fo(hr(E)),g.m=b,g.P=!0,Vi(g,null)}function Vi(g,E){g.F=Date.now(),Lo(g),g.A=hr(g.v);var b=g.A,P=g.R;Array.isArray(P)||(P=[String(P)]),Su(b.i,"t",P),g.C=0,b=g.j.J,g.h=new qt,g.g=Lf(g.j,b?E:null,!g.m),0<g.O&&(g.M=new U0(y(g.Y,g,g.g),g.O)),E=g.U,b=g.g,P=g.ca;var $="readystatechange";Array.isArray($)||($&&(Do[0]=$.toString()),$=Do);for(var re=0;re<$.length;re++){var pe=ri(b,$[re],P||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),xa(),xu(g.i,g.u,g.A,g.l,g.R,g.m)}$n.prototype.ca=function(g){g=g.target;const E=this.M;E&&Ir(g)==3?E.j():this.Y(g)},$n.prototype.Y=function(g){try{if(g==this.g)e:{const rn=Ir(this.g);var E=this.g.Ba();const Xi=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Sf(this.g)))){this.J||rn!=4||E==7||(E==8||0>=Xi?xa(3):xa(2)),Aa(this);var b=this.g.Z();this.X=b;t:if(xf(this)){var P=Sf(this.g);g="";var $=P.length,re=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),li(this);var pe="";break t}this.h.i=new u.TextDecoder}for(E=0;E<$;E++)this.h.h=!0,g+=this.h.i.decode(P[E],{stream:!(re&&E==$-1)});P.length=0,this.h.g+=g,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=b==200,z0(this.i,this.u,this.A,this.l,this.R,rn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,nn=this.g;if((nt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(nt)){var rt=nt;break t}}rt=null}if(b=rt)wa(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,b);else{this.o=!1,this.s=3,Pt(12),In(this),li(this);break e}}if(this.P){b=!0;let Rn;for(;!this.J&&this.C<pe.length;)if(Rn=wf(this,pe),Rn==Ls){rn==4&&(this.s=4,Pt(14),b=!1),wa(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==wu){this.s=4,Pt(15),wa(this.i,this.l,pe,"[Invalid Chunk]"),b=!1;break}else wa(this.i,this.l,Rn,null),ko(this,Rn);if(xf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||pe.length!=0||this.h.h||(this.s=1,Pt(16),b=!1),this.o=this.o&&b,!b)wa(this.i,this.l,pe,"[Invalid Chunked Response]"),In(this),li(this);else if(0<pe.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ko(_n),_n.M=!0,Pt(11))}}else wa(this.i,this.l,pe,null),ko(this,pe);rn==4&&In(this),this.o&&!this.J&&(rn==4?Nf(this.j,this):(this.o=!1,Lo(this)))}else X0(this.g),b==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),In(this),li(this)}}}catch{}finally{}};function xf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function wf(g,E){var b=g.C,P=E.indexOf(`
`,b);return P==-1?Ls:(b=Number(E.substring(b,P)),isNaN(b)?wu:(P+=1,P+b>E.length?Ls:(E=E.slice(P,P+b),g.C=P+b,E)))}$n.prototype.cancel=function(){this.J=!0,In(this)};function Lo(g){g.S=Date.now()+g.I,Ef(g,g.I)}function Ef(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Yt(y(g.ba,g),E)}function Aa(g){g.B&&(u.clearTimeout(g.B),g.B=null)}$n.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(_f(this.i,this.A),this.L!=2&&(xa(),Pt(17)),In(this),this.s=2,li(this)):Ef(this,this.S-g)};function li(g){g.j.G==0||g.J||Nf(g.j,g)}function In(g){Aa(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,No(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function ko(g,E){try{var b=g.j;if(b.G!=0&&(b.g==g||Eu(b.h,g))){if(!g.K&&Eu(b.h,g)&&b.G==3){try{var P=b.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var $=P;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<g.F)Ks(b),qs(b);else break e;Nu(b),Pt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=Yt(y(b.Za,b),6e3));if(1>=Bs(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else qi(b,11)}else if((g.K||b.g==g)&&Ks(b),!S(E))for($=b.Da.g.parse(E),E=0;E<$.length;E++){let rt=$[E];if(b.T=rt[0],rt=rt[1],b.G==2)if(rt[0]=="c"){b.K=rt[1],b.ia=rt[2];const _n=rt[3];_n!=null&&(b.la=_n,b.j.info("VER="+b.la));const rn=rt[4];rn!=null&&(b.Aa=rn,b.j.info("SVER="+b.Aa));const Xi=rt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(P=1.5*Xi,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Rn=g.g;if(Rn){const gi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var re=P.h;re.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Vs(re,re.h),re.h=null))}if(P.D){const Pu=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(P.ya=Pu,At(P.I,P.D,Pu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-g.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var pe=g;if(P.qa=Pf(P,P.J?P.ia:null,P.W),pe.K){Qn(P.h,pe);var nt=pe,nn=P.L;nn&&(nt.I=nn),nt.B&&(Aa(nt),Lo(nt)),P.g=pe}else Of(P);0<b.i.length&&Xs(b)}else rt[0]!="stop"&&rt[0]!="close"||qi(b,7);else b.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?qi(b,7):Ou(b):rt[0]!="noop"&&b.l&&b.l.ta(rt),b.v=0)}}xa(4)}catch{}}var Af=class{constructor(g,E){this.g=g,this.map=E}};function Fi(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Bs(g){return g.h?1:g.g?g.g.size:0}function Eu(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Vs(g,E){g.g?g.g.add(E):g.h=E}function Qn(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Fi.prototype.cancel=function(){if(this.i=Au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Au(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const b of g.g.values())E=E.concat(b.D);return E}return A(g.i)}function j0(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var E=[],b=g.length,P=0;P<b;P++)E.push(g[P]);return E}E=[],b=0;for(P in g)E[b++]=g[P];return E}function Fs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var E=[];g=g.length;for(var b=0;b<g;b++)E.push(b);return E}E=[],b=0;for(const P in g)E[b++]=P;return E}}}function Tu(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var b=Fs(g),P=j0(g),$=P.length,re=0;re<$;re++)E.call(void 0,P[re],b&&b[re],g)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H0(g,E){if(g){g=g.split("&");for(var b=0;b<g.length;b++){var P=g[b].indexOf("="),$=null;if(0<=P){var re=g[b].substring(0,P);$=g[b].substring(P+1)}else re=g[b];E(re,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function $t(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof $t){this.h=g.h,Vo(this,g.j),this.o=g.o,this.g=g.g,Ta(this,g.s),this.l=g.l;var E=g.i,b=new zi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),Ui(this,b),this.m=g.m}else g&&(E=String(g).match(Bo))?(this.h=!1,Vo(this,E[1]||"",!0),this.o=br(E[2]||""),this.g=br(E[3]||"",!0),Ta(this,E[4]),this.l=br(E[5]||"",!0),Ui(this,E[6]||"",!0),this.m=br(E[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}$t.prototype.toString=function(){var g=[],E=this.j;E&&g.push(Uo(E,bu,!0),":");var b=this.g;return(b||E=="file")&&(g.push("//"),(E=this.o)&&g.push(Uo(E,bu,!0),"@"),g.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&g.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&g.push("/"),g.push(Uo(b,b.charAt(0)=="/"?G0:Cu,!0))),(b=this.i.toString())&&g.push("?",b),(b=this.m)&&g.push("#",Uo(b,Us)),g.join("")};function hr(g){return new $t(g)}function Vo(g,E,b){g.j=b?br(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function Ta(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function Ui(g,E,b){E instanceof zi?(g.i=E,bf(g.i,g.h)):(b||(E=Uo(E,q0)),g.i=new zi(E,g.h))}function At(g,E,b){g.i.set(E,b)}function Fo(g){return At(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function br(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Uo(g,E,b){return typeof g=="string"?(g=encodeURI(g).replace(E,Tf),b&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Tf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var bu=/[#\/\?@]/g,Cu=/[#\?:]/g,G0=/[#\?]/g,q0=/[#\?@]/g,Us=/#/g;function zi(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function Cr(g){g.g||(g.g=new Map,g.h=0,g.i&&H0(g.i,function(E,b){g.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}n=zi.prototype,n.add=function(g,E){Cr(this),this.i=null,g=ui(this,g);var b=this.g.get(g);return b||this.g.set(g,b=[]),b.push(E),this.h+=1,this};function ji(g,E){Cr(g),E=ui(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function Hi(g,E){return Cr(g),E=ui(g,E),g.g.has(E)}n.forEach=function(g,E){Cr(this),this.g.forEach(function(b,P){b.forEach(function($){g.call(E,$,P,this)},this)},this)},n.na=function(){Cr(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let P=0;P<E.length;P++){const $=g[P];for(let re=0;re<$.length;re++)b.push(E[P])}return b},n.V=function(g){Cr(this);let E=[];if(typeof g=="string")Hi(this,g)&&(E=E.concat(this.g.get(ui(this,g))));else{g=Array.from(this.g.values());for(let b=0;b<g.length;b++)E=E.concat(g[b])}return E},n.set=function(g,E){return Cr(this),this.i=null,g=ui(this,g),Hi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},n.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function Su(g,E,b){ji(g,E),0<b.length&&(g.i=null,g.g.set(ui(g,E),A(b)),g.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var P=E[b];const re=encodeURIComponent(String(P)),pe=this.V(P);for(P=0;P<pe.length;P++){var $=re;pe[P]!==""&&($+="="+encodeURIComponent(String(pe[P]))),g.push($)}}return this.i=g.join("&")};function ui(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function bf(g,E){E&&!g.j&&(Cr(g),g.i=null,g.g.forEach(function(b,P){var $=P.toLowerCase();P!=$&&(ji(this,P),Su(this,$,b))},g)),g.j=E}function zo(g,E){const b=new Tr;if(u.Image){const P=new Image;P.onload=_(Sr,b,"TestLoadImage: loaded",!0,E,P),P.onerror=_(Sr,b,"TestLoadImage: error",!1,E,P),P.onabort=_(Sr,b,"TestLoadImage: abort",!1,E,P),P.ontimeout=_(Sr,b,"TestLoadImage: timeout",!1,E,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else E(!1)}function jr(g,E){const b=new Tr,P=new AbortController,$=setTimeout(()=>{P.abort(),Sr(b,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:P.signal}).then(re=>{clearTimeout($),re.ok?Sr(b,"TestPingServer: ok",!0,E):Sr(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),Sr(b,"TestPingServer: error",!1,E)})}function Sr(g,E,b,P,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),P(b)}catch{}}function jo(){this.g=new Mo}function ci(g,E,b){const P=b||"";try{Tu(g,function($,re){let pe=$;h($)&&(pe=Ur($)),E.push(P+re+"="+encodeURIComponent(pe))})}catch($){throw E.push(P+"type="+encodeURIComponent("_badmap")),$}}function ba(g){this.l=g.Ub||null,this.j=g.eb||!1}w(ba,gu),ba.prototype.g=function(){return new Gi(this.l,this.j)},ba.prototype.i=function(g){return function(){return g}}({});function Gi(g,E){zt.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Gi,zt),n=Gi.prototype,n.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,hi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?fi(this):hi(this),this.readyState==3&&Iu(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,fi(this))},n.Qa=function(g){this.g&&(this.response=g,fi(this))},n.ga=function(){this.g&&fi(this)};function fi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,hi(g)}n.setRequestHeader=function(g,E){this.u.append(g,E)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,g.push(b[0]+": "+b[1]),b=E.next();return g.join(`\r
`)};function hi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ru(g){let E="";return K(g,function(b,P){E+=P,E+=":",E+=b,E+=`\r
`}),E}function yn(g,E,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=Ru(b),typeof g=="string"?b!=null&&encodeURIComponent(String(b)):At(g,E,b))}function gt(g){zt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,zt);var zs=/^https?$/i,Ho=["POST","PUT"];n=gt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,E,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?vu(this.o):vu(oi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(re){Cf(this,re);return}if(g=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var $ in P)b.set($,P[$]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const re of P.keys())b.set(re,P.get(re));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(re=>re.toLowerCase()=="content-type"),$=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ho,E,void 0))||P||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of b)this.g.setRequestHeader(re,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Go(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Cf(this,re)}};function Cf(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,js(g),di(g)}function js(g){g.A||(g.A=!0,yt(g,"complete"),yt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,yt(this,"complete"),yt(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hs(this):this.bb())},n.bb=function(){Hs(this)};function Hs(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Ir(g)!=4||g.Z()!=2)){if(g.u&&Ir(g)==4)Fn(g.Ea,0,g);else if(yt(g,"readystatechange"),Ir(g)==4){g.h=!1;try{const pe=g.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var b;if(!(b=E)){var P;if(P=pe===0){var $=String(g.D).match(Bo)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),P=!zs.test($?$.toLowerCase():"")}b=P}if(b)yt(g,"complete"),yt(g,"success");else{g.m=6;try{var re=2<Ir(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",js(g)}}finally{di(g)}}}}function di(g,E){if(g.g){Go(g);const b=g.g,P=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||yt(g,"ready");try{b.onreadystatechange=P}catch{}}}function Go(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Ir(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),Ms(E)}};function Sf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function X0(g){const E={};g=(g.g&&2<=Ir(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(S(g[P]))continue;var b=H(g[P]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const re=E[$]||[];E[$]=re,re.push(b)}D(E,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(g,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[g]||E}function Gs(g){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,g),this.cb=qo("retryDelaySeedMs",1e4,g),this.Wa=qo("forwardChannelMaxRetries",2,g),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(g&&g.concurrentRequestLimit),this.Da=new jo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gs.prototype,n.la=8,n.G=1,n.connect=function(g,E,b,P){Pt(0),this.W=g,this.H=E||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=Pf(this,null,this.W),Xs(this)};function Ou(g){if(If(g),g.G==3){var E=g.U++,b=hr(g.I);if(At(b,"SID",g.K),At(b,"RID",E),At(b,"TYPE","terminate"),Xo(g,b),E=new $n(g,g.j,E),E.L=2,E.v=Fo(hr(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&u.Image&&(new Image().src=E.v,b=!0),b||(E.g=Lf(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Lo(E)}Mf(g)}function qs(g){g.g&&(Ko(g),g.g.cancel(),g.g=null)}function If(g){qs(g),g.u&&(u.clearTimeout(g.u),g.u=null),Ks(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Xs(g){if(!ks(g.h)&&!g.s){g.s=!0;var E=g.Ga;oe||q(),ee||(oe(),ee=!0),be.add(E,g),g.B=0}}function K0(g,E){return Bs(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Yt(y(g.Ga,g,E),Mu(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const $=new $n(this,this.j,g);let re=this.o;if(this.S&&(re?(re=R(re),U(re,this.S)):re=this.S),this.m!==null||this.O||($.H=re,re=null),this.P)e:{for(var E=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=b;break e}if(E===4096||b===this.i.length-1){E=b+1;break e}}E=1e3}else E=1e3;E=Rf(this,$,E),b=hr(this.I),At(b,"RID",g),At(b,"CVER",22),this.D&&At(b,"X-HTTP-Session-Id",this.D),Xo(this,b),re&&(this.O?E="headers="+encodeURIComponent(String(Ru(re)))+"&"+E:this.m&&yn(b,this.m,re)),Vs(this.h,$),this.Ua&&At(b,"TYPE","init"),this.P?(At(b,"$req",E),At(b,"SID","null"),$.T=!0,zr($,b,null)):zr($,b,E),this.G=2}}else this.G==3&&(g?Du(this,g):this.i.length==0||ks(this.h)||Du(this))};function Du(g,E){var b;E?b=E.l:b=g.U++;const P=hr(g.I);At(P,"SID",g.K),At(P,"RID",b),At(P,"AID",g.T),Xo(g,P),g.m&&g.o&&yn(P,g.m,g.o),b=new $n(g,g.j,b,g.B+1),g.m===null&&(b.H=g.o),E&&(g.i=E.D.concat(g.i)),E=Rf(g,b,1e3),b.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Vs(g.h,b),zr(b,P,E)}function Xo(g,E){g.H&&K(g.H,function(b,P){At(E,P,b)}),g.l&&Tu({},function(b,P){At(E,P,b)})}function Rf(g,E,b){b=Math.min(g.i.length,b);var P=g.l?y(g.l.Na,g.l,g):null;e:{var $=g.i;let re=-1;for(;;){const pe=["count="+b];re==-1?0<b?(re=$[0].g,pe.push("ofs="+re)):re=0:pe.push("ofs="+re);let nt=!0;for(let nn=0;nn<b;nn++){let rt=$[nn].g;const _n=$[nn].map;if(rt-=re,0>rt)re=Math.max(0,$[nn].g-100),nt=!1;else try{ci(_n,pe,"req"+rt+"_")}catch{P&&P(_n)}}if(nt){P=pe.join("&");break e}}}return g=g.i.splice(0,b),E.D=g,P}function Of(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;oe||q(),ee||(oe(),ee=!0),be.add(E,g),g.v=0}}function Nu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Yt(y(g.Fa,g),Mu(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Df(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Yt(y(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),qs(this),Df(this))};function Ko(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Df(g){g.g=new $n(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=hr(g.qa);At(E,"RID","rpc"),At(E,"SID",g.K),At(E,"AID",g.T),At(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&At(E,"TO",g.ja),At(E,"TYPE","xmlhttp"),Xo(g,E),g.m&&g.o&&yn(E,g.m,g.o),g.L&&(g.g.I=g.L);var b=g.g;g=g.ia,b.L=1,b.v=Fo(hr(E)),b.m=null,b.P=!0,Vi(b,g)}n.Za=function(){this.C!=null&&(this.C=null,qs(this),Nu(this),Pt(19))};function Ks(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Nf(g,E){var b=null;if(g.g==E){Ks(g),Ko(g),g.g=null;var P=2}else if(Eu(g.h,E))b=E.D,Qn(g.h,E),P=1;else return;if(g.G!=0){if(E.o)if(P==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var $=g.B;P=_a(),yt(P,new tn(P,b)),Xs(g)}else Of(g);else if($=E.s,$==3||$==0&&0<E.X||!(P==1&&K0(g,E)||P==2&&Nu(g)))switch(b&&0<b.length&&(E=g.h,E.i=E.i.concat(b)),$){case 1:qi(g,5);break;case 4:qi(g,10);break;case 3:qi(g,6);break;default:qi(g,2)}}}function Mu(g,E){let b=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(b*=2),b*E}function qi(g,E){if(g.j.info("Error code "+E),E==2){var b=y(g.fb,g),P=g.Xa;const $=!P;P=new $t(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Vo(P,"https"),Fo(P),$?zo(P.toString(),b):jr(P.toString(),b)}else Pt(2);g.G=0,g.l&&g.l.sa(E),Mf(g),If(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Mf(g){if(g.G=0,g.ka=[],g.l){const E=Au(g.h);(E.length!=0||g.i.length!=0)&&(T(g.ka,E),T(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function Pf(g,E,b){var P=b instanceof $t?hr(b):new $t(b);if(P.g!="")E&&(P.g=E+"."+P.g),Ta(P,P.s);else{var $=u.location;P=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;var re=new $t(null);P&&Vo(re,P),E&&(re.g=E),$&&Ta(re,$),b&&(re.l=b),P=re}return b=g.D,E=g.ya,b&&E&&At(P,b,E),At(P,"VER",g.la),Xo(g,P),P}function Lf(g,E,b){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new gt(new ba({eb:b})):new gt(g.pa),E.Ha(g.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kf(){}n=kf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ws(){}Ws.prototype.g=function(g,E){return new Zn(g,E)};function Zn(g,E){zt.call(this),this.g=new Gs(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!S(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!S(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new pi(this)}w(Zn,zt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Ou(this.g)},Zn.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var b={};b.__data__=g,g=b}else this.u&&(b={},b.__data__=Ur(g),g=b);E.i.push(new Af(E.Ya++,g)),E.G==3&&Xs(E)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Ou(this.g),delete this.g,Zn.aa.N.call(this)};function Bf(g){ki.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const b in E){g=b;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}w(Bf,ki);function Vf(){yu.call(this),this.status=1}w(Vf,yu);function pi(g){this.g=g}w(pi,kf),pi.prototype.ua=function(){yt(this.g,"a")},pi.prototype.ta=function(g){yt(this.g,new Bf(g))},pi.prototype.sa=function(g){yt(this.g,new Vf)},pi.prototype.ra=function(){yt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,wC=function(){return new Ws},xC=function(){return _a()},_C=ai,Sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,cd=Ea,Bi.COMPLETE="complete",yC=Bi,mu.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Cc=mu,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,mC=gt}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const Hw="@firebase/firestore",Gw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Tm("@firebase/firestore");function Il(){return ws.logLevel}function ye(n,...e){if(ws.logLevel<=et.DEBUG){const t=e.map(Pm);ws.debug(`Firestore (${au}): ${n}`,...t)}}function pa(n,...e){if(ws.logLevel<=et.ERROR){const t=e.map(Pm);ws.error(`Firestore (${au}): ${n}`,...t)}}function Gl(n,...e){if(ws.logLevel<=et.WARN){const t=e.map(Pm);ws.warn(`Firestore (${au}): ${n}`,...t)}}function Pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,EC(n,r,t)}function EC(n,e,t){let r=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pa(r),new Error(r)}function mt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||EC(e,i,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends ya{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gn.UNAUTHENTICATED))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vs)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new AC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class ZN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=t5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Iv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const a=TC(),s=n5(a.encode(Xw(n,t)),a.encode(Xw(e,t)));return s!==0?s:Ye(r,i)}}t+=r>65535?2:1}return Ye(n.length,e.length)}function Xw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function n5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ye(n[t],e[t]);return Ye(n.length,e.length)}function ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=-62135596800,Ww=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ww);return new en(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kw)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ww}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new en(0,0))}static max(){return new Fe(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__name__";class wi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=wi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=wi.isNumericId(e),i=wi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?wi.extractNumericId(e).compare(wi.extractNumericId(t)):Iv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class kt extends wi{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends wi{construct(e,t,r){return new kn(e,t,r)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yw}static keyField(){return new kn([Yw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(t)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(kt.fromString(e))}static fromName(e){return new Ne(kt.fromString(e).popFirst(5))}static empty(){return new Ne(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function i5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new en(t+1,0):new en(t,r));return new mo(i,Ne.empty(),e)}function a5(n){return new mo(n.readTime,n.key,Hc)}class mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new mo(Fe.min(),Ne.empty(),Hc)}static max(){return new mo(Fe.max(),Ne.empty(),Hc)}}function o5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==s5)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new fe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function u5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}i0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function a0(n){return n==null}function Nd(n){return n===0&&1/n==-1/0}function c5(n){return typeof n=="number"&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="";function f5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$w(e)),e=h5(n.get(t),e);return $w(e)}function h5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case CC:t+="";break;default:t+=a}}return t}function $w(n){return n+CC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ln.RED,this.left=i??Ln.EMPTY,this.right=a??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ln(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new wr([])}unionWith(e){let t=new gn(kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new IC("Invalid base64 string: "+a):a}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=d5.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(n.seconds),nanos:Wt(n.nanos)}}function Wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _o(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="server_timestamp",OC="__type__",DC="__previous_value__",NC="__local_write_time__";function km(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OC])===null||t===void 0?void 0:t.stringValue)===RC}function o0(n){const e=n.mapValue.fields[DC];return km(e)?o0(e):e}function Gc(n){const e=yo(n.mapValue.fields[NC].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Md="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||Md}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__type__",g5="__max__",qh={mapValue:{}},PC="__vector__",Pd="value";function xo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?km(n)?4:m5(n)?9007199254740991:v5(n)?10:11:ke(28295,{value:n})}function Oi(n,e){if(n===e)return!0;const t=xo(n);if(t!==xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gc(n).isEqual(Gc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=yo(i.timestampValue),u=yo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return _o(i.bytesValue).isEqual(_o(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Wt(i.geoPointValue.latitude)===Wt(a.geoPointValue.latitude)&&Wt(i.geoPointValue.longitude)===Wt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Wt(i.integerValue)===Wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Wt(i.doubleValue),u=Wt(a.doubleValue);return s===u?Nd(s)===Nd(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Qw(s)!==Qw(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Oi(s[c],u[c])))return!1;return!0}(n,e);default:return ke(52216,{left:n})}}function Xc(n,e){return(n.values||[]).find(t=>Oi(t,e))!==void 0}function Xl(n,e){if(n===e)return 0;const t=xo(n),r=xo(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=Wt(a.integerValue||a.doubleValue),c=Wt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return Jw(n.timestampValue,e.timestampValue);case 4:return Jw(Gc(n),Gc(e));case 5:return Iv(n.stringValue,e.stringValue);case 6:return function(a,s){const u=_o(a),c=_o(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=Ye(u[h],c[h]);if(p!==0)return p}return Ye(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=Ye(Wt(a.latitude),Wt(s.latitude));return u!==0?u:Ye(Wt(a.longitude),Wt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eE(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const v=a.fields||{},y=s.fields||{},_=(u=v[Pd])===null||u===void 0?void 0:u.arrayValue,w=(c=y[Pd])===null||c===void 0?void 0:c.arrayValue,A=Ye(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:eE(_,w)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===qh.mapValue&&s===qh.mapValue)return 0;if(a===qh.mapValue)return 1;if(s===qh.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let v=0;v<c.length&&v<p.length;++v){const y=Iv(c[v],p[v]);if(y!==0)return y;const _=Xl(u[c[v]],h[p[v]]);if(_!==0)return _}return Ye(c.length,p.length)}(n.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function Jw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=yo(n),r=yo(e),i=Ye(t.seconds,r.seconds);return i!==0?i:Ye(t.nanos,r.nanos)}function eE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Xl(t[i],r[i]);if(a)return a}return Ye(t.length,r.length)}function Kl(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=yo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Rv(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Rv(t.fields[s])}`;return i+"}"}(n.mapValue):ke(61005,{value:n})}function fd(n){switch(xo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o0(n);return e?16+fd(e):16;case 5:return 2*n.stringValue.length;case 6:return _o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+fd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return bo(r.fields,(a,s)=>{i+=a.length+fd(s)}),i}(n.mapValue);default:throw ke(13486,{value:n})}}function Ov(n){return!!n&&"integerValue"in n}function Bm(n){return!!n&&"arrayValue"in n}function tE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function v5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[MC])===null||t===void 0?void 0:t.stringValue)===PC}function Bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Bc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function m5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=Bc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new lr(Bc(this.value))}}function LC(n){const e=[];return bo(n.fields,(t,r)=>{const i=new kn([t]);if(hd(r)){const a=LC(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new qn(e,0,Fe.min(),Fe.min(),Fe.min(),lr.empty(),0)}static newFoundDocument(e,t,r,i){return new qn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new qn(e,2,t,Fe.min(),Fe.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,Fe.min(),Fe.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.position=e,this.inclusive=t}}function rE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(s.referenceValue),t.key):r=Xl(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function y5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class hn extends kC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new x5(e,t,r):t==="array-contains"?new A5(e,r):t==="in"?new T5(e,r):t==="not-in"?new b5(e,r):t==="array-contains-any"?new C5(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new w5(e,r):new E5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xl(t,this.value)):t!==null&&xo(this.value)===xo(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends kC{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Di(e,t)}matches(e){return BC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BC(n){return n.op==="and"}function VC(n){return _5(n)&&BC(n)}function _5(n){for(const e of n.filters)if(e instanceof Di)return!1;return!0}function Dv(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(VC(n))return n.filters.map(e=>Dv(e)).join(",");{const e=n.filters.map(t=>Dv(t)).join(",");return`${n.op}(${e})`}}function FC(n,e){return n instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)}(n,e):n instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&FC(s,i.filters[u]),!0):!1}(n,e):void ke(19439)}function UC(n){return n instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`}(n):n instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(UC).join(" ,")+"}"}(n):"Filter"}class x5 extends hn{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class w5 extends hn{constructor(e,t){super(e,"in",t),this.keys=zC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class E5 extends hn{constructor(e,t){super(e,"not-in",t),this.keys=zC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class A5 extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&Xc(t.arrayValue,this.value)}}class T5 extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xc(this.value.arrayValue,t)}}class b5 extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xc(this.value.arrayValue,t)}}class C5 extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function aE(n,e=null,t=[],r=[],i=null,a=null,s=null){return new S5(n,e,t,r,i,a,s)}function Vm(n){const e=Ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),a0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kl(r)).join(",")),e.Ie=t}return e.Ie}function Fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iE(n.startAt,e.startAt)&&iE(n.endAt,e.endAt)}function Nv(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function I5(n,e,t,r,i,a,s,u){return new s0(n,e,t,r,i,a,s,u)}function Um(n){return new s0(n)}function oE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R5(n){return n.collectionGroup!==null}function Vc(n){const e=Ue(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new gn(kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new kd(a,r))}),t.has(kn.keyField().canonicalString())||e.Ee.push(new kd(kn.keyField(),r))}return e.Ee}function Si(n){const e=Ue(n);return e.de||(e.de=O5(e,Vc(n))),e.de}function O5(n,e){if(n.limitType==="F")return aE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kd(i.field,a)});const t=n.endAt?new Ld(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ld(n.startAt.position,n.startAt.inclusive):null;return aE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mv(n,e,t){return new s0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function l0(n,e){return Fm(Si(n),Si(e))&&n.limitType===e.limitType}function jC(n){return`${Vm(Si(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UC(i)).join(", ")}]`),a0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(Si(n))}; limitType=${n.limitType})`}function u0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Vc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=rE(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Vc(r),i)||r.endAt&&!function(s,u,c){const h=rE(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Vc(r),i))}(n,e)}function D5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HC(n){return(e,t)=>{let r=!1;for(const i of Vc(n)){const a=N5(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function N5(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?Xl(c,h):ke(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new Ut(Ne.comparator);function ga(){return M5}const GC=new Ut(Ne.comparator);function Sc(...n){let e=GC;for(const t of n)e=e.insert(t.key,t);return e}function qC(n){let e=GC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ps(){return Fc()}function XC(){return Fc()}function Fc(){return new Rs(n=>n.toString(),(n,e)=>n.isEqual(e))}const P5=new Ut(Ne.comparator),L5=new gn(Ne.comparator);function tt(...n){let e=L5;for(const t of n)e=e.add(t);return e}const k5=new gn(Ye);function B5(){return k5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function KC(n){return{integerValue:""+n}}function V5(n,e){return c5(e)?KC(e):zm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this._=void 0}}function F5(n,e,t){return n instanceof Bd?function(i,a){const s={fields:{[OC]:{stringValue:RC},[NC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&km(a)&&(a=o0(a)),a&&(s.fields[DC]=a),{mapValue:s}}(t,e):n instanceof Kc?YC(n,e):n instanceof Wc?$C(n,e):function(i,a){const s=WC(i,a),u=sE(s)+sE(i.Re);return Ov(s)&&Ov(i.Re)?KC(u):zm(i.serializer,u)}(n,e)}function U5(n,e,t){return n instanceof Kc?YC(n,e):n instanceof Wc?$C(n,e):t}function WC(n,e){return n instanceof Vd?function(r){return Ov(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Bd extends c0{}class Kc extends c0{constructor(e){super(),this.elements=e}}function YC(n,e){const t=QC(e);for(const r of n.elements)t.some(i=>Oi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Wc extends c0{constructor(e){super(),this.elements=e}}function $C(n,e){let t=QC(e);for(const r of n.elements)t=t.filter(i=>!Oi(i,r));return{arrayValue:{values:t}}}class Vd extends c0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function sE(n){return Wt(n.integerValue||n.doubleValue)}function QC(n){return Bm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Kc&&i instanceof Kc||r instanceof Wc&&i instanceof Wc?ql(r.elements,i.elements,Oi):r instanceof Vd&&i instanceof Vd?Oi(r.Re,i.Re):r instanceof Bd&&i instanceof Bd}(n.transform,e.transform)}class j5{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class f0{}function ZC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jm(n.key,Jr.none()):new lf(n.key,n.data,Jr.none());{const t=n.data,r=lr.empty();let i=new gn(kn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Co(n.key,r,new wr(i.toArray()),Jr.none())}}function H5(n,e,t){n instanceof lf?function(i,a,s){const u=i.value.clone(),c=uE(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Co?function(i,a,s){if(!dd(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=uE(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(JC(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Uc(n,e,t,r){return n instanceof lf?function(a,s,u,c){if(!dd(a.precondition,s))return u;const h=a.value.clone(),p=cE(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Co?function(a,s,u,c){if(!dd(a.precondition,s))return u;const h=cE(a.fieldTransforms,c,s),p=s.data;return p.setAll(JC(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,s,u){return dd(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function G5(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=WC(r.transform,i||null);a!=null&&(t===null&&(t=lr.empty()),t.set(r.field,a))}return t||null}function lE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,s)=>z5(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lf extends f0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends f0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function JC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uE(n,e,t){const r=new Map;mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,U5(s,u,t[i]))}return r}function cE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,F5(a,s,e))}return r}class jm extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q5 extends f0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&H5(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Uc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XC();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=ZC(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,r)=>lE(t,r))&&ql(this.baseMutations,e.baseMutations,(t,r)=>lE(t,r))}}class Hm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return P5}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new Hm(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K5=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,at;function Y5(n){switch(n){case he.OK:return ke(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function eS(n){if(n===void 0)return pa("GRPC error has no .code"),he.UNKNOWN;switch(n){case Jt.OK:return he.OK;case Jt.CANCELLED:return he.CANCELLED;case Jt.UNKNOWN:return he.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return he.INTERNAL;case Jt.UNAVAILABLE:return he.UNAVAILABLE;case Jt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Jt.NOT_FOUND:return he.NOT_FOUND;case Jt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Jt.ABORTED:return he.ABORTED;case Jt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Jt.DATA_LOSS:return he.DATA_LOSS;default:return ke(39323,{code:n})}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=new uo([4294967295,4294967295],0);function fE(n){const e=TC().encode(n),t=new vC;return t.update(e),new Uint8Array(t.digest())}function hE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new uo([t,r],0),new uo([i,a],0)]}class Gm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ic(`Invalid padding: ${t}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=uo.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(uo.fromNumber(r)));return i.compare($5)===1&&(i=new uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=fE(e),[r,i]=hE(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Gm(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=fE(e),[r,i]=hE(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,uf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new h0(Fe.min(),i,new Ut(Ye),ga(),tt())}}class uf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uf(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class tS{constructor(e,t){this.targetId=e,this.Ce=t}}class nS{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dE{constructor(){this.Fe=0,this.Me=pE(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}}),new uf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=pE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Q5{constructor(e){this.ze=e,this.je=new Map,this.He=ga(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new Ut(Ye)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Nv(a))if(r===0){const s=new Ne(a.path);this.tt(t,s,qn.newNoDocument(s,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=_o(r).toUint8Array()}catch(c){if(c instanceof IC)return Gl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Gm(s,i,a)}catch(c){return Gl(c instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&Nv(u.target)){const c=new Ne(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,qn.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new h0(e,t,this.Ze,this.He,r);return this.He=ga(),this.Je=Xh(),this.Ye=Xh(),this.Ze=new Ut(Ye),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new gn(Ye),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new gn(Ye),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Xh(){return new Ut(Ne.comparator)}function pE(){return new Ut(Ne.comparator)}const Z5={asc:"ASCENDING",desc:"DESCENDING"},J5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e9={and:"AND",or:"OR"};class t9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pv(n,e){return n.useProto3Json||a0(e)?e:{value:e}}function Fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n9(n,e){return Fd(n,e.toTimestamp())}function Ii(n){return mt(!!n,49232),Fe.fromTimestamp(function(t){const r=yo(t);return new en(r.seconds,r.nanos)}(n))}function qm(n,e){return Lv(n,e).canonicalString()}function Lv(n,e){const t=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function iS(n){const e=kt.fromString(n);return mt(uS(e),10190,{key:e.toString()}),e}function kv(n,e){return qm(n.databaseId,e.path)}function ig(n,e){const t=iS(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(oS(t))}function aS(n,e){return qm(n.databaseId,e)}function r9(n){const e=iS(n);return e.length===4?kt.emptyPath():oS(e)}function Bv(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oS(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gE(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function i9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(mt(p===void 0||typeof p=="string",58123),Vn.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?he.UNKNOWN:eS(h.code);return new Re(p,h.message||"")}(s);t=new nS(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ig(n,r.document.name),a=Ii(r.document.updateTime),s=r.document.createTime?Ii(r.document.createTime):Fe.min(),u=new lr({mapValue:{fields:r.document.fields}}),c=qn.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new pd(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ig(n,r.document),a=r.readTime?Ii(r.readTime):Fe.min(),s=qn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new pd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ig(n,r.document),a=r.removedTargetIds||[];t=new pd([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new W5(i,a),u=r.targetId;t=new tS(u,s)}}return t}function a9(n,e){let t;if(e instanceof lf)t={update:gE(n,e.key,e.value)};else if(e instanceof jm)t={delete:kv(n,e.key)};else if(e instanceof Co)t={update:gE(n,e.key,e.data),updateMask:p9(e.fieldMask)};else{if(!(e instanceof q5))return ke(16599,{ft:e.type});t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof Bd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Kc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vd)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw ke(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:n9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(n,e.precondition)),t}function o9(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Ii(i.updateTime):Ii(a);return s.isEqual(Fe.min())&&(s=Ii(a)),new j5(s,i.transformResults||[])}(t,e))):[]}function s9(n,e){return{documents:[aS(n,e.path)]}}function l9(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aS(n,i);const a=function(h){if(h.length!==0)return lS(Di.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Ol(y.field),direction:f9(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=Pv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function u9(n){let e=r9(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(v){const y=sS(v);return y instanceof Di&&VC(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(v){return v.map(y=>function(w){return new kd(Dl(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(v){let y;return y=typeof v=="object"?v.value:v,a0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(v){const y=!!v.before,_=v.values||[];return new Ld(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const y=!v.before,_=v.values||[];return new Ld(_,y)}(t.endAt)),I5(e,i,s,a,u,"F",c,h)}function c9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Dl(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dl(t.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Dl(t.unaryFilter.field);return hn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dl(t.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(n):n.fieldFilter!==void 0?function(t){return hn.create(Dl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(r=>sS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(t.compositeFilter.op))}(n):ke(30097,{filter:n})}function f9(n){return Z5[n]}function h9(n){return J5[n]}function d9(n){return e9[n]}function Ol(n){return{fieldPath:n.canonicalString()}}function Dl(n){return kn.fromServerFormat(n.fieldPath)}function lS(n){return n instanceof hn?function(t){if(t.op==="=="){if(nE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NAN"}};if(tE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NAN"}};if(tE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(t.field),op:h9(t.op),value:t.value}}}(n):n instanceof Di?function(t){const r=t.getFilters().map(i=>lS(i));return r.length===1?r[0]:{compositeFilter:{op:d9(t.op),filters:r}}}(n):ke(54877,{filter:n})}function p9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t,r,i,a=Fe.min(),s=Fe.min(),u=Vn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.wt=e}}function v9(n){const e=u9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.Cn=new y9}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(mo.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class y9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new gn(kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(cS,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wl(0)}static lr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",_9=1048576;function yE([n,e],[t,r]){const i=Ye(n,t);return i===0?Ye(e,r):i}class x9{constructor(e){this.Er=e,this.buffer=new gn(yE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(mE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?ye(mE,"Ignoring IndexedDB error during garbage collection: ",t):await ou(t)}await this.mr(3e5)})}}class E9{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(i0.le);const r=new x9(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(vE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,s=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Il()<=et.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${v} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function A9(n,e){return new E9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.changes=new Rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uc(r.mutation,i,wr.empty(),en.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=ps();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Sc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ps();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=ga();const s=Fc(),u=function(){return Fc()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Co)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Uc(p.mutation,h,p.mutation.getFieldMask(),en.now())):s.set(h.key,wr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var v;return u.set(h,new b9(p,(v=s.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Fc();let i=new Ut((s,u)=>s-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||wr.empty();p=u.applyToLocalView(h,p),r.set(c,p);const v=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,v)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,v=XC();p.forEach(y=>{if(!a.has(y)){const _=ZC(t.get(y),r.get(y));_!==null&&v.set(y,_),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,v))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):R5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):fe.resolve(ps());let u=Hc,c=a;return s.next(h=>fe.forEach(h,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,tt())).next(p=>({batchId:u,changes:qC(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Sc();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,c=>{const h=function(v,y){return new s0(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((v,y)=>{s=s.insert(v,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,qn.newInvalidDocument(p)))});let u=Sc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Uc(p.mutation,h,wr.empty(),en.now()),u0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:v9(i.bundledQuery),readTime:Ii(i.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.overlays=new Ut(Ne.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ps();return fe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=ps(),a=t.length+1,s=new Ne(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ut((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=ps(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ps(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return fe.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K5(t,r));let a=this.Qr.get(t);a===void 0&&(a=tt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.$r=new gn(bn.Ur),this.Kr=new gn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new bn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new bn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1);let a=tt();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new bn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ne.comparator(e.key,t.key)||Ye(e.Zr,t.Zr)}static Wr(e,t){return Ye(e.Zr,t.Zr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new gn(bn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new X5(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new bn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Lm:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(Ye);return t.forEach(i=>{const a=new bn(i,0),s=new bn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const s=new bn(new Ne(a),0);let u=new gn(Ye);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),fe.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(t.mutations,i=>{const a=new bn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new bn(t,0),i=this.Xr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.ii=e,this.docs=function(){return new Ut(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(t))}getEntries(e,t){let r=ga();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():qn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ga();const s=t.path,u=new Ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||o5(a5(p),r)<=0||(i.has(p.key)||u0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke(9500)}si(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new N9(this)}getSize(e){return fe.resolve(this.size)}}class N9 extends T9{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.persistence=e,this.oi=new Rs(t=>Vm(t),Fm),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Xm,this.targetCount=0,this.ui=Wl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.ci={},this.overlays={},this.li=new i0(0),this.hi=!1,this.hi=!0,this.Pi=new R9,this.referenceDelegate=e(this),this.Ti=new M9(this),this.indexManager=new m9,this.remoteDocumentCache=function(i){return new D9(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new g9(t),this.Ei=new S9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new I9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new O9(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const i=new P9(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class P9 extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Vi=new Xm,this.mi=null}static fi(e){return new Km(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const i=Ne.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Fe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ud{constructor(e,t){this.persistence=e,this.yi=new Rs(r=>f5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=A9(this,t)}static fi(e,t){return new Ud(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?fe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fd(e.data.value)),t}Dr(e,t,r){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=tt(),i=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Wm(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return O6()?8:u5(Kn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new L9;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Il()<=et.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Il()<=et.DEBUG&&ye("QueryEngine","Query:",Rl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Il()<=et.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):fe.resolve())}ws(e,t){if(oE(t))return fe.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Mv(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=tt(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,Mv(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return oE(t)||i.isEqual(Fe.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?fe.resolve(null):(Il()<=et.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(t)),this.Fs(e,s,t,i5(i,Hc)).next(u=>u))})}vs(e,t){let r=new gn(HC(e));return t.forEach((i,a)=>{u0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Il()<=et.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Rl(t)),this.ys.getDocumentsMatchingQuery(e,t,mo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",B9=3e8;class V9{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ut(Ye),this.Os=new Rs(a=>Vm(a),Fm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function F9(n,e,t,r){return new V9(n,e,t,r)}async function hS(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=tt();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function U9(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const v=h.batch,y=v.keys();let _=fe.resolve();return y.forEach(w=>{_=_.next(()=>p.getEntry(c,w)).next(A=>{const T=h.docVersions.get(w);mt(T!==null,48541),A.version.compareTo(T)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dS(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function z9(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,v)=>{const y=i.get(v);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,v)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(Vn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(v,_),function(A,T,I){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=B9?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,p)&&u.push(t.Ti.updateTargetData(a,_))});let c=ga(),h=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(j9(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(Fe.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(v=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return fe.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function j9(n,e,t){let r=tt(),i=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=ga();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):ye(Ym,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function H9(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G9(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,fe.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new io(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Vv(n,e,t){const r=Ue(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!su(s))throw s;ye(Ym,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function _E(n,e,t){const r=Ue(n);let i=Fe.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const v=Ue(c),y=v.Os.get(p);return y!==void 0?fe.resolve(v.xs.get(y)):v.Ti.getTargetData(h,p)}(r,s,Si(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Fe.min(),t?a:tt())).next(u=>(q9(r,D5(e),u),{documents:u,$s:a})))}function q9(n,e,t){let r=n.Ns.get(e)||Fe.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class xE{constructor(){this.activeTargetIds=B5()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X9{constructor(){this.xo=new xE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new xE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class EE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Fv(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="RestConnection",W9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y9{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Md?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=Fv(),u=this.jo(e,t.toUriEncodedString());ye(ag,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=ef(h);return this.Jo(e,u,c,r,p).then(v=>(ye(ag,`Received RPC '${e}' ${s}: `,v),v),v=>{throw Gl(ag,`RPC '${e}' ${s} failed with error: `,v,"url: ",u,"request:",r),v})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+au}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=W9[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class Q9 extends Y9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=Fv();return new Promise((u,c)=>{const h=new mC;h.setWithCredentials(!0),h.listenOnce(yC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cd.NO_ERROR:const v=h.getResponseJson();ye(jn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(v)),u(v);break;case cd.TIMEOUT:ye(jn,`RPC '${e}' ${s} timed out`),c(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const y=h.getStatus();if(ye(jn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const w=_==null?void 0:_.error;if(w&&w.status&&w.message){const A=function(I){const S=I.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(S)>=0?S:he.UNKNOWN}(w.status);c(new Re(A,w.message))}else c(new Re(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Re(he.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(jn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);ye(jn,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=Fv(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wC(),u=xC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");ye(jn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const v=s.createWebChannel(p,c);let y=!1,_=!1;const w=new $9({Zo:T=>{_?ye(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(ye(jn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),ye(jn,`RPC '${e}' stream ${i} sending:`,T),v.send(T))},Xo:()=>v.close()}),A=(T,I,S)=>{T.listen(I,O=>{try{S(O)}catch(k){setTimeout(()=>{throw k},0)}})};return A(v,Cc.EventType.OPEN,()=>{_||(ye(jn,`RPC '${e}' stream ${i} transport opened.`),w.__())}),A(v,Cc.EventType.CLOSE,()=>{_||(_=!0,ye(jn,`RPC '${e}' stream ${i} transport closed`),w.u_())}),A(v,Cc.EventType.ERROR,T=>{_||(_=!0,Gl(jn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),w.u_(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),A(v,Cc.EventType.MESSAGE,T=>{var I;if(!_){const S=T.data[0];mt(!!S,16349);const O=S,k=(O==null?void 0:O.error)||((I=O[0])===null||I===void 0?void 0:I.error);if(k){ye(jn,`RPC '${e}' stream ${i} received error:`,k);const z=k.status;let K=function(L){const U=Jt[L];if(U!==void 0)return eS(U)}(z),D=k.message;K===void 0&&(K=he.INTERNAL,D="Unknown error status: "+z+" with message "+k.message),_=!0,w.u_(new Re(K,D)),v.close()}else ye(jn,`RPC '${e}' stream ${i} received:`,S),w.c_(S)}}),A(u,_C.STAT_EVENT,T=>{T.stat===Sv.PROXY?ye(jn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Sv.NOPROXY&&ye(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){return new t9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class gS{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new pS(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(pa(t.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Re(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ye(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z9 extends gS{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=i9(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Ii(s.readTime):Fe.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Bv(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=Nv(c)?{documents:s9(a,c)}:{query:l9(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=rS(a,s.resumeToken);const h=Pv(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Fd(a,s.snapshotVersion.toTimestamp());const h=Pv(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=c9(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Bv(this.serializer),t.removeTarget=e,this.L_(t)}}class J9 extends gS{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=o9(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Bv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>a9(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{}class t7 extends e7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,Lv(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(he.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,Lv(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(he.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class n7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(pa(t),this.oa=!1):ye("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class r7{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{Os(this)&&(ye(Es,"Restarting streams for network reachability change."),await async function(c){const h=Ue(c);h.Ta.add(4),await cf(h),h.da.set("Unknown"),h.Ta.delete(4),await p0(h)}(this))})}),this.da=new n7(r,i)}}async function p0(n){if(Os(n))for(const e of n.Ia)await e(!0)}async function cf(n){for(const e of n.Ia)await e(!1)}function vS(n,e){const t=Ue(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Jm(t)?Zm(t):lu(t).M_()&&Qm(t,e))}function $m(n,e){const t=Ue(n),r=lu(t);t.Pa.delete(e),r.M_()&&mS(t,e),t.Pa.size===0&&(r.M_()?r.N_():Os(t)&&t.da.set("Unknown"))}function Qm(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lu(n).H_(e)}function mS(n,e){n.Aa.Ke(e),lu(n).J_(e)}function Zm(n){n.Aa=new Q5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),lu(n).start(),n.da._a()}function Jm(n){return Os(n)&&!lu(n).F_()&&n.Pa.size>0}function Os(n){return Ue(n).Ta.size===0}function yS(n){n.Aa=void 0}async function i7(n){n.da.set("Online")}async function a7(n){n.Pa.forEach((e,t)=>{Qm(n,e)})}async function o7(n,e){yS(n),Jm(n)?(n.da.ca(e),Zm(n)):n.da.set("Unknown")}async function s7(n,e,t){if(n.da.set("Online"),e instanceof nS&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){ye(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(n,r)}else if(e instanceof pd?n.Aa.Xe(e):e instanceof tS?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Fe.min()))try{const r=await dS(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(Vn.EMPTY_BYTE_STRING,p.snapshotVersion)),mS(a,c);const v=new io(p.target,c,h,p.sequenceNumber);Qm(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ye(Es,"Failed to raise snapshot:",r),await zd(n,r)}}async function zd(n,e,t){if(!su(e))throw e;n.Ta.add(1),await cf(n),n.da.set("Offline"),t||(t=()=>dS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Es,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await p0(n)})}function _S(n,e){return e().catch(t=>zd(n,t,e))}async function g0(n){const e=Ue(n),t=wo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Lm;for(;l7(e);)try{const i=await H9(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,u7(e,i)}catch(i){await zd(e,i)}xS(e)&&wS(e)}function l7(n){return Os(n)&&n.ha.length<10}function u7(n,e){n.ha.push(e);const t=wo(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function xS(n){return Os(n)&&!wo(n).F_()&&n.ha.length>0}function wS(n){wo(n).start()}async function c7(n){wo(n).ta()}async function f7(n){const e=wo(n);for(const t of n.ha)e.Z_(t.mutations)}async function h7(n,e,t){const r=n.ha.shift(),i=Hm.from(r,e,t);await _S(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await g0(n)}async function d7(n,e){e&&wo(n).Y_&&await async function(r,i){if(function(s){return Y5(s)&&s!==he.ABORTED}(i.code)){const a=r.ha.shift();wo(r).O_(),await _S(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await g0(r)}}(n,e),xS(n)&&wS(n)}async function TE(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ye(Es,"RemoteStore received new credentials");const r=Os(t);t.Ta.add(3),await cf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await p0(t)}async function p7(n,e){const t=Ue(n);e?(t.Ta.delete(2),await p0(t)):e||(t.Ta.add(2),await cf(t),t.da.set("Unknown"))}function lu(n){return n.Ra||(n.Ra=function(t,r,i){const a=Ue(t);return a.ra(),new Z9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:i7.bind(null,n),n_:a7.bind(null,n),i_:o7.bind(null,n),j_:s7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Jm(n)?Zm(n):n.da.set("Unknown")):(await n.Ra.stop(),yS(n))})),n.Ra}function wo(n){return n.Va||(n.Va=function(t,r,i){const a=Ue(t);return a.ra(),new J9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:c7.bind(null,n),i_:d7.bind(null,n),X_:f7.bind(null,n),ea:h7.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await g0(n)):(await n.Va.stop(),n.ha.length>0&&(ye(Es,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new ey(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(pa("AsyncQueue",`${e}: ${n}`),su(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=Sc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.ma=new Ut(Ne.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yl{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new Yl(e,t,Vl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class v7{constructor(){this.queries=CE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=CE(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new Re(he.ABORTED,"Firestore shutting down"))}}function CE(){return new Rs(n=>jC(n),l0)}async function m7(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new g7,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=ty(s,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&ny(t)}async function y7(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _7(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&ny(t)}function x7(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function ny(n){n.ba.forEach(e=>{e.next()})}var Uv,SE;(SE=Uv||(Uv={})).Ca="default",SE.Cache="cache";class w7{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.key=e}}class AS{constructor(e){this.key=e}}class E7{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=HC(e),this.Ja=new Vl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new bE,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const y=i.get(p),_=u0(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;y&&_?y.data.isEqual(_.data)?w!==A&&(r.track({type:3,doc:_}),T=!0):this.eu(y,_)||(r.track({type:2,doc:_}),T=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),T=!0):y&&!_&&(r.track({type:1,doc:y}),T=!0,(c||h)&&(u=!0)),T&&(_?(s=s.add(_),a=A?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,v)=>function(_,w){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:T})}};return A(_)-A(w)}(p.type,v.type)||this.Ha(p.doc,v.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new Yl(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new bE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new AS(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new ES(r))}),t}su(e){this.Ga=e.$s,this.ja=tt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Yl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const ry="SyncEngine";class A7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class T7{constructor(e){this.key=e,this._u=!1}}class b7{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Rs(u=>jC(u),l0),this.cu=new Map,this.lu=new Set,this.hu=new Ut(Ne.comparator),this.Pu=new Map,this.Tu=new Xm,this.Iu={},this.Eu=new Map,this.du=Wl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function C7(n,e,t=!0){const r=RS(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await TS(r,e,t,!0),i}async function S7(n,e){const t=RS(n);await TS(t,e,!0,!1)}async function TS(n,e,t,r){const i=await G9(n.localStore,Si(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await I7(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&vS(n.remoteStore,i),u}async function I7(n,e,t,r,i){n.Ru=(v,y,_)=>async function(A,T,I,S){let O=T.view.Za(I);O.Cs&&(O=await _E(A.localStore,T.query,!1).then(({documents:D})=>T.view.Za(D,O)));const k=S&&S.targetChanges.get(T.targetId),z=S&&S.targetMismatches.get(T.targetId)!=null,K=T.view.applyChanges(O,A.isPrimaryClient,k,z);return RE(A,T.targetId,K.ru),K.snapshot}(n,v,y,_);const a=await _E(n.localStore,e,!0),s=new E7(e,a.$s),u=s.Za(a.documents),c=uf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);RE(n,t,h.ru);const p=new A7(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function R7(n,e,t){const r=Ue(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!l0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$m(r.remoteStore,i.targetId),zv(r,i.targetId)}).catch(ou)):(zv(r,i.targetId),await Vv(r.localStore,i.targetId,!0))}async function O7(n,e){const t=Ue(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$m(t.remoteStore,r.targetId))}async function D7(n,e,t){const r=V7(n);try{const i=await function(s,u){const c=Ue(s),h=en.now(),p=u.reduce((_,w)=>_.add(w.key),tt());let v,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let w=ga(),A=tt();return c.Bs.getEntries(_,p).next(T=>{w=T,w.forEach((I,S)=>{S.isValidDocument()||(A=A.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,w)).next(T=>{v=T;const I=[];for(const S of u){const O=G5(S,v.get(S.key).overlayedDocument);O!=null&&I.push(new Co(S.key,O,LC(O.value.mapValue),Jr.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,I,u)}).next(T=>{y=T;const I=T.applyToLocalDocumentSet(v,A);return c.documentOverlayCache.saveOverlays(_,T.batchId,I)})}).then(()=>({batchId:y.batchId,changes:qC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new Ut(Ye)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await ff(r,i.changes),await g0(r.remoteStore)}catch(i){const a=ty(i,"Failed to persist write");t.reject(a)}}async function bS(n,e){const t=Ue(n);try{const r=await z9(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?mt(s._u,14607):i.removedDocuments.size>0&&(mt(s._u,42227),s._u=!1))}),await ff(t,r,e)}catch(r){await ou(r)}}function IE(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ue(s);c.onlineState=u;let h=!1;c.queries.forEach((p,v)=>{for(const y of v.ya)y.Da(u)&&(h=!0)}),h&&ny(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N7(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new Ut(Ne.comparator);s=s.insert(a,qn.newNoDocument(a,Fe.min()));const u=tt().add(a),c=new h0(Fe.min(),new Map,new Ut(Ye),s,u);await bS(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),iy(r)}else await Vv(r.localStore,e,!1).then(()=>zv(r,e,t)).catch(ou)}async function M7(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await U9(t.localStore,e);SS(t,r,null),CS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ff(t,i)}catch(i){await ou(i)}}async function P7(n,e,t){const r=Ue(n);try{const i=await function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(v=>(mt(v!==null,37113),p=v.keys(),c.mutationQueue.removeMutationBatch(h,v))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);SS(r,e,t),CS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ff(r,i)}catch(i){await ou(i)}}function CS(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function SS(n,e,t){const r=Ue(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||IS(n,r)})}function IS(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&($m(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),iy(n))}function RE(n,e,t){for(const r of t)r instanceof ES?(n.Tu.addReference(r.key,e),L7(n,r)):r instanceof AS?(ye(ry,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||IS(n,r.key)):ke(19791,{mu:r})}function L7(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ye(ry,"New document in limbo: "+t),n.lu.add(r),iy(n))}function iy(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Ne(kt.fromString(e)),r=n.du.next();n.Pu.set(r,new T7(t)),n.hu=n.hu.insert(t,r),vS(n.remoteStore,new io(Si(Um(t.path)),r,"TargetPurposeLimboResolution",i0.le))}}async function ff(n,e,t){const r=Ue(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,v?"current":"not-current")}if(h){i.push(h);const v=Wm.Rs(c.targetId,h);a.push(v)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=Ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>fe.forEach(h,y=>fe.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(v,y.targetId,_)).next(()=>fe.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(v,y.targetId,_)))))}catch(v){if(!su(v))throw v;ye(Ym,"Failed to update sequence numbers: "+v)}for(const v of h){const y=v.targetId;if(!v.fromCache){const _=p.xs.get(y),w=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(w);p.xs=p.xs.insert(y,A)}}}(r.localStore,a))}async function k7(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ye(ry,"User change. New user:",e.toKey());const r=await hS(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new Re(he.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ff(t,r.ks)}}function B7(n,e){const t=Ue(n),r=t.Pu.get(e);if(r&&r._u)return tt().add(r.key);{let i=tt();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function RS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N7.bind(null,e),e.au.j_=_7.bind(null,e.eventManager),e.au.Vu=x7.bind(null,e.eventManager),e}function V7(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P7.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=d0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return F9(this.persistence,new k9,e.initialUser,this.serializer)}yu(e){return new fS(Km.fi,this.serializer)}pu(e){return new X9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class F7 extends jd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){mt(this.persistence.referenceDelegate instanceof Ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w9(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new fS(r=>Ud.fi(r,t),this.serializer)}}class jv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k7.bind(null,this.syncEngine),await p7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v7}()}createDatastore(e){const t=d0(e.databaseInfo.databaseId),r=function(a){return new Q9(a)}(e.databaseInfo);return function(a,s,u,c){return new t7(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new r7(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>IE(this.syncEngine,t,0),function(){return EE.C()?new EE:new K9}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const v=new b7(i,a,s,u,c,h);return p&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);ye(Es,"RemoteStore shutting down."),a.Ta.add(5),await cf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class z7{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=bC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ye(Eo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ye(Eo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ty(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function OE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j7(n);ye(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>TE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>TE(e.remoteStore,i)),n._onlineComponents=e}async function j7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Eo,"Using user provided OfflineComponentProvider");try{await sg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await sg(n,new jd)}}else ye(Eo,"Using default OfflineComponentProvider"),await sg(n,new F7(void 0));return n._offlineComponents}async function OS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Eo,"Using user provided OnlineComponentProvider"),await OE(n,n._uninitializedComponentsProvider._online)):(ye(Eo,"Using default OnlineComponentProvider"),await OE(n,new jv))),n._onlineComponents}function H7(n){return OS(n).then(e=>e.syncEngine)}async function DE(n){const e=await OS(n),t=e.eventManager;return t.onListen=C7.bind(null,e.syncEngine),t.onUnlisten=R7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O7.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G7(n,e,t,r){if(e===!0&&r===!0)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ME(n){if(!Ne.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PE(n){if(Ne.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ay(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function co(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ay(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firestore.googleapis.com",LE=!0;class kE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=LE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_9)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=NE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),NE.delete(t),r.terminate())}(this),Promise.resolve()}}function q7(n,e,t,r={}){var i;n=co(n,v0);const a=ef(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(Ob(`https://${c}`),Db("Firestore",!0)),s.host!==MS&&s.host!==c&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!ys(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Gn.MOCK_USER;else{p=w6(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gn(y)}n._authCredentials=new $N(new AC(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new m0(this.firestore,e,this._query)}}class Er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class fo extends m0{constructor(e,t,r){super(e,t,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Ne(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function BE(n,e,...t){if(n=Wn(n),NS("collection","path",e),n instanceof v0){const r=kt.fromString(e,...t);return PE(r),new fo(n,null,r)}{if(!(n instanceof Er||n instanceof fo))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return PE(r),new fo(n.firestore,null,r)}}function Hv(n,e,...t){if(n=Wn(n),arguments.length===1&&(e=bC.newId()),NS("doc","path",e),n instanceof v0){const r=kt.fromString(e,...t);return ME(r),new Er(n,null,new Ne(r))}{if(!(n instanceof Er||n instanceof fo))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return ME(r),new Er(n.firestore,n instanceof fo?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new pS(this,"async_queue_retry"),this.ec=()=>{const r=og();r&&ye(VE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=og();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new vs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!su(e))throw e;ye(VE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,pa("INTERNAL UNHANDLED ERROR: ",UE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=ey.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&ke(47125,{_c:UE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function UE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class $l extends v0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new FE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function X7(n,e){const t=typeof n=="object"?n:Lb(),r=typeof n=="string"?n:Md,i=Cm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=_6("firestore");a&&q7(i,...a)}return i}function PS(n){if(n._terminated)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||K7(n),n._firestoreClient}function K7(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new p5(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,DS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new z7(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Vn.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=/^__.*__$/;class Y7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,t,this.fieldTransforms):new lf(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Co(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{hc:n})}}class uy{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Hd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(kS(this.hc)&&W7.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class $7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||d0(e)}gc(e,t,r,i=!1){return new uy({hc:e,methodName:t,fc:r,path:kn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BS(n){const e=n._freezeSettings(),t=d0(n._databaseId);return new $7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Q7(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);cy("Data must be an object, but it was:",s,r);const u=VS(r,s);let c,h;if(a.merge)c=new wr(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const v of a.mergeFields){const y=Gv(e,v,t);if(!s.contains(y))throw new Re(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);US(p,y)||p.push(y)}c=new wr(p),h=s.fieldTransforms.filter(v=>c.covers(v.field))}else c=null,h=s.fieldTransforms;return new Y7(new lr(u),c,h)}class _0 extends oy{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _0}}function Z7(n,e,t,r){const i=n.gc(1,e,t);cy("Data must be an object, but it was:",i,r);const a=[],s=lr.empty();bo(r,(c,h)=>{const p=fy(e,c,t);h=Wn(h);const v=i.Ac(p);if(h instanceof _0)a.push(p);else{const y=x0(h,v);y!=null&&(a.push(p),s.set(p,y))}});const u=new wr(a);return new LS(s,u,i.fieldTransforms)}function J7(n,e,t,r,i,a){const s=n.gc(1,e,t),u=[Gv(e,r,t)],c=[i];if(a.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Gv(e,a[y])),c.push(a[y+1]);const h=[],p=lr.empty();for(let y=u.length-1;y>=0;--y)if(!US(h,u[y])){const _=u[y];let w=c[y];w=Wn(w);const A=s.Ac(_);if(w instanceof _0)h.push(_);else{const T=x0(w,A);T!=null&&(h.push(_),p.set(_,T))}}const v=new wr(h);return new LS(p,v,s.fieldTransforms)}function x0(n,e){if(FS(n=Wn(n)))return cy("Unsupported field value:",e,n),VS(n,e);if(n instanceof oy)return function(r,i){if(!kS(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=x0(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=en.fromDate(r);return{timestampValue:Fd(i.serializer,a)}}if(r instanceof en){const a=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(i.serializer,a)}}if(r instanceof sy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:rS(i.serializer,r._byteString)};if(r instanceof Er){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ly)return function(s,u){return{mapValue:{fields:{[MC]:{stringValue:PC},[Pd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return zm(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${ay(r)}`)}(n,e)}function VS(n,e){const t={};return SC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(n,(r,i)=>{const a=x0(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function FS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof en||n instanceof sy||n instanceof Ql||n instanceof Er||n instanceof oy||n instanceof ly)}function cy(n,e,t){if(!FS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ay(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function Gv(n,e,t){if((e=Wn(e))instanceof y0)return e._internalPath;if(typeof e=="string")return fy(n,e);throw Hd("Field path arguments must be of type string or ",n,!1,void 0,t)}const eM=new RegExp("[~\\*/\\[\\]]");function fy(n,e,t){if(e.search(eM)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new y0(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hd(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Re(he.INVALID_ARGUMENT,u+n+c)}function US(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tM extends zS{data(){return super.data()}}function jS(n,e){return typeof e=="string"?fy(n,e):e instanceof y0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rM{convertValue(e,t="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Pd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Wt(s.doubleValue));return new ly(a)}convertGeoPoint(e){return new sy(Wt(e.latitude),Wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=o0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const t=yo(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);mt(uS(r),9688,{name:e});const i=new qc(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return i.isEqual(t)||pa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HS extends zS{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gd extends HS{data(e={}){return super.data(e)}}class aM{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gd(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new gd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new gd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),p=s.indexOf(u.doc.key)),{type:oM(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}class GS extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}function sM(n,e,t,...r){n=co(n,Er);const i=co(n.firestore,$l),a=BS(i);let s;return s=typeof(e=Wn(e))=="string"||e instanceof y0?J7(a,"updateDoc",n._key,e,t,r):Z7(a,"updateDoc",n._key,e),hy(i,[s.toMutation(n._key,Jr.exists(!0))])}function lM(n){return hy(co(n.firestore,$l),[new jm(n._key,Jr.none())])}function uM(n,e){const t=co(n.firestore,$l),r=Hv(n),i=iM(n.converter,e);return hy(t,[Q7(BS(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then(()=>r)}function cM(n,...e){var t,r,i;n=Wn(n);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||zE(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(zE(e[s])){const v=e[s];e[s]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[s+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[s+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let c,h,p;if(n instanceof Er)h=co(n.firestore,$l),p=Um(n._key.path),c={next:v=>{e[s]&&e[s](fM(h,n,v))},error:e[s+1],complete:e[s+2]};else{const v=co(n,m0);h=co(v.firestore,$l),p=v._query;const y=new GS(h);c={next:_=>{e[s]&&e[s](new aM(h,y,v,_))},error:e[s+1],complete:e[s+2]},nM(n._query)}return function(y,_,w,A){const T=new U7(A),I=new w7(_,T,w);return y.asyncQueue.enqueueAndForget(async()=>m7(await DE(y),I)),()=>{T.Cu(),y.asyncQueue.enqueueAndForget(async()=>y7(await DE(y),I))}}(PS(h),p,u,c)}function hy(n,e){return function(r,i){const a=new vs;return r.asyncQueue.enqueueAndForget(async()=>D7(await H7(r),i,a)),a.promise}(PS(n),e)}function fM(n,e,t){const r=t.docs.get(e._key),i=new GS(n);return new HS(n,i,e._key,r,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){au=i})(ru),Hl(new _s("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new $l(new QN(r.getProvider("auth-internal")),new e5(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),so(Hw,Gw,e),so(Hw,Gw,"esm2017")})();var hM="firebase",dM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so(hM,dM,"app");const pM={apiKey:"AIzaSyCwHxUq7fezJtFU3TyNbTLXgBuuNUVpHXs",authDomain:"pantrypal-870fb.firebaseapp.com",projectId:"pantrypal-870fb",storageBucket:"pantrypal-870fb.firebasestorage.app",messagingSenderId:"658487444064",appId:"1:658487444064:web:790169c5956992a2c33905"},qS=Pb(pM),jE=KN(qS),Wh=X7(qS),XS=M.createContext({userId:null,isAuthReady:!1,data:[],createData:()=>{},updateData:()=>{},deleteData:()=>{}}),gM=null,Yh="pantry-pal-app";function HE({children:n,objectType:e}){const[t,r]=M.useState(null),[i,a]=M.useState(!1),[s,u]=M.useState([]);M.useEffect(()=>{const y=async()=>{try{gM||await OD(jE)}catch(w){console.error("Error signing in:",w)}},_=kD(jE,w=>{r(w?w.uid:crypto.randomUUID()),a(!0)});return i||y(),()=>_()},[i]),M.useEffect(()=>{if(!t)return;const y=BE(Wh,`artifacts/${Yh}/users/${t}/${e}`),_=cM(y,w=>{const A=w.docs.map(T=>({id:T.id,...T.data()}));u(A),console.log(A)},w=>{console.error("Error fetching items:",w)});return()=>_()},[t,e]);async function c(y){if(!t)return;const _=BE(Wh,`artifacts/${Yh}/users/${t}/${e}`);await uM(_,{...y,createdAt:new Date})}async function h(y,_){if(!_||!t)return;const w=Hv(Wh,`artifacts/${Yh}/users/${t}/${e}`,_);await sM(w,{...y})}async function p(y){if(!y||!t)return;const _=Hv(Wh,`artifacts/${Yh}/users/${t}/${e}`,y);await lM(_)}const v={userId:t,isAuthReady:i,data:s,createData:c,updateData:h,deleteData:p};return B.jsx(XS.Provider,{value:v,children:n})}function dy(){const n=M.useContext(XS);if(n===null)throw new Error("useFirestore must be used within a DataProvider");return n}function KS({columns:n,data:e,openEditDialog:t}){const{deleteData:r}=dy(),i=async(a,s)=>{a.stopPropagation(),await r(s)};return B.jsxs(s6,{children:[B.jsx(l6,{children:B.jsx(Yp,{children:n.map((a,s)=>{var u;return B.jsx(c6,{children:a.header},((u=a.accessorKey)==null?void 0:u.toString())||s)})})}),B.jsx(u6,{children:e.length?e.map(a=>B.jsxs(Yp,{onClick:()=>t(a),children:[" ",n.map((s,u)=>{var c;return B.jsx($p,{className:"cursor-pointer hover:bg-gray-50",children:s.accessorFn?s.accessorFn(a):a[s.accessorKey]},((c=s.accessorKey)==null?void 0:c.toString())||u)}),B.jsx($p,{className:"flex justify-end",children:B.jsx(ca,{variant:"destructive",onClick:s=>i(s,String(a.id)),children:"Delete"})})]},a.id)):B.jsx(Yp,{children:B.jsx($p,{colSpan:n.length,children:"No data available."})})})]})}function vM(n,e=globalThis==null?void 0:globalThis.document){const t=go(n);M.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var mM="DismissableLayer",qv="dismissableLayer.update",yM="dismissableLayer.pointerDownOutside",_M="dismissableLayer.focusOutside",GE,WS=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w0=M.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:u,...c}=n,h=M.useContext(WS),[p,v]=M.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=M.useState({}),w=Vt(e,D=>v(D)),A=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),I=A.indexOf(T),S=p?A.indexOf(p):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,k=S>=I,z=EM(D=>{const R=D.target,L=[...h.branches].some(U=>U.contains(R));!k||L||(i==null||i(D),s==null||s(D),D.defaultPrevented||u==null||u())},y),K=AM(D=>{const R=D.target;[...h.branches].some(U=>U.contains(R))||(a==null||a(D),s==null||s(D),D.defaultPrevented||u==null||u())},y);return vM(D=>{S===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},y),M.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(GE=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),qE(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=GE)}},[p,y,t,h]),M.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),qE())},[p,h]),M.useEffect(()=>{const D=()=>_({});return document.addEventListener(qv,D),()=>document.removeEventListener(qv,D)},[]),B.jsx(st.div,{...c,ref:w,style:{pointerEvents:O?k?"auto":"none":void 0,...n.style},onFocusCapture:qe(n.onFocusCapture,K.onFocusCapture),onBlurCapture:qe(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:qe(n.onPointerDownCapture,z.onPointerDownCapture)})});w0.displayName=mM;var xM="DismissableLayerBranch",wM=M.forwardRef((n,e)=>{const t=M.useContext(WS),r=M.useRef(null),i=Vt(e,r);return M.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),B.jsx(st.div,{...n,ref:i})});wM.displayName=xM;function EM(n,e=globalThis==null?void 0:globalThis.document){const t=go(n),r=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let c=function(){YS(yM,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function AM(n,e=globalThis==null?void 0:globalThis.document){const t=go(n),r=M.useRef(!1);return M.useEffect(()=>{const i=a=>{a.target&&!r.current&&YS(_M,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qE(){const n=new CustomEvent(qv);document.dispatchEvent(n)}function YS(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?QR(i,a):i.dispatchEvent(a)}var lg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",XE={bubbles:!1,cancelable:!0},TM="FocusScope",py=M.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=n,[u,c]=M.useState(null),h=go(i),p=go(a),v=M.useRef(null),y=Vt(e,A=>c(A)),_=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(r){let A=function(O){if(_.paused||!u)return;const k=O.target;u.contains(k)?v.current=k:Za(v.current,{select:!0})},T=function(O){if(_.paused||!u)return;const k=O.relatedTarget;k!==null&&(u.contains(k)||Za(v.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const z of O)z.removedNodes.length>0&&Za(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",T);const S=new MutationObserver(I);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",T),S.disconnect()}}},[r,u,_.paused]),M.useEffect(()=>{if(u){WE.add(_);const A=document.activeElement;if(!u.contains(A)){const I=new CustomEvent(lg,XE);u.addEventListener(lg,h),u.dispatchEvent(I),I.defaultPrevented||(bM(OM($S(u)),{select:!0}),document.activeElement===A&&Za(u))}return()=>{u.removeEventListener(lg,h),setTimeout(()=>{const I=new CustomEvent(ug,XE);u.addEventListener(ug,p),u.dispatchEvent(I),I.defaultPrevented||Za(A??document.body,{select:!0}),u.removeEventListener(ug,p),WE.remove(_)},0)}}},[u,h,p,_]);const w=M.useCallback(A=>{if(!t&&!r||_.paused)return;const T=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,I=document.activeElement;if(T&&I){const S=A.currentTarget,[O,k]=CM(S);O&&k?!A.shiftKey&&I===k?(A.preventDefault(),t&&Za(O,{select:!0})):A.shiftKey&&I===O&&(A.preventDefault(),t&&Za(k,{select:!0})):I===S&&A.preventDefault()}},[t,r,_.paused]);return B.jsx(st.div,{tabIndex:-1,...s,ref:y,onKeyDown:w})});py.displayName=TM;function bM(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Za(r,{select:e}),document.activeElement!==t)return}function CM(n){const e=$S(n),t=KE(e,n),r=KE(e.reverse(),n);return[t,r]}function $S(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function KE(n,e){for(const t of n)if(!SM(t,{upTo:e}))return t}function SM(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function IM(n){return n instanceof HTMLInputElement&&"select"in n}function Za(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&IM(n)&&e&&n.select()}}var WE=RM();function RM(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=YE(n,e),n.unshift(e)},remove(e){var t;n=YE(n,e),(t=n[0])==null||t.resume()}}}function YE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function OM(n){return n.filter(e=>e.tagName!=="A")}var DM="Portal",E0=M.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=M.useState(!1);Xn(()=>a(!0),[]);const s=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return s?YR.createPortal(B.jsx(st.div,{...r,ref:e}),s):null});E0.displayName=DM;var cg=0;function QS(){M.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??$E()),document.body.insertAdjacentElement("beforeend",n[1]??$E()),cg++,()=>{cg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cg--}},[])}function $E(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var vd="right-scroll-bar-position",md="width-before-scroll-bar",NM="with-scroll-bars-hidden",MM="--removed-body-scroll-bar-size";function fg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function PM(n,e){var t=M.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var LM=typeof window<"u"?M.useLayoutEffect:M.useEffect,QE=new WeakMap;function kM(n,e){var t=PM(null,function(r){return n.forEach(function(i){return fg(i,r)})});return LM(function(){var r=QE.get(t);if(r){var i=new Set(r),a=new Set(n),s=t.current;i.forEach(function(u){a.has(u)||fg(u,null)}),a.forEach(function(u){i.has(u)||fg(u,s)})}QE.set(t,n)},[n]),t}function BM(n){return n}function VM(n,e){e===void 0&&(e=BM);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var s=e(a,r);return t.push(s),function(){t=t.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(r=!0;t.length;){var s=t;t=[],s.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var s=[];if(t.length){var u=t;t=[],u.forEach(a),s=t}var c=function(){var p=s;s=[],p.forEach(a)},h=function(){return Promise.resolve().then(c)};h(),t={push:function(p){s.push(p),h()},filter:function(p){return s=s.filter(p),t}}}};return i}function FM(n){n===void 0&&(n={});var e=VM(null);return e.options=Ei({async:!0,ssr:!1},n),e}var ZS=function(n){var e=n.sideCar,t=rf(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,Ei({},t))};ZS.isSideCarExport=!0;function UM(n,e){return n.useMedium(e),ZS}var JS=FM(),hg=function(){},A0=M.forwardRef(function(n,e){var t=M.useRef(null),r=M.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),i=r[0],a=r[1],s=n.forwardProps,u=n.children,c=n.className,h=n.removeScrollBar,p=n.enabled,v=n.shards,y=n.sideCar,_=n.noRelative,w=n.noIsolation,A=n.inert,T=n.allowPinchZoom,I=n.as,S=I===void 0?"div":I,O=n.gapMode,k=rf(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=y,K=kM([t,e]),D=Ei(Ei({},k),i);return M.createElement(M.Fragment,null,p&&M.createElement(z,{sideCar:JS,removeScrollBar:h,shards:v,noRelative:_,noIsolation:w,inert:A,setCallbacks:a,allowPinchZoom:!!T,lockRef:t,gapMode:O}),s?M.cloneElement(M.Children.only(u),Ei(Ei({},D),{ref:K})):M.createElement(S,Ei({},D,{className:c,ref:K}),u))});A0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A0.classNames={fullWidth:md,zeroRight:vd};var zM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=zM();return e&&n.setAttribute("nonce",e),n}function HM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function GM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var qM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=jM())&&(HM(e,t),GM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XM=function(){var n=qM();return function(e,t){M.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},e3=function(){var n=XM(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},KM={left:0,top:0,right:0,gap:0},dg=function(n){return parseInt(n||"",10)||0},WM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[dg(t),dg(r),dg(i)]},YM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return KM;var e=WM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},$M=e3(),Fl="data-scroll-locked",QM=function(n,e,t,r){var i=n.left,a=n.top,s=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(NM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Fl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vd,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(md,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(md," .").concat(md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fl,`] {
    `).concat(MM,": ").concat(u,`px;
  }
`)},ZE=function(){var n=parseInt(document.body.getAttribute(Fl)||"0",10);return isFinite(n)?n:0},ZM=function(){M.useEffect(function(){return document.body.setAttribute(Fl,(ZE()+1).toString()),function(){var n=ZE()-1;n<=0?document.body.removeAttribute(Fl):document.body.setAttribute(Fl,n.toString())}},[])},JM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;ZM();var a=M.useMemo(function(){return YM(i)},[i]);return M.createElement($M,{styles:QM(a,!e,i,t?"":"!important")})},Xv=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return Xv=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{Xv=!1}var Tl=Xv?{passive:!1}:!1,eP=function(n){return n.tagName==="TEXTAREA"},t3=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!eP(n)&&t[e]==="visible")},tP=function(n){return t3(n,"overflowY")},nP=function(n){return t3(n,"overflowX")},JE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=n3(n,r);if(i){var a=r3(n,r),s=a[1],u=a[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},rP=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},iP=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},n3=function(n,e){return n==="v"?tP(e):nP(e)},r3=function(n,e){return n==="v"?rP(e):iP(e)},aP=function(n,e){return n==="h"&&e==="rtl"?-1:1},oP=function(n,e,t,r,i){var a=aP(n,window.getComputedStyle(e).direction),s=a*r,u=t.target,c=e.contains(u),h=!1,p=s>0,v=0,y=0;do{if(!u)break;var _=r3(n,u),w=_[0],A=_[1],T=_[2],I=A-T-a*w;(w||I)&&n3(n,u)&&(v+=I,y+=w);var S=u.parentNode;u=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(v)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Qh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},eA=function(n){return[n.deltaX,n.deltaY]},tA=function(n){return n&&"current"in n?n.current:n},sP=function(n,e){return n[0]===e[0]&&n[1]===e[1]},lP=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},uP=0,bl=[];function cP(n){var e=M.useRef([]),t=M.useRef([0,0]),r=M.useRef(),i=M.useState(uP++)[0],a=M.useState(e3)[0],s=M.useRef(n);M.useEffect(function(){s.current=n},[n]),M.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=WO([n.lockRef.current],(n.shards||[]).map(tA),!0).filter(Boolean);return A.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=M.useCallback(function(A,T){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!s.current.allowPinchZoom;var I=Qh(A),S=t.current,O="deltaX"in A?A.deltaX:S[0]-I[0],k="deltaY"in A?A.deltaY:S[1]-I[1],z,K=A.target,D=Math.abs(O)>Math.abs(k)?"h":"v";if("touches"in A&&D==="h"&&K.type==="range")return!1;var R=JE(D,K);if(!R)return!0;if(R?z=D:(z=D==="v"?"h":"v",R=JE(D,K)),!R)return!1;if(!r.current&&"changedTouches"in A&&(O||k)&&(r.current=z),!z)return!0;var L=r.current||z;return oP(L,T,A,L==="h"?O:k)},[]),c=M.useCallback(function(A){var T=A;if(!(!bl.length||bl[bl.length-1]!==a)){var I="deltaY"in T?eA(T):Qh(T),S=e.current.filter(function(z){return z.name===T.type&&(z.target===T.target||T.target===z.shadowParent)&&sP(z.delta,I)})[0];if(S&&S.should){T.cancelable&&T.preventDefault();return}if(!S){var O=(s.current.shards||[]).map(tA).filter(Boolean).filter(function(z){return z.contains(T.target)}),k=O.length>0?u(T,O[0]):!s.current.noIsolation;k&&T.cancelable&&T.preventDefault()}}},[]),h=M.useCallback(function(A,T,I,S){var O={name:A,delta:T,target:I,should:S,shadowParent:fP(I)};e.current.push(O),setTimeout(function(){e.current=e.current.filter(function(k){return k!==O})},1)},[]),p=M.useCallback(function(A){t.current=Qh(A),r.current=void 0},[]),v=M.useCallback(function(A){h(A.type,eA(A),A.target,u(A,n.lockRef.current))},[]),y=M.useCallback(function(A){h(A.type,Qh(A),A.target,u(A,n.lockRef.current))},[]);M.useEffect(function(){return bl.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",c,Tl),document.addEventListener("touchmove",c,Tl),document.addEventListener("touchstart",p,Tl),function(){bl=bl.filter(function(A){return A!==a}),document.removeEventListener("wheel",c,Tl),document.removeEventListener("touchmove",c,Tl),document.removeEventListener("touchstart",p,Tl)}},[]);var _=n.removeScrollBar,w=n.inert;return M.createElement(M.Fragment,null,w?M.createElement(a,{styles:lP(i)}):null,_?M.createElement(JM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function fP(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const hP=UM(JS,cP);var gy=M.forwardRef(function(n,e){return M.createElement(A0,Ei({},n,{ref:e,sideCar:hP}))});gy.classNames=A0.classNames;var dP=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Cl=new WeakMap,Zh=new WeakMap,Jh={},pg=0,i3=function(n){return n&&(n.host||i3(n.parentNode))},pP=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=i3(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},gP=function(n,e,t,r){var i=pP(e,Array.isArray(n)?n:[n]);Jh[t]||(Jh[t]=new WeakMap);var a=Jh[t],s=[],u=new Set,c=new Set(i),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};i.forEach(h);var p=function(v){!v||c.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))p(y);else try{var _=y.getAttribute(r),w=_!==null&&_!=="false",A=(Cl.get(y)||0)+1,T=(a.get(y)||0)+1;Cl.set(y,A),a.set(y,T),s.push(y),A===1&&w&&Zh.set(y,!0),T===1&&y.setAttribute(t,"true"),w||y.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",y,I)}})};return p(e),u.clear(),pg++,function(){s.forEach(function(v){var y=Cl.get(v)-1,_=a.get(v)-1;Cl.set(v,y),a.set(v,_),y||(Zh.has(v)||v.removeAttribute(r),Zh.delete(v)),_||v.removeAttribute(t)}),pg--,pg||(Cl=new WeakMap,Cl=new WeakMap,Zh=new WeakMap,Jh={})}},a3=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=dP(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),gP(r,i,t,"aria-hidden")):function(){return null}},T0="Dialog",[o3,gj]=Ss(T0),[vP,ni]=o3(T0),s3=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=n,u=M.useRef(null),c=M.useRef(null),[h,p]=jl({prop:r,defaultProp:i??!1,onChange:a,caller:T0});return B.jsx(vP,{scope:e,triggerRef:u,contentRef:c,contentId:ua(),titleId:ua(),descriptionId:ua(),open:h,onOpenChange:p,onOpenToggle:M.useCallback(()=>p(v=>!v),[p]),modal:s,children:t})};s3.displayName=T0;var l3="DialogTrigger",mP=M.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ni(l3,t),a=Vt(e,i.triggerRef);return B.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yy(i.open),...r,ref:a,onClick:qe(n.onClick,i.onOpenToggle)})});mP.displayName=l3;var vy="DialogPortal",[yP,u3]=o3(vy,{forceMount:void 0}),c3=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=ni(vy,e);return B.jsx(yP,{scope:e,forceMount:t,children:M.Children.map(r,s=>B.jsx(Is,{present:t||a.open,children:B.jsx(E0,{asChild:!0,container:i,children:s})}))})};c3.displayName=vy;var Gd="DialogOverlay",f3=M.forwardRef((n,e)=>{const t=u3(Gd,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=ni(Gd,n.__scopeDialog);return a.modal?B.jsx(Is,{present:r||a.open,children:B.jsx(xP,{...i,ref:e})}):null});f3.displayName=Gd;var _P=zl("DialogOverlay.RemoveScroll"),xP=M.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ni(Gd,t);return B.jsx(gy,{as:_P,allowPinchZoom:!0,shards:[i.contentRef],children:B.jsx(st.div,{"data-state":yy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),As="DialogContent",h3=M.forwardRef((n,e)=>{const t=u3(As,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=ni(As,n.__scopeDialog);return B.jsx(Is,{present:r||a.open,children:a.modal?B.jsx(wP,{...i,ref:e}):B.jsx(EP,{...i,ref:e})})});h3.displayName=As;var wP=M.forwardRef((n,e)=>{const t=ni(As,n.__scopeDialog),r=M.useRef(null),i=Vt(e,t.contentRef,r);return M.useEffect(()=>{const a=r.current;if(a)return a3(a)},[]),B.jsx(d3,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=t.triggerRef.current)==null||s.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0;(s.button===2||u)&&a.preventDefault()}),onFocusOutside:qe(n.onFocusOutside,a=>a.preventDefault())})}),EP=M.forwardRef((n,e)=>{const t=ni(As,n.__scopeDialog),r=M.useRef(!1),i=M.useRef(!1);return B.jsx(d3,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,u;(s=n.onCloseAutoFocus)==null||s.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,h;(c=n.onInteractOutside)==null||c.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),d3=M.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=n,u=ni(As,t),c=M.useRef(null),h=Vt(e,c);return QS(),B.jsxs(B.Fragment,{children:[B.jsx(py,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:B.jsx(w0,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":yy(u.open),...s,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),B.jsxs(B.Fragment,{children:[B.jsx(AP,{titleId:u.titleId}),B.jsx(bP,{contentRef:c,descriptionId:u.descriptionId})]})]})}),my="DialogTitle",p3=M.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ni(my,t);return B.jsx(st.h2,{id:i.titleId,...r,ref:e})});p3.displayName=my;var g3="DialogDescription",v3=M.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ni(g3,t);return B.jsx(st.p,{id:i.descriptionId,...r,ref:e})});v3.displayName=g3;var m3="DialogClose",y3=M.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=ni(m3,t);return B.jsx(st.button,{type:"button",...r,ref:e,onClick:qe(n.onClick,()=>i.onOpenChange(!1))})});y3.displayName=m3;function yy(n){return n?"open":"closed"}var _3="DialogTitleWarning",[vj,x3]=FR(_3,{contentName:As,titleName:my,docsSlug:"dialog"}),AP=({titleId:n})=>{const e=x3(_3),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},TP="DialogDescriptionWarning",bP=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x3(TP).contentName}}.`;return M.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},CP=s3,SP=c3,IP=f3,RP=h3,OP=p3,DP=v3,NP=y3;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),nA=n=>{const e=PP(n);return e.charAt(0).toUpperCase()+e.slice(1)},w3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),LP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=M.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>M.createElement("svg",{ref:c,...kP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:w3("lucide",i),...!a&&!LP(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>M.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=(n,e)=>{const t=M.forwardRef(({className:r,...i},a)=>M.createElement(BP,{ref:a,iconNode:e,className:w3(`lucide-${MP(nA(n))}`,`lucide-${n}`,r),...i}));return t.displayName=nA(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FP=b0("check",VP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],E3=b0("chevron-down",UP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jP=b0("chevron-up",zP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GP=b0("x",HP);function qP({...n}){return B.jsx(CP,{"data-slot":"dialog",...n})}function XP({...n}){return B.jsx(SP,{"data-slot":"dialog-portal",...n})}function KP({className:n,...e}){return B.jsx(IP,{"data-slot":"dialog-overlay",className:It("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function WP({className:n,children:e,showCloseButton:t=!0,...r}){return B.jsxs(XP,{"data-slot":"dialog-portal",children:[B.jsx(KP,{}),B.jsxs(RP,{"data-slot":"dialog-content",className:It("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[e,t&&B.jsxs(NP,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[B.jsx(GP,{}),B.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function YP({className:n,...e}){return B.jsx("div",{"data-slot":"dialog-header",className:It("flex flex-col gap-2 text-center sm:text-left",n),...e})}function $P({className:n,...e}){return B.jsx(OP,{"data-slot":"dialog-title",className:It("text-lg leading-none font-semibold",n),...e})}function QP({className:n,...e}){return B.jsx(DP,{"data-slot":"dialog-description",className:It("text-muted-foreground text-sm",n),...e})}var ZP="Label",A3=M.forwardRef((n,e)=>B.jsx(st.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));A3.displayName=ZP;var JP=A3;function T3({className:n,...e}){return B.jsx(JP,{"data-slot":"label",className:It("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var gg,rA;function _y(){if(rA)return gg;rA=1;var n={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};return gg=n,gg}var vg,iA;function C0(){if(iA)return vg;iA=1;var n=_y();function e(t){return!!(t&&n[typeof t])}return vg=e,vg}var mg,aA;function hf(){if(aA)return mg;aA=1;var n=Object.prototype,e=n.toString,t=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return mg=t,mg}var yg,oA;function eL(){if(oA)return yg;oA=1;var n=_y(),e=Object.prototype,t=e.hasOwnProperty,r=function(i){var a,s=i,u=[];if(!s||!n[typeof i])return u;for(a in s)t.call(s,a)&&u.push(a);return u};return yg=r,yg}var _g,sA;function b3(){if(sA)return _g;sA=1;var n=C0(),e=hf(),t=eL(),r=e.test(r=Object.keys)&&r,i=r?function(a){return n(a)?r(a):[]}:t;return _g=i,_g}var xg,lA;function C3(){if(lA)return xg;lA=1;function n(){}return xg=n,xg}var wg,uA;function S3(){if(uA)return wg;uA=1;var n=C0();C3();var e=hf(),t=e.test(t=Object.create)&&t;function r(i,a){return n(i)?t(i):{}}return t||(r=function(){function i(){}return function(a){if(n(a)){i.prototype=a;var s=new i;i.prototype=null}return s||GT.Object()}}()),wg=r,wg}var Eg,cA;function xy(){if(cA)return Eg;cA=1;var n=C3(),e=hf(),t={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var a={},s=e.test(s=Object.defineProperty)&&s,u=s(a,a,a)&&s}catch{}return u}(),i=r?function(a,s){t.value=s,r(a,"__bindData__",t)}:n;return Eg=i,Eg}var Ag,fA;function tL(){if(fA)return Ag;fA=1;var n=S3(),e=C0(),t=xy(),r=[],i=r.push;function a(s){var u=s[0],c=s[2],h=s[4];function p(){if(c){var v=c.slice();i.apply(v,arguments)}if(this instanceof p){var y=n(u.prototype),_=u.apply(y,v||arguments);return e(_)?_:y}return u.apply(h,v||arguments)}return t(p,s),p}return Ag=a,Ag}var Tg,hA;function I3(){if(hA)return Tg;hA=1;function n(e,t,r){t||(t=0),typeof r>"u"&&(r=e?e.length:0);for(var i=-1,a=r-t||0,s=Array(a<0?0:a);++i<a;)s[i]=e[t+i];return s}return Tg=n,Tg}var bg,dA;function nL(){if(dA)return bg;dA=1;var n=S3(),e=C0(),t=xy(),r=I3(),i=[],a=i.push;function s(u){var c=u[0],h=u[1],p=u[2],v=u[3],y=u[4],_=u[5],w=h&1,A=h&2,T=h&4,I=h&8,S=c;function O(){var k=w?y:this;if(p){var z=p.slice();a.apply(z,arguments)}if((v||T)&&(z||(z=r(arguments)),v&&a.apply(z,v),T&&z.length<_))return h|=16,s([c,I?h:h&-4,z,null,y,_]);if(z||(z=arguments),A&&(c=k[S]),this instanceof O){k=n(c.prototype);var K=c.apply(k,z);return e(K)?K:k}return c.apply(k,z)}return t(O,u),O}return bg=s,bg}var Cg,pA;function rL(){if(pA)return Cg;pA=1;function n(e){return typeof e=="function"}return Cg=n,Cg}var Sg,gA;function iL(){if(gA)return Sg;gA=1;var n=tL(),e=nL(),t=rL(),r=[],i=r.push;function a(s,u,c,h,p,v){var y=u&1,_=u&2,w=u&4,A=u&16,T=u&32;if(!_&&!t(s))throw new TypeError;A&&!c.length&&(u&=-17,A=c=!1),T&&!h.length&&(u&=-33,T=h=!1);var I=s&&s.__bindData__;if(I&&I!==!0)return I=I.slice(),y&&!(I[1]&1)&&(I[4]=p),!y&&I[1]&1&&(u|=8),w&&!(I[1]&4)&&(I[5]=v),A&&i.apply(I[2]||(I[2]=[]),c),T&&i.apply(I[3]||(I[3]=[]),h),I[1]|=u,a.apply(null,I);var S=u==1||u===17?n:e;return S([s,u,c,h,p,v])}return Sg=a,Sg}var Ig,vA;function aL(){if(vA)return Ig;vA=1;var n=iL();hf();var e=I3();function t(r,i){return arguments.length>2?n(r,17,e(arguments,2),null,i):n(r,1,null,null,i)}return Ig=t,Ig}var Rg,mA;function oL(){if(mA)return Rg;mA=1;function n(e){return e}return Rg=n,Rg}var Og,yA;function sL(){if(yA)return Og;yA=1;var n=hf(),e=/\bthis\b/,t={};return t.funcDecomp=!n.test(GT.WinRTError)&&e.test(function(){return this}),t.funcNames=typeof Function.name=="string",Og=t,Og}var Dg,_A;function R3(){if(_A)return Dg;_A=1;var n=aL(),e=oL(),t=xy(),r=sL(),i=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,s=Function.prototype.toString;function u(c,h,p){if(typeof c!="function")return e;if(typeof h>"u"||!("prototype"in c))return c;var v=c.__bindData__;if(typeof v>"u"&&(r.funcNames&&(v=!c.name),v=v||!r.funcDecomp,!v)){var y=s.call(c);r.funcNames||(v=!i.test(y)),v||(v=a.test(y),t(c,v))}if(v===!1||v!==!0&&v[1]&1)return c;switch(p){case 1:return function(_){return c.call(h,_)};case 2:return function(_,w){return c.call(h,_,w)};case 3:return function(_,w,A){return c.call(h,_,w,A)};case 4:return function(_,w,A,T){return c.call(h,_,w,A,T)}}return n(c,h)}return Dg=u,Dg}var Ng,xA;function lL(){if(xA)return Ng;xA=1;var n=R3(),e=b3(),t=_y(),r=function(i,a,s){var u,c=i,h=c;if(!c||!t[typeof c])return h;a=a&&typeof s>"u"?a:n(a,s,3);for(var p=-1,v=t[typeof c]&&e(c),y=v?v.length:0;++p<y;)if(u=v[p],a(c[u],u,i)===!1)return h;return h};return Ng=r,Ng}var Mg,wA;function uL(){if(wA)return Mg;wA=1;var n=R3(),e=lL();function t(r,i,a){var s=-1,u=r?r.length:0;if(i=i&&typeof a>"u"?i:n(i,a,3),typeof u=="number")for(;++s<u&&i(r[s],s,r)!==!1;);else e(r,i);return r}return Mg=t,Mg}var Pg,EA;function cL(){if(EA)return Pg;EA=1;var n,e;return n={mm:{name:{singular:"Millimeter",plural:"Millimeters"},to_anchor:1/1e3},cm:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/100},m:{name:{singular:"Meter",plural:"Meters"},to_anchor:1},km:{name:{singular:"Kilometer",plural:"Kilometers"},to_anchor:1e3}},e={in:{name:{singular:"Inch",plural:"Inches"},to_anchor:1/12},yd:{name:{singular:"Yard",plural:"Yards"},to_anchor:3},"ft-us":{name:{singular:"US Survey Foot",plural:"US Survey Feet"},to_anchor:1.000002},ft:{name:{singular:"Foot",plural:"Feet"},to_anchor:1},mi:{name:{singular:"Mile",plural:"Miles"},to_anchor:5280}},Pg={metric:n,imperial:e,_anchors:{metric:{unit:"m",ratio:3.28084},imperial:{unit:"ft",ratio:1/3.28084}}},Pg}var Lg,AA;function fL(){if(AA)return Lg;AA=1;var n,e;return n={mm2:{name:{singular:"Square Millimeter",plural:"Square Millimeters"},to_anchor:1/1e6},cm2:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/1e4},m2:{name:{singular:"Square Meter",plural:"Square Meters"},to_anchor:1},ha:{name:{singular:"Hectare",plural:"Hectares"},to_anchor:1e4},km2:{name:{singular:"Square Kilometer",plural:"Square Kilometers"},to_anchor:1e6}},e={in2:{name:{singular:"Square Inch",plural:"Square Inches"},to_anchor:1/144},yd2:{name:{singular:"Square Yard",plural:"Square Yards"},to_anchor:9},ft2:{name:{singular:"Square Foot",plural:"Square Feet"},to_anchor:1},ac:{name:{singular:"Acre",plural:"Acres"},to_anchor:43560},mi2:{name:{singular:"Square Mile",plural:"Square Miles"},to_anchor:27878400}},Lg={metric:n,imperial:e,_anchors:{metric:{unit:"m2",ratio:10.7639},imperial:{unit:"ft2",ratio:1/10.7639}}},Lg}var kg,TA;function hL(){if(TA)return kg;TA=1;var n,e;return n={mcg:{name:{singular:"Microgram",plural:"Micrograms"},to_anchor:1/1e6},mg:{name:{singular:"Milligram",plural:"Milligrams"},to_anchor:1/1e3},g:{name:{singular:"Gram",plural:"Grams"},to_anchor:1},kg:{name:{singular:"Kilogram",plural:"Kilograms"},to_anchor:1e3},mt:{name:{singular:"Metric Tonne",plural:"Metric Tonnes"},to_anchor:1e6}},e={oz:{name:{singular:"Ounce",plural:"Ounces"},to_anchor:1/16},lb:{name:{singular:"Pound",plural:"Pounds"},to_anchor:1},t:{name:{singular:"Ton",plural:"Tons"},to_anchor:2e3}},kg={metric:n,imperial:e,_anchors:{metric:{unit:"g",ratio:1/453.592},imperial:{unit:"lb",ratio:453.592}}},kg}var Bg,bA;function dL(){if(bA)return Bg;bA=1;var n,e;return n={mm3:{name:{singular:"Cubic Millimeter",plural:"Cubic Millimeters"},to_anchor:1/1e6},cm3:{name:{singular:"Cubic Centimeter",plural:"Cubic Centimeters"},to_anchor:1/1e3},ml:{name:{singular:"Millilitre",plural:"Millilitres"},to_anchor:1/1e3},cl:{name:{singular:"Centilitre",plural:"Centilitres"},to_anchor:1/100},dl:{name:{singular:"Decilitre",plural:"Decilitres"},to_anchor:1/10},l:{name:{singular:"Litre",plural:"Litres"},to_anchor:1},kl:{name:{singular:"Kilolitre",plural:"Kilolitres"},to_anchor:1e3},m3:{name:{singular:"Cubic meter",plural:"Cubic meters"},to_anchor:1e3},km3:{name:{singular:"Cubic kilometer",plural:"Cubic kilometers"},to_anchor:1e12},krm:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:1/1e3},tsk:{name:{singular:"Tesked",plural:"Teskedar"},to_anchor:5/1e3},msk:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:15/1e3},kkp:{name:{singular:"Kaffekopp",plural:"Kaffekoppar"},to_anchor:150/1e3},glas:{name:{singular:"Glas",plural:"Glas"},to_anchor:200/1e3},kanna:{name:{singular:"Kanna",plural:"Kannor"},to_anchor:2.617}},e={tsp:{name:{singular:"Teaspoon",plural:"Teaspoons"},to_anchor:1/6},Tbs:{name:{singular:"Tablespoon",plural:"Tablespoons"},to_anchor:1/2},in3:{name:{singular:"Cubic inch",plural:"Cubic inches"},to_anchor:.55411},"fl-oz":{name:{singular:"Fluid Ounce",plural:"Fluid Ounces"},to_anchor:1},cup:{name:{singular:"Cup",plural:"Cups"},to_anchor:8},pnt:{name:{singular:"Pint",plural:"Pints"},to_anchor:16},qt:{name:{singular:"Quart",plural:"Quarts"},to_anchor:32},gal:{name:{singular:"Gallon",plural:"Gallons"},to_anchor:128},ft3:{name:{singular:"Cubic foot",plural:"Cubic feet"},to_anchor:957.506},yd3:{name:{singular:"Cubic yard",plural:"Cubic yards"},to_anchor:25852.7}},Bg={metric:n,imperial:e,_anchors:{metric:{unit:"l",ratio:33.8140226},imperial:{unit:"fl-oz",ratio:1/33.8140226}}},Bg}var Vg,CA;function pL(){if(CA)return Vg;CA=1;var n;return n={ea:{name:{singular:"Each",plural:"Each"},to_anchor:1},dz:{name:{singular:"Dozen",plural:"Dozens"},to_anchor:12}},Vg={metric:n,imperial:{},_anchors:{metric:{unit:"ea",ratio:1}}},Vg}var Fg,SA;function gL(){if(SA)return Fg;SA=1;var n,e;return n={C:{name:{singular:"degree Celsius",plural:"degrees Celsius"},to_anchor:1,anchor_shift:0},K:{name:{singular:"degree Kelvin",plural:"degrees Kelvin"},to_anchor:1,anchor_shift:273.15}},e={F:{name:{singular:"degree Fahrenheit",plural:"degrees Fahrenheit"},to_anchor:1},R:{name:{singular:"degree Rankine",plural:"degrees Rankine"},to_anchor:1,anchor_shift:459.67}},Fg={metric:n,imperial:e,_anchors:{metric:{unit:"C",transform:function(t){return t/(5/9)+32}},imperial:{unit:"F",transform:function(t){return(t-32)*(5/9)}}}},Fg}var Ug,IA;function vL(){if(IA)return Ug;IA=1;var n,e=365.25;return n={ns:{name:{singular:"Nanosecond",plural:"Nanoseconds"},to_anchor:1/1e9},mu:{name:{singular:"Microsecond",plural:"Microseconds"},to_anchor:1/1e6},ms:{name:{singular:"Millisecond",plural:"Milliseconds"},to_anchor:1/1e3},s:{name:{singular:"Second",plural:"Seconds"},to_anchor:1},min:{name:{singular:"Minute",plural:"Minutes"},to_anchor:60},h:{name:{singular:"Hour",plural:"Hours"},to_anchor:60*60},d:{name:{singular:"Day",plural:"Days"},to_anchor:60*60*24},week:{name:{singular:"Week",plural:"Weeks"},to_anchor:60*60*24*7},month:{name:{singular:"Month",plural:"Months"},to_anchor:60*60*24*e/12},year:{name:{singular:"Year",plural:"Years"},to_anchor:60*60*24*e}},Ug={metric:n,_anchors:{metric:{unit:"s",ratio:1}}},Ug}var zg,RA;function mL(){if(RA)return zg;RA=1;var n,e;return n={b:{name:{singular:"Bit",plural:"Bits"},to_anchor:1},Kb:{name:{singular:"Kilobit",plural:"Kilobits"},to_anchor:1024},Mb:{name:{singular:"Megabit",plural:"Megabits"},to_anchor:1048576},Gb:{name:{singular:"Gigabit",plural:"Gigabits"},to_anchor:1073741824},Tb:{name:{singular:"Terabit",plural:"Terabits"},to_anchor:1099511627776}},e={B:{name:{singular:"Byte",plural:"Bytes"},to_anchor:1},KB:{name:{singular:"Kilobyte",plural:"Kilobytes"},to_anchor:1024},MB:{name:{singular:"Megabyte",plural:"Megabytes"},to_anchor:1048576},GB:{name:{singular:"Gigabyte",plural:"Gigabytes"},to_anchor:1073741824},TB:{name:{singular:"Terabyte",plural:"Terabytes"},to_anchor:1099511627776}},zg={bits:n,bytes:e,_anchors:{bits:{unit:"b",ratio:1/8},bytes:{unit:"B",ratio:8}}},zg}var jg,OA;function yL(){if(OA)return jg;OA=1;var n;return n={ppm:{name:{singular:"Part-per Million",plural:"Parts-per Million"},to_anchor:1},ppb:{name:{singular:"Part-per Billion",plural:"Parts-per Billion"},to_anchor:.001},ppt:{name:{singular:"Part-per Trillion",plural:"Parts-per Trillion"},to_anchor:1e-6},ppq:{name:{singular:"Part-per Quadrillion",plural:"Parts-per Quadrillion"},to_anchor:1e-9}},jg={metric:n,imperial:{},_anchors:{metric:{unit:"ppm",ratio:1e-6}}},jg}var Hg,DA;function _L(){if(DA)return Hg;DA=1;var n,e;return n={"m/s":{name:{singular:"Metre per second",plural:"Metres per second"},to_anchor:3.6},"km/h":{name:{singular:"Kilometre per hour",plural:"Kilometres per hour"},to_anchor:1}},e={"m/h":{name:{singular:"Mile per hour",plural:"Miles per hour"},to_anchor:1},knot:{name:{singular:"Knot",plural:"Knots"},to_anchor:1.150779},"ft/s":{name:{singular:"Foot per second",plural:"Feet per second"},to_anchor:.681818}},Hg={metric:n,imperial:e,_anchors:{metric:{unit:"km/h",ratio:1/1.609344},imperial:{unit:"m/h",ratio:1.609344}}},Hg}var Gg,NA;function xL(){if(NA)return Gg;NA=1;var n,e;return n={"min/km":{name:{singular:"Minute per kilometre",plural:"Minutes per kilometre"},to_anchor:.06},"s/m":{name:{singular:"Second per metre",plural:"Seconds per metre"},to_anchor:1}},e={"min/mi":{name:{singular:"Minute per mile",plural:"Minutes per mile"},to_anchor:.0113636},"s/ft":{name:{singular:"Second per foot",plural:"Seconds per foot"},to_anchor:1}},Gg={metric:n,imperial:e,_anchors:{metric:{unit:"s/m",ratio:.3048},imperial:{unit:"s/ft",ratio:1/.3048}}},Gg}var qg,MA;function wL(){if(MA)return qg;MA=1;var n,e;return n={Pa:{name:{singular:"pascal",plural:"pascals"},to_anchor:1/1e3},kPa:{name:{singular:"kilopascal",plural:"kilopascals"},to_anchor:1},MPa:{name:{singular:"megapascal",plural:"megapascals"},to_anchor:1e3},hPa:{name:{singular:"hectopascal",plural:"hectopascals"},to_anchor:1/10},bar:{name:{singular:"bar",plural:"bar"},to_anchor:100},torr:{name:{singular:"torr",plural:"torr"},to_anchor:101325/76e4}},e={psi:{name:{singular:"pound per square inch",plural:"pounds per square inch"},to_anchor:1/1e3},ksi:{name:{singular:"kilopound per square inch",plural:"kilopound per square inch"},to_anchor:1}},qg={metric:n,imperial:e,_anchors:{metric:{unit:"kPa",ratio:.00014503768078},imperial:{unit:"psi",ratio:1/.00014503768078}}},qg}var Xg,PA;function EL(){if(PA)return Xg;PA=1;var n;return n={A:{name:{singular:"Ampere",plural:"Amperes"},to_anchor:1},mA:{name:{singular:"Milliampere",plural:"Milliamperes"},to_anchor:.001},kA:{name:{singular:"Kiloampere",plural:"Kiloamperes"},to_anchor:1e3}},Xg={metric:n,_anchors:{metric:{unit:"A",ratio:1}}},Xg}var Kg,LA;function AL(){if(LA)return Kg;LA=1;var n;return n={V:{name:{singular:"Volt",plural:"Volts"},to_anchor:1},mV:{name:{singular:"Millivolt",plural:"Millivolts"},to_anchor:.001},kV:{name:{singular:"Kilovolt",plural:"Kilovolts"},to_anchor:1e3}},Kg={metric:n,_anchors:{metric:{unit:"V",ratio:1}}},Kg}var Wg,kA;function TL(){if(kA)return Wg;kA=1;var n;return n={W:{name:{singular:"Watt",plural:"Watts"},to_anchor:1},mW:{name:{singular:"Milliwatt",plural:"Milliwatts"},to_anchor:.001},kW:{name:{singular:"Kilowatt",plural:"Kilowatts"},to_anchor:1e3},MW:{name:{singular:"Megawatt",plural:"Megawatts"},to_anchor:1e6},GW:{name:{singular:"Gigawatt",plural:"Gigawatts"},to_anchor:1e9}},Wg={metric:n,_anchors:{metric:{unit:"W",ratio:1}}},Wg}var Yg,BA;function bL(){if(BA)return Yg;BA=1;var n;return n={VAR:{name:{singular:"Volt-Ampere Reactive",plural:"Volt-Amperes Reactive"},to_anchor:1},mVAR:{name:{singular:"Millivolt-Ampere Reactive",plural:"Millivolt-Amperes Reactive"},to_anchor:.001},kVAR:{name:{singular:"Kilovolt-Ampere Reactive",plural:"Kilovolt-Amperes Reactive"},to_anchor:1e3},MVAR:{name:{singular:"Megavolt-Ampere Reactive",plural:"Megavolt-Amperes Reactive"},to_anchor:1e6},GVAR:{name:{singular:"Gigavolt-Ampere Reactive",plural:"Gigavolt-Amperes Reactive"},to_anchor:1e9}},Yg={metric:n,_anchors:{metric:{unit:"VAR",ratio:1}}},Yg}var $g,VA;function CL(){if(VA)return $g;VA=1;var n;return n={VA:{name:{singular:"Volt-Ampere",plural:"Volt-Amperes"},to_anchor:1},mVA:{name:{singular:"Millivolt-Ampere",plural:"Millivolt-Amperes"},to_anchor:.001},kVA:{name:{singular:"Kilovolt-Ampere",plural:"Kilovolt-Amperes"},to_anchor:1e3},MVA:{name:{singular:"Megavolt-Ampere",plural:"Megavolt-Amperes"},to_anchor:1e6},GVA:{name:{singular:"Gigavolt-Ampere",plural:"Gigavolt-Amperes"},to_anchor:1e9}},$g={metric:n,_anchors:{metric:{unit:"VA",ratio:1}}},$g}var Qg,FA;function SL(){if(FA)return Qg;FA=1;var n;return n={Wh:{name:{singular:"Watt-hour",plural:"Watt-hours"},to_anchor:3600},mWh:{name:{singular:"Milliwatt-hour",plural:"Milliwatt-hours"},to_anchor:3.6},kWh:{name:{singular:"Kilowatt-hour",plural:"Kilowatt-hours"},to_anchor:36e5},MWh:{name:{singular:"Megawatt-hour",plural:"Megawatt-hours"},to_anchor:36e8},GWh:{name:{singular:"Gigawatt-hour",plural:"Gigawatt-hours"},to_anchor:36e11},J:{name:{singular:"Joule",plural:"Joules"},to_anchor:1},kJ:{name:{singular:"Kilojoule",plural:"Kilojoules"},to_anchor:1e3}},Qg={metric:n,_anchors:{metric:{unit:"J",ratio:1}}},Qg}var Zg,UA;function IL(){if(UA)return Zg;UA=1;var n;return n={VARh:{name:{singular:"Volt-Ampere Reactive Hour",plural:"Volt-Amperes Reactive Hour"},to_anchor:1},mVARh:{name:{singular:"Millivolt-Ampere Reactive Hour",plural:"Millivolt-Amperes Reactive Hour"},to_anchor:.001},kVARh:{name:{singular:"Kilovolt-Ampere Reactive Hour",plural:"Kilovolt-Amperes Reactive Hour"},to_anchor:1e3},MVARh:{name:{singular:"Megavolt-Ampere Reactive Hour",plural:"Megavolt-Amperes Reactive Hour"},to_anchor:1e6},GVARh:{name:{singular:"Gigavolt-Ampere Reactive Hour",plural:"Gigavolt-Amperes Reactive Hour"},to_anchor:1e9}},Zg={metric:n,_anchors:{metric:{unit:"VARh",ratio:1}}},Zg}var Jg,zA;function RL(){if(zA)return Jg;zA=1;var n,e;return n={"mm3/s":{name:{singular:"Cubic Millimeter per second",plural:"Cubic Millimeters per second"},to_anchor:1/1e6},"cm3/s":{name:{singular:"Cubic Centimeter per second",plural:"Cubic Centimeters per second"},to_anchor:1/1e3},"ml/s":{name:{singular:"Millilitre per second",plural:"Millilitres per second"},to_anchor:1/1e3},"cl/s":{name:{singular:"Centilitre per second",plural:"Centilitres per second"},to_anchor:1/100},"dl/s":{name:{singular:"Decilitre per second",plural:"Decilitres per second"},to_anchor:1/10},"l/s":{name:{singular:"Litre per second",plural:"Litres per second"},to_anchor:1},"l/min":{name:{singular:"Litre per minute",plural:"Litres per minute"},to_anchor:1/60},"l/h":{name:{singular:"Litre per hour",plural:"Litres per hour"},to_anchor:1/3600},"kl/s":{name:{singular:"Kilolitre per second",plural:"Kilolitres per second"},to_anchor:1e3},"kl/min":{name:{singular:"Kilolitre per minute",plural:"Kilolitres per minute"},to_anchor:50/3},"kl/h":{name:{singular:"Kilolitre per hour",plural:"Kilolitres per hour"},to_anchor:5/18},"m3/s":{name:{singular:"Cubic meter per second",plural:"Cubic meters per second"},to_anchor:1e3},"m3/min":{name:{singular:"Cubic meter per minute",plural:"Cubic meters per minute"},to_anchor:50/3},"m3/h":{name:{singular:"Cubic meter per hour",plural:"Cubic meters per hour"},to_anchor:5/18},"km3/s":{name:{singular:"Cubic kilometer per second",plural:"Cubic kilometers per second"},to_anchor:1e12}},e={"tsp/s":{name:{singular:"Teaspoon per second",plural:"Teaspoons per second"},to_anchor:1/6},"Tbs/s":{name:{singular:"Tablespoon per second",plural:"Tablespoons per second"},to_anchor:1/2},"in3/s":{name:{singular:"Cubic inch per second",plural:"Cubic inches per second"},to_anchor:.55411},"in3/min":{name:{singular:"Cubic inch per minute",plural:"Cubic inches per minute"},to_anchor:.55411/60},"in3/h":{name:{singular:"Cubic inch per hour",plural:"Cubic inches per hour"},to_anchor:.55411/3600},"fl-oz/s":{name:{singular:"Fluid Ounce per second",plural:"Fluid Ounces per second"},to_anchor:1},"fl-oz/min":{name:{singular:"Fluid Ounce per minute",plural:"Fluid Ounces per minute"},to_anchor:1/60},"fl-oz/h":{name:{singular:"Fluid Ounce per hour",plural:"Fluid Ounces per hour"},to_anchor:1/3600},"cup/s":{name:{singular:"Cup per second",plural:"Cups per second"},to_anchor:8},"pnt/s":{name:{singular:"Pint per second",plural:"Pints per second"},to_anchor:16},"pnt/min":{name:{singular:"Pint per minute",plural:"Pints per minute"},to_anchor:4/15},"pnt/h":{name:{singular:"Pint per hour",plural:"Pints per hour"},to_anchor:1/225},"qt/s":{name:{singular:"Quart per second",plural:"Quarts per second"},to_anchor:32},"gal/s":{name:{singular:"Gallon per second",plural:"Gallons per second"},to_anchor:128},"gal/min":{name:{singular:"Gallon per minute",plural:"Gallons per minute"},to_anchor:32/15},"gal/h":{name:{singular:"Gallon per hour",plural:"Gallons per hour"},to_anchor:8/225},"ft3/s":{name:{singular:"Cubic foot per second",plural:"Cubic feet per second"},to_anchor:957.506},"ft3/min":{name:{singular:"Cubic foot per minute",plural:"Cubic feet per minute"},to_anchor:957.506/60},"ft3/h":{name:{singular:"Cubic foot per hour",plural:"Cubic feet per hour"},to_anchor:957.506/3600},"yd3/s":{name:{singular:"Cubic yard per second",plural:"Cubic yards per second"},to_anchor:25852.7},"yd3/min":{name:{singular:"Cubic yard per minute",plural:"Cubic yards per minute"},to_anchor:25852.7/60},"yd3/h":{name:{singular:"Cubic yard per hour",plural:"Cubic yards per hour"},to_anchor:25852.7/3600}},Jg={metric:n,imperial:e,_anchors:{metric:{unit:"l/s",ratio:33.8140227},imperial:{unit:"fl-oz/s",ratio:1/33.8140227}}},Jg}var ev,jA;function OL(){if(jA)return ev;jA=1;var n,e;return n={lx:{name:{singular:"Lux",plural:"Lux"},to_anchor:1}},e={"ft-cd":{name:{singular:"Foot-candle",plural:"Foot-candles"},to_anchor:1}},ev={metric:n,imperial:e,_anchors:{metric:{unit:"lx",ratio:1/10.76391},imperial:{unit:"ft-cd",ratio:10.76391}}},ev}var tv,HA;function DL(){if(HA)return tv;HA=1;var n;return n={mHz:{name:{singular:"millihertz",plural:"millihertz"},to_anchor:1/1e3},Hz:{name:{singular:"hertz",plural:"hertz"},to_anchor:1},kHz:{name:{singular:"kilohertz",plural:"kilohertz"},to_anchor:1e3},MHz:{name:{singular:"megahertz",plural:"megahertz"},to_anchor:1e3*1e3},GHz:{name:{singular:"gigahertz",plural:"gigahertz"},to_anchor:1e3*1e3*1e3},THz:{name:{singular:"terahertz",plural:"terahertz"},to_anchor:1e3*1e3*1e3*1e3},rpm:{name:{singular:"rotation per minute",plural:"rotations per minute"},to_anchor:1/60},"deg/s":{name:{singular:"degree per second",plural:"degrees per second"},to_anchor:1/360},"rad/s":{name:{singular:"radian per second",plural:"radians per second"},to_anchor:1/(Math.PI*2)}},tv={metric:n,_anchors:{frequency:{unit:"hz",ratio:1}}},tv}var nv,GA;function NL(){if(GA)return nv;GA=1;var n;return n={rad:{name:{singular:"radian",plural:"radians"},to_anchor:180/Math.PI},deg:{name:{singular:"degree",plural:"degrees"},to_anchor:1},grad:{name:{singular:"gradian",plural:"gradians"},to_anchor:9/10},arcmin:{name:{singular:"arcminute",plural:"arcminutes"},to_anchor:1/60},arcsec:{name:{singular:"arcsecond",plural:"arcseconds"},to_anchor:1/3600}},nv={metric:n,_anchors:{metric:{unit:"deg",ratio:1}}},nv}var rv,qA;function ML(){if(qA)return rv;qA=1;var n,e=b3(),t=uL(),r={length:cL(),area:fL(),mass:hL(),volume:dL(),each:pL(),temperature:gL(),time:vL(),digital:mL(),partsPer:yL(),speed:_L(),pace:xL(),pressure:wL(),current:EL(),voltage:AL(),power:TL(),reactivePower:bL(),apparentPower:CL(),energy:SL(),reactiveEnergy:IL(),volumeFlowRate:RL(),illuminance:OL(),frequency:DL(),angle:NL()},i;i=function(s,u){u?this.val=s/u:this.val=s},i.prototype.from=function(s){if(this.destination)throw new Error(".from must be called before .to");return this.origin=this.getUnit(s),this.origin||this.throwUnsupportedUnitError(s),this},i.prototype.to=function(s){if(!this.origin)throw new Error(".to must be called after .from");this.destination=this.getUnit(s);var u,c;if(this.destination||this.throwUnsupportedUnitError(s),this.origin.abbr===this.destination.abbr)return this.val;if(this.destination.measure!=this.origin.measure)throw new Error("Cannot convert incompatible measures of "+this.destination.measure+" and "+this.origin.measure);return u=this.val*this.origin.unit.to_anchor,this.origin.unit.anchor_shift&&(u-=this.origin.unit.anchor_shift),this.origin.system!=this.destination.system&&(c=r[this.origin.measure]._anchors[this.origin.system].transform,typeof c=="function"?u=c(u):u*=r[this.origin.measure]._anchors[this.origin.system].ratio),this.destination.unit.anchor_shift&&(u+=this.destination.unit.anchor_shift),u/this.destination.unit.to_anchor},i.prototype.toBest=function(u){if(!this.origin)throw new Error(".toBest must be called after .from");var u=Object.assign({exclude:[],cutOffNumber:1},u),c;return t(this.possibilities(),(function(h){var p=this.describe(h),v=u.exclude.indexOf(h)===-1;if(v&&p.system===this.origin.system){var y=this.to(h);(!c||y>=u.cutOffNumber&&y<c.val)&&(c={val:y,unit:h,singular:p.singular,plural:p.plural})}}).bind(this)),c},i.prototype.getUnit=function(s){var u;return t(r,function(c,h){if(t(c,function(p,v){if(v=="_anchors"||(t(p,function(y,_){if(_==s)return u={abbr:s,measure:h,system:v,unit:y},!1}),u))return!1}),u)return!1}),u};var a=function(s){return{abbr:s.abbr,measure:s.measure,system:s.system,singular:s.unit.name.singular,plural:s.unit.name.plural}};return i.prototype.describe=function(s){var u=i.prototype.getUnit(s),c=null;try{c=a(u)}catch{this.throwUnsupportedUnitError(s)}return c},i.prototype.list=function(s){var u=[];return t(r,function(c,h){s&&s!==h||t(c,function(p,v){if(v=="_anchors")return!1;t(p,function(y,_){u=u.concat(a({abbr:_,measure:h,system:v,unit:y}))})})}),u},i.prototype.throwUnsupportedUnitError=function(s){var u=[];throw t(r,function(c,h){t(c,function(p,v){if(v=="_anchors")return!1;u=u.concat(e(p))})}),new Error("Unsupported unit "+s+", use one of: "+u.join(", "))},i.prototype.possibilities=function(s){var u=[];return!this.origin&&!s?t(e(r),function(c){t(r[c],function(h,p){if(p=="_anchors")return!1;u=u.concat(e(h))})}):(s=s||this.origin.measure,t(r[s],function(c,h){if(h=="_anchors")return!1;u=u.concat(e(c))})),u},i.prototype.measures=function(){return e(r)},n=function(s){return new i(s)},rv=n,rv}var PL=ML();const yd=_m(PL);function XA(n,e){let t=n-e;return t<0&&(t=0),t}function KA(n){const e={g:"ml",kg:"l"};if(n in e)return e[n];throw new Error(`Not implemented unit conversion ${n}`)}function O3(n,e,t){if(n===e)return{val:t,unit:e};const r=new Set(yd().possibilities("mass")),i=new Set(yd().possibilities("volume")),a=r.has(n),s=r.has(e),u=i.has(n),c=i.has(e);let h=n;a&&c&&(h=KA(n));let p=e;return u&&s&&(p=KA(e)),{val:yd(t).from(h).to(p),unit:e}}function WA(n){return Math.round(n*100)/100}function LL(n,e){if(n<1&&n>0){const{val:t,unit:r}=yd(n).from(e).toBest();return{val:WA(t),unit:r}}return{val:WA(n),unit:e}}function kL(n,e,t,r){if(new Set(["cup","tsp","Tbs","tbsp"]).has(e))throw new Error("You can't store ingredients as that unit!");if(r===e)return{val:XA(n,t),unit:e};if(r==="unit")throw new Error("You can't subtract units from a non unit measurement");if(e==="unit")throw new Error("You can't subtract non unit measurements from a unit measurement");const{val:a}=O3(r,e,t),s=XA(n,a);return LL(s,e)}function D3(n,e,t){const r=new Set(["unit","pinch"]);return r.has(e)||r.has(t)?{val:"",unit:t}:O3(e,t,n)}function N3(n,e){return n.forEach(t=>{var i,a;const r=t.name;t.type==="number"?e[r]=t.min??0:t.type==="select"&&((i=t.options)!=null&&i.length)?e[r]=String(t.options[0].value):e[r]="",(a=t.extraFields)!=null&&a.length&&(e=N3(t.extraFields,e))}),e}function BL({field:n,value:e,handleArrayOfObjectsChange:t,disabled:r=!1}){const i=e||[],a=n.extraFields||[],s=()=>{if(r)return;const v=N3(a,{});console.log(a),console.log(v),t([...i,v])},u=v=>{r||t(i.filter((y,_)=>_!==v))},c=(v,y,_,w)=>{var S,O;if(r)return;const A=[...i],T={...A[v]||{}};let I=_;if(w==="number")if(_==="")I=((S=a.find(k=>k.name===y))==null?void 0:S.min)??0;else{const k=parseFloat(_);I=isNaN(k)?((O=a.find(z=>z.name===y))==null?void 0:O.min)??0:k}T[y]=I,A[v]=T,t(A)},h=(v,y,_)=>{if(r)return;const w=[...i],A={...w[v]||{}};A[y]=_,w[v]=A,t(w)},p=(v,y,_)=>{var z;if(r)return;const w=[...i];console.log(w);const A={...w[v]||{}},T=(z=n.extraFields)==null?void 0:z[1].name;if(!T)return;console.log(T),console.log(y);const I=A[y],S=A[T];console.log(I),console.log(S),console.log(_);const{val:O,unit:k}=D3(S,I,_);A[T]=O,A[y]=k,w[v]=A,t(w)};return a.length?B.jsxs("div",{className:"space-y-3",children:[i.map((v,y)=>B.jsx("div",{className:"p-4 border border-gray-200 rounded-lg shadow-sm bg-gray-50/50",children:B.jsxs("div",{className:"flex items-end gap-3",children:[" ",a.map(_=>B.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[" ",B.jsx(T3,{htmlFor:`${n.name}-${y}-${_.name}`,className:"text-sm font-medium text-gray-700",children:_.label}),B.jsx(PI,{field:_,formData:v,handleInputChange:w=>c(y,w.target.name,w.target.value,_.type),handleUnitChange:(w,A)=>p(y,w,A),handleSelectChange:(w,A)=>h(y,w,A),handleArrayOfObjectsChange:t,disabled:r})]},_.name)),B.jsx(ca,{type:"button",variant:"destructive",size:"sm",onClick:()=>u(y),disabled:r,className:"shrink-0",children:"-"})]})},y)),B.jsx(ca,{type:"button",variant:"outline",onClick:s,className:"mt-2 border-dashed border-blue-500 text-blue-600 hover:bg-blue-50",disabled:r,children:"+"}),n.required&&i.length===0&&B.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[n.label," requires at least one item."]})]}):B.jsxs("p",{className:"text-sm text-red-600",children:["Configuration error: 'subFields' are not defined for the '",n.label,"' array."]})}function VL({className:n,type:e,...t}){return B.jsx("input",{type:e,"data-slot":"input",className:It("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function M3({field:n,formData:e,handleInputChange:t,className:r="",disabled:i=!1}){return B.jsx(VL,{id:n.name,name:n.name,type:n.type,value:String(e[n.name]||""),onChange:t,min:n.min,step:n.step,required:n.required,placeholder:n.placeholder,className:r,disabled:i})}function YA(n,[e,t]){return Math.min(t,Math.max(e,n))}const FL=["top","right","bottom","left"],Ao=Math.min,xr=Math.max,qd=Math.round,ed=Math.floor,Ri=n=>({x:n,y:n}),UL={left:"right",right:"left",bottom:"top",top:"bottom"},zL={start:"end",end:"start"};function Kv(n,e,t){return xr(n,Ao(e,t))}function va(n,e){return typeof n=="function"?n(e):n}function ma(n){return n.split("-")[0]}function uu(n){return n.split("-")[1]}function wy(n){return n==="x"?"y":"x"}function Ey(n){return n==="y"?"height":"width"}const jL=new Set(["top","bottom"]);function Ai(n){return jL.has(ma(n))?"y":"x"}function Ay(n){return wy(Ai(n))}function HL(n,e,t){t===void 0&&(t=!1);const r=uu(n),i=Ay(n),a=Ey(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Xd(s)),[s,Xd(s)]}function GL(n){const e=Xd(n);return[Wv(n),e,Wv(e)]}function Wv(n){return n.replace(/start|end/g,e=>zL[e])}const $A=["left","right"],QA=["right","left"],qL=["top","bottom"],XL=["bottom","top"];function KL(n,e,t){switch(n){case"top":case"bottom":return t?e?QA:$A:e?$A:QA;case"left":case"right":return e?qL:XL;default:return[]}}function WL(n,e,t,r){const i=uu(n);let a=KL(ma(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(Wv)))),a}function Xd(n){return n.replace(/left|right|bottom|top/g,e=>UL[e])}function YL(n){return{top:0,right:0,bottom:0,left:0,...n}}function P3(n){return typeof n!="number"?YL(n):{top:n,right:n,bottom:n,left:n}}function Kd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function ZA(n,e,t){let{reference:r,floating:i}=n;const a=Ai(e),s=Ay(e),u=Ey(s),c=ma(e),h=a==="y",p=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,y=r[u]/2-i[u]/2;let _;switch(c){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:v};break;case"left":_={x:r.x-i.width,y:v};break;default:_={x:r.x,y:r.y}}switch(uu(e)){case"start":_[s]-=y*(t&&h?-1:1);break;case"end":_[s]+=y*(t&&h?-1:1);break}return _}const $L=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,u=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:v}=ZA(h,r,c),y=r,_={},w=0;for(let A=0;A<u.length;A++){const{name:T,fn:I}=u[A],{x:S,y:O,data:k,reset:z}=await I({x:p,y:v,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:h,platform:s,elements:{reference:n,floating:e}});p=S??p,v=O??v,_={..._,[T]:{..._[T],...k}},z&&w<=50&&(w++,typeof z=="object"&&(z.placement&&(y=z.placement),z.rects&&(h=z.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):z.rects),{x:p,y:v}=ZA(h,y,c)),A=-1)}return{x:p,y:v,placement:y,strategy:i,middlewareData:_}};async function Yc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:u,strategy:c}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:y=!1,padding:_=0}=va(e,n),w=P3(_),T=u[y?v==="floating"?"reference":"floating":v],I=Kd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(T)))==null||t?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),S=v==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),k=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},z=Kd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:O,strategy:c}):S);return{top:(I.top-z.top+w.top)/k.y,bottom:(z.bottom-I.bottom+w.bottom)/k.y,left:(I.left-z.left+w.left)/k.x,right:(z.right-I.right+w.right)/k.x}}const QL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=va(n,e)||{};if(h==null)return{};const v=P3(p),y={x:t,y:r},_=Ay(i),w=Ey(_),A=await s.getDimensions(h),T=_==="y",I=T?"top":"left",S=T?"bottom":"right",O=T?"clientHeight":"clientWidth",k=a.reference[w]+a.reference[_]-y[_]-a.floating[w],z=y[_]-a.reference[_],K=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let D=K?K[O]:0;(!D||!await(s.isElement==null?void 0:s.isElement(K)))&&(D=u.floating[O]||a.floating[w]);const R=k/2-z/2,L=D/2-A[w]/2-1,U=Ao(v[I],L),H=Ao(v[S],L),j=U,F=D-A[w]-H,_e=D/2-A[w]/2+R,xe=Kv(j,_e,F),W=!c.arrow&&uu(i)!=null&&_e!==xe&&a.reference[w]/2-(_e<j?U:H)-A[w]/2<0,oe=W?_e<j?_e-j:_e-F:0;return{[_]:y[_]+oe,data:{[_]:xe,centerOffset:_e-xe-oe,...W&&{alignmentOffset:oe}},reset:W}}}),ZL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:A=!0,...T}=va(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=ma(i),S=Ai(u),O=ma(u)===u,k=await(c.isRTL==null?void 0:c.isRTL(h.floating)),z=y||(O||!A?[Xd(u)]:GL(u)),K=w!=="none";!y&&K&&z.push(...WL(u,A,w,k));const D=[u,...z],R=await Yc(e,T),L=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&L.push(R[I]),v){const _e=HL(i,s,k);L.push(R[_e[0]],R[_e[1]])}if(U=[...U,{placement:i,overflows:L}],!L.every(_e=>_e<=0)){var H,j;const _e=(((H=a.flip)==null?void 0:H.index)||0)+1,xe=D[_e];if(xe&&(!(v==="alignment"?S!==Ai(xe):!1)||U.every(ee=>ee.overflows[0]>0&&Ai(ee.placement)===S)))return{data:{index:_e,overflows:U},reset:{placement:xe}};let W=(j=U.filter(oe=>oe.overflows[0]<=0).sort((oe,ee)=>oe.overflows[1]-ee.overflows[1])[0])==null?void 0:j.placement;if(!W)switch(_){case"bestFit":{var F;const oe=(F=U.filter(ee=>{if(K){const be=Ai(ee.placement);return be===S||be==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(be=>be>0).reduce((be,q)=>be+q,0)]).sort((ee,be)=>ee[1]-be[1])[0])==null?void 0:F[0];oe&&(W=oe);break}case"initialPlacement":W=u;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function JA(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function eT(n){return FL.some(e=>n[e]>=0)}const JL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=va(n,e);switch(r){case"referenceHidden":{const a=await Yc(e,{...i,elementContext:"reference"}),s=JA(a,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:eT(s)}}}case"escaped":{const a=await Yc(e,{...i,altBoundary:!0}),s=JA(a,t.floating);return{data:{escapedOffsets:s,escaped:eT(s)}}}default:return{}}}}},L3=new Set(["left","top"]);async function ek(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ma(t),u=uu(t),c=Ai(t)==="y",h=L3.has(s)?-1:1,p=a&&c?-1:1,v=va(e,n);let{mainAxis:y,crossAxis:_,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof w=="number"&&(_=u==="end"?w*-1:w),c?{x:_*p,y:y*h}:{x:y*h,y:_*p}}const tk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:s,middlewareData:u}=e,c=await ek(e,n);return s===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},nk=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:T=>{let{x:I,y:S}=T;return{x:I,y:S}}},...c}=va(n,e),h={x:t,y:r},p=await Yc(e,c),v=Ai(ma(i)),y=wy(v);let _=h[y],w=h[v];if(a){const T=y==="y"?"top":"left",I=y==="y"?"bottom":"right",S=_+p[T],O=_-p[I];_=Kv(S,_,O)}if(s){const T=v==="y"?"top":"left",I=v==="y"?"bottom":"right",S=w+p[T],O=w-p[I];w=Kv(S,w,O)}const A=u.fn({...e,[y]:_,[v]:w});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[y]:a,[v]:s}}}}}},rk=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=va(n,e),p={x:t,y:r},v=Ai(i),y=wy(v);let _=p[y],w=p[v];const A=va(u,e),T=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(c){const O=y==="y"?"height":"width",k=a.reference[y]-a.floating[O]+T.mainAxis,z=a.reference[y]+a.reference[O]-T.mainAxis;_<k?_=k:_>z&&(_=z)}if(h){var I,S;const O=y==="y"?"width":"height",k=L3.has(ma(i)),z=a.reference[v]-a.floating[O]+(k&&((I=s.offset)==null?void 0:I[v])||0)+(k?0:T.crossAxis),K=a.reference[v]+a.reference[O]+(k?0:((S=s.offset)==null?void 0:S[v])||0)-(k?T.crossAxis:0);w<z?w=z:w>K&&(w=K)}return{[y]:_,[v]:w}}}},ik=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:s,elements:u}=e,{apply:c=()=>{},...h}=va(n,e),p=await Yc(e,h),v=ma(i),y=uu(i),_=Ai(i)==="y",{width:w,height:A}=a.floating;let T,I;v==="top"||v==="bottom"?(T=v,I=y===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(I=v,T=y==="end"?"top":"bottom");const S=A-p.top-p.bottom,O=w-p.left-p.right,k=Ao(A-p[T],S),z=Ao(w-p[I],O),K=!e.middlewareData.shift;let D=k,R=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=S),K&&!y){const U=xr(p.left,0),H=xr(p.right,0),j=xr(p.top,0),F=xr(p.bottom,0);_?R=w-2*(U!==0||H!==0?U+H:xr(p.left,p.right)):D=A-2*(j!==0||F!==0?j+F:xr(p.top,p.bottom))}await c({...e,availableWidth:R,availableHeight:D});const L=await s.getDimensions(u.floating);return w!==L.width||A!==L.height?{reset:{rects:!0}}:{}}}};function S0(){return typeof window<"u"}function cu(n){return k3(n)?(n.nodeName||"").toLowerCase():"#document"}function Ar(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Pi(n){var e;return(e=(k3(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function k3(n){return S0()?n instanceof Node||n instanceof Ar(n).Node:!1}function ei(n){return S0()?n instanceof Element||n instanceof Ar(n).Element:!1}function Ni(n){return S0()?n instanceof HTMLElement||n instanceof Ar(n).HTMLElement:!1}function tT(n){return!S0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ar(n).ShadowRoot}const ak=new Set(["inline","contents"]);function df(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ti(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!ak.has(i)}const ok=new Set(["table","td","th"]);function sk(n){return ok.has(cu(n))}const lk=[":popover-open",":modal"];function I0(n){return lk.some(e=>{try{return n.matches(e)}catch{return!1}})}const uk=["transform","translate","scale","rotate","perspective"],ck=["transform","translate","scale","rotate","perspective","filter"],fk=["paint","layout","strict","content"];function Ty(n){const e=by(),t=ei(n)?ti(n):n;return uk.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ck.some(r=>(t.willChange||"").includes(r))||fk.some(r=>(t.contain||"").includes(r))}function hk(n){let e=To(n);for(;Ni(e)&&!Zl(e);){if(Ty(e))return e;if(I0(e))return null;e=To(e)}return null}function by(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dk=new Set(["html","body","#document"]);function Zl(n){return dk.has(cu(n))}function ti(n){return Ar(n).getComputedStyle(n)}function R0(n){return ei(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function To(n){if(cu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||tT(n)&&n.host||Pi(n);return tT(e)?e.host:e}function B3(n){const e=To(n);return Zl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ni(e)&&df(e)?e:B3(e)}function $c(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=B3(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),s=Ar(i);if(a){const u=Yv(s);return e.concat(s,s.visualViewport||[],df(i)?i:[],u&&t?$c(u):[])}return e.concat(i,$c(i,[],t))}function Yv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function V3(n){const e=ti(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ni(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,u=qd(t)!==a||qd(r)!==s;return u&&(t=a,r=s),{width:t,height:r,$:u}}function Cy(n){return ei(n)?n:n.contextElement}function Ul(n){const e=Cy(n);if(!Ni(e))return Ri(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=V3(e);let s=(a?qd(t.width):t.width)/r,u=(a?qd(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const pk=Ri(0);function F3(n){const e=Ar(n);return!by()||!e.visualViewport?pk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ar(n)?!1:e}function Ts(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Cy(n);let s=Ri(1);e&&(r?ei(r)&&(s=Ul(r)):s=Ul(n));const u=gk(a,t,r)?F3(a):Ri(0);let c=(i.left+u.x)/s.x,h=(i.top+u.y)/s.y,p=i.width/s.x,v=i.height/s.y;if(a){const y=Ar(a),_=r&&ei(r)?Ar(r):r;let w=y,A=Yv(w);for(;A&&r&&_!==w;){const T=Ul(A),I=A.getBoundingClientRect(),S=ti(A),O=I.left+(A.clientLeft+parseFloat(S.paddingLeft))*T.x,k=I.top+(A.clientTop+parseFloat(S.paddingTop))*T.y;c*=T.x,h*=T.y,p*=T.x,v*=T.y,c+=O,h+=k,w=Ar(A),A=Yv(w)}}return Kd({width:p,height:v,x:c,y:h})}function Sy(n,e){const t=R0(n).scrollLeft;return e?e.left+t:Ts(Pi(n)).left+t}function U3(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Sy(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function vk(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",s=Pi(r),u=e?I0(e.floating):!1;if(r===s||u&&a)return t;let c={scrollLeft:0,scrollTop:0},h=Ri(1);const p=Ri(0),v=Ni(r);if((v||!v&&!a)&&((cu(r)!=="body"||df(s))&&(c=R0(r)),Ni(r))){const _=Ts(r);h=Ul(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const y=s&&!v&&!a?U3(s,c,!0):Ri(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-c.scrollLeft*h.x+p.x+y.x,y:t.y*h.y-c.scrollTop*h.y+p.y+y.y}}function mk(n){return Array.from(n.getClientRects())}function yk(n){const e=Pi(n),t=R0(n),r=n.ownerDocument.body,i=xr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=xr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+Sy(n);const u=-t.scrollTop;return ti(r).direction==="rtl"&&(s+=xr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:u}}function _k(n,e){const t=Ar(n),r=Pi(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const h=by();(!h||h&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u,y:c}}const xk=new Set(["absolute","fixed"]);function wk(n,e){const t=Ts(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Ni(n)?Ul(n):Ri(1),s=n.clientWidth*a.x,u=n.clientHeight*a.y,c=i*a.x,h=r*a.y;return{width:s,height:u,x:c,y:h}}function nT(n,e,t){let r;if(e==="viewport")r=_k(n,t);else if(e==="document")r=yk(Pi(n));else if(ei(e))r=wk(e,t);else{const i=F3(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Kd(r)}function z3(n,e){const t=To(n);return t===e||!ei(t)||Zl(t)?!1:ti(t).position==="fixed"||z3(t,e)}function Ek(n,e){const t=e.get(n);if(t)return t;let r=$c(n,[],!1).filter(u=>ei(u)&&cu(u)!=="body"),i=null;const a=ti(n).position==="fixed";let s=a?To(n):n;for(;ei(s)&&!Zl(s);){const u=ti(s),c=Ty(s);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&xk.has(i.position)||df(s)&&!c&&z3(n,s))?r=r.filter(p=>p!==s):i=u,s=To(s)}return e.set(n,r),r}function Ak(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?I0(e)?[]:Ek(e,this._c):[].concat(t),r],u=s[0],c=s.reduce((h,p)=>{const v=nT(e,p,i);return h.top=xr(v.top,h.top),h.right=Ao(v.right,h.right),h.bottom=Ao(v.bottom,h.bottom),h.left=xr(v.left,h.left),h},nT(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Tk(n){const{width:e,height:t}=V3(n);return{width:e,height:t}}function bk(n,e,t){const r=Ni(e),i=Pi(e),a=t==="fixed",s=Ts(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const c=Ri(0);function h(){c.x=Sy(i)}if(r||!r&&!a)if((cu(e)!=="body"||df(i))&&(u=R0(e)),r){const _=Ts(e,!0,a,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else i&&h();a&&!r&&i&&h();const p=i&&!r&&!a?U3(i,u):Ri(0),v=s.left+u.scrollLeft-c.x-p.x,y=s.top+u.scrollTop-c.y-p.y;return{x:v,y,width:s.width,height:s.height}}function iv(n){return ti(n).position==="static"}function rT(n,e){if(!Ni(n)||ti(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Pi(n)===t&&(t=t.ownerDocument.body),t}function j3(n,e){const t=Ar(n);if(I0(n))return t;if(!Ni(n)){let i=To(n);for(;i&&!Zl(i);){if(ei(i)&&!iv(i))return i;i=To(i)}return t}let r=rT(n,e);for(;r&&sk(r)&&iv(r);)r=rT(r,e);return r&&Zl(r)&&iv(r)&&!Ty(r)?t:r||hk(n)||t}const Ck=async function(n){const e=this.getOffsetParent||j3,t=this.getDimensions,r=await t(n.floating);return{reference:bk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Sk(n){return ti(n).direction==="rtl"}const Ik={convertOffsetParentRelativeRectToViewportRelativeRect:vk,getDocumentElement:Pi,getClippingRect:Ak,getOffsetParent:j3,getElementRects:Ck,getClientRects:mk,getDimensions:Tk,getScale:Ul,isElement:ei,isRTL:Sk};function H3(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Rk(n,e){let t=null,r;const i=Pi(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const h=n.getBoundingClientRect(),{left:p,top:v,width:y,height:_}=h;if(u||e(),!y||!_)return;const w=ed(v),A=ed(i.clientWidth-(p+y)),T=ed(i.clientHeight-(v+_)),I=ed(p),O={rootMargin:-w+"px "+-A+"px "+-T+"px "+-I+"px",threshold:xr(0,Ao(1,c))||1};let k=!0;function z(K){const D=K[0].intersectionRatio;if(D!==c){if(!k)return s();D?s(!1,D):r=setTimeout(()=>{s(!1,1e-7)},1e3)}D===1&&!H3(h,n.getBoundingClientRect())&&s(),k=!1}try{t=new IntersectionObserver(z,{...O,root:i.ownerDocument})}catch{t=new IntersectionObserver(z,O)}t.observe(n)}return s(!0),a}function Ok(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=Cy(n),p=i||a?[...h?$c(h):[],...$c(e)]:[];p.forEach(I=>{i&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const v=h&&u?Rk(h,t):null;let y=-1,_=null;s&&(_=new ResizeObserver(I=>{let[S]=I;S&&S.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(e)})),t()}),h&&!c&&_.observe(h),_.observe(e));let w,A=c?Ts(n):null;c&&T();function T(){const I=Ts(n);A&&!H3(A,I)&&t(),A=I,w=requestAnimationFrame(T)}return t(),()=>{var I;p.forEach(S=>{i&&S.removeEventListener("scroll",t),a&&S.removeEventListener("resize",t)}),v==null||v(),(I=_)==null||I.disconnect(),_=null,c&&cancelAnimationFrame(w)}}const Dk=tk,Nk=nk,Mk=ZL,Pk=ik,Lk=JL,iT=QL,kk=rk,Bk=(n,e,t)=>{const r=new Map,i={platform:Ik,...t},a={...i.platform,_c:r};return $L(n,e,{...i,platform:a})};var Vk=typeof document<"u",Fk=function(){},_d=Vk?M.useLayoutEffect:Fk;function Wd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Wd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Wd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function G3(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function aT(n,e){const t=G3(n);return Math.round(e*t)/t}function av(n){const e=M.useRef(n);return _d(()=>{e.current=n}),e}function Uk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:c,open:h}=n,[p,v]=M.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=M.useState(r);Wd(y,r)||_(r);const[w,A]=M.useState(null),[T,I]=M.useState(null),S=M.useCallback(ee=>{ee!==K.current&&(K.current=ee,A(ee))},[]),O=M.useCallback(ee=>{ee!==D.current&&(D.current=ee,I(ee))},[]),k=a||w,z=s||T,K=M.useRef(null),D=M.useRef(null),R=M.useRef(p),L=c!=null,U=av(c),H=av(i),j=av(h),F=M.useCallback(()=>{if(!K.current||!D.current)return;const ee={placement:e,strategy:t,middleware:y};H.current&&(ee.platform=H.current),Bk(K.current,D.current,ee).then(be=>{const q={...be,isPositioned:j.current!==!1};_e.current&&!Wd(R.current,q)&&(R.current=q,Zc.flushSync(()=>{v(q)}))})},[y,e,t,H,j]);_d(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,v(ee=>({...ee,isPositioned:!1})))},[h]);const _e=M.useRef(!1);_d(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_d(()=>{if(k&&(K.current=k),z&&(D.current=z),k&&z){if(U.current)return U.current(k,z,F);F()}},[k,z,F,U,L]);const xe=M.useMemo(()=>({reference:K,floating:D,setReference:S,setFloating:O}),[S,O]),W=M.useMemo(()=>({reference:k,floating:z}),[k,z]),oe=M.useMemo(()=>{const ee={position:t,left:0,top:0};if(!W.floating)return ee;const be=aT(W.floating,p.x),q=aT(W.floating,p.y);return u?{...ee,transform:"translate("+be+"px, "+q+"px)",...G3(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:q}},[t,u,W.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:F,refs:xe,elements:W,floatingStyles:oe}),[p,F,xe,W,oe])}const zk=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?iT({element:r.current,padding:i}).fn(t):{}:r?iT({element:r,padding:i}).fn(t):{}}}},jk=(n,e)=>({...Dk(n),options:[n,e]}),Hk=(n,e)=>({...Nk(n),options:[n,e]}),Gk=(n,e)=>({...kk(n),options:[n,e]}),qk=(n,e)=>({...Mk(n),options:[n,e]}),Xk=(n,e)=>({...Pk(n),options:[n,e]}),Kk=(n,e)=>({...Lk(n),options:[n,e]}),Wk=(n,e)=>({...zk(n),options:[n,e]});var Yk="Arrow",q3=M.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return B.jsx(st.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});q3.displayName=Yk;var $k=q3;function Qk(n){const[e,t]=M.useState(void 0);return Xn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,u;if("borderBoxSize"in a){const c=a.borderBoxSize,h=Array.isArray(c)?c[0]:c;s=h.inlineSize,u=h.blockSize}else s=n.offsetWidth,u=n.offsetHeight;t({width:s,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Iy="Popper",[X3,O0]=Ss(Iy),[Zk,K3]=X3(Iy),W3=n=>{const{__scopePopper:e,children:t}=n,[r,i]=M.useState(null);return B.jsx(Zk,{scope:e,anchor:r,onAnchorChange:i,children:t})};W3.displayName=Iy;var Y3="PopperAnchor",$3=M.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=K3(Y3,t),s=M.useRef(null),u=Vt(e,s);return M.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:B.jsx(st.div,{...i,ref:u})});$3.displayName=Y3;var Ry="PopperContent",[Jk,eB]=X3(Ry),Q3=M.forwardRef((n,e)=>{var ge,Ie,ut,Ge,ze,je;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:w,...A}=n,T=K3(Ry,t),[I,S]=M.useState(null),O=Vt(e,Gt=>S(Gt)),[k,z]=M.useState(null),K=Qk(k),D=(K==null?void 0:K.width)??0,R=(K==null?void 0:K.height)??0,L=r+(a!=="center"?"-"+a:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},H=Array.isArray(h)?h:[h],j=H.length>0,F={padding:U,boundary:H.filter(nB),altBoundary:j},{refs:_e,floatingStyles:xe,placement:W,isPositioned:oe,middlewareData:ee}=Uk({strategy:"fixed",placement:L,whileElementsMounted:(...Gt)=>Ok(...Gt,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[jk({mainAxis:i+R,alignmentAxis:s}),c&&Hk({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Gk():void 0,...F}),c&&qk({...F}),Xk({...F,apply:({elements:Gt,rects:vn,availableWidth:Fr,availableHeight:ri})=>{const{width:mn,height:du}=vn.reference,ii=Gt.floating.style;ii.setProperty("--radix-popper-available-width",`${Fr}px`),ii.setProperty("--radix-popper-available-height",`${ri}px`),ii.setProperty("--radix-popper-anchor-width",`${mn}px`),ii.setProperty("--radix-popper-anchor-height",`${du}px`)}}),k&&Wk({element:k,padding:u}),rB({arrowWidth:D,arrowHeight:R}),y&&Kk({strategy:"referenceHidden",...F})]}),[be,q]=eI(W),se=go(w);Xn(()=>{oe&&(se==null||se())},[oe,se]);const de=(ge=ee.arrow)==null?void 0:ge.x,ce=(Ie=ee.arrow)==null?void 0:Ie.y,me=((ut=ee.arrow)==null?void 0:ut.centerOffset)!==0,[Pe,Ce]=M.useState();return Xn(()=>{I&&Ce(window.getComputedStyle(I).zIndex)},[I]),B.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:oe?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Ge=ee.transformOrigin)==null?void 0:Ge.x,(ze=ee.transformOrigin)==null?void 0:ze.y].join(" "),...((je=ee.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:B.jsx(Jk,{scope:t,placedSide:be,onArrowChange:z,arrowX:de,arrowY:ce,shouldHideArrow:me,children:B.jsx(st.div,{"data-side":be,"data-align":q,...A,ref:O,style:{...A.style,animation:oe?void 0:"none"}})})})});Q3.displayName=Ry;var Z3="PopperArrow",tB={top:"bottom",right:"left",bottom:"top",left:"right"},J3=M.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=eB(Z3,r),s=tB[a.placedSide];return B.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:B.jsx($k,{...i,ref:t,style:{...i.style,display:"block"}})})});J3.displayName=Z3;function nB(n){return n!==null}var rB=n=>({name:"transformOrigin",options:n,fn(e){var T,I,S;const{placement:t,rects:r,middlewareData:i}=e,s=((T=i.arrow)==null?void 0:T.centerOffset)!==0,u=s?0:n.arrowWidth,c=s?0:n.arrowHeight,[h,p]=eI(t),v={start:"0%",center:"50%",end:"100%"}[p],y=(((I=i.arrow)==null?void 0:I.x)??0)+u/2,_=(((S=i.arrow)==null?void 0:S.y)??0)+c/2;let w="",A="";return h==="bottom"?(w=s?v:`${y}px`,A=`${-c}px`):h==="top"?(w=s?v:`${y}px`,A=`${r.floating.height+c}px`):h==="right"?(w=`${-c}px`,A=s?v:`${_}px`):h==="left"&&(w=`${r.floating.width+c}px`,A=s?v:`${_}px`),{data:{x:w,y:A}}}});function eI(n){const[e,t="center"]=n.split("-");return[e,t]}var tI=W3,nI=$3,rI=Q3,iI=J3;function iB(n){const e=M.useRef({value:n,previous:n});return M.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var aI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aB="VisuallyHidden",oI=M.forwardRef((n,e)=>B.jsx(st.span,{...n,ref:e,style:{...aI,...n.style}}));oI.displayName=aB;var oB=oI,sB=[" ","Enter","ArrowUp","ArrowDown"],lB=[" ","Enter"],bs="Select",[D0,N0,uB]=YT(bs),[fu,mj]=Ss(bs,[uB,O0]),M0=O0(),[cB,So]=fu(bs),[fB,hB]=fu(bs),sI=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:u,onValueChange:c,dir:h,name:p,autoComplete:v,disabled:y,required:_,form:w}=n,A=M0(e),[T,I]=M.useState(null),[S,O]=M.useState(null),[k,z]=M.useState(!1),K=wm(h),[D,R]=jl({prop:r,defaultProp:i??!1,onChange:a,caller:bs}),[L,U]=jl({prop:s,defaultProp:u,onChange:c,caller:bs}),H=M.useRef(null),j=T?w||!!T.closest("form"):!0,[F,_e]=M.useState(new Set),xe=Array.from(F).map(W=>W.props.value).join(";");return B.jsx(tI,{...A,children:B.jsxs(cB,{required:_,scope:e,trigger:T,onTriggerChange:I,valueNode:S,onValueNodeChange:O,valueNodeHasChildren:k,onValueNodeHasChildrenChange:z,contentId:ua(),value:L,onValueChange:U,open:D,onOpenChange:R,dir:K,triggerPointerDownPosRef:H,disabled:y,children:[B.jsx(D0.Provider,{scope:e,children:B.jsx(fB,{scope:n.__scopeSelect,onNativeOptionAdd:M.useCallback(W=>{_e(oe=>new Set(oe).add(W))},[]),onNativeOptionRemove:M.useCallback(W=>{_e(oe=>{const ee=new Set(oe);return ee.delete(W),ee})},[]),children:t})}),j?B.jsxs(RI,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:v,value:L,onChange:W=>U(W.target.value),disabled:y,form:w,children:[L===void 0?B.jsx("option",{value:""}):null,Array.from(F)]},xe):null]})})};sI.displayName=bs;var lI="SelectTrigger",uI=M.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=M0(t),s=So(lI,t),u=s.disabled||r,c=Vt(e,s.onTriggerChange),h=N0(t),p=M.useRef("touch"),[v,y,_]=DI(A=>{const T=h().filter(O=>!O.disabled),I=T.find(O=>O.value===s.value),S=NI(T,A,I);S!==void 0&&s.onValueChange(S.value)}),w=A=>{u||(s.onOpenChange(!0),_()),A&&(s.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return B.jsx(nI,{asChild:!0,...a,children:B.jsx(st.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":OI(s.value)?"":void 0,...i,ref:c,onClick:qe(i.onClick,A=>{A.currentTarget.focus(),p.current!=="mouse"&&w(A)}),onPointerDown:qe(i.onPointerDown,A=>{p.current=A.pointerType;const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(w(A),A.preventDefault())}),onKeyDown:qe(i.onKeyDown,A=>{const T=v.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&y(A.key),!(T&&A.key===" ")&&sB.includes(A.key)&&(w(),A.preventDefault())})})})});uI.displayName=lI;var cI="SelectValue",fI=M.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:s="",...u}=n,c=So(cI,t),{onValueNodeHasChildrenChange:h}=c,p=a!==void 0,v=Vt(e,c.onValueNodeChange);return Xn(()=>{h(p)},[h,p]),B.jsx(st.span,{...u,ref:v,style:{pointerEvents:"none"},children:OI(c.value)?B.jsx(B.Fragment,{children:s}):a})});fI.displayName=cI;var dB="SelectIcon",hI=M.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return B.jsx(st.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});hI.displayName=dB;var pB="SelectPortal",dI=n=>B.jsx(E0,{asChild:!0,...n});dI.displayName=pB;var Cs="SelectContent",pI=M.forwardRef((n,e)=>{const t=So(Cs,n.__scopeSelect),[r,i]=M.useState();if(Xn(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Zc.createPortal(B.jsx(gI,{scope:n.__scopeSelect,children:B.jsx(D0.Slot,{scope:n.__scopeSelect,children:B.jsx("div",{children:n.children})})}),a):null}return B.jsx(vI,{...n,ref:e})});pI.displayName=Cs;var Wr=10,[gI,Io]=fu(Cs),gB="SelectContentImpl",vB=zl("SelectContent.RemoveScroll"),vI=M.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:_,sticky:w,hideWhenDetached:A,avoidCollisions:T,...I}=n,S=So(Cs,t),[O,k]=M.useState(null),[z,K]=M.useState(null),D=Vt(e,ge=>k(ge)),[R,L]=M.useState(null),[U,H]=M.useState(null),j=N0(t),[F,_e]=M.useState(!1),xe=M.useRef(!1);M.useEffect(()=>{if(O)return a3(O)},[O]),QS();const W=M.useCallback(ge=>{const[Ie,...ut]=j().map(je=>je.ref.current),[Ge]=ut.slice(-1),ze=document.activeElement;for(const je of ge)if(je===ze||(je==null||je.scrollIntoView({block:"nearest"}),je===Ie&&z&&(z.scrollTop=0),je===Ge&&z&&(z.scrollTop=z.scrollHeight),je==null||je.focus(),document.activeElement!==ze))return},[j,z]),oe=M.useCallback(()=>W([R,O]),[W,R,O]);M.useEffect(()=>{F&&oe()},[F,oe]);const{onOpenChange:ee,triggerPointerDownPosRef:be}=S;M.useEffect(()=>{if(O){let ge={x:0,y:0};const Ie=Ge=>{var ze,je;ge={x:Math.abs(Math.round(Ge.pageX)-(((ze=be.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((je=be.current)==null?void 0:je.y)??0))}},ut=Ge=>{ge.x<=10&&ge.y<=10?Ge.preventDefault():O.contains(Ge.target)||ee(!1),document.removeEventListener("pointermove",Ie),be.current=null};return be.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",ut,{capture:!0})}}},[O,ee,be]),M.useEffect(()=>{const ge=()=>ee(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[ee]);const[q,se]=DI(ge=>{const Ie=j().filter(ze=>!ze.disabled),ut=Ie.find(ze=>ze.ref.current===document.activeElement),Ge=NI(Ie,ge,ut);Ge&&setTimeout(()=>Ge.ref.current.focus())}),de=M.useCallback((ge,Ie,ut)=>{const Ge=!xe.current&&!ut;(S.value!==void 0&&S.value===Ie||Ge)&&(L(ge),Ge&&(xe.current=!0))},[S.value]),ce=M.useCallback(()=>O==null?void 0:O.focus(),[O]),me=M.useCallback((ge,Ie,ut)=>{const Ge=!xe.current&&!ut;(S.value!==void 0&&S.value===Ie||Ge)&&H(ge)},[S.value]),Pe=r==="popper"?$v:mI,Ce=Pe===$v?{side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:y,collisionPadding:_,sticky:w,hideWhenDetached:A,avoidCollisions:T}:{};return B.jsx(gI,{scope:t,content:O,viewport:z,onViewportChange:K,itemRefCallback:de,selectedItem:R,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:oe,selectedItemText:U,position:r,isPositioned:F,searchRef:q,children:B.jsx(gy,{as:vB,allowPinchZoom:!0,children:B.jsx(py,{asChild:!0,trapped:S.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:qe(i,ge=>{var Ie;(Ie=S.trigger)==null||Ie.focus({preventScroll:!0}),ge.preventDefault()}),children:B.jsx(w0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:B.jsx(Pe,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ge=>ge.preventDefault(),...I,...Ce,onPlaced:()=>_e(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:qe(I.onKeyDown,ge=>{const Ie=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Ie&&ge.key.length===1&&se(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ge=j().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const ze=ge.target,je=Ge.indexOf(ze);Ge=Ge.slice(je+1)}setTimeout(()=>W(Ge)),ge.preventDefault()}})})})})})})});vI.displayName=gB;var mB="SelectItemAlignedPosition",mI=M.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=So(Cs,t),s=Io(Cs,t),[u,c]=M.useState(null),[h,p]=M.useState(null),v=Vt(e,D=>p(D)),y=N0(t),_=M.useRef(!1),w=M.useRef(!0),{viewport:A,selectedItem:T,selectedItemText:I,focusSelectedItem:S}=s,O=M.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&A&&T&&I){const D=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),L=a.valueNode.getBoundingClientRect(),U=I.getBoundingClientRect();if(a.dir!=="rtl"){const ze=U.left-R.left,je=L.left-ze,Gt=D.left-je,vn=D.width+Gt,Fr=Math.max(vn,R.width),ri=window.innerWidth-Wr,mn=YA(je,[Wr,Math.max(Wr,ri-Fr)]);u.style.minWidth=vn+"px",u.style.left=mn+"px"}else{const ze=R.right-U.right,je=window.innerWidth-L.right-ze,Gt=window.innerWidth-D.right-je,vn=D.width+Gt,Fr=Math.max(vn,R.width),ri=window.innerWidth-Wr,mn=YA(je,[Wr,Math.max(Wr,ri-Fr)]);u.style.minWidth=vn+"px",u.style.right=mn+"px"}const H=y(),j=window.innerHeight-Wr*2,F=A.scrollHeight,_e=window.getComputedStyle(h),xe=parseInt(_e.borderTopWidth,10),W=parseInt(_e.paddingTop,10),oe=parseInt(_e.borderBottomWidth,10),ee=parseInt(_e.paddingBottom,10),be=xe+W+F+ee+oe,q=Math.min(T.offsetHeight*5,be),se=window.getComputedStyle(A),de=parseInt(se.paddingTop,10),ce=parseInt(se.paddingBottom,10),me=D.top+D.height/2-Wr,Pe=j-me,Ce=T.offsetHeight/2,ge=T.offsetTop+Ce,Ie=xe+W+ge,ut=be-Ie;if(Ie<=me){const ze=H.length>0&&T===H[H.length-1].ref.current;u.style.bottom="0px";const je=h.clientHeight-A.offsetTop-A.offsetHeight,Gt=Math.max(Pe,Ce+(ze?ce:0)+je+oe),vn=Ie+Gt;u.style.height=vn+"px"}else{const ze=H.length>0&&T===H[0].ref.current;u.style.top="0px";const Gt=Math.max(me,xe+A.offsetTop+(ze?de:0)+Ce)+ut;u.style.height=Gt+"px",A.scrollTop=Ie-me+A.offsetTop}u.style.margin=`${Wr}px 0`,u.style.minHeight=q+"px",u.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[y,a.trigger,a.valueNode,u,h,A,T,I,a.dir,r]);Xn(()=>O(),[O]);const[k,z]=M.useState();Xn(()=>{h&&z(window.getComputedStyle(h).zIndex)},[h]);const K=M.useCallback(D=>{D&&w.current===!0&&(O(),S==null||S(),w.current=!1)},[O,S]);return B.jsx(_B,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:K,children:B.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:B.jsx(st.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mI.displayName=mB;var yB="SelectPopperPosition",$v=M.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Wr,...a}=n,s=M0(t);return B.jsx(rI,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$v.displayName=yB;var[_B,Oy]=fu(Cs,{}),Qv="SelectViewport",yI=M.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=Io(Qv,t),s=Oy(Qv,t),u=Vt(e,a.onViewportChange),c=M.useRef(0);return B.jsxs(B.Fragment,{children:[B.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),B.jsx(D0.Slot,{scope:t,children:B.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&v){const _=Math.abs(c.current-p.scrollTop);if(_>0){const w=window.innerHeight-Wr*2,A=parseFloat(v.style.minHeight),T=parseFloat(v.style.height),I=Math.max(A,T);if(I<w){const S=I+_,O=Math.min(w,S),k=S-O;v.style.height=O+"px",v.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,v.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});yI.displayName=Qv;var _I="SelectGroup",[xB,wB]=fu(_I),EB=M.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=ua();return B.jsx(xB,{scope:t,id:i,children:B.jsx(st.div,{role:"group","aria-labelledby":i,...r,ref:e})})});EB.displayName=_I;var xI="SelectLabel",AB=M.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=wB(xI,t);return B.jsx(st.div,{id:i.id,...r,ref:e})});AB.displayName=xI;var Yd="SelectItem",[TB,wI]=fu(Yd),EI=M.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...s}=n,u=So(Yd,t),c=Io(Yd,t),h=u.value===r,[p,v]=M.useState(a??""),[y,_]=M.useState(!1),w=Vt(e,S=>{var O;return(O=c.itemRefCallback)==null?void 0:O.call(c,S,r,i)}),A=ua(),T=M.useRef("touch"),I=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return B.jsx(TB,{scope:t,value:r,disabled:i,textId:A,isSelected:h,onItemTextChange:M.useCallback(S=>{v(O=>O||((S==null?void 0:S.textContent)??"").trim())},[]),children:B.jsx(D0.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:B.jsx(st.div,{role:"option","aria-labelledby":A,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:w,onFocus:qe(s.onFocus,()=>_(!0)),onBlur:qe(s.onBlur,()=>_(!1)),onClick:qe(s.onClick,()=>{T.current!=="mouse"&&I()}),onPointerUp:qe(s.onPointerUp,()=>{T.current==="mouse"&&I()}),onPointerDown:qe(s.onPointerDown,S=>{T.current=S.pointerType}),onPointerMove:qe(s.onPointerMove,S=>{var O;T.current=S.pointerType,i?(O=c.onItemLeave)==null||O.call(c):T.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(s.onPointerLeave,S=>{var O;S.currentTarget===document.activeElement&&((O=c.onItemLeave)==null||O.call(c))}),onKeyDown:qe(s.onKeyDown,S=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(lB.includes(S.key)&&I(),S.key===" "&&S.preventDefault())})})})})});EI.displayName=Yd;var Oc="SelectItemText",AI=M.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,s=So(Oc,t),u=Io(Oc,t),c=wI(Oc,t),h=hB(Oc,t),[p,v]=M.useState(null),y=Vt(e,I=>v(I),c.onItemTextChange,I=>{var S;return(S=u.itemTextRefCallback)==null?void 0:S.call(u,I,c.value,c.disabled)}),_=p==null?void 0:p.textContent,w=M.useMemo(()=>B.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:A,onNativeOptionRemove:T}=h;return Xn(()=>(A(w),()=>T(w)),[A,T,w]),B.jsxs(B.Fragment,{children:[B.jsx(st.span,{id:c.textId,...a,ref:y}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Zc.createPortal(a.children,s.valueNode):null]})});AI.displayName=Oc;var TI="SelectItemIndicator",bI=M.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return wI(TI,t).isSelected?B.jsx(st.span,{"aria-hidden":!0,...r,ref:e}):null});bI.displayName=TI;var Zv="SelectScrollUpButton",CI=M.forwardRef((n,e)=>{const t=Io(Zv,n.__scopeSelect),r=Oy(Zv,n.__scopeSelect),[i,a]=M.useState(!1),s=Vt(e,r.onScrollButtonChange);return Xn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollTop>0;a(h)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?B.jsx(II,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});CI.displayName=Zv;var Jv="SelectScrollDownButton",SI=M.forwardRef((n,e)=>{const t=Io(Jv,n.__scopeSelect),r=Oy(Jv,n.__scopeSelect),[i,a]=M.useState(!1),s=Vt(e,r.onScrollButtonChange);return Xn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<h;a(p)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?B.jsx(II,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});SI.displayName=Jv;var II=M.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=Io("SelectScrollButton",t),s=M.useRef(null),u=N0(t),c=M.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return M.useEffect(()=>()=>c(),[c]),Xn(()=>{var p;const h=u().find(v=>v.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),B.jsx(st.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{c()})})}),bB="SelectSeparator",CB=M.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return B.jsx(st.div,{"aria-hidden":!0,...r,ref:e})});CB.displayName=bB;var em="SelectArrow",SB=M.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=M0(t),a=So(em,t),s=Io(em,t);return a.open&&s.position==="popper"?B.jsx(iI,{...i,...r,ref:e}):null});SB.displayName=em;var IB="SelectBubbleInput",RI=M.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=M.useRef(null),a=Vt(r,i),s=iB(e);return M.useEffect(()=>{const u=i.current;if(!u)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&p){const v=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(v)}},[s,e]),B.jsx(st.select,{...t,style:{...aI,...t.style},ref:a,defaultValue:e})});RI.displayName=IB;function OI(n){return n===""||n===void 0}function DI(n){const e=go(n),t=M.useRef(""),r=M.useRef(0),i=M.useCallback(s=>{const u=t.current+s;e(u),function c(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[e]),a=M.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function NI(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let s=RB(n,Math.max(a,0));i.length===1&&(s=s.filter(h=>h!==t));const c=s.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function RB(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var OB=sI,DB=uI,NB=fI,MB=hI,PB=dI,LB=pI,kB=yI,BB=EI,VB=AI,FB=bI,UB=CI,zB=SI;function jB({...n}){return B.jsx(OB,{"data-slot":"select",...n})}function HB({...n}){return B.jsx(NB,{"data-slot":"select-value",...n})}function GB({className:n,size:e="default",children:t,...r}){return B.jsxs(DB,{"data-slot":"select-trigger","data-size":e,className:It("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,B.jsx(MB,{asChild:!0,children:B.jsx(E3,{className:"size-4 opacity-50"})})]})}function qB({className:n,children:e,position:t="popper",...r}){return B.jsx(PB,{children:B.jsxs(LB,{"data-slot":"select-content",className:It("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[B.jsx(KB,{}),B.jsx(kB,{className:It("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),B.jsx(WB,{})]})})}function XB({className:n,children:e,...t}){return B.jsxs(BB,{"data-slot":"select-item",className:It("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[B.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:B.jsx(FB,{children:B.jsx(FP,{className:"size-4"})})}),B.jsx(VB,{children:e})]})}function KB({className:n,...e}){return B.jsx(UB,{"data-slot":"select-scroll-up-button",className:It("flex cursor-default items-center justify-center py-1",n),...e,children:B.jsx(jP,{className:"size-4"})})}function WB({className:n,...e}){return B.jsx(zB,{"data-slot":"select-scroll-down-button",className:It("flex cursor-default items-center justify-center py-1",n),...e,children:B.jsx(E3,{className:"size-4"})})}function MI({field:n,formData:e,handleSelectChange:t,className:r="",disabled:i=!1}){var a,s,u;return B.jsxs(jB,{name:n.name,value:String(e[n.name]||((s=(a=n.options)==null?void 0:a[0])==null?void 0:s.value)||""),onValueChange:c=>t(n.name,c),required:n.required,disabled:i,children:[B.jsx(GB,{className:r,children:B.jsx(HB,{placeholder:n.placeholder||`Select a ${n.label.toLowerCase()}`})}),B.jsx(qB,{children:(u=n.options)==null?void 0:u.map(c=>B.jsx(XB,{value:c.value,children:c.label},c.value))})]})}function tm({field:n,extraField:e,formData:t,handleInputChange:r,handleSelectChange:i,className:a="",disabled:s=!1}){return B.jsxs("div",{className:"flex items-end gap-2",children:[B.jsx(M3,{field:n,formData:t,handleInputChange:r,className:a,disabled:s}),B.jsx(MI,{field:e,formData:t,handleSelectChange:i,className:a})]})}function YB({field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i="",disabled:a=!1,extraFields:s}){var u;return B.jsxs("div",{className:"flex flex-col gap-2",children:[B.jsx(tm,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:s[0]}),B.jsx("span",{className:"text-2xl font-bold text-gray-700 mx-auto",children:"-"}),B.jsx(tm,{field:s[1],formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:(u=s[1].extraFields)==null?void 0:u[0]})]})}function PI({field:n,formData:e,handleInputChange:t,handleUnitChange:r,handleSelectChange:i,handleArrayOfObjectsChange:a}){function s(){var c;const u={select:B.jsx(MI,{field:n,formData:e,handleSelectChange:i,className:"w-full"},n.name),quantity:B.jsx(tm,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraField:(c=n.extraFields)==null?void 0:c[0]},n.name),reduceQuantity:B.jsx(YB,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraFields:n.extraFields||[]},n.name),arrayOfObjects:B.jsx(BL,{field:n,value:e[n.name],handleArrayOfObjectsChange:a},n.name),default:B.jsx(M3,{field:n,formData:e,handleInputChange:t},n.name)};return n.type in u?u[n.type]:u.default}return s()}function LI({isOpen:n,showModal:e,title:t,description:r,fields:i,initialData:a,submitButtonText:s="Save",handleSave:u}){const[c,h]=M.useState(a||{}),p=M.useCallback(T=>T.type==="number"?0:T.type==="select"&&T.options&&T.options.length>0?T.options[0].value:"",[]),v=M.useCallback((T,I)=>(T.forEach(S=>{const O=a&&a[S.name];a&&O!==void 0?I[S.name]=O:I[S.name]=p(S),S.extraFields&&S.extraFields.length>0&&(I=v(S.extraFields,I))}),I),[a,p]);M.useEffect(()=>{let T={};T=v(i,T),h(T)},[n,i,v]);const y=T=>{const{name:I,value:S,type:O}=T.target;h(k=>({...k,[I]:O==="number"?parseFloat(S):S}))},_=(T,I,S,O)=>{var D;const k=(D=O.extraFields)==null?void 0:D[0].name;if(!k)return;const{val:z,unit:K}=D3(T,I,S);h(R=>({...R,[O.name]:z,[k]:K}))},w=(T,I)=>{h(S=>({...S,[T]:I}))},A=T=>{T.preventDefault(),u({...c,createdDate:new Date})};return B.jsx(qP,{open:n,onOpenChange:()=>e(!1),children:B.jsxs(WP,{className:"sm:max-w-[425px] p-6 rounded-lg shadow-xl",children:[B.jsxs(YP,{children:[B.jsx($P,{className:"text-2xl font-bold text-indigo-700",children:t}),r&&B.jsx(QP,{className:"text-gray-600",children:r})]}),B.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 gap-4 py-4",children:[i.map(T=>B.jsxs("div",{className:"space-y-2",children:[B.jsx(T3,{htmlFor:T.name,children:T.label}),B.jsx(PI,{field:T,formData:c,handleInputChange:y,handleUnitChange:(I,S)=>_(c[T.name],c[I],S,T),handleSelectChange:w,handleArrayOfObjectsChange:I=>{h(S=>({...S,[T.name]:I}))}})]},T.name)),B.jsx(ca,{type:"submit",className:"w-full mt-4",children:s})]})]})})}const $B=()=>[{value:"Vegetable",label:"Vegetable"},{value:"Meat",label:"Meat"},{value:"Carbohydrate",label:"Carbohydrate"},{value:"Dairy",label:"Dairy"},{value:"Fruit",label:"Fruit"},{value:"Spice",label:"Spice"},{value:"Condiment",label:"Condiment"},{value:"Other",label:"Other"}],QB=()=>[{value:"Pantry",label:"Pantry"},{value:"Fridge",label:"Fridge"},{value:"Freezer",label:"Freezer"},{value:"Cupboard",label:"Cupboard"}],xd=(n=!1)=>{const e=[{value:"g",label:"g"},{value:"kg",label:"kg"},{value:"ml",label:"ml"},{value:"l",label:"L"},{value:"oz",label:"oz"},{value:"lb",label:"lb"},{value:"unit",label:"unit(s)"}];return n?e:[...e,{value:"unit",label:"unit(s)"},{value:"Tbs",label:"tbsp"},{value:"tsp",label:"tsp"},{value:"cup",label:"cup"}]};function ZB(){const[n,e]=M.useState({title:"",description:"",initialData:void 0,dialogType:"create",fields:[]}),[t,r]=M.useState(!1),{data:i,createData:a,updateData:s,deleteData:u}=dy(),c=[{header:"Name",accessorKey:"name"},{header:"Quantity",accessorFn:S=>`${S.quantity} ${S.unit}`},{header:"Type",accessorKey:"type"},{header:"Location",accessorKey:"location"},{header:"Created Date",accessorFn:S=>{var O;return(O=S.createdDate)==null?void 0:O.toDate().toLocaleDateString()}}],h=[{name:"name",label:"Ingredient Name",type:"text",required:!0,placeholder:"e.g., Flour"},{name:"type",label:"Type",type:"select",required:!0,options:$B()},{name:"location",label:"Location",type:"select",required:!0,options:QB()}],p={name:"quantity",label:"Quantity",type:"quantity",min:0,step:.01,required:!0,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:xd(!0)}]},v={...p,type:"reduceQuantity",extraFields:[{name:"unit",label:"Unit",type:"select",options:xd(!0)},{name:"reduce_quantity",label:"Quantity",type:"quantity",min:0,step:.01,required:!1,placeholder:"e.g., 500",extraFields:[{name:"reduce_unit",label:"Unit",type:"select",options:xd()}]}]},y=[...h,p],_=[...h,v],w=()=>{e({title:"Add Item",dialogType:"create",fields:y}),r(!0)},A=S=>{e({title:"Edit Item",dialogType:"update",initialData:S,fields:_}),r(!0)},T=S=>{if(!("reduce_quantity"in S&&"reduce_unit"in S))return S;const{val:O,unit:k}=kL(S.quantity,S.unit,S.reduce_quantity,S.reduce_unit);return delete S.reduce_quantity,delete S.reduce_unit,{...S,quantity:O,unit:k}},I=async S=>{var k,z;S=T(S);const O={...S,createdDate:en.fromDate(new Date)};try{n.dialogType==="create"&&await a(O),n.dialogType==="update"&&S.quantity<=0?await u((k=n.initialData)==null?void 0:k.id):n.dialogType==="update"&&await s(O,(z=n.initialData)==null?void 0:z.id),r(!1)}catch(K){console.error("Error submitting data:",K)}};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"flex justify-end mb-4",children:[" ",B.jsxs(ca,{onClick:()=>w(),className:"shadow-md",children:[" ","Add New Item"]})]}),B.jsx(LI,{isOpen:t,showModal:r,handleSave:I,...n}),i.length===0?B.jsx("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Your pantry is empty. Add some items!"}):B.jsx(KS,{columns:c,data:i,openEditDialog:A})]})}var[P0,yj]=Ss("Tooltip",[O0]),L0=O0(),kI="TooltipProvider",JB=700,nm="tooltip.open",[eV,Dy]=P0(kI),BI=n=>{const{__scopeTooltip:e,delayDuration:t=JB,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,s=M.useRef(!0),u=M.useRef(!1),c=M.useRef(0);return M.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),B.jsx(eV,{scope:e,isOpenDelayedRef:s,delayDuration:t,onOpen:M.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:M.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:a})};BI.displayName=kI;var Qc="Tooltip",[tV,pf]=P0(Qc),VI=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:u}=n,c=Dy(Qc,n.__scopeTooltip),h=L0(e),[p,v]=M.useState(null),y=ua(),_=M.useRef(0),w=s??c.disableHoverableContent,A=u??c.delayDuration,T=M.useRef(!1),[I,S]=jl({prop:r,defaultProp:i??!1,onChange:D=>{D?(c.onOpen(),document.dispatchEvent(new CustomEvent(nm))):c.onClose(),a==null||a(D)},caller:Qc}),O=M.useMemo(()=>I?T.current?"delayed-open":"instant-open":"closed",[I]),k=M.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,S(!0)},[S]),z=M.useCallback(()=>{window.clearTimeout(_.current),_.current=0,S(!1)},[S]),K=M.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,S(!0),_.current=0},A)},[A,S]);return M.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),B.jsx(tI,{...h,children:B.jsx(tV,{scope:e,contentId:y,open:I,stateAttribute:O,trigger:p,onTriggerChange:v,onTriggerEnter:M.useCallback(()=>{c.isOpenDelayedRef.current?K():k()},[c.isOpenDelayedRef,K,k]),onTriggerLeave:M.useCallback(()=>{w?z():(window.clearTimeout(_.current),_.current=0)},[z,w]),onOpen:k,onClose:z,disableHoverableContent:w,children:t})})};VI.displayName=Qc;var rm="TooltipTrigger",FI=M.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=pf(rm,t),a=Dy(rm,t),s=L0(t),u=M.useRef(null),c=Vt(e,u,i.onTriggerChange),h=M.useRef(!1),p=M.useRef(!1),v=M.useCallback(()=>h.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),B.jsx(nI,{asChild:!0,...s,children:B.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:qe(n.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:qe(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:qe(n.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:qe(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:qe(n.onBlur,i.onClose),onClick:qe(n.onClick,i.onClose)})})});FI.displayName=rm;var Ny="TooltipPortal",[nV,rV]=P0(Ny,{forceMount:void 0}),UI=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,a=pf(Ny,e);return B.jsx(nV,{scope:e,forceMount:t,children:B.jsx(Is,{present:t||a.open,children:B.jsx(E0,{asChild:!0,container:i,children:r})})})};UI.displayName=Ny;var Jl="TooltipContent",zI=M.forwardRef((n,e)=>{const t=rV(Jl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,s=pf(Jl,n.__scopeTooltip);return B.jsx(Is,{present:r||s.open,children:s.disableHoverableContent?B.jsx(jI,{side:i,...a,ref:e}):B.jsx(iV,{side:i,...a,ref:e})})}),iV=M.forwardRef((n,e)=>{const t=pf(Jl,n.__scopeTooltip),r=Dy(Jl,n.__scopeTooltip),i=M.useRef(null),a=Vt(e,i),[s,u]=M.useState(null),{trigger:c,onClose:h}=t,p=i.current,{onPointerInTransitChange:v}=r,y=M.useCallback(()=>{u(null),v(!1)},[v]),_=M.useCallback((w,A)=>{const T=w.currentTarget,I={x:w.clientX,y:w.clientY},S=lV(I,T.getBoundingClientRect()),O=uV(I,S),k=cV(A.getBoundingClientRect()),z=hV([...O,...k]);u(z),v(!0)},[v]);return M.useEffect(()=>()=>y(),[y]),M.useEffect(()=>{if(c&&p){const w=T=>_(T,p),A=T=>_(T,c);return c.addEventListener("pointerleave",w),p.addEventListener("pointerleave",A),()=>{c.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",A)}}},[c,p,_,y]),M.useEffect(()=>{if(s){const w=A=>{const T=A.target,I={x:A.clientX,y:A.clientY},S=(c==null?void 0:c.contains(T))||(p==null?void 0:p.contains(T)),O=!fV(I,s);S?y():O&&(y(),h())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,p,s,h,y]),B.jsx(jI,{...n,ref:a})}),[aV,oV]=P0(Qc,{isInside:!1}),sV=HR("TooltipContent"),jI=M.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...u}=n,c=pf(Jl,t),h=L0(t),{onClose:p}=c;return M.useEffect(()=>(document.addEventListener(nm,p),()=>document.removeEventListener(nm,p)),[p]),M.useEffect(()=>{if(c.trigger){const v=y=>{const _=y.target;_!=null&&_.contains(c.trigger)&&p()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[c.trigger,p]),B.jsx(w0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:v=>v.preventDefault(),onDismiss:p,children:B.jsxs(rI,{"data-state":c.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(sV,{children:r}),B.jsx(aV,{scope:t,isInside:!0,children:B.jsx(oB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});zI.displayName=Jl;var HI="TooltipArrow",GI=M.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=L0(t);return oV(HI,t).isInside?null:B.jsx(iI,{...i,...r,ref:e})});GI.displayName=HI;function lV(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uV(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function cV(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function fV(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const u=e[a],c=e[s],h=u.x,p=u.y,v=c.x,y=c.y;p>r!=y>r&&t<(v-h)*(r-p)/(y-p)+h&&(i=!i)}return i}function hV(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),dV(e)}function dV(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var pV=BI,gV=VI,vV=FI,mV=UI,yV=zI,_V=GI;function im({delayDuration:n=0,...e}){return B.jsx(pV,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function oT({...n}){return B.jsx(im,{children:B.jsx(gV,{"data-slot":"tooltip",...n})})}function sT({...n}){return B.jsx(vV,{"data-slot":"tooltip-trigger",...n})}function lT({className:n,sideOffset:e=0,children:t,...r}){return B.jsx(mV,{children:B.jsxs(yV,{"data-slot":"tooltip-content",sideOffset:e,className:It("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,B.jsx(_V,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function xV(){const[n,e]=M.useState({title:"",description:"",initialData:void 0,dialogType:"create",fields:[]}),[t,r]=M.useState(!1),{data:i,createData:a,updateData:s}=dy(),u=[{header:"Name",accessorKey:"name"},{header:"Ingredients",accessorKey:"ingredients",accessorFn:_=>{var T;const w=(T=_.ingredients)==null?void 0:T.map(I=>I.name).join(", "),A=(w==null?void 0:w.length)>40?`${w.substring(0,37)}...`:w||"N/A";return B.jsx(im,{children:B.jsx(oT,{children:B.jsx(sT,{asChild:!0,children:B.jsxs("span",{children:[A,_.ingredients&&_.ingredients.length>0&&B.jsxs(lT,{className:"p-2 text-left shadow-lg",children:[B.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Ingredients:"}),B.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:_.ingredients.map((I,S)=>B.jsxs("li",{children:[B.jsx("span",{className:"font-medium",children:I.name}),B.jsxs("span",{className:"ml-0.5",children:["(",I.quantity," ",I.unit,")"]})]},S))})]})]})})})})}},{header:"Instructions",accessorKey:"instructions",accessorFn:_=>{var A;const w=((A=_.instructions)==null?void 0:A.length)>40?`${_.instructions.substring(0,37)}...`:_.instructions||"N/A";return B.jsx(im,{children:B.jsx(oT,{children:B.jsx(sT,{asChild:!0,children:B.jsxs("span",{children:[w,_.instructions&&_.instructions.length>0&&B.jsxs(lT,{className:"p-2 text-left shadow-lg",children:[B.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Instructions"}),B.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:B.jsx("span",{className:"font-medium",children:_.instructions})})]})]})})})})}}],c=[{name:"name",label:"Name",type:"text",placeholder:"e.g., Flour",required:!0},{name:"quantity",label:"Quantity",type:"quantity",required:!0,min:0,step:.01,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:xd(!0)}]}],h=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g., Katsu Curry"},{name:"ingredients",label:"Ingredients",type:"arrayOfObjects",required:!0,relatedCollection:"pantry",extraFields:c},{name:"instructions",label:"Instructions",type:"textarea",required:!1,placeholder:"e.g., Chop carrots, chop onions...etc"}],p=()=>{e({title:"Add Recipe",dialogType:"create",fields:h}),r(!0)},v=_=>{e({title:"Edit Item",dialogType:"update",initialData:_,fields:h}),r(!0)},y=async _=>{var w;try{n.dialogType==="create"?await a(_):n.dialogType==="update"&&await s(_,(w=n.initialData)==null?void 0:w.id),r(!1)}catch(A){console.error("Error submitting data:",A)}};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"flex justify-end mb-4",children:[" ",B.jsxs(ca,{onClick:()=>p(),className:"shadow-md",children:[" ","Add New Item"]})]}),B.jsx(LI,{isOpen:t,showModal:r,handleSave:y,...n}),i.length===0?B.jsx("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Your pantry is empty. Add some items!"}):B.jsx(KS,{columns:u,data:i,openEditDialog:v})]})}function wV(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function EV(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var AV=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TV=function(n){AV(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),wV(a,i.prototype),EV(a),a}return e}(Error),bV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cr=function(n){bV(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(TV),CV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kr=function(n){CV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(cr),SV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),De=function(n){SV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(cr),IV=function(){function n(e){if(this.binarizer=e,e===null)throw new De("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),RV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cn=function(n){RV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(cr),OV=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Dt=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),DV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),My=function(n){DV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(cr),NV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uT=function(n){NV(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(My),MV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new De("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new uT(t);if(r>e)throw new uT(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=MV(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Dt.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Qe=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Sn=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Dt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new De;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new De;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new De("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new De("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&dn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+dn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),am;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(am||(am={}));const Bt=am;var PV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ve=function(n){PV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(cr),LV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(wt||(wt={}));var fn=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var v=c[h];n.VALUES_TO_ECI.set(v,this)}try{for(var y=LV(s),_=y.next();!_.done;_=y.next()){var w=_.value;n.NAME_TO_ECI.set(w,this)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(wt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(wt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(wt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(wt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(wt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(wt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(wt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(wt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(wt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(wt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(wt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(wt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(wt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(wt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(wt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(wt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(wt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(wt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(wt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(wt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(wt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(wt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(wt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(wt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(wt.Big5,28,"Big5"),n.GB18030=new n(wt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(wt.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),kV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wd=function(n){kV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(cr),Vr=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof fn?e:fn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(fn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new wd("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(fn.UTF8)||e.equals(fn.ISO8859_1)||e.equals(fn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),ot=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Vr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Bt.CHARACTER_SET)!==void 0)return t.get(Bt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,v=0,y=0,_=0,w=0,A=0,T=0,I=0,S=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,O=0;O<r&&(i||a||s);O++){var k=e[O]&255;s&&(u>0?(k&128)===0?s=!1:u--:(k&128)!==0&&((k&64)===0?s=!1:(u++,(k&32)===0?c++:(u++,(k&16)===0?h++:(u++,(k&8)===0?p++:s=!1))))),i&&(k>127&&k<160?i=!1:k>159&&(k<192||k===215||k===247)&&I++),a&&(v>0?k<64||k===127||k>252?a=!1:v--:k===128||k===160||k>239?a=!1:k>160&&k<224?(y++,w=0,_++,_>A&&(A=_)):k>127?(v++,_=0,w++,w>T&&(T=w)):(_=0,w=0))}return s&&u>0&&(s=!1),a&&v>0&&(a=!1),s&&(S||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||A>=3||T>=3)?n.SHIFT_JIS:i&&a?A===2&&y===2||I*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,v,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var _=v?parseInt(v.substr(1)):void 0,w;switch(y){case"s":w=t[i];break;case"c":w=t[i][0];break;case"f":w=parseFloat(t[i]).toFixed(u);break;case"p":w=parseFloat(t[i]).toPrecision(u);break;case"e":w=parseFloat(t[i]).toExponential(u);break;case"x":w=parseInt(t[i]).toString(_||16);break;case"d":w=parseFloat(parseInt(t[i],_||10).toPrecision(u)).toFixed(0);break}w=typeof w=="object"?JSON.stringify(w):(+w).toString(_);for(var A=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";w.length<A;)w=c!==void 0?w+T:T+w;return w}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return Vr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=fn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=fn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=fn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),We=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ot.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),Mi=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new De("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new De("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new De("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");c++}for(var p=new n(u,c),v=0;v<a;v++)i[v]&&p.set(Math.floor(v%u),Math.floor(v/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new De("input matrix dimensions do not match");for(var t=new Sn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new De("Left and top must be nonnegative");if(i<1||r<1)throw new De("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new De("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,v=e;v<a;v++)c[p+Math.floor(v/32)]|=1<<(v&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Sn(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Dt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Sn(e),i=new Sn(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var v=i[h*r+p];if(v!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(v<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(v>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&dn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+dn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new We,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),BV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(n){BV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(cr),VV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FV=function(n){VV(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Sn(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,v=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(v*4-p-y)/2<h&&r.set(c),p=v,v=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new Mi(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),v=Math.floor(r/5);v<p;v++){var y=h[v]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(s),w=t.getMatrix(),u=0;u<i;u++)for(var A=u*r,v=0;v<r;v++){var y=w[A+v]&255;y<_&&a.set(v,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,v=t[u]*p*p;v>h&&(c=u,h=v)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ie;for(var _=c-1,w=-1,u=c-1;u>a;u--){var A=u-a,v=A*A*(c-u)*(i-t[u]);v>w&&(_=u,w=v)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(OV),UV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zV=function(n){UV(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new Mi(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,v=0;v<i;v++){var y=v<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(v,2,i-3),w=0;w<r;w++){var A=w<<e.BLOCK_SIZE_POWER;A>p&&(A=p);for(var T=e.cap(w,2,r-3),I=0,S=-2;S<=2;S++){var O=u[_+S];I+=O[T-2]+O[T-1]+O[T]+O[T+1]+O[T+2]}var k=I/25;e.thresholdBlock(t,A,y,k,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var v=p<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var y=0;y<r;y++){var _=y<<e.BLOCK_SIZE_POWER;_>c&&(_=c);for(var w=0,A=255,T=0,I=0,S=v*a+_;I<e.BLOCK_SIZE;I++,S+=a){for(var O=0;O<e.BLOCK_SIZE;O++){var k=t[S+O]&255;w+=k,k<A&&(A=k),k>T&&(T=k)}if(T-A>e.MIN_DYNAMIC_RANGE)for(I++,S+=a;I<e.BLOCK_SIZE;I++,S+=a)for(var O=0;O<e.BLOCK_SIZE;O++)w+=t[S+O]&255}var z=w>>e.BLOCK_SIZE_POWER*2;if(T-A<=e.MIN_DYNAMIC_RANGE&&(z=A/2,p>0&&y>0)){var K=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;A<K&&(z=K)}h[p][y]=z}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(FV),k0=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new wd("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new wd("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new wd("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new We,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),jV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Py=function(n){jV(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(k0),HV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GV=function(n){HV(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,v=t[u+3];if(v===0)p=255;else{var y=t[u],_=t[u+1],w=t[u+2];p=306*y+601*_+117*w+512>>10}s[c]=p}else for(var u=0,c=0,A=t.length;u<A;u+=4,c++){var p=void 0,v=t[u+3];if(v===0)p=255;else{var y=t[u],_=t[u+1],w=t[u+2];p=306*y+601*_+117*w+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new Py(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(k0),qV=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),er=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(v){s(v)}}function c(p){try{h(r.throw(p))}catch(v){s(v)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},tr=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},XV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,v,y;return tr(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=XV(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(w){v={error:w}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(v)throw v.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e;return tr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new qV(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return er(this,void 0,void 0,function(){var t;return tr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return er(this,void 0,void 0,function(){return tr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return er(this,void 0,void 0,function(){var i,a;return tr(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Kr("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Kr("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Kr("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Kr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Kr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Kr("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Kr("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Kr("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Kr("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Kr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ie,p=y instanceof Cn||y instanceof ve,v=p&&r;if(h||v)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof Cn||c instanceof ve,u=c instanceof ie;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new GV(r,t),a=new zV(i);return new IV(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Yn=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Dt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Dt.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Dt.arraycopy(t,0,r,0,t.length),Dt.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),om;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(om||(om={}));const Oe=om;var sm;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(sm||(sm={}));const Bn=sm;var B0=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Dc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),ho=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=Dc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=Dc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=Dc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=Dc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new De("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),KV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qI=function(n){KV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(cr),WV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ur=function(n){WV(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new ho(a,Int32Array.from([0])),a.one=new ho(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new ho(this,i)},e.prototype.inverse=function(t){if(t===0)throw new qI;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Dc),YV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),td=function(n){YV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(cr),$V=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gf=function(n){$V(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(cr),V0=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new ho(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new ho(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),v=p[0],y=p[1],_=this.findErrorLocations(v),w=this.findErrorMagnitudes(y,_),u=0;u<_.length;u++){var A=e.length-1-r.log(_[u]);if(A<0)throw new td("Bad error location");e[A]=ur.addOrSubtract(e[A],w[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,v=c;if(s=u,c=h,s.isZero())throw new td("r_{i-1} was zero");u=p;for(var y=a.getZero(),_=s.getCoefficient(s.getDegree()),w=a.inverse(_);u.getDegree()>=s.getDegree()&&!u.isZero();){var A=u.getDegree()-s.getDegree(),T=a.multiply(u.getCoefficient(u.getDegree()),w);y=y.addOrSubtract(a.buildMonomial(A,T)),u=u.addOrSubtract(s.multiplyByMonomial(A,T))}if(h=y.multiply(c).addOrSubtract(v),u.getDegree()>=s.getDegree())throw new gf("Division algorithm failed to reduce polynomial?")}var I=h.getCoefficient(0);if(I===0)throw new td("sigmaTilde(0) was zero");var S=a.inverse(I),O=h.multiplyScalar(S),k=u.multiplyScalar(S);return[O,k]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new td("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),v=(p&1)===0?p|1:p&-2;c=a.multiply(c,v)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Mn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Mn||(Mn={}));var cT=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new B0(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Mn.UPPER,i=Mn.UPPER,a="",s=0;s<t;)if(i===Mn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=ot.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Mn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var v=n.getCharacter(i,h);v.startsWith("CTRL_")?(r=i,i=n.getTable(v.charAt(5)),v.charAt(6)==="L"&&(r=i)):(a+=v,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Mn.LOWER;case"P":return Mn.PUNCT;case"M":return Mn.MIXED;case"D":return Mn.DIGIT;case"B":return Mn.BINARY;case"U":default:return Mn.UPPER}},n.getCharacter=function(e,t){switch(e){case Mn.UPPER:return n.UPPER_TABLE[t];case Mn.LOWER:return n.LOWER_TABLE[t];case Mn.MIXED:return n.MIXED_TABLE[t];case Mn.PUNCT:return n.PUNCT_TABLE[t];case Mn.DIGIT:return n.DIGIT_TABLE[t];default:throw new gf("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=ur.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ur.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ur.AZTEC_DATA_10):(r=12,t=ur.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ve;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new V0(t);h.decode(u,a-i)}catch(T){throw new ve(T)}for(var p=(1<<r)-1,v=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new ve;(y===1||y===p-1)&&v++}for(var _=new Array(i*r-v),w=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)_.fill(y>1,w,w+r-1),w+=r-1;else for(var A=r-1;A>=0;--A)_[w++]=(y&1<<A)!==0}return _},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),h=i/2,p=Qe.truncDivision(c,2),u=0;u<h;u++){var v=u+Qe.truncDivision(u,15);a[h-u-1]=p-v-1,a[h+u]=p+v+1}for(var u=0,y=0;u<r;u++){for(var _=(r-u)*4+(t?9:12),w=u*2,A=i-1-w,T=0;T<_;T++)for(var I=T*2,S=0;S<2;S++)s[y+I+S]=e.get(a[w+S],a[w+T]),s[y+2*_+I+S]=e.get(a[w+T],a[A-S]),s[y+4*_+I+S]=e.get(a[A-S],a[A-T]),s[y+6*_+I+S]=e.get(a[A-T],a[w+S]);y+=_*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ft=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),lm=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Te=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*lm.floatToIntBits(this.x)+lm.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ft.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),Ly=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),QV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZV=function(n){QV(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Ly),um=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,v=!1,y=this.width,_=this.height;s;){s=!1;for(var w=!0;(w||!c)&&t<y;)w=this.containsBlackPoint(r,i,t,!1),w?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var A=!0;(A||!h)&&i<_;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,s=!0,h=!0):h||i++;if(i>=_){a=!0;break}for(var T=!0;(T||!p)&&e>=0;)T=this.containsBlackPoint(r,i,e,!1),T?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var I=!0;(I||!v)&&r>=0;)I=this.containsBlackPoint(e,t,r,!0),I?(r--,s=!0,v=!0):v||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var S=t-e,O=null,k=1;O===null&&k<S;k++)O=this.getBlackPointOnSegment(e,i-k,e+k,i);if(O==null)throw new ie;for(var z=null,k=1;z===null&&k<S;k++)z=this.getBlackPointOnSegment(e,r+k,e+k,r);if(z==null)throw new ie;for(var K=null,k=1;K===null&&k<S;k++)K=this.getBlackPointOnSegment(t,r+k,t-k,r);if(K==null)throw new ie;for(var D=null,k=1;D===null&&k<S;k++)D=this.getBlackPointOnSegment(t,i-k,t-k,i);if(D==null)throw new ie;return this.centerEdges(D,O,K,z)}else throw new ie},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ft.round(ft.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ft.round(e+h*s),v=ft.round(t+h*u);if(c.get(p,v))return new Te(p,v)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),v=i.getX(),y=i.getY(),_=n.CORR;return a<this.width/2?[new Te(v-_,y+_),new Te(u+_,c+_),new Te(h-_,p-_),new Te(a+_,s-_)]:[new Te(v+_,y+_),new Te(u+_,c-_),new Te(h-_,p+_),new Te(a-_,s-_)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),fT=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),XI=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,v,y,_,w,A,T){var I=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),S=n.squareToQuadrilateral(h,p,v,y,_,w,A,T);return S.times(I)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,v=this.a33,y=0;y<t;y+=2){var _=e[y],w=e[y+1],A=a*_+c*w+v;e[y]=(r*_+s*w+h)/A,e[y+1]=(i*_+u*w+p)/A}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,v=this.a33,y=e.length,_=0;_<y;_++){var w=e[_],A=t[_],T=a*w+c*A+v;e[_]=(r*w+s*A+h)/T,t[_]=(i*w+u*A+p)/T}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var v=r-a,y=u-a,_=i-s,w=c-s,A=v*w-y*_,T=(h*w-y*p)/A,I=(v*p-h*_)/A;return new n(r-e+T*r,u-e+I*u,e,i-t+T*i,c-t+I*c,t,T,I,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),JV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eF=function(n){JV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,v,y,_,w,A,T,I,S,O,k){var z=XI.quadrilateralToQuadrilateral(a,s,u,c,h,p,v,y,_,w,A,T,I,S,O,k);return this.sampleGridWithTransform(t,r,i,z)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ie;for(var s=new Mi(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,v=0;v<h;v+=2)u[v]=v/2+.5,u[v+1]=p;a.transformPoints(u),fT.checkAndNudgePoints(t,u);try{for(var v=0;v<h;v+=2)t.get(Math.floor(u[v]),Math.floor(u[v+1]))&&s.set(v/2,c)}catch{throw new ie}}return s},e}(fT),ky=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new eF,n}(),or=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),tF=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new ZV(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new V0(ur.AZTEC_PARAM);c.decode(s,a)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var v=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(v<.75||v>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var y=new Te(t.getX()+.5,t.getY()-.5),_=new Te(r.getX()+.5,r.getY()+.5),w=new Te(i.getX()-.5,i.getY()+.5),A=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,_,w,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new um(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new or(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new or(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new or(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new or(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new um(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new or(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new or(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new or(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new or(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new or(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=ky.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,v=0;v<r;v++)this.image.get(ft.round(u+v*h),ft.round(c+v*p))&&(i|=1<<r-v-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new or(e.getX()-a,e.getY()+a),t=new or(t.getX()-a,t.getY()-a),r=new or(r.getX()+a,r.getY()-a),i=new or(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),v=0;v<p;v++)u+=i,c+=a,this.image.get(ft.round(u),ft.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new or(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new Te(u+i*a,c+i*s),p=new Te(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var v=new Te(u+i*a,c+i*s),y=new Te(u-i*a,c-i*s),_=[h,v,p,y];return _},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ft.round(e.getX()),r=ft.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},n}(),cm=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new tF(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new cT().decode(u)}catch(v){r=v}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new cT().decode(u)}catch(v){throw r??v}var c=new Yn(s.getText(),s.getRawBytes(),s.getNumBits(),a,Oe.AZTEC,Dt.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(Bn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(Bn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Bt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),nF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){nF(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new cm,t)||this}return e})(hu);var pn=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Bt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(Bn.ORIENTATION)===!0&&(u=u+s.get(Bn.ORIENTATION)%360),a.putMetadata(Bn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new Te(h-c[p].getY()-1,c[p].getX());return a}else throw new ie}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Sn(r),s=t&&t.get(Bt.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var v=Math.trunc((p+1)/2),y=(p&1)===0,_=h+u*(y?v:-v);if(_<0||_>=i)break;try{a=e.getBlackRow(_,a)}catch{continue}for(var w=function(S){if(S===1&&(a.reverse(),t&&t.get(Bt.NEED_RESULT_POINT_CALLBACK)===!0)){var O=new Map;t.forEach(function(K,D){return O.set(D,K)}),O.delete(Bt.NEED_RESULT_POINT_CALLBACK),t=O}try{var k=A.decodeRow(_,a,t);if(S===1){k.putMetadata(Bn.ORIENTATION,180);var z=k.getResultPoints();z!==null&&(z[0]=new Te(r-z[0].getX()-1,z[0].getY()),z[1]=new Te(r-z[1].getX()-1,z[1].getY()))}return{value:k}}catch{}},A=this,T=0;T<2;T++){var I=w(T);if(typeof I=="object")return I.value}}throw new ie},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ie;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ie},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ie;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var v=e[p],y=t[p]*c,_=v>y?v-y:y-v;if(_>r)return Number.POSITIVE_INFINITY;h+=_}return h/a},n}(),rF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hT=function(n){rF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var v=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var w=pn.patternMatchVariance(s,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);w<v&&(v=w,y=_)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ie},e.decodeCode=function(t,r,i){pn.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ie},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Bt.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new ve}for(var v=!1,y=!1,_="",w=s[0],A=s[1],T=Int32Array.from([0,0,0,0,0,0]),I=0,S=0,O=u,k=0,z=!0,K=!1,D=!1;!v;){var R=y;switch(y=!1,I=S,S=e.decodeCode(r,T,A),h[c++]=S,S!==e.CODE_STOP&&(z=!0),S!==e.CODE_STOP&&(k++,O+=k*S),w=A,A+=T.reduce(function(oe,ee){return oe+ee},0),S){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(p){case e.CODE_CODE_A:if(S<64)D===K?_+=String.fromCharCode(32+S):_+=String.fromCharCode(32+S+128),D=!1;else if(S<96)D===K?_+=String.fromCharCode(S-64):_+=String.fromCharCode(S+64),D=!1;else switch(S!==e.CODE_STOP&&(z=!1),S){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!K&&D?(K=!0,D=!1):K&&D?(K=!1,D=!1):D=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_B:if(S<96)D===K?_+=String.fromCharCode(32+S):_+=String.fromCharCode(32+S+128),D=!1;else switch(S!==e.CODE_STOP&&(z=!1),S){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!K&&D?(K=!0,D=!1):K&&D?(K=!1,D=!1):D=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:v=!0;break}break;case e.CODE_CODE_C:if(S<100)S<10&&(_+="0"),_+=S;else switch(S!==e.CODE_STOP&&(z=!1),S){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:v=!0;break}break}R&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var L=A-w;if(A=r.getNextUnset(A),!r.isRange(A,Math.min(r.getSize(),A+(A-w)/2),!1))throw new ie;if(O-=k*I,O%103!==I)throw new Cn;var U=_.length;if(U===0)throw new ie;U>0&&z&&(p===e.CODE_CODE_C?_=_.substring(0,U-2):_=_.substring(0,U-1));for(var H=(s[1]+s[0])/2,j=w+L/2,F=h.length,_e=new Uint8Array(F),xe=0;xe<F;xe++)_e[xe]=h[xe];var W=[new Te(H,t),new Te(j,t)];return new Yn(_,_e,0,W,Oe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(pn),iF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ov=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dT=function(n){iF(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),v=r.getNextSet(p[1]),y=r.getSize(),_,w;do{e.recordPattern(r,v,h);var A=e.toNarrowWidePattern(h);if(A<0)throw new ie;_=e.patternToChar(A),this.decodeRowResult+=_,w=v;try{for(var T=(a=void 0,ov(h)),I=T.next();!I.done;I=T.next()){var S=I.value;v+=S}}catch(F){a={error:F}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}v=r.getNextSet(v)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var k=ov(h),z=k.next();!z.done;z=k.next()){var S=z.value;O+=S}}catch(F){u={error:F}}finally{try{z&&!z.done&&(c=k.return)&&c.call(k)}finally{if(u)throw u.error}}var K=v-w-O;if(v!==y&&K*2<O)throw new ie;if(this.usingCheckDigit){for(var D=this.decodeRowResult.length-1,R=0,L=0;L<D;L++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(D)!==e.ALPHABET_STRING.charAt(R%43))throw new Cn;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new ie;var U;this.extendedMode?U=e.decodeExtended(this.decodeRowResult):U=this.decodeRowResult;var H=(p[1]+p[0])/2,j=w+O/2;return new Yn(U,null,0,[new Te(H,t),new Te(j,t)],Oe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ie},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,ov(t)),p=h.next();!p.done;p=h.next()){var v=p.value;v<c&&v>s&&(c=v)}}catch(A){r={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,_=0,w=0;w<a;w++){var v=t[w];v>s&&(_|=1<<a-1-w,u++,y+=v)}if(u===3){for(var w=0;w<a&&u>0;w++){var v=t[w];if(v>s&&(u--,v*2>=y))return-1}return _}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ve;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(pn),aF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pT=function(n){aF(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),v=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,w;do{e.recordPattern(r,p,y);var A=this.toPattern(y);if(A<0)throw new ie;_=this.patternToChar(A),this.decodeRowResult+=_,w=p;try{for(var T=(a=void 0,sv(y)),I=T.next();!I.done;I=T.next()){var S=I.value;p+=S}}catch(L){a={error:L}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var O=0;try{for(var k=sv(y),z=k.next();!z.done;z=k.next()){var S=z.value;O+=S}}catch(L){u={error:L}}finally{try{z&&!z.done&&(c=k.return)&&c.call(k)}finally{if(u)throw u.error}}if(p===v||!r.get(p))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var K=this.decodeExtended(this.decodeRowResult),D=(h[1]+h[0])/2,R=w+O/2;return new Yn(K,null,0,[new Te(D,t),new Te(R,t)],Oe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=sv(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(w){r={error:w}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,v=0;v<p;v++){var y=Math.round(t[v]*9/a);if(y<1||y>4)return-1;if((v&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ie},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new ve;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new ve;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new Cn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(pn),oF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gT=function(n){oF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new We;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),v=null;i!=null&&(v=i.get(Bt.ALLOWED_LENGTHS)),v==null&&(v=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,_=!1,w=0;try{for(var A=sF(v),T=A.next();!T.done;T=A.next()){var I=T.value;if(y===I){_=!0;break}I>w&&(w=I)}}catch(k){a={error:k}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}if(!_&&y>w&&(_=!0),!_)throw new ve;var S=[new Te(u[1],t),new Te(c[0],t)],O=new Yn(p,null,0,S,Oe.ITF,new Date().getTime());return O},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){pn.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var v=e.decodeDigit(u);a.append(v.toString()),v=this.decodeDigit(c),a.append(v.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ie&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var v=r;v<u;v++)if(t.get(v)!==c)s[h]++;else{if(h===a-1){if(pn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,v];p+=s[0]+s[1],Dt.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ie},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=pn.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(pn),lF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eu=function(n){lF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,v=i,y=r;y<u;y++)if(t.get(y)!==v)s[c]++;else{if(c===p-1){if(pn.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var _=s.slice(2,s.length),w=0;w<c-1;w++)s[w]=_[w];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,v=!v}throw new ie},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],v=pn.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);v<s&&(s=v,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(pn),uF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cF=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var v=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+v%10);try{for(var y=(i=void 0,uF(s)),_=y.next();!_.done;_=y.next()){var w=_.value;c+=w}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}v>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ie;var A=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==A)throw new ie;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ie},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Bn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),fF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hF=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var v=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+v%10);try{for(var y=(i=void 0,fF(s)),_=y.next();!_.done;_=y.next()){var w=_.value;c+=w}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}v>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ie;if(parseInt(r.toString())%4!==h)throw new ie;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Bn.ISSUE_NUMBER,parseInt(e)]])},n}(),dF=function(){function n(){}return n.decodeRow=function(e,t,r){var i=eu.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new cF;return a.decodeRow(e,t,i)}catch{var s=new hF;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),pF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cn=function(n){pF(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Bt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new Te((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var v=new Te(h,t);s.foundPossibleResultPoint(v)}var y=e.decodeEnd(r,h);if(s!=null){var _=new Te((y[0]+y[1])/2,t);s.foundPossibleResultPoint(_)}var w=y[1],A=w+(w-y[0]);if(A>=r.getSize()||!r.isRange(w,A,!1))throw new ie;var T=p.toString();if(T.length<8)throw new ve;if(!e.checkChecksum(T))throw new Cn;var I=(a[1]+a[0])/2,S=(y[1]+y[0])/2,O=this.getBarcodeFormat(),k=[new Te(I,t),new Te(S,t)],z=new Yn(T,null,0,k,O,new Date().getTime()),K=0;try{var D=dF.decodeRow(t,r,y[1]);z.putMetadata(Bn.UPC_EAN_EXTENSION,D.getText()),z.putAllMetadata(D.getResultMetadata()),z.addResultPoints(D.getResultPoints()),K=D.getText().length}catch{}var R=i==null?null:i.get(Bt.ALLOWED_EAN_EXTENSIONS);if(R!=null){var L=!1;for(var U in R)if(K.toString()===U){L=!0;break}if(!L)throw new ie}return O===Oe.EAN_13||Oe.UPC_A,z},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(eu),gF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fm=function(n){gF(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),v=r[1],y=0,_=0;_<6&&v<p;_++){var w=cn.decodeDigit(t,h,v,cn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);try{for(var A=(a=void 0,vT(h)),T=A.next();!T.done;T=A.next()){var I=T.value;v+=I}}catch(z){a={error:z}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}w>=10&&(y|=1<<5-_)}i=e.determineFirstDigit(i,y);var S=cn.findGuardPattern(t,v,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));v=S[1];for(var _=0;_<6&&v<p;_++){var w=cn.decodeDigit(t,h,v,cn.L_PATTERNS);i+=String.fromCharCode(48+w);try{for(var O=(u=void 0,vT(h)),k=O.next();!k.done;k=O.next()){var I=k.value;v+=I}}catch(D){u={error:D}}finally{try{k&&!k.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(cn),vF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yT=function(n){vF(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),v=r[1],y=0;y<4&&v<p;y++){var _=cn.decodeDigit(t,h,v,cn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var w=(a=void 0,mT(h)),A=w.next();!A.done;A=w.next()){var T=A.value;v+=T}}catch(k){a={error:k}}finally{try{A&&!A.done&&(s=w.return)&&s.call(w)}finally{if(a)throw a.error}}}var I=cn.findGuardPattern(t,v,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));v=I[1];for(var y=0;y<4&&v<p;y++){var _=cn.decodeDigit(t,h,v,cn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var S=(u=void 0,mT(h)),O=S.next();!O.done;O=S.next()){var T=O.value;v+=T}}catch(K){u={error:K}}finally{try{O&&!O.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}}return{rowOffset:v,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_8},e}(cn),mF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_T=function(n){mF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new fm,t}return e.prototype.getBarcodeFormat=function(){return Oe.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Yn(r.substring(1),null,null,t.getResultPoints(),Oe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(cn),yF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_F=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xT=function(n){yF(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(T){return T});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,v=0;v<6&&h<c;v++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var _=(a=void 0,_F(u)),w=_.next();!w.done;w=_.next()){var A=w.value;h+=A}}catch(T){a={error:T}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-v)}return e.determineNumSysAndCheckDigit(new We(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return cn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Oe.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new We;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(cn),xF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lv=function(n){xF(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Bt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Oe.EAN_13)>-1&&a.push(new fm),i.indexOf(Oe.UPC_A)>-1&&a.push(new _T),i.indexOf(Oe.EAN_8)>-1&&a.push(new yT),i.indexOf(Oe.UPC_E)>-1&&a.push(new xT)),a.length===0&&(a.push(new fm),a.push(new _T),a.push(new yT),a.push(new xT)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=wT(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),v=p.getBarcodeFormat()===Oe.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Bt.POSSIBLE_FORMATS),_=y==null||y.includes(Oe.UPC_A);if(v&&_){var w=p.getRawBytes(),A=new Yn(p.getText().substring(1),w,w?w.length:null,p.getResultPoints(),Oe.UPC_A);return A.putAllMetadata(p.getResultMetadata()),A}return p}catch{}}}catch(T){a={error:T}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var t,r;try{for(var i=wT(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(pn),wF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),EF=function(n){wF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ie;return new Yn(s,null,0,[new Te(a.left,t),new Te(a.right,t)],Oe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(pn),AF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ds=function(n){AF(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(pn.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(t){return ft.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=TF(t),v=p.next();!v.done;v=p.next()){var y=v.value;y>h&&(h=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(pn),$d=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),KI=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Te(r,a)),this.resultPoints.push(new Te(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),bF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ml=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=bF(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(S){i={error:S}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,v=0,y=e.length,_=0;_<y-1;_++){var w=void 0;for(w=1,v|=1<<_;w<e[_];w++,v&=~(1<<_)){var A=n.combins(s-w-1,y-_-2);if(r&&v===0&&s-w-(y-_-1)>=y-_-1&&(A-=n.combins(s-w-(y-_),y-_-2)),y-_-1>1){for(var T=0,I=s-w-(y-_-2);I>t;I--)T+=n.combins(s-w-I-1,y-_-3);A-=T*(y-1-_)}else s-w>t&&A--;p+=A}s-=w}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),CF=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Sn(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),v=11;v>=0;--v)(p&1<<v)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),v=11;v>=0;--v)(y&1<<v)!==0&&i.set(a),a++}return i},n}(),cs=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),By=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),SF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xr=function(n){SF(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(By),IF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fs=function(n){IF(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(By),RF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sl=function(n){RF(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new ve;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(By),nd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OF=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ie;var p=e.substring(0,2);try{for(var v=nd(n.TWO_DIGIT_DATA_LENGTH),y=v.next();!y.done;y=v.next()){var _=y.value;if(_[0]===p)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],e):n.processFixedAI(2,_[1],e)}}catch(K){t={error:K}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(t)throw t.error}}if(e.length<3)throw new ie;var w=e.substring(0,3);try{for(var A=nd(n.THREE_DIGIT_DATA_LENGTH),T=A.next();!T.done;T=A.next()){var _=T.value;if(_[0]===w)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],e):n.processFixedAI(3,_[1],e)}}catch(K){i={error:K}}finally{try{T&&!T.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var I=nd(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),S=I.next();!S.done;S=I.next()){var _=S.value;if(_[0]===w)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(K){s={error:K}}finally{try{S&&!S.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(e.length<4)throw new ie;var O=e.substring(0,4);try{for(var k=nd(n.FOUR_DIGIT_DATA_LENGTH),z=k.next();!z.done;z=k.next()){var _=z.value;if(_[0]===O)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(K){c={error:K}}finally{try{z&&!z.done&&(h=k.return)&&h.call(k)}finally{if(c)throw c.error}}throw new ie},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ie;var i=r.substring(0,e);if(r.length<e+t)throw new ie;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),Ed=function(){function n(e){this.buffer=new We,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=OF.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Sl(this.information.getSize(),Sl.FNC1,Sl.FNC1):new Sl(this.information.getSize(),t-1,Sl.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Sl(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new fs(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new fs(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new fs(this.current.getPosition(),this.buffer.toString()):t=new fs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new cs(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new fs(this.current.getPosition(),this.buffer.toString());return new cs(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new cs(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new fs(this.current.getPosition(),this.buffer.toString());return new cs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new cs(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new fs(this.current.getPosition(),this.buffer.toString());return new cs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new cs(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Xr(e+5,Xr.FNC1);if(t>=5&&t<15)return new Xr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Xr(e+7,""+(r+1));if(r>=90&&r<116)return new Xr(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new Xr(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Xr(e+5,Xr.FNC1);if(t>=5&&t<15)return new Xr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Xr(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new gf("Decoding invalid alphanumeric value: "+r)}return new Xr(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),WI=function(){function n(e){this.information=e,this.generalDecoder=new Ed(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),DF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$r=function(n){DF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(WI),NF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MF=function(n){NF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new We;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}($r),PF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LF=function(n){PF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new We;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(WI),kF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ad=function(n){kF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}($r),BF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YI=function(n){BF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ad.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var t=new We;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Ad.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ad),VF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FF=function(n){VF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(YI),UF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zF=function(n){UF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(YI),jF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HF=function(n){jF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+$r.GTIN_SIZE)throw new ie;var t=new We;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+$r.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+$r.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}($r),GF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qF=function(n){GF(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+$r.GTIN_SIZE)throw new ie;var t=new We;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+$r.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+$r.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+$r.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}($r),XF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ya=function(n){XF(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var t=new We;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ad);function KF(n){try{if(n.get(1))return new MF(n);if(!n.get(2))return new LF(n);var e=Ed.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new FF(n);case 5:return new zF(n)}var t=Ed.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new HF(n);case 13:return new qF(n)}var r=Ed.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new Ya(n,"310","11");case 57:return new Ya(n,"320","11");case 58:return new Ya(n,"310","13");case 59:return new Ya(n,"320","13");case 60:return new Ya(n,"310","15");case 61:return new Ya(n,"320","15");case 62:return new Ya(n,"310","17");case 63:return new Ya(n,"320","17")}}catch(i){throw console.log(i),new gf("unknown decoder: "+n)}}var ET=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),WF=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),YF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$a=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$F=function(n){YF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ie},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,$a(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var v=new Array(t);v.push(u);try{return this.checkRows(v,s+1)}catch(y){console.log(y)}}}throw new ie},e.isValidSequence=function(t){var r,i;try{for(var a=$a(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new WF(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=$a(r),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.getPairs().length!==t.length){var _=!0;try{for(var w=(s=void 0,$a(y.getPairs())),A=w.next();!A.done;A=w.next()){var T=A.value,I=!1;try{for(var S=(c=void 0,$a(t)),O=S.next();!O.done;O=S.next()){var k=O.value;if(ET.equals(T,k)){I=!0;break}}}catch(z){c={error:z}}finally{try{O&&!O.done&&(h=S.return)&&h.call(S)}finally{if(c)throw c.error}}I||(_=!1)}}catch(z){s={error:z}}finally{try{A&&!A.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}}}}catch(z){i={error:z}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=$a(r),v=p.next();!v.done;v=p.next()){var y=v.value,_=!0;try{for(var w=(s=void 0,$a(t)),A=w.next();!A.done;A=w.next()){var T=A.value,I=!1;try{for(var S=(c=void 0,$a(y.getPairs())),O=S.next();!O.done;O=S.next()){var k=O.value;if(T.equals(k)){I=!0;break}}}catch(z){c={error:z}}finally{try{O&&!O.done&&(h=S.return)&&h.call(S)}finally{if(c)throw c.error}}if(!I){_=!1;break}}}catch(z){s={error:z}}finally{try{A&&!A.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}if(_)return!0}}catch(z){i={error:z}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=CF.buildBitArray(t),i=KF(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new Yn(a,null,null,c,Oe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(v){p=null,console.log(v)}return new ET(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var v=0,y=u,_=u;_<s;_++)if(t.get(_)!==p)a[v]++;else{if(v===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,v--}else v++;a[v]=1,p=!p}throw new ie},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Dt.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new KI(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var v=17,y=ft.sum(new Int32Array(s))/v,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new ie;for(var w=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var S=1*s[c]/y,O=S+.5;if(O<1){if(S<.3)throw new ie;O=1}else if(O>8){if(S>8.7)throw new ie;O=8}var k=c/2;(c&1)===0?(w[k]=O,T[k]=S-O):(A[k]=O,I[k]=S-O)}this.adjustOddEvenCounts(v);for(var z=4*r.getValue()+(i?0:2)+(a?0:1)-1,K=0,D=0,c=w.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[z][2*c];D+=w[c]*R}K+=w[c]}for(var L=0,c=A.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[z][2*c+1];L+=A[c]*R}var U=D+L;if((K&1)!==0||K>13||K<4)throw new ie;var H=(13-K)/2,j=e.SYMBOL_WIDEST[H],F=9-j,_e=Ml.getRSSvalue(w,j,!0),xe=Ml.getRSSvalue(A,F,!1),W=e.EVEN_TOTAL_SUBSET[H],oe=e.GSUM[H],ee=_e*W+xe+oe;return new $d(ee,U)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ft.sum(new Int32Array(this.getOddCounts())),i=ft.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,v=(i&1)===0;if(h===1)if(p){if(v)throw new ie;s=!0}else{if(!v)throw new ie;c=!0}else if(h===-1)if(p){if(v)throw new ie;a=!0}else{if(!v)throw new ie;u=!0}else if(h===0){if(p){if(!v)throw new ie;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(v)throw new ie}else throw new ie;if(a){if(s)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ds),QF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZF=function(n){QF(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}($d),JF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AT=function(n){JF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var v=uv(this.possibleLeftPairs),y=v.next();!y.done;y=v.next()){var _=y.value;if(_.getCount()>1)try{for(var w=(u=void 0,uv(this.possibleRightPairs)),A=w.next();!A.done;A=w.next()){var T=A.value;if(T.getCount()>1&&e.checkChecksum(_,T))return e.constructResult(_,T)}}catch(I){u={error:I}}finally{try{A&&!A.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=uv(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new We,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),v=r.getFinderPattern().getResultPoints();return new Yn(s.toString(),null,0,[p[0],p[1],v[0],v[1]],Oe.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Bt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new Te(h,i))}var p=this.decodeDataCharacter(t,u,!0),v=this.decodeDataCharacter(t,u,!1);return new ZF(1597*p.getValue()+v.getValue(),p.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)pn.recordPatternInReverse(t,r.getStartEnd()[0],a);else{pn.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,v=ft.sum(new Int32Array(a))/p,y=this.getOddCounts(),_=this.getEvenCounts(),w=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var T=a[u]/v,I=Math.floor(T+.5);I<1?I=1:I>8&&(I=8);var S=Math.floor(u/2);(u&1)===0?(y[S]=I,w[S]=T-I):(_[S]=I,A[S]=T-I)}this.adjustOddEvenCounts(i,p);for(var O=0,k=0,u=y.length-1;u>=0;u--)k*=9,k+=y[u],O+=y[u];for(var z=0,K=0,u=_.length-1;u>=0;u--)z*=9,z+=_[u],K+=_[u];var D=k+3*z;if(i){if((O&1)!==0||O>12||O<4)throw new ie;var R=(12-O)/2,L=e.OUTSIDE_ODD_WIDEST[R],U=9-L,H=Ml.getRSSvalue(y,L,!1),j=Ml.getRSSvalue(_,U,!0),F=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],_e=e.OUTSIDE_GSUM[R];return new $d(H*F+j+_e,D)}else{if((K&1)!==0||K>10||K<4)throw new ie;var R=(10-K)/2,L=e.INSIDE_ODD_WIDEST[R],U=9-L,H=Ml.getRSSvalue(y,L,!0),j=Ml.getRSSvalue(_,U,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[R],_e=e.INSIDE_GSUM[R];return new $d(j*xe+H+_e,D)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(ds.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ie},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);Dt.arraycopy(h,0,p,1,h.length-1),p[0]=c;var v=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,_=a[1];return i&&(y=t.getSize()-1-y,_=t.getSize()-1-_),new KI(v,[u,a[1]],y,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ft.sum(new Int32Array(this.getOddCounts())),a=ft.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,v=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(v){if(y)throw new ie;u=!0}else{if(!y)throw new ie;h=!0}else if(p===-1)if(v){if(y)throw new ie;s=!0}else{if(!y)throw new ie;c=!0}else if(p===0){if(v){if(!y)throw new ie;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ie}else throw new ie;if(s){if(u)throw new ie;ds.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ds.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ie;ds.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ds.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ds),eU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nc=function(n){eU(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Bt.POSSIBLE_FORMATS):null,a=t&&t.get(Bt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Bt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Oe.EAN_13)||i.includes(Oe.UPC_A)||i.includes(Oe.EAN_8)||i.includes(Oe.UPC_E))&&r.readers.push(new lv(t)),i.includes(Oe.CODE_39)&&r.readers.push(new dT(a,s)),i.includes(Oe.CODE_93)&&r.readers.push(new pT),i.includes(Oe.CODE_128)&&r.readers.push(new hT),i.includes(Oe.ITF)&&r.readers.push(new gT),i.includes(Oe.CODABAR)&&r.readers.push(new EF),i.includes(Oe.RSS_14)&&r.readers.push(new AT),i.includes(Oe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new $F))),r.readers.length===0&&(r.readers.push(new lv(t)),r.readers.push(new dT),r.readers.push(new pT),r.readers.push(new lv(t)),r.readers.push(new hT),r.readers.push(new gT),r.readers.push(new AT)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(pn),tU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){tU(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Nc(r),t,r)||this}return e})(hu);var TT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),dt=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),nU=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),v=s.getECBlocks();try{for(var y=TT(v),_=y.next();!_.done;_=y.next()){var w=_.value;h+=w.getCount()*(w.getDataCodewords()+p)}}catch(A){u={error:A}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new ve;try{for(var a=TT(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ve},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new vt(5,new dt(1,3))),new n(2,12,12,10,10,new vt(7,new dt(1,5))),new n(3,14,14,12,12,new vt(10,new dt(1,8))),new n(4,16,16,14,14,new vt(12,new dt(1,12))),new n(5,18,18,16,16,new vt(14,new dt(1,18))),new n(6,20,20,18,18,new vt(18,new dt(1,22))),new n(7,22,22,20,20,new vt(20,new dt(1,30))),new n(8,24,24,22,22,new vt(24,new dt(1,36))),new n(9,26,26,24,24,new vt(28,new dt(1,44))),new n(10,32,32,14,14,new vt(36,new dt(1,62))),new n(11,36,36,16,16,new vt(42,new dt(1,86))),new n(12,40,40,18,18,new vt(48,new dt(1,114))),new n(13,44,44,20,20,new vt(56,new dt(1,144))),new n(14,48,48,22,22,new vt(68,new dt(1,174))),new n(15,52,52,24,24,new vt(42,new dt(2,102))),new n(16,64,64,14,14,new vt(56,new dt(2,140))),new n(17,72,72,16,16,new vt(36,new dt(4,92))),new n(18,80,80,18,18,new vt(48,new dt(4,114))),new n(19,88,88,20,20,new vt(56,new dt(4,144))),new n(20,96,96,22,22,new vt(68,new dt(4,174))),new n(21,104,104,24,24,new vt(56,new dt(6,136))),new n(22,120,120,18,18,new vt(68,new dt(6,175))),new n(23,132,132,20,20,new vt(62,new dt(8,163))),new n(24,144,144,22,22,new vt(62,new dt(8,156),new dt(2,155))),new n(25,8,18,6,16,new vt(7,new dt(1,5))),new n(26,8,32,6,14,new vt(11,new dt(1,10))),new n(27,12,26,10,24,new vt(14,new dt(1,16))),new n(28,12,36,10,16,new vt(18,new dt(1,22))),new n(29,16,36,14,16,new vt(24,new dt(1,32))),new n(30,16,48,14,22,new vt(28,new dt(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),rU=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ve;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Mi(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return nU.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new ve;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new De("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new Mi(h,c),v=0;v<s;++v)for(var y=v*i,_=0;_<u;++_)for(var w=_*a,A=0;A<i;++A)for(var T=v*(i+2)+1+A,I=y+A,S=0;S<a;++S){var O=_*(a+2)+1+S;if(e.get(O,T)){var k=w+S;p.set(k,I)}}return p},n}(),bT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iU=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=bT(h),v=p.next();!v.done;v=p.next()){var y=v.value;c+=y.getCount()}}catch(_e){r={error:_e}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var _=new Array(c),w=0;try{for(var A=bT(h),T=A.next();!T.done;T=A.next())for(var y=T.value,I=0;I<y.getCount();I++){var S=y.getDataCodewords(),O=u.getECCodewords()+S;_[w++]=new n(S,new Uint8Array(O))}}catch(_e){a={error:_e}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}for(var k=_[0].codewords.length,z=k-u.getECCodewords(),K=z-1,D=0,I=0;I<K;I++)for(var R=0;R<w;R++)_[R].codewords[I]=e[D++];for(var L=t.getVersionNumber()===24,U=L?8:w,R=0;R<U;R++)_[R].codewords[z-1]=e[D++];for(var H=_[0].codewords.length,I=z;I<H;I++)for(var R=0;R<w;R++){var j=L?(R+8)%w:R,F=L&&j>7?I-1:I;_[j].codewords[F]=e[D++]}if(D!==e.length)throw new De;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),$I=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new De(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),ln;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(ln||(ln={}));var aU=function(){function n(){}return n.decode=function(e){var t=new $I(e),r=new We,i=new We,a=new Array,s=ln.ASCII_ENCODE;do if(s===ln.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case ln.C40_ENCODE:this.decodeC40Segment(t,r);break;case ln.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case ln.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case ln.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case ln.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new ve}s=ln.ASCII_ENCODE}while(s!==ln.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new B0(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),ln.ASCII_ENCODE;if(a===129)return ln.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return ln.C40_ENCODE;case 231:return ln.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return ln.ANSIX12_ENCODE;case 239:return ln.TEXT_ENCODE;case 240:return ln.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return ln.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new ve;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new ve;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ve;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(Vr.decode(u,ot.ISO88591))}catch(h){throw new gf("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),oU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sU=function(){function n(){this.rsDecoder=new V0(ur.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new rU(e),a=i.getVersion(),s=i.readCodewords(),u=iU.getDataBlocks(s,a),c=0;try{for(var h=oU(u),p=h.next();!p.done;p=h.next()){var v=p.value;c+=v.getNumDataCodewords()}}catch(O){t={error:O}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),_=u.length,w=0;w<_;w++){var A=u[w],T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(var S=0;S<I;S++)y[S*_+w]=T[S]}return aU.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Cn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),lU=function(){function n(e){this.image=e,this.rectangleDetector=new um(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ie;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new Ly(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Te(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Te(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,v=[a,t,r,i];return p>u&&(p=u,v[0]=t,v[1]=r,v[2]=i,v[3]=a),p>c&&(p=c,v[0]=r,v[1]=i,v[2]=a,v[3]=t),p>h&&(v[0]=i,v[1]=a,v[2]=t,v[3]=r),v},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new Te(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),v=new Te(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(v)?v:null;if(!this.isValid(v))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),_=this.transitionsBetween(c,v)+this.transitionsBetween(h,v);return y>_?p:v},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,v=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,v),r=n.moveAway(r,p,v),i=n.moveAway(i,p,v),a=n.moveAway(a,p,v);var y,_;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),_=n.shiftPoint(a,i,u*4),_=n.shiftPoint(_,t,s*4),[c,y,h,_]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=ky.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),v=-h/2,y=i<s?1:-1,_=r<a?1:-1,w=0,A=this.image.get(u?i:r,u?r:i),T=r,I=i;T!==a;T+=_){var S=this.image.get(u?I:T,u?T:I);if(S!==A&&(w++,A=S),v+=p,v>0){if(I===s)break;I+=y,v-=h}}return w},n}(),hm=function(){function n(){this.decoder=new sU}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Bt.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new lU(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new Yn(r.getText(),u,8*u.length,i,Oe.DATA_MATRIX,Dt.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(Bn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(Bn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ie;var v=i/2;a+=v,u+=v;for(var y=new Mi(h,p),_=0;_<p;_++)for(var w=a+_*i,A=0;A<h;A++)e.get(u+A*i,w)&&y.set(A,_);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ie;var s=i-e[0];if(s===0)throw new ie;return s},n.NO_POINTS=[],n}(),uU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){uU(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new hm,t)||this}return e})(hu);var Pl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Pl||(Pl={}));var cU=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Kr(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new De;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Pl.L,"L",1),n.M=new n(Pl.M,"M",0),n.Q=new n(Pl.Q,"Q",3),n.H=new n(Pl.H,"H",2),n}(),fU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QI=function(){function n(e){this.errorCorrectionLevel=cU.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Qe.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=fU(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var v=n.numBitsDiffering(e,p);v<a&&(s=h[1],a=v),e!==t&&(v=n.numBitsDiffering(t,p),v<a&&(s=h[1],a=v))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),hU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=hU(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),V=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),dU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ms=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=dU(h),v=p.next();!v.done;v=p.next()){var y=v.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new De;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=QI.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Mi(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new J(7,new V(1,19)),new J(10,new V(1,16)),new J(13,new V(1,13)),new J(17,new V(1,9))),new n(2,Int32Array.from([6,18]),new J(10,new V(1,34)),new J(16,new V(1,28)),new J(22,new V(1,22)),new J(28,new V(1,16))),new n(3,Int32Array.from([6,22]),new J(15,new V(1,55)),new J(26,new V(1,44)),new J(18,new V(2,17)),new J(22,new V(2,13))),new n(4,Int32Array.from([6,26]),new J(20,new V(1,80)),new J(18,new V(2,32)),new J(26,new V(2,24)),new J(16,new V(4,9))),new n(5,Int32Array.from([6,30]),new J(26,new V(1,108)),new J(24,new V(2,43)),new J(18,new V(2,15),new V(2,16)),new J(22,new V(2,11),new V(2,12))),new n(6,Int32Array.from([6,34]),new J(18,new V(2,68)),new J(16,new V(4,27)),new J(24,new V(4,19)),new J(28,new V(4,15))),new n(7,Int32Array.from([6,22,38]),new J(20,new V(2,78)),new J(18,new V(4,31)),new J(18,new V(2,14),new V(4,15)),new J(26,new V(4,13),new V(1,14))),new n(8,Int32Array.from([6,24,42]),new J(24,new V(2,97)),new J(22,new V(2,38),new V(2,39)),new J(22,new V(4,18),new V(2,19)),new J(26,new V(4,14),new V(2,15))),new n(9,Int32Array.from([6,26,46]),new J(30,new V(2,116)),new J(22,new V(3,36),new V(2,37)),new J(20,new V(4,16),new V(4,17)),new J(24,new V(4,12),new V(4,13))),new n(10,Int32Array.from([6,28,50]),new J(18,new V(2,68),new V(2,69)),new J(26,new V(4,43),new V(1,44)),new J(24,new V(6,19),new V(2,20)),new J(28,new V(6,15),new V(2,16))),new n(11,Int32Array.from([6,30,54]),new J(20,new V(4,81)),new J(30,new V(1,50),new V(4,51)),new J(28,new V(4,22),new V(4,23)),new J(24,new V(3,12),new V(8,13))),new n(12,Int32Array.from([6,32,58]),new J(24,new V(2,92),new V(2,93)),new J(22,new V(6,36),new V(2,37)),new J(26,new V(4,20),new V(6,21)),new J(28,new V(7,14),new V(4,15))),new n(13,Int32Array.from([6,34,62]),new J(26,new V(4,107)),new J(22,new V(8,37),new V(1,38)),new J(24,new V(8,20),new V(4,21)),new J(22,new V(12,11),new V(4,12))),new n(14,Int32Array.from([6,26,46,66]),new J(30,new V(3,115),new V(1,116)),new J(24,new V(4,40),new V(5,41)),new J(20,new V(11,16),new V(5,17)),new J(24,new V(11,12),new V(5,13))),new n(15,Int32Array.from([6,26,48,70]),new J(22,new V(5,87),new V(1,88)),new J(24,new V(5,41),new V(5,42)),new J(30,new V(5,24),new V(7,25)),new J(24,new V(11,12),new V(7,13))),new n(16,Int32Array.from([6,26,50,74]),new J(24,new V(5,98),new V(1,99)),new J(28,new V(7,45),new V(3,46)),new J(24,new V(15,19),new V(2,20)),new J(30,new V(3,15),new V(13,16))),new n(17,Int32Array.from([6,30,54,78]),new J(28,new V(1,107),new V(5,108)),new J(28,new V(10,46),new V(1,47)),new J(28,new V(1,22),new V(15,23)),new J(28,new V(2,14),new V(17,15))),new n(18,Int32Array.from([6,30,56,82]),new J(30,new V(5,120),new V(1,121)),new J(26,new V(9,43),new V(4,44)),new J(28,new V(17,22),new V(1,23)),new J(28,new V(2,14),new V(19,15))),new n(19,Int32Array.from([6,30,58,86]),new J(28,new V(3,113),new V(4,114)),new J(26,new V(3,44),new V(11,45)),new J(26,new V(17,21),new V(4,22)),new J(26,new V(9,13),new V(16,14))),new n(20,Int32Array.from([6,34,62,90]),new J(28,new V(3,107),new V(5,108)),new J(26,new V(3,41),new V(13,42)),new J(30,new V(15,24),new V(5,25)),new J(28,new V(15,15),new V(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new J(28,new V(4,116),new V(4,117)),new J(26,new V(17,42)),new J(28,new V(17,22),new V(6,23)),new J(30,new V(19,16),new V(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new J(28,new V(2,111),new V(7,112)),new J(28,new V(17,46)),new J(30,new V(7,24),new V(16,25)),new J(24,new V(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new J(30,new V(4,121),new V(5,122)),new J(28,new V(4,47),new V(14,48)),new J(30,new V(11,24),new V(14,25)),new J(30,new V(16,15),new V(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new J(30,new V(6,117),new V(4,118)),new J(28,new V(6,45),new V(14,46)),new J(30,new V(11,24),new V(16,25)),new J(30,new V(30,16),new V(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new J(26,new V(8,106),new V(4,107)),new J(28,new V(8,47),new V(13,48)),new J(30,new V(7,24),new V(22,25)),new J(30,new V(22,15),new V(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new J(28,new V(10,114),new V(2,115)),new J(28,new V(19,46),new V(4,47)),new J(28,new V(28,22),new V(6,23)),new J(30,new V(33,16),new V(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new J(30,new V(8,122),new V(4,123)),new J(28,new V(22,45),new V(3,46)),new J(30,new V(8,23),new V(26,24)),new J(30,new V(12,15),new V(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new V(3,117),new V(10,118)),new J(28,new V(3,45),new V(23,46)),new J(30,new V(4,24),new V(31,25)),new J(30,new V(11,15),new V(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new V(7,116),new V(7,117)),new J(28,new V(21,45),new V(7,46)),new J(30,new V(1,23),new V(37,24)),new J(30,new V(19,15),new V(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new V(5,115),new V(10,116)),new J(28,new V(19,47),new V(10,48)),new J(30,new V(15,24),new V(25,25)),new J(30,new V(23,15),new V(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new V(13,115),new V(3,116)),new J(28,new V(2,46),new V(29,47)),new J(30,new V(42,24),new V(1,25)),new J(30,new V(23,15),new V(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new V(17,115)),new J(28,new V(10,46),new V(23,47)),new J(30,new V(10,24),new V(35,25)),new J(30,new V(19,15),new V(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new V(17,115),new V(1,116)),new J(28,new V(14,46),new V(21,47)),new J(30,new V(29,24),new V(19,25)),new J(30,new V(11,15),new V(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new V(13,115),new V(6,116)),new J(28,new V(14,46),new V(23,47)),new J(30,new V(44,24),new V(7,25)),new J(30,new V(59,16),new V(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new V(12,121),new V(7,122)),new J(28,new V(12,47),new V(26,48)),new J(30,new V(39,24),new V(14,25)),new J(30,new V(22,15),new V(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new V(6,121),new V(14,122)),new J(28,new V(6,47),new V(34,48)),new J(30,new V(46,24),new V(10,25)),new J(30,new V(2,15),new V(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new V(17,122),new V(4,123)),new J(28,new V(29,46),new V(14,47)),new J(30,new V(49,24),new V(10,25)),new J(30,new V(24,15),new V(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new V(4,122),new V(18,123)),new J(28,new V(13,46),new V(32,47)),new J(30,new V(48,24),new V(14,25)),new J(30,new V(42,15),new V(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new V(20,117),new V(4,118)),new J(28,new V(40,47),new V(7,48)),new J(30,new V(43,24),new V(22,25)),new J(30,new V(10,15),new V(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new V(19,118),new V(6,119)),new J(28,new V(18,47),new V(31,48)),new J(30,new V(34,24),new V(34,25)),new J(30,new V(20,15),new V(61,16)))],n}(),An;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(An||(An={}));var CT=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[An.DATA_MASK_000,new n(An.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[An.DATA_MASK_001,new n(An.DATA_MASK_001,function(e,t){return(e&1)===0})],[An.DATA_MASK_010,new n(An.DATA_MASK_010,function(e,t){return t%3===0})],[An.DATA_MASK_011,new n(An.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[An.DATA_MASK_100,new n(An.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[An.DATA_MASK_101,new n(An.DATA_MASK_101,function(e,t){return e*t%6===0})],[An.DATA_MASK_110,new n(An.DATA_MASK_110,function(e,t){return e*t%6<3})],[An.DATA_MASK_111,new n(An.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),pU=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ve;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=QI.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ms.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=ms.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=ms.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ve},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=CT.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,v=i-1;v>0;v-=2){v===6&&v--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,w=0;w<2;w++)a.get(v-w,_)||(p++,h<<=1,this.bitMatrix.get(v-w,_)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new ve;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=CT.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),ST=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gU=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new De;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var v=ST(p),y=v.next();!y.done;y=v.next()){var _=y.value;h+=_.getCount()}}catch(F){i={error:F}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}var w=new Array(h),A=0;try{for(var T=ST(p),I=T.next();!I.done;I=T.next())for(var _=I.value,S=0;S<_.getCount();S++){var O=_.getDataCodewords(),k=c.getECCodewordsPerBlock()+O;w[A++]=new n(O,new Uint8Array(k))}}catch(F){s={error:F}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}for(var z=w[0].codewords.length,K=w.length-1;K>=0;){var D=w[K].codewords.length;if(D===z)break;K--}K++;for(var R=z-c.getECCodewordsPerBlock(),L=0,S=0;S<R;S++)for(var U=0;U<A;U++)w[U].codewords[S]=e[L++];for(var U=K;U<A;U++)w[U].codewords[R]=e[L++];for(var H=w[0].codewords.length,S=R;S<H;S++)for(var U=0;U<A;U++){var j=U<K?S:S+1;w[U].codewords[j]=e[L++]}return w},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),kr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(kr||(kr={}));var Mt=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new De;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(kr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(kr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(kr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(kr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(kr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(kr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(kr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(kr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(kr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(kr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),vU=function(){function n(){}return n.decode=function(e,t,r,i){var a=new $I(e),s=new We,u=new Array,c=-1,h=-1;try{var p=null,v=!1,y=void 0;do{if(a.available()<4)y=Mt.TERMINATOR;else{var _=a.readBits(4);y=Mt.forBits(_)}switch(y){case Mt.TERMINATOR:break;case Mt.FNC1_FIRST_POSITION:case Mt.FNC1_SECOND_POSITION:v=!0;break;case Mt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),h=a.readBits(8);break;case Mt.ECI:var w=n.parseECIValue(a);if(p=fn.getCharacterSetECIByValue(w),p===null)throw new ve;break;case Mt.HANZI:var A=a.readBits(4),T=a.readBits(y.getCharacterCountBits(t));A===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,T);break;default:var I=a.readBits(y.getCharacterCountBits(t));switch(y){case Mt.NUMERIC:n.decodeNumericSegment(a,s,I);break;case Mt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,I,v);break;case Mt.BYTE:n.decodeByteSegment(a,s,I,p,u,i);break;case Mt.KANJI:n.decodeKanjiSegment(a,s,I);break;default:throw new ve}break}}while(y!==Mt.TERMINATOR)}catch{throw new ve}return new B0(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(Vr.decode(i,ot.GB2312))}catch(c){throw new ve(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(Vr.decode(i,ot.SHIFT_JIS))}catch(c){throw new ve(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new ve;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=ot.guessEncoding(u,s):h=i.getName();try{t.append(Vr.decode(u,h))}catch(p){throw new ve(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new ve;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new ve;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ve;var s=e.readBits(4);if(s>=10)throw new ve;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ve},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),ZI=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),IT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mU=function(){function n(){this.rsDecoder=new V0(ur.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(Mi.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new pU(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new ZI(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=gU.getDataBlocks(h,u,c),v=0;try{for(var y=IT(p),_=y.next();!_.done;_=y.next()){var w=_.value;v+=w.getNumDataCodewords()}}catch(K){r={error:K}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var A=new Uint8Array(v),T=0;try{for(var I=IT(p),S=I.next();!S.done;S=I.next()){var w=S.value,O=w.getCodewords(),k=w.getNumDataCodewords();this.correctErrors(O,k);for(var z=0;z<k;z++)A[T++]=O[z]}}catch(K){a={error:K}}finally{try{S&&!S.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}return vU.decode(A,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Cn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),yU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_U=function(n){yU(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(Te),xU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wU=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var v=0;p<i;){if(u.get(p,h))if(v===1)s[1]++;else if(v===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,v=1}else s[++v]++;else v===1&&v++,s[v]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=xU(this.possibleCenters),v=p.next();!v.done;v=p.next()){var y=v.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(w){i={error:w}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new _U(u,c,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}(),EU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AU=function(n){EU(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(Te),TU=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Ac=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bU=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Bt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var v=0,y=0;y<s;y++)if(i.get(y,p))(v&1)===1&&v++,h[v]++;else if((v&1)===0)if(v===4)if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,y,r);if(_===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var w=this.findRowSkip();w>h[2]&&(p+=w-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,v=3;continue}v=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,v=3;else h[++v]++;else h[v]++;if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,s,r);_===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return Te.orderBestPatterns(A),new TU(A)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,v=0,y=p.length;v<y;v++){var _=p[v];if(_.aboutEquals(c,u,s)){p[v]=_.combineEstimate(u,s,c),h=!0;break}}if(!h){var w=new AU(s,u,c);p.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Ac(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Ac(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var v=s/u,y=0;try{for(var _=Ac(this.possibleCenters),w=_.next();!w.done;w=_.next()){var p=w.value;y+=Math.abs(p.getEstimatedModuleSize()-v)}}catch(A){r={error:A}}finally{try{w&&!w.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ie;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Ac(this.possibleCenters),v=p.next();!v.done;v=p.next()){var y=v.value,_=y.getEstimatedModuleSize();c+=_,h+=_*_}}catch(z){e={error:z}}finally{try{v&&!v.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var w=Math.sqrt(h/a-u*u);s.sort(function(z,K){var D=Math.abs(K.getEstimatedModuleSize()-u),R=Math.abs(z.getEstimatedModuleSize()-u);return D<R?-1:D>R?1:0});for(var A=Math.max(.2*u,w),T=0;T<s.length&&s.length>3;T++){var I=s[T];Math.abs(I.getEstimatedModuleSize()-u)>A&&(s.splice(T,1),T--)}}if(s.length>3){var c=0;try{for(var S=Ac(s),O=S.next();!O.done;O=S.next()){var k=O.value;c+=k.getEstimatedModuleSize()}}catch(K){r={error:K}}finally{try{O&&!O.done&&(i=S.return)&&i.call(S)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(K,D){if(D.getCount()===K.getCount()){var R=Math.abs(D.getEstimatedModuleSize()-u),L=Math.abs(K.getEstimatedModuleSize()-u);return R<L?1:R>L?-1:0}else return D.getCount()-K.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),CU=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Bt.NEED_RESULT_POINT_CALLBACK);var t=new bU(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ie("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=ms.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),v=r.getY()-t.getY()+i.getY(),y=1-3/c,_=Math.floor(t.getX()+y*(p-t.getX())),w=Math.floor(t.getY()+y*(v-t.getY())),A=4;A<=16;A<<=1)try{h=this.findAlignmentInRegion(a,_,w,A);break}catch(O){if(!(O instanceof ie))throw O}var T=n.createTransform(t,r,i,h,s),I=n.sampleGrid(this.image,T,s),S;return h===null?S=[i,t,r]:S=[i,t,r,h],new Ly(I,S)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),XI.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=ky.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ft.round(Te.distance(e,t)/i),s=ft.round(Te.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,v=t<i?1:-1,y=0,_=r+p,w=e,A=t;w!==_;w+=p){var T=a?A:w,I=a?w:A;if(y===1===this.image.get(T,I)){if(y===2)return ft.distance(w,A,e,t);y++}if(h+=c,h>0){if(A===i)break;A+=v,h-=u}}return y===2?ft.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ie("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var p=new wU(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),dm=function(){function n(){this.decoder=new mU}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Bt.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new CU(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof ZI&&r.getOther().applyMirroredCorrection(i);var u=new Yn(r.getText(),r.getRawBytes(),void 0,i,Oe.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(Bn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(Bn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Bn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Bn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ie;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ie;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ie;if(p!==h)throw new ie;var v=Math.floor(i/2);a+=v,u+=v;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>v)throw new ie;u-=y}var _=a+Math.floor((p-1)*i)-s;if(_>0){if(_>v)throw new ie;a-=_}for(var w=new Mi(h,p),A=0;A<p;A++)for(var T=a+Math.floor(A*i),I=0;I<h;I++)e.get(u+Math.floor(I*i),T)&&w.set(I,A);return w},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ie;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),SU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ft.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=SU(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=dn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),IU=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),RU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OU=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new IU(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,RU(a)),v=p.next();!v.done;v=p.next()){var y=v.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var v=n.findGuardPattern(e,a,--i,r,!1,s,h);if(v!=null)p=v;else{i++;break}}u[0]=new Te(p[0],i),u[1]=new Te(p[1],i),c=!0;break}}var y=i+1;if(c){for(var _=0,v=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,v[0],y,r,!1,s,h);if(p!=null&&Math.abs(v[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(v[1]-p[1])<n.MAX_PATTERN_DRIFT)v=p,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,u[2]=new Te(v[0],y),u[3]=new Te(v[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&dn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){dn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,v=0,y=s.length,_=a;p<i;p++){var w=e.get(p,r);if(w!==_)u[v]++;else{if(v===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],Dt.arraycopy(u,2,u,0,v-1),u[v-1]=0,u[v]=0,v--}else v++;u[v]=1,_=!_}}return v===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var v=e[p],y=t[p]*c,_=v>y?v-y:y-v;if(_>r)return 1/0;h+=_}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),DU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gs=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=DU(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(v){t={error:v}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new We,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),NU=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new qI;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),MU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PU=function(n){MU(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new gs(i,new Int32Array([0])),i.one=new gs(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new gs(this,i)},e.PDF417_GF=new e(lt.NUMBER_OF_CODEWORDS,3),e}(NU),LU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kU=function(){function n(){this.field=PU.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new gs(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var v=this.field.getOne();if(r!=null)try{for(var y=LU(r),_=y.next();!_.done;_=y.next()){var w=_.value,A=this.field.exp(e.length-1-w),T=new gs(this.field,new Int32Array([this.field.subtract(0,A),1]));v=v.multiply(T)}}catch(R){i={error:R}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var I=new gs(this.field,u),S=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),I,t),O=S[0],k=S[1],z=this.findErrorLocations(O),K=this.findErrorMagnitudes(k,O,z),h=0;h<z.length;h++){var D=e.length-1-this.field.log(z[h]);if(D<0)throw Cn.getChecksumInstance();e[D]=this.field.subtract(e[D],K[h])}return z.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw Cn.getChecksumInstance();s=h;for(var v=this.field.getZero(),y=a.getCoefficient(a.getDegree()),_=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var w=s.getDegree()-a.getDegree(),A=this.field.multiply(s.getCoefficient(s.getDegree()),_);v=v.add(this.field.buildMonomial(w,A)),s=s.subtract(a.multiplyByMonomial(w,A))}c=v.multiply(u).subtract(p).negative()}var T=c.getCoefficient(0);if(T===0)throw Cn.getChecksumInstance();var I=this.field.inverse(T),S=c.multiply(I),O=s.multiply(I);return[S,O]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Cn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new gs(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),v=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(v,y)}return h},n}(),pm=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ie;s?(t=new Te(0,i.getY()),r=new Te(0,a.getY())):u&&(i=new Te(e.getWidth()-1,t.getY()),a=new Te(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new Te(c.getX(),h);r?i=p:s=p}if(t>0){var v=r?this.bottomLeft:this.bottomRight,y=Math.trunc(v.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new Te(v.getX(),y);r?a=_:u=_}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),BU=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),Vy=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,v){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(v){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(s);break;case"p":_=parseFloat(t[r]).toPrecision(s);break;case"e":_=parseFloat(t[r]).toExponential(s);break;case"x":_=parseInt(t[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var w=parseInt(c),A=c&&c[0]+""=="0"?"0":" ";_.length<w;)_=u!==void 0?_+A:A+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),VU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JI=function(){function n(e){this.boundingBox=new pm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new Vy,i=0;try{for(var a=VU(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),FU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UU=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},Mc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(v,y){var _={getKey:function(){return v},getValue:function(){return y}};_.getValue()>r?(r=_.getValue(),i=[],i.push(_.getKey())):_.getValue()===r&&i.push(_.getKey())};try{for(var s=FU(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=UU(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(v){e={error:v}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return lt.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),zU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RT=function(n){zU(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=cv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,v=0,y=u;y<c;y++)if(r[y]!=null){var _=r[y],w=_.getRowNumber()-h;if(w===0)v++;else if(w===1)p=Math.max(p,v),v=1,h=_.getRowNumber();else if(w<0||_.getRowNumber()>=t.getRowCount()||w>y)r[y]=null;else{var A=void 0;p>2?A=(p-2)*w:A=w;for(var T=A>=y,I=1;I<=A&&!T;I++)T=r[y-I]!=null;T?r[y]=null:(h=_.getRowNumber(),v=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=cv(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var v=c[p];v.setRowNumberAsRowIndicatorColumn();var y=v.getRowNumber()-h;y===0||(y===1?h=v.getRowNumber():v.getRowNumber()>=t.getRowCount()?c[p]=null:h=v.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new Mc,s=new Mc,u=new Mc,c=new Mc;try{for(var h=cv(i),p=h.next();!p.done;p=h.next()){var v=p.value;if(v!=null){v.setRowNumberAsRowIndicatorColumn();var y=v.getValue()%30,_=v.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(A){t={error:A}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<lt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>lt.MAX_ROWS_IN_BARCODE)return null;var w=new BU(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,w),w},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(JI),jU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HU=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=lt.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=jU(h),v=p.next();!v.done;v=p.next()){var y=v.value;if(n.adjustRowNumber(s,y))return}}catch(_){i={error:_}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Vy,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),GU=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),qU=function(){function n(){}return n.initialize=function(){for(var e=0;e<lt.SYMBOL_TABLE.length;e++)for(var t=lt.SYMBOL_TABLE[e],r=t&1,i=0;i<lt.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(lt.BARS_IN_MODULE)),n.RATIOS_TABLE[e][lt.BARS_IN_MODULE-i-1]=Math.fround(a/lt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ft.sum(e),r=new Int32Array(lt.BARS_IN_MODULE),i=0,a=0,s=0;s<lt.MODULES_IN_CODEWORD;s++){var u=t/(2*lt.MODULES_IN_CODEWORD)+s*t/lt.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return lt.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ft.sum(e),r=new Array(lt.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=lm.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<lt.BARS_IN_MODULE;p++){var v=Math.fround(h[p]-r[p]);if(c+=Math.fround(v*v),c>=a)break}c<a&&(a=c,s=lt.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(lt.SYMBOL_TABLE.length).map(function(e){return new Array(lt.BARS_IN_MODULE)}),n}(),XU=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),OT=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),KU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WU=function(n){KU(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(cr),YU=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new WU;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new My;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),$U=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QU=function(n){$U(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(cr),ZU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JU=function(n){ZU(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new De("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new QU;i=Qe.MAX_VALUE}this.buf=dn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new My;this.ensureCapacity(this.count+i),Dt.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return dn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(YU),St;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(St||(St={}));function e4(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var rd;function Ja(n){if(typeof rd>"u"&&(rd=e4()),rd===null)throw new Error("BigInt is not supported!");return rd(n)}function ez(){var n=[];n[0]=Ja(1);var e=Ja(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var tz=function(){function n(){}return n.decode=function(e,t){var r=new We(""),i=fn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new XU;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:fn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var c=new B0(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Qe.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new We;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new We;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new We;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new We;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var v=new We;t=n.numericCompaction(e,t+1,v),r.setSegmentCount(Qe.parseInt(v.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new We;t=n.numericCompaction(e,t+1,y),r.setTimestamp(OT.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new We;t=n.numericCompaction(e,t+1,_),r.setChecksum(Qe.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var w=new We;t=n.numericCompaction(e,t+1,w),r.setFileSize(OT.parseLong(w.toString()));break;default:throw ve.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(u!==-1){var A=t-u;r.isLastSegment()&&A--,r.setOptionalData(dn.copyOfRange(e,u,u+A))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=St.ALPHA,s=St.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case St.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=St.LOWER;break;case n.ML:a=St.MIXED;break;case n.PS:s=a,a=St.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break;case St.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=St.ALPHA_SHIFT;break;case n.ML:a=St.MIXED;break;case n.PS:s=a,a=St.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break;case St.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=St.PUNCT;break;case 26:h=" ";break;case n.LL:a=St.LOWER;break;case n.AL:a=St.ALPHA;break;case n.PS:s=a,a=St.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break;case St.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=St.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break;case St.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break;case St.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=St.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=St.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new JU,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),v=t[i++];i<t[0]&&!h;)switch(p[u++]=v,c=900*c+v,v=t[i++],v){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(Ja(c)>>Ja(8*(5-y))));c=0,u=0}break}i===t[0]&&v<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=v);for(var _=0;_<u;_++)s.write(p[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var w=t[i++];if(w<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+w;else switch(w){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(Ja(c)>>Ja(8*(5-y))));c=0,u=0}}break}return a.append(Vr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Ja(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Ja(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=e4()?ez():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Tc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nz=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new pm(e,t,r,i,a),h=null,p=null,v,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),v=n.merge(h,p),v==null)throw ie.getNotFoundInstance();var _=v.getBoundingBox();if(y&&_!=null&&(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))c=_;else break}v.setBoundingBox(c);var w=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,h),v.setDetectionResultColumn(w,p);for(var A=h!=null,T=1;T<=w;T++){var I=A?T:w-T;if(v.getDetectionResultColumn(I)===void 0){var S=void 0;I===0||I===w?S=new RT(c,I===0):S=new JI(c),v.setDetectionResultColumn(I,S);for(var O=-1,k=O,z=c.getMinY();z<=c.getMaxY();z++){if(O=n.getStartColumn(v,I,z,A),O<0||O>c.getMaxX()){if(k===-1)continue;O=k}var K=n.detectCodeword(e,c.getMinX(),c.getMaxX(),A,O,z,s,u);K!=null&&(S.setCodeword(z,K),k=O,s=Math.min(s,K.getWidth()),u=Math.max(u,K.getWidth()))}}}return n.createDecoderResult(v)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=pm.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new HU(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Tc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),v=0;s>0&&p[v]==null;v++)s--;for(var y=0,v=i.length-1;v>=0&&(y+=a-i[v],!(i[v]>0));v--);for(var v=p.length-1;y>0&&p[v]==null;v--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Tc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new RT(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),v=Math.trunc(Math.trunc(r.getY()));v<=t.getMaxY()&&v>=t.getMinY();v+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,v,a,s);y!=null&&(u.setCodeword(v,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>lt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var v=new Array(a.length),y=0;y<v.length;y++)v[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,lt.toIntArray(r),lt.toIntArray(s),v)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof Cn;if(!h)throw p}if(s.length===0)throw Cn.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Cn.getChecksumInstance()}throw Cn.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new Mc;var h=0;try{for(var p=Tc(e.getDetectionResultColumns()),v=p.next();!v.done;v=p.next()){var y=v.value;if(y!=null)try{for(var _=(i=void 0,Tc(y.getCodewords())),w=_.next();!w.done;w=_.next()){var A=w.value;if(A!=null){var T=A.getRowNumber();if(T>=0){if(T>=s.length)continue;s[T][h].setValue(A.getValue())}}}}catch(I){i={error:I}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h++}}catch(I){t={error:I}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Tc(e.getDetectionResultColumn(t).getCodewords())),v=p.next();!v.done;v=p.next()){var y=v.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(_){a={error:_}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,v=ft.sum(h);if(i)p=a+v;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}p=a,a=p-v}if(!n.checkCodewordSkew(v,u,c))return null;var w=qU.getDecodedValue(h),A=lt.getCodeword(w);return A===-1?null:new GU(a,p,n.getCodewordBucketNumber(w),A)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,v=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===v?(c[h]++,u+=p):(h++,v=!v);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw ve.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=tz.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Cn.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ve.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new Vy,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new kU,n}(),rz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gm=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ie.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof ve||r instanceof Cn?ie.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=OU.detectMultiple(e,t,r);try{for(var c=rz(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,v=nz.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new Yn(v.getText(),v.getRawBytes(),void 0,p,Oe.PDF_417);y.putMetadata(Bn.ERROR_CORRECTION_LEVEL,v.getECLevel());var _=v.getOther();_!=null&&y.putMetadata(Bn.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(w){i={error:w}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(w){return w})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),iz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DT=function(n){iz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(cr),NT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},az=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Bt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Oe.UPC_A||s===Oe.UPC_E||s===Oe.EAN_13||s===Oe.EAN_8||s===Oe.CODABAR||s===Oe.CODE_39||s===Oe.CODE_93||s===Oe.CODE_128||s===Oe.ITF||s===Oe.RSS_14||s===Oe.RSS_EXPANDED});a&&!t&&i.push(new Nc(e)),r.includes(Oe.QR_CODE)&&i.push(new dm),r.includes(Oe.DATA_MATRIX)&&i.push(new hm),r.includes(Oe.AZTEC)&&i.push(new cm),r.includes(Oe.PDF_417)&&i.push(new gm),a&&t&&i.push(new Nc(e))}i.length===0&&(t||i.push(new Nc(e)),i.push(new dm),i.push(new hm),i.push(new cm),i.push(new gm),t&&i.push(new Nc(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=NT(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new DT("No readers where selected, nothing can be read.");try{for(var i=NT(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof DT)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},n}(),oz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sz=function(n){oz(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new az;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(hu),lz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){lz(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new gm,t)||this}return e})(hu);var uz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){uz(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new dm,t)||this}return e})(hu);var vm;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(vm||(vm={}));const id=vm;var t4=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ho(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new ho(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new De("No error correction bytes");var r=e.length-t;if(r<=0)throw new De("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Dt.arraycopy(e,0,a,0,r);var s=new ho(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;Dt.arraycopy(c,0,e,r+h,c.length)},n}(),Pc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new De("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var v=t?s[u][p]:s[p][u];v===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=v)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),cz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fz=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=cz(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;dn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new We,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),mm=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new We;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),hz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nt=function(n){hz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(cr),MT=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Sn;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var v=r.getWidth()-a-1,y=8;r.setBoolean(v,y,u)}else{var v=8,y=r.getHeight()-7+(a-8);r.setBoolean(v,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Sn;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&Pc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Nt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new De("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!mm.isValidMaskPattern(t))throw new Nt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new Sn;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Nt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Nt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Nt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Nt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),dz=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),PT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return Pc.applyMaskPenaltyRule1(e)+Pc.applyMaskPenaltyRule2(e)+Pc.applyMaskPenaltyRule3(e)+Pc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(id.CHARACTER_SET)!==void 0;a&&(i=r.get(id.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new Sn;if(s===Mt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=fn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new Sn;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(id.QR_VERSION)!==void 0){var v=Number.parseInt(r.get(id.QR_VERSION).toString(),10);p=ms.getVersionForNumber(v);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Nt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var _=new Sn;_.appendBitArray(u);var w=s===Mt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(w,p,s,_),_.appendBitArray(h);var A=p.getECBlocksForLevel(t),T=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,_);var I=this.interleaveWithECBytes(_,p.getTotalCodewords(),T,A.getNumBlocks()),S=new mm;S.setECLevel(t),S.setMode(s),S.setVersion(p);var O=p.getDimensionForVersion(),k=new fz(O,O),z=this.chooseMaskPattern(I,t,p,k);return S.setMaskPattern(z),MT.buildMatrix(I,t,p,z,k),S.setMatrix(k),S},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,ms.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),fn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Mt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Mt.BYTE}return i?Mt.ALPHANUMERIC:r?Mt.NUMERIC:Mt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=Vr.encode(e,fn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<mm.NUM_MASK_PATTERNS;u++){MT.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=ms.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Nt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Nt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Nt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Nt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,v=Math.floor(t/r),y=v+1,_=h-v,w=p-y;if(_!==w)throw new Nt("EC bytes mismatch");if(r!==c+u)throw new Nt("RS blocks mismatch");if(e!==(v+_)*c+(y+w)*u)throw new Nt("Total bytes mismatch");i<c?(a[0]=v,s[0]=_):(a[0]=y,s[0]=w)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Nt("Number of bits and data bytes does not match");for(var h=0,p=0,v=0,y=new Array,_=0;_<i;++_){var w=new Int32Array(1),A=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,_,w,A);var T=w[0],I=new Uint8Array(T);e.toBytes(8*h,I,0,T);var S=n.generateECBytes(I,A[0]);y.push(new dz(I,S)),p=Math.max(p,T),v=Math.max(v,S.length),h+=w[0]}if(r!==h)throw new Nt("Data bytes does not match offset");for(var O=new Sn,_=0;_<p;++_)try{for(var k=(a=void 0,PT(y)),z=k.next();!z.done;z=k.next()){var K=z.value,I=K.getDataBytes();_<I.length&&O.appendBits(I[_],8)}}catch(U){a={error:U}}finally{try{z&&!z.done&&(s=k.return)&&s.call(k)}finally{if(a)throw a.error}}for(var _=0;_<v;++_)try{for(var D=(u=void 0,PT(y)),R=D.next();!R.done;R=D.next()){var K=R.value,S=K.getErrorCorrectionBytes();_<S.length&&O.appendBits(S[_],8)}}catch(U){u={error:U}}finally{try{R&&!R.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}if(t!==O.getSizeInBytes())throw new Nt("Interleaving error: "+t+" and "+O.getSizeInBytes()+" differ.");return O},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new t4(ur.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Nt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Mt.NUMERIC:n.appendNumericBytes(e,r);break;case Mt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Mt.BYTE:n.append8BitBytes(e,r,i);break;case Mt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Nt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Nt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Nt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=Vr.encode(e,r)}catch(c){throw new Nt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=Vr.encode(e,fn.SJIS)}catch(v){throw new Nt(v)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Nt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Mt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=fn.UTF8.getName(),n})();var pz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){pz(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new De("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new Py(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(k0);var gz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){gz(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,v=new Uint8ClampedArray(p),y=0;y<p;y++){var _=t[y],w=_>>16&255,A=_>>7&510,T=_&255;v[y]=(w+A+T)/4&255}h.luminances=v}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new De("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new Py(this)},e})(k0);var vz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mz=function(n){vz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(fn),yz=function(){function n(){}return n.ISO_8859_1=fn.ISO8859_1,n}(),ym,_z=301,xz=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=_z);return{LOG:n,ALOG:e}};ym=xz([],[]),ym.LOG;ym.ALOG;var LT;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(LT||(LT={}));var kT=129,n4=230,wz=231,Ez=235,Az=236,Tz=237,bz=238,Cz=239,Sz=240,fv=254,Iz=254,BT="[)>05",VT="[)>06",FT="",Et=0,Pn=1,nr=2,un=3,Tn=4,Hn=5,Rz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Et},n.prototype.encode=function(e){var t=Qr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Qr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Hn:e.writeCodeword(wz),e.signalEncoderChange(Hn);return;case Pn:e.writeCodeword(n4),e.signalEncoderChange(Pn);return;case un:e.writeCodeword(bz),e.signalEncoderChange(un);break;case nr:e.writeCodeword(Cz),e.signalEncoderChange(nr);break;case Tn:e.writeCodeword(Sz),e.signalEncoderChange(Tn);break;default:throw new Error("Illegal mode: "+i)}else Qr.isExtendedASCII(r)?(e.writeCodeword(Ez),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(Qr.isDigit(e)&&Qr.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),Oz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Hn},n.prototype.encode=function(e){var t=new We;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=Qr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,ot.getCharAt(a));else if(a<=1555)t.setCharAt(0,ot.getCharAt(Math.floor(a/250)+249)),t.insert(1,ot.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),Fy=function(){function n(){}return n.prototype.getEncodingMode=function(){return Pn},n.prototype.encodeMaximal=function(e){for(var t=new We,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(n4),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new We;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new We;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=Qr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(fv)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(fv),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(fv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Et)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new We;return a.append(r),a.append(i),a.toString()},n}(),Dz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Tn},n.prototype.encode=function(e){for(var t=new We;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=Qr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(Et);break}}}t.append(ot.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(Et)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(ot.getCharAt(e-64)):Qr.illegalCharacter(ot.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,v=new We;return v.append(c),t>=2&&v.append(h),t>=3&&v.append(p),v.toString()},n}(),Nz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=Mz(Lz),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(v){s={error:v}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),Pz=function(n){Nz(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(pt),Lz=[new pt(!1,3,5,8,8,1),new pt(!1,5,7,10,10,1),new pt(!0,5,7,16,6,1),new pt(!1,8,10,12,12,1),new pt(!0,10,11,14,6,2),new pt(!1,12,12,14,14,1),new pt(!0,16,14,24,10,1),new pt(!1,18,14,16,16,1),new pt(!1,22,18,18,18,1),new pt(!0,22,18,16,10,2),new pt(!1,30,20,20,20,1),new pt(!0,32,24,16,14,2),new pt(!1,36,24,22,22,1),new pt(!1,44,28,24,24,1),new pt(!0,49,28,22,14,2),new pt(!1,62,36,14,14,4),new pt(!1,86,42,16,16,4),new pt(!1,114,48,18,18,4),new pt(!1,144,56,20,20,4),new pt(!1,174,68,22,22,4),new pt(!1,204,84,24,24,4,102,42),new pt(!1,280,112,14,14,16,140,56),new pt(!1,368,144,16,16,16,92,36),new pt(!1,456,192,18,18,16,114,48),new pt(!1,576,224,20,20,16,144,56),new pt(!1,696,272,22,22,16,174,68),new pt(!1,816,336,24,24,16,136,56),new pt(!1,1050,408,18,18,36,175,68),new pt(!1,1304,496,20,20,36,163,62),new Pz],kz=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new We,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new We,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=pt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),Bz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vz=function(n){Bz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return un},e.prototype.encode=function(t){for(var r=new We;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=Qr.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(Et);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):Qr.illegalCharacter(ot.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(Iz),t.getNewEncoding()<0&&t.signalEncoderChange(Et)},e}(Fy),Fz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uz=function(n){Fz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return nr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(Fy),Qr=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=kT+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new Fy,u=[new Rz,s,new Uz,new Vz,new Dz,new Oz],c=new kz(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(BT)&&e.endsWith(FT)?(c.writeCodeword(Az),c.setSkipAtEnd(2),c.pos+=BT.length):e.startsWith(VT)&&e.endsWith(FT)&&(c.writeCodeword(Tz),c.setSkipAtEnd(2),c.pos+=VT.length);var h=Et;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var v=c.getSymbolInfo().getDataCapacity();p<v&&h!==Et&&h!==Hn&&h!==Tn&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<v&&y.append(kT);y.length()<v;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===un&&i===un){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return Et}else if(r===Tn&&i===Tn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return Et}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===Et?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){dn.fill(s,0),dn.fill(u,0);var c=this.findMinimums(i,u,Qe.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[Et]===c)return Et;if(h===1){if(s[Hn]>0)return Hn;if(s[Tn]>0)return Tn;if(s[nr]>0)return nr;if(s[un]>0)return un}return Pn}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[Et]+=.5:this.isExtendedASCII(p)?(i[Et]=Math.ceil(i[Et]),i[Et]+=2):(i[Et]=Math.ceil(i[Et]),i[Et]++),this.isNativeC40(p)?i[Pn]+=2/3:this.isExtendedASCII(p)?i[Pn]+=8/3:i[Pn]+=4/3,this.isNativeText(p)?i[nr]+=2/3:this.isExtendedASCII(p)?i[nr]+=8/3:i[nr]+=4/3,this.isNativeX12(p)?i[un]+=2/3:this.isExtendedASCII(p)?i[un]+=13/3:i[un]+=10/3,this.isNativeEDIFACT(p)?i[Tn]+=3/4:this.isExtendedASCII(p)?i[Tn]+=17/4:i[Tn]+=13/4,this.isSpecialB256(p)?i[Hn]+=4:i[Hn]++,a>=4){if(dn.fill(s,0),dn.fill(u,0),this.findMinimums(i,u,Qe.MAX_VALUE,s),u[Et]<this.min(u[Hn],u[Pn],u[nr],u[un],u[Tn]))return Et;if(u[Hn]<u[Et]||u[Hn]+1<this.min(u[Pn],u[nr],u[un],u[Tn]))return Hn;if(u[Tn]+1<this.min(u[Hn],u[Pn],u[nr],u[un],u[Et]))return Tn;if(u[nr]+1<this.min(u[Hn],u[Pn],u[Tn],u[un],u[Et]))return nr;if(u[un]+1<this.min(u[Hn],u[Pn],u[Tn],u[nr],u[Et]))return un;if(u[Pn]+1<this.min(u[Et],u[Hn],u[Tn],u[nr])){if(u[Pn]<u[un])return Pn;if(u[Pn]===u[un]){for(var v=t+a+1;v<e.length;){var y=e.charCodeAt(v);if(this.isX12TermSep(y))return un;if(!this.isNativeX12(y))break;v++}return Pn}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,dn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Qe.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),hv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UT=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return Vr.encode(e,this.charset)!=null}catch{return!1}},n}(),zz=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(L){return new UT(mz.forName(L))}),this.encoders=[];var p=[];p.push(new UT(yz.ISO_8859_1));for(var v=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var w=(i=void 0,hv(p)),A=w.next();!A.done;A=w.next()){var T=A.value,I=e.charAt(y),S=I.charCodeAt(0);if(S===r||T.canEncode(I)){_=!0;break}}}catch(L){i={error:L}}finally{try{A&&!A.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}if(!_)try{for(var O=(s=void 0,hv(this.ENCODERS)),k=O.next();!k.done;k=O.next()){var T=k.value;if(T.canEncode(e.charAt(y))){p.push(T),_=!0;break}}}catch(L){s={error:L}}finally{try{k&&!k.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}_||(v=!0)}if(p.length===1&&!v)this.encoders=[p[0]];else{this.encoders=[];var z=0;try{for(var K=hv(p),D=K.next();!D.done;D=K.next()){var T=D.value;this.encoders[z++]=T}}catch(L){c={error:L}}finally{try{D&&!D.done&&(h=K.return)&&h.call(K)}finally{if(c)throw c.error}}}var R=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){R=y;break}}this.priorityEncoderIndex=R}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Vr.encode(ot.getCharAt(e),this.encoders[t].name)},n}(),jz=3,Hz=function(){function n(e,t,r){this.fnc1=r;var i=new zz(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new We,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new zT(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new zT[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Qe.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var v=[],y=a[i][c];y!=null;){if(y.isFNC1())v.unshift(1e3);else for(var _=t.encode(y.c,y.encoderIndex),s=_.length-1;s>=0;s--)v.unshift(_[s]&255);var w=y.previous===null?0:y.previous.encoderIndex;w!==y.encoderIndex&&v.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var A=[],s=0;s<A.length;s++)A[s]=v[s];return A},n}(),zT=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=jz),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),Gz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var jT;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(jT||(jT={}));(function(n){Gz(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Hz);var qz=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),HT=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),Xz=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),Kz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Uy=function(n){Kz(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Qe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(Xz),Wz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yz=function(n){Wz(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Uy);function $z(n,e,t){return new Yz(n,e,t)}function bc(n,e,t){return new Uy(n,e,t)}var Qz=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],po=0,Qd=1,Br=2,r4=3,Ti=4,Zz=new Uy(null,0,0),dv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Jz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function ej(n){var e,t;try{for(var r=Jz(n),i=r.next();!i.done;i=r.next()){var a=i.value;dn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[po][Ti]=0,n[Qd][Ti]=0,n[Qd][po]=28,n[r4][Ti]=0,n[Br][Ti]=0,n[Br][po]=15,n}var i4=ej(dn.createInt32Array(6,6)),tj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nj=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=dv[this.mode][e];i=bc(i,a&65535,a>>16),r+=a>>16}var s=e===Br?4:5;return i=bc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===Br?4:5;return r=bc(r,i4[this.mode][e],i),r=bc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Ti||this.mode===Br){var a=dv[r][po];t=bc(t,a&65535,a>>16),i+=a>>16,r=po}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=$z(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(dv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new Sn;try{for(var u=tj(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return ot.format("%s bits=%d bytes=%d",Qz[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(Zz,po,0,0),n}();function rj(n){var e=ot.getCharCode(" "),t=ot.getCharCode("."),r=ot.getCharCode(",");n[po][e]=1;for(var i=ot.getCharCode("Z"),a=ot.getCharCode("A"),s=a;s<=i;s++)n[po][s]=s-a+2;n[Qd][e]=1;for(var u=ot.getCharCode("z"),c=ot.getCharCode("a"),s=c;s<=u;s++)n[Qd][s]=s-c+2;n[Br][e]=1;for(var h=ot.getCharCode("9"),p=ot.getCharCode("0"),s=p;s<=h;s++)n[Br][s]=s-p+2;n[Br][r]=12,n[Br][t]=13;for(var v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<v.length;y++)n[r4][ot.getCharCode(v[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)ot.getCharCode(_[y])>0&&(n[Ti][ot.getCharCode(_[y])]=y);return n}var pv=rj(dn.createInt32Array(5,256)),ad=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ij=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=ot.getCharCode(" "),t=ot.getCharCode(`
`),r=HT.singletonList(nj.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ot.getCharCode("\r"):a=s===t?2:0;break;case ot.getCharCode("."):a=s===e?3:0;break;case ot.getCharCode(","):a=s===e?4:0;break;case ot.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=HT.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=ad(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=pv[e.getMode()][i]>0,s=null,u=0;u<=Ti;u++){var c=pv[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===Br){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&i4[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||pv[e.getMode()][i]===0){var v=e.addBinaryShiftChar(t);r.push(v)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=ad(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Ti,r)),e.getMode()!==Ti&&i.push(a.shiftAndAppend(Ti,r)),r===3||r===4){var s=a.latchAndAppend(Br,16-r).latchAndAppend(Br,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=ad(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,v=function(T){if(T.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(T)&&(s=s.filter(function(I){return I!==T}))};try{for(var y=(i=void 0,ad(s)),_=y.next();!_.done;_=y.next()){var w=_.value,A=v(w);if(A==="break")break}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(T){t={error:T}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),aj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new ij(e).encode(),a=Qe.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,v;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new De(ot.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(v=n.stuffBits(i,p),v.getSize()+a>y)throw new De("Data to large for user specified layer");if(u&&v.getSize()>p*64)throw new De("Data to large for user specified layer")}else{p=0,v=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new De("Data too large for an Aztec code");if(u=_<=3,c=u?_+1:_,h=n.totalBitsInLayer(c,u),!(s>h)){(v==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],v=n.stuffBits(i,p));var y=h-h%p;if(!(u&&v.getSize()>p*64)&&v.getSize()+a<=y)break}}}var w=n.generateCheckWords(v,h,p),A=v.getSize()/p,T=n.generateModeMessage(u,c,A),I=(u?11:14)+c*4,S=new Int32Array(I),O;if(u){O=I;for(var _=0;_<S.length;_++)S[_]=_}else{O=I+1+2*Qe.truncDivision(Qe.truncDivision(I,2)-1,15);for(var k=Qe.truncDivision(I,2),z=Qe.truncDivision(O,2),_=0;_<k;_++){var K=_+Qe.truncDivision(_,15);S[k-_-1]=z-K-1,S[k+_]=z+K+1}}for(var D=new Mi(O),_=0,R=0;_<c;_++){for(var L=(c-_)*4+(u?9:12),U=0;U<L;U++)for(var H=U*2,j=0;j<2;j++)w.get(R+H+j)&&D.set(S[_*2+j],S[_*2+U]),w.get(R+L*2+H+j)&&D.set(S[_*2+U],S[I-1-_*2-j]),w.get(R+L*4+H+j)&&D.set(S[I-1-_*2-j],S[I-1-_*2-U]),w.get(R+L*6+H+j)&&D.set(S[I-1-_*2-U],S[_*2+j]);R+=L*8}if(n.drawModeMessage(D,u,O,T),u)n.drawBullsEye(D,Qe.truncDivision(O,2),5);else{n.drawBullsEye(D,Qe.truncDivision(O,2),7);for(var _=0,U=0;_<Qe.truncDivision(I,2)-1;_+=15,U+=16)for(var j=Qe.truncDivision(O,2)&1;j<O;j+=2)D.set(Qe.truncDivision(O,2)-U,j),D.set(Qe.truncDivision(O,2)+U,j),D.set(j,Qe.truncDivision(O,2)-U),D.set(j,Qe.truncDivision(O,2)+U)}var F=new qz;return F.setCompact(u),F.setSize(O),F.setLayers(c),F.setCodeWords(A),F.setMatrix(D),F},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Sn;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Qe.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Qe.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new t4(n.getGF(r)),c=Qe.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,v=new Sn;v.appendBits(0,p);try{for(var y=aj(Array.from(h)),_=y.next();!_.done;_=y.next()){var w=_.value;v.appendBits(w,r)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return v},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return ur.AZTEC_PARAM;case 6:return ur.AZTEC_DATA_6;case 8:return ur.AZTEC_DATA_8;case 10:return ur.AZTEC_DATA_10;case 12:return ur.AZTEC_DATA_12;default:throw new De("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Sn,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();function oj({className:n,...e}){return B.jsx("div",{"data-slot":"card",className:It("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function sj({className:n,...e}){return B.jsx("div",{"data-slot":"card-header",className:It("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function lj({className:n,...e}){return B.jsx("div",{"data-slot":"card-content",className:It("px-6",n),...e})}function uj(){const n=M.useRef(null),[e,t]=M.useState(!1),[r,i]=M.useState(""),a=M.useRef(null),s=()=>{if(!n.current)return;const c=new sz;a.current=c,t(!0),c.decodeFromVideoDevice(null,n.current,h=>{h&&(i(h.getText()),u())})},u=()=>{var c;(c=a.current)==null||c.reset(),t(!1)};return B.jsx("div",{className:"flex justify-center p-6",children:B.jsxs(oj,{className:"w-full max-w-md shadow-lg rounded-2xl",children:[B.jsx(sj,{children:B.jsx("h1",{className:"text-xl font-semibold",children:" Barcode Scanner"})}),B.jsxs(lj,{className:"flex flex-col items-center gap-4",children:[B.jsx("video",{ref:n,className:"w-full rounded-lg border border-gray-200"}),e?B.jsxs(B.Fragment,{children:[B.jsx("p",{className:"text-sm text-muted-foreground",children:"Point your camera at a barcode"}),B.jsx(ca,{variant:"destructive",onClick:u,children:"Stop"})]}):B.jsxs(B.Fragment,{children:[B.jsx(ca,{onClick:s,children:"Start Scan"}),r&&B.jsxs("div",{className:"w-full bg-muted p-3 rounded-md text-center",children:[B.jsx("p",{className:"font-mono text-lg",children:r}),B.jsx(ca,{onClick:s,className:"mt-3",variant:"secondary",children:"Scan Again"})]})]})]})]})})}function cj(){return B.jsx("main",{className:"max-w-4xl mx-auto bg-white p-6 sm:p-8 rounded-xl shadow-2xl my-4",children:B.jsxs(r6,{defaultValue:"pantry",className:"w-full",children:[B.jsxs(i6,{className:"grid w-full grid-cols-3 mb-6",children:[B.jsx(Kp,{value:"pantry",children:"Pantry"}),B.jsx(Kp,{value:"recipes",children:"Recipe Book"}),B.jsx(Kp,{value:"barcode",children:"Barcode Scanner"})]}),B.jsx(HE,{objectType:"pantry",children:B.jsx(Wp,{value:"pantry",children:B.jsx(ZB,{})})}),B.jsx(HE,{objectType:"recipe",children:B.jsx(Wp,{value:"recipes",children:B.jsx(xV,{})})}),B.jsx(Wp,{value:"barcode",children:B.jsx(uj,{})})]})})}VR.createRoot(document.getElementById("root")).render(B.jsx(M.StrictMode,{children:B.jsx(cj,{})}));
