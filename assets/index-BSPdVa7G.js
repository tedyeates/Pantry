function c8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tg={exports:{}},Rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function f8(){if(_E)return Rc;_E=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Rc.Fragment=e,Rc.jsx=t,Rc.jsxs=t,Rc}var xE;function h8(){return xE||(xE=1,tg.exports=f8()),tg.exports}var M=h8(),ng={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function d8(){if(EE)return He;EE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(X,se,de){this.props=X,this.context=se,this.refs=A,this.updater=de||_}T.prototype.isReactComponent={},T.prototype.setState=function(X,se){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,se,"setState")},T.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function I(){}I.prototype=T.prototype;function R(X,se,de){this.props=X,this.context=se,this.refs=A,this.updater=de||_}var D=R.prototype=new I;D.constructor=R,E(D,T.prototype),D.isPureReactComponent=!0;var B=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function O(X,se,de,ce,me,Me){return de=Me.ref,{$$typeof:n,type:X,key:se,ref:de!==void 0?de:null,props:Me}}function b(X,se){return O(X.type,se,void 0,void 0,void 0,X.props)}function N(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function V(X){var se={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return se[de]})}var z=/\/+/g;function G(X,se){return typeof X=="object"&&X!==null&&X.key!=null?V(""+X.key):se.toString(36)}function U(){}function ye(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(U,U):(X.status="pending",X.then(function(se){X.status==="pending"&&(X.status="fulfilled",X.value=se)},function(se){X.status==="pending"&&(X.status="rejected",X.reason=se)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function xe(X,se,de,ce,me){var Me=typeof X;(Me==="undefined"||Me==="boolean")&&(X=null);var Se=!1;if(X===null)Se=!0;else switch(Me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(X.$$typeof){case n:case e:Se=!0;break;case p:return Se=X._init,xe(Se(X._payload),se,de,ce,me)}}if(Se)return me=me(X),Se=ce===""?"."+G(X,0):ce,B(me)?(de="",Se!=null&&(de=Se.replace(z,"$&/")+"/"),xe(me,se,de,"",function(ut){return ut})):me!=null&&(N(me)&&(me=b(me,de+(me.key==null||X&&X.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+Se)),se.push(me)),1;Se=0;var ge=ce===""?".":ce+":";if(B(X))for(var Re=0;Re<X.length;Re++)ce=X[Re],Me=ge+G(ce,Re),Se+=xe(ce,se,de,Me,me);else if(Re=y(X),typeof Re=="function")for(X=Re.call(X),Re=0;!(ce=X.next()).done;)ce=ce.value,Me=ge+G(ce,Re++),Se+=xe(ce,se,de,Me,me);else if(Me==="object"){if(typeof X.then=="function")return xe(ye(X),se,de,ce,me);throw se=String(X),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(X,se,de){if(X==null)return X;var ce=[],me=0;return xe(X,ce,"","",function(Me){return se.call(de,Me,me++)}),ce}function ae(X){if(X._status===-1){var se=X._result;se=se(),se.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=se)}if(X._status===1)return X._result.default;throw X._result}var ee=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function Ce(){}return He.Children={map:K,forEach:function(X,se,de){K(X,function(){se.apply(this,arguments)},de)},count:function(X){var se=0;return K(X,function(){se++}),se},toArray:function(X){return K(X,function(se){return se})||[]},only:function(X){if(!N(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},He.Component=T,He.Fragment=t,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=c,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,He.__COMPILER_RUNTIME={__proto__:null,c:function(X){return j.H.useMemoCache(X)}},He.cache=function(X){return function(){return X.apply(null,arguments)}},He.cloneElement=function(X,se,de){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ce=E({},X.props),me=X.key,Me=void 0;if(se!=null)for(Se in se.ref!==void 0&&(Me=void 0),se.key!==void 0&&(me=""+se.key),se)!H.call(se,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&se.ref===void 0||(ce[Se]=se[Se]);var Se=arguments.length-2;if(Se===1)ce.children=de;else if(1<Se){for(var ge=Array(Se),Re=0;Re<Se;Re++)ge[Re]=arguments[Re+2];ce.children=ge}return O(X.type,me,void 0,void 0,Me,ce)},He.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},He.createElement=function(X,se,de){var ce,me={},Me=null;if(se!=null)for(ce in se.key!==void 0&&(Me=""+se.key),se)H.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=se[ce]);var Se=arguments.length-2;if(Se===1)me.children=de;else if(1<Se){for(var ge=Array(Se),Re=0;Re<Se;Re++)ge[Re]=arguments[Re+2];me.children=ge}if(X&&X.defaultProps)for(ce in Se=X.defaultProps,Se)me[ce]===void 0&&(me[ce]=Se[ce]);return O(X,Me,void 0,void 0,null,me)},He.createRef=function(){return{current:null}},He.forwardRef=function(X){return{$$typeof:u,render:X}},He.isValidElement=N,He.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:ae}},He.memo=function(X,se){return{$$typeof:h,type:X,compare:se===void 0?null:se}},He.startTransition=function(X){var se=j.T,de={};j.T=de;try{var ce=X(),me=j.S;me!==null&&me(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,ee)}catch(Me){ee(Me)}finally{j.T=se}},He.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},He.use=function(X){return j.H.use(X)},He.useActionState=function(X,se,de){return j.H.useActionState(X,se,de)},He.useCallback=function(X,se){return j.H.useCallback(X,se)},He.useContext=function(X){return j.H.useContext(X)},He.useDebugValue=function(){},He.useDeferredValue=function(X,se){return j.H.useDeferredValue(X,se)},He.useEffect=function(X,se,de){var ce=j.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(X,se)},He.useId=function(){return j.H.useId()},He.useImperativeHandle=function(X,se,de){return j.H.useImperativeHandle(X,se,de)},He.useInsertionEffect=function(X,se){return j.H.useInsertionEffect(X,se)},He.useLayoutEffect=function(X,se){return j.H.useLayoutEffect(X,se)},He.useMemo=function(X,se){return j.H.useMemo(X,se)},He.useOptimistic=function(X,se){return j.H.useOptimistic(X,se)},He.useReducer=function(X,se,de){return j.H.useReducer(X,se,de)},He.useRef=function(X){return j.H.useRef(X)},He.useState=function(X){return j.H.useState(X)},He.useSyncExternalStore=function(X,se,de){return j.H.useSyncExternalStore(X,se,de)},He.useTransition=function(){return j.H.useTransition()},He.version="19.1.0",He}var wE;function Um(){return wE||(wE=1,ng.exports=d8()),ng.exports}var L=Um();const no=Fm(L),mC=c8({__proto__:null,default:no},[L]);var rg={exports:{}},Oc={},ig={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function p8(){return AE||(AE=1,function(n){function e(K,ae){var ee=K.length;K.push(ae);e:for(;0<ee;){var Ce=ee-1>>>1,X=K[Ce];if(0<i(X,ae))K[Ce]=ae,K[ee]=X,ee=Ce;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],ee=K.pop();if(ee!==ae){K[0]=ee;e:for(var Ce=0,X=K.length,se=X>>>1;Ce<se;){var de=2*(Ce+1)-1,ce=K[de],me=de+1,Me=K[me];if(0>i(ce,ee))me<X&&0>i(Me,ce)?(K[Ce]=Me,K[me]=ee,Ce=me):(K[Ce]=ce,K[de]=ee,Ce=de);else if(me<X&&0>i(Me,ee))K[Ce]=Me,K[me]=ee,Ce=me;else break e}}return ae}function i(K,ae){var ee=K.sortIndex-ae.sortIndex;return ee!==0?ee:K.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,g=null,y=3,_=!1,E=!1,A=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var ae=t(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=K)r(h),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=t(h)}}function j(K){if(A=!1,B(K),!E)if(t(c)!==null)E=!0,H||(H=!0,G());else{var ae=t(h);ae!==null&&xe(j,ae.startTime-K)}}var H=!1,O=-1,b=5,N=-1;function V(){return T?!0:!(n.unstable_now()-N<b)}function z(){if(T=!1,H){var K=n.unstable_now();N=K;var ae=!0;try{e:{E=!1,A&&(A=!1,R(O),O=-1),_=!0;var ee=y;try{t:{for(B(K),g=t(c);g!==null&&!(g.expirationTime>K&&V());){var Ce=g.callback;if(typeof Ce=="function"){g.callback=null,y=g.priorityLevel;var X=Ce(g.expirationTime<=K);if(K=n.unstable_now(),typeof X=="function"){g.callback=X,B(K),ae=!0;break t}g===t(c)&&r(c),B(K)}else r(c);g=t(c)}if(g!==null)ae=!0;else{var se=t(h);se!==null&&xe(j,se.startTime-K),ae=!1}}break e}finally{g=null,y=ee,_=!1}ae=void 0}}finally{ae?G():H=!1}}}var G;if(typeof D=="function")G=function(){D(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=z,G=function(){ye.postMessage(null)}}else G=function(){I(z,0)};function xe(K,ae){O=I(function(){K(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ee=y;y=ae;try{return K()}finally{y=ee}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ee=y;y=K;try{return ae()}finally{y=ee}},n.unstable_scheduleCallback=function(K,ae,ee){var Ce=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ce+ee:Ce):ee=Ce,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ee+X,K={id:p++,callback:ae,priorityLevel:K,startTime:ee,expirationTime:X,sortIndex:-1},ee>Ce?(K.sortIndex=ee,e(h,K),t(c)===null&&K===t(h)&&(A?(R(O),O=-1):A=!0,xe(j,ee-Ce))):(K.sortIndex=X,e(c,K),E||_||(E=!0,H||(H=!0,G()))),K},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(K){var ae=y;return function(){var ee=y;y=ae;try{return K.apply(this,arguments)}finally{y=ee}}}}(ag)),ag}var TE;function g8(){return TE||(TE=1,ig.exports=p8()),ig.exports}var og={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function v8(){if(CE)return zn;CE=1;var n=Um();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},zn.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},zn.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},zn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},zn.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zn.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},zn.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zn.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},zn.requestFormReset=function(c){r.d.r(c)},zn.unstable_batchedUpdates=function(c,h){return c(h)},zn.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},zn.useFormStatus=function(){return s.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var bE;function yC(){if(bE)return og.exports;bE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),og.exports=v8(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function m8(){if(SE)return Oc;SE=1;var n=g8(),e=Um(),t=yC();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var m=f.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){f=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===f)return u(m),o;if(x===d)return u(m),l;x=x.sibling}throw Error(r(188))}if(f.return!==d.return)f=m,d=x;else{for(var S=!1,P=m.child;P;){if(P===f){S=!0,f=m,d=x;break}if(P===d){S=!0,d=m,f=x;break}P=P.sibling}if(!S){for(P=x.child;P;){if(P===f){S=!0,f=x,d=m;break}if(P===d){S=!0,d=x,f=m;break}P=P.sibling}if(!S)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case H:return"SuspenseList";case N:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case D:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return l=o.displayName||null,l!==null?l:ye(o.type)||"Memo";case b:l=o._payload,o=o._init;try{return ye(o(l))}catch{}}return null}var xe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ce=[],X=-1;function se(o){return{current:o}}function de(o){0>X||(o.current=Ce[X],Ce[X]=null,X--)}function ce(o,l){X++,Ce[X]=o.current,o.current=l}var me=se(null),Me=se(null),Se=se(null),ge=se(null);function Re(o,l){switch(ce(Se,l),ce(Me,o),ce(me,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Wx(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Wx(l),o=Kx(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}de(me),ce(me,o)}function ut(){de(me),de(Me),de(Se)}function Ge(o){o.memoizedState!==null&&ce(ge,o);var l=me.current,f=Kx(l,o.type);l!==f&&(ce(Me,o),ce(me,f))}function je(o){Me.current===o&&(de(me),de(Me)),ge.current===o&&(de(ge),Tc._currentValue=ee)}var ze=Object.prototype.hasOwnProperty,Gt=n.unstable_scheduleCallback,mn=n.unstable_cancelCallback,Gr=n.unstable_shouldYield,si=n.unstable_requestPaint,yn=n.unstable_now,wu=n.unstable_getCurrentPriorityLevel,li=n.unstable_ImmediatePriority,Fs=n.unstable_UserBlockingPriority,Mo=n.unstable_NormalPriority,n1=n.unstable_LowPriority,Us=n.unstable_IdlePriority,Au=n.log,Nf=n.unstable_setDisableYieldValue,jt=null,yt=null;function pr(o){if(typeof Au=="function"&&Nf(o),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(jt,o)}catch{}}var Un=Math.clz32?Math.clz32:Lo,Pf=Math.log,r1=Math.LN2;function Lo(o){return o>>>=0,o===0?32:31-(Pf(o)/r1|0)|0}var ko=256,Bo=4194304;function qr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function js(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var m=0,x=o.suspendedLanes,S=o.pingedLanes;o=o.warmLanes;var P=d&134217727;return P!==0?(d=P&~x,d!==0?m=qr(d):(S&=P,S!==0?m=qr(S):f||(f=P&~o,f!==0&&(m=qr(f))))):(P=d&~x,P!==0?m=qr(P):S!==0?m=qr(S):f||(f=d&~o,f!==0&&(m=qr(f)))),m===0?0:l!==0&&l!==m&&(l&x)===0&&(x=m&-m,f=l&-l,x>=f||x===32&&(f&4194048)!==0)?l:m}function Vo(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Tu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var o=ko;return ko<<=1,(ko&4194048)===0&&(ko=256),o}function bu(){var o=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),o}function Vi(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Fi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Su(o,l,f,d,m,x){var S=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var P=o.entanglements,q=o.expirationTimes,Z=o.hiddenUpdates;for(f=S&~f;0<f;){var oe=31-Un(f),ue=1<<oe;P[oe]=0,q[oe]=-1;var te=Z[oe];if(te!==null)for(Z[oe]=null,oe=0;oe<te.length;oe++){var ne=te[oe];ne!==null&&(ne.lane&=-536870913)}f&=~ue}d!==0&&ui(o,d,0),x!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=x&~(S&~l))}function ui(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-Un(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function Iu(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-Un(f),m=1<<d;m&l|o[d]&l&&(o[d]|=l),f&=~m}}function Ta(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ca(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:dE(o.type))}function Mf(o,l){var f=ae.p;try{return ae.p=o,l()}finally{ae.p=f}}var Mt=Math.random().toString(36).slice(2),nn="__reactFiber$"+Mt,Yt="__reactProps$"+Mt,Ir="__reactContainer$"+Mt,Ru="__reactEvents$"+Mt,i1="__reactListeners$"+Mt,ba="__reactHandles$"+Mt,Lf="__reactResources$"+Mt,Fo="__reactMarker$"+Mt;function Sa(o){delete o[nn],delete o[Yt],delete o[Ru],delete o[i1],delete o[ba]}function Ui(o){var l=o[nn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Ir]||f[nn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Zx(o);o!==null;){if(f=o[nn])return f;o=Zx(o)}return l}o=f,f=o.parentNode}return null}function ci(o){if(o=o[nn]||o[Ir]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function fi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function $n(o){var l=o[Lf];return l||(l=o[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qt(o){o[Fo]=!0}var Ou=new Set,Hs={};function Xr(o,l){ji(o,l),ji(o+"Capture",l)}function ji(o,l){for(Hs[o]=l,o=0;o<l.length;o++)Ou.add(l[o])}var kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bf={},Uo={};function Vf(o){return ze.call(Uo,o)?!0:ze.call(Bf,o)?!1:kf.test(o)?Uo[o]=!0:(Bf[o]=!0,!1)}function Ia(o,l,f){if(Vf(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function hi(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Rn(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var jo,Ff;function zi(o){if(jo===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);jo=l&&l[1]||"",Ff=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+o+Ff}var Gs=!1;function qs(o,l){if(!o||Gs)return"";Gs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(ne){te=ne}o.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),S=x[0],P=x[1];if(S&&P){var q=S.split(`
`),Z=P.split(`
`);for(m=d=0;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(d===q.length||m===Z.length)for(d=q.length-1,m=Z.length-1;1<=d&&0<=m&&q[d]!==Z[m];)m--;for(;1<=d&&0<=m;d--,m--)if(q[d]!==Z[m]){if(d!==1||m!==1)do if(d--,m--,0>m||q[d]!==Z[m]){var oe=`
`+q[d].replace(" at new "," at ");return o.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",o.displayName)),oe}while(1<=d&&0<=m);break}}}finally{Gs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?zi(f):""}function Du(o){switch(o.tag){case 26:case 27:case 5:return zi(o.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return qs(o.type,!1);case 11:return qs(o.type.render,!1);case 1:return qs(o.type,!0);case 31:return zi("Activity");default:return""}}function Xs(o){try{var l="";do l+=Du(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Qn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nu(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function a1(o){var l=Nu(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,x=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,x.call(this,S)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ws(o){o._valueTracker||(o._valueTracker=a1(o))}function Pu(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Nu(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function zo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var o1=/[\n"\\]/g;function $t(o){return o.replace(o1,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function gr(o,l,f,d,m,x,S,P){o.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?o.type=S:o.removeAttribute("type"),l!=null?S==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Qn(l)):o.value!==""+Qn(l)&&(o.value=""+Qn(l)):S!=="submit"&&S!=="reset"||o.removeAttribute("value"),l!=null?Ra(o,S,Qn(l)):f!=null?Ra(o,S,Qn(f)):d!=null&&o.removeAttribute("value"),m==null&&x!=null&&(o.defaultChecked=!!x),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+Qn(P):o.removeAttribute("name")}function Ho(o,l,f,d,m,x,S,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),l!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||l!=null))return;f=f!=null?""+Qn(f):"",l=l!=null?""+Qn(l):f,P||l===o.value||(o.value=l),o.defaultValue=l}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=P?o.checked:!!d,o.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.name=S)}function Ra(o,l,f){l==="number"&&zo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Hi(o,l,f,d){if(o=o.options,l){l={};for(var m=0;m<f.length;m++)l["$"+f[m]]=!0;for(f=0;f<o.length;f++)m=l.hasOwnProperty("$"+o[f].value),o[f].selected!==m&&(o[f].selected=m),m&&d&&(o[f].defaultSelected=!0)}else{for(f=""+Qn(f),l=null,m=0;m<o.length;m++){if(o[m].value===f){o[m].selected=!0,d&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function Tt(o,l,f){if(l!=null&&(l=""+Qn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Qn(f):""}function Go(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(xe(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=Qn(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function Rr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uf(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||qo.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Mu(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var m in l)d=l[m],l.hasOwnProperty(m)&&f[m]!==d&&Uf(o,m,d)}else for(var x in l)l.hasOwnProperty(x)&&Uf(o,x,l[x])}function Lu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(o){return l1.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Gi=null;function Or(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qi=null,Xi=null;function ku(o){var l=ci(o);if(l&&(o=l.stateNode)){var f=o[Yt]||null;e:switch(o=l.stateNode,l.type){case"input":if(gr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+$t(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var m=d[Yt]||null;if(!m)throw Error(r(90));gr(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Pu(d)}break e;case"textarea":Tt(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Hi(o,!!f.multiple,l,!1)}}}var di=!1;function jf(o,l,f){if(di)return o(l,f);di=!0;try{var d=o(l);return d}finally{if(di=!1,(qi!==null||Xi!==null)&&(Mh(),qi&&(l=qi,o=Xi,Xi=qi=null,ku(l),o)))for(l=0;l<o.length;l++)ku(o[l])}}function Xo(o,l){var f=o.stateNode;if(f===null)return null;var d=f[Yt]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Wr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Dr=!1}var pi=null,Oa=null,Wi=null;function Bu(){if(Wi)return Wi;var o,l=Oa,f=l.length,d,m="value"in pi?pi.value:pi.textContent,x=m.length;for(o=0;o<f&&l[o]===m[o];o++);var S=f-o;for(d=1;d<=S&&l[f-d]===m[x-d];d++);return Wi=m.slice(o,1<d?1-d:void 0)}function gi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function vi(){return!0}function Vu(){return!1}function _n(o){function l(f,d,m,x,S){this._reactName=f,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(f=o[P],this[P]=f?f(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?vi:Vu,this.isPropagationStopped=Vu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),l}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=_n(gt),Ko=p({},gt,{view:0,detail:0}),zf=_n(Ko),$s,Qs,mi,Yo=p({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mi&&(mi&&o.type==="mousemove"?($s=o.screenX-mi.screenX,Qs=o.screenY-mi.screenY):Qs=$s=0,mi=o),$s)},movementY:function(o){return"movementY"in o?o.movementY:Qs}}),Nr=_n(Yo),Hf=p({},Yo,{dataTransfer:0}),u1=_n(Hf),$o=p({},Ko,{relatedTarget:0}),Zs=_n($o),Fu=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=_n(Fu),Gf=p({},gt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),el=_n(Gf),c1=p({},gt,{data:0}),Uu=_n(c1),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Xf[o])?!!l[o]:!1}function Zo(){return ju}var Wf=p({},Ko,{key:function(o){if(o.key){var l=Qo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=gi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(o){return o.type==="keypress"?gi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?gi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tl=_n(Wf),Kf=p({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=_n(Kf),Ki=p({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),Yf=_n(Ki),$f=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=_n($f),Zf=p({},Yo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nl=_n(Zf),Zn=p({},gt,{newState:0,oldState:0}),Jf=_n(Zn),eh=[9,13,27,32],yi=Wr&&"CompositionEvent"in window,v=null;Wr&&"documentMode"in document&&(v=document.documentMode);var w=Wr&&"TextEvent"in window&&!v,C=Wr&&(!yi||v&&8<v&&11>=v),k=" ",$=!1;function re(o,l){switch(o){case"keyup":return eh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nt=!1;function rn(o,l){switch(o){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:($=!0,k);case"textInput":return o=l.data,o===k&&$?null:o;default:return null}}function rt(o,l){if(nt)return o==="compositionend"||!yi&&re(o,l)?(o=Bu(),Wi=Oa=pi=null,nt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return C&&l.locale!=="ko"?null:l.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!xn[o.type]:l==="textarea"}function Yi(o,l,f,d){qi?Xi?Xi.push(d):Xi=[d]:qi=d,l=Uh(l,"onChange"),0<l.length&&(f=new Ys("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var On=null,_i=null;function Hu(o){zx(o,0)}function th(o){var l=fi(o);if(Pu(l))return o}function u_(o,l){if(o==="change")return l}var c_=!1;if(Wr){var f1;if(Wr){var h1="oninput"in document;if(!h1){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),h1=typeof f_.oninput=="function"}f1=h1}else f1=!1;c_=f1&&(!document.documentMode||9<document.documentMode)}function h_(){On&&(On.detachEvent("onpropertychange",d_),_i=On=null)}function d_(o){if(o.propertyName==="value"&&th(_i)){var l=[];Yi(l,_i,o,Or(o)),jf(Hu,l)}}function U4(o,l,f){o==="focusin"?(h_(),On=l,_i=f,On.attachEvent("onpropertychange",d_)):o==="focusout"&&h_()}function j4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return th(_i)}function z4(o,l){if(o==="click")return th(l)}function H4(o,l){if(o==="input"||o==="change")return th(l)}function G4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vr=typeof Object.is=="function"?Object.is:G4;function Gu(o,l){if(vr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var m=f[d];if(!ze.call(l,m)||!vr(o[m],l[m]))return!1}return!0}function p_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function g_(o,l){var f=p_(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=p_(f)}}function v_(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?v_(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function m_(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=zo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=zo(o.document)}return l}function d1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var q4=Wr&&"documentMode"in document&&11>=document.documentMode,rl=null,p1=null,qu=null,g1=!1;function y_(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;g1||rl==null||rl!==zo(d)||(d=rl,"selectionStart"in d&&d1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qu&&Gu(qu,d)||(qu=d,d=Uh(p1,"onSelect"),0<d.length&&(l=new Ys("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=rl)))}function Jo(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var il={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionrun:Jo("Transition","TransitionRun"),transitionstart:Jo("Transition","TransitionStart"),transitioncancel:Jo("Transition","TransitionCancel"),transitionend:Jo("Transition","TransitionEnd")},v1={},__={};Wr&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function es(o){if(v1[o])return v1[o];if(!il[o])return o;var l=il[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in __)return v1[o]=l[f];return o}var x_=es("animationend"),E_=es("animationiteration"),w_=es("animationstart"),X4=es("transitionrun"),W4=es("transitionstart"),K4=es("transitioncancel"),A_=es("transitionend"),T_=new Map,m1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");m1.push("scrollEnd");function Kr(o,l){T_.set(o,l),Xr(l,[o])}var C_=new WeakMap;function Pr(o,l){if(typeof o=="object"&&o!==null){var f=C_.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Xs(l)},C_.set(o,l),l)}return{value:o,source:l,stack:Xs(l)}}var Mr=[],al=0,y1=0;function nh(){for(var o=al,l=y1=al=0;l<o;){var f=Mr[l];Mr[l++]=null;var d=Mr[l];Mr[l++]=null;var m=Mr[l];Mr[l++]=null;var x=Mr[l];if(Mr[l++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}x!==0&&b_(f,m,x)}}function rh(o,l,f,d){Mr[al++]=o,Mr[al++]=l,Mr[al++]=f,Mr[al++]=d,y1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function _1(o,l,f,d){return rh(o,l,f,d),ih(o)}function ol(o,l){return rh(o,null,null,l),ih(o)}function b_(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var m=!1,x=o.return;x!==null;)x.childLanes|=f,d=x.alternate,d!==null&&(d.childLanes|=f),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(m=!0)),o=x,x=x.return;return o.tag===3?(x=o.stateNode,m&&l!==null&&(m=31-Un(f),o=x.hiddenUpdates,d=o[m],d===null?o[m]=[l]:d.push(l),l.lane=f|536870912),x):null}function ih(o){if(50<vc)throw vc=0,Cp=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var sl={};function Y4(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(o,l,f,d){return new Y4(o,l,f,d)}function x1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,l){var f=o.alternate;return f===null?(f=mr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function S_(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function ah(o,l,f,d,m,x){var S=0;if(d=o,typeof o=="function")x1(o)&&(S=1);else if(typeof o=="string")S=QR(o,f,me.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case N:return o=mr(31,f,l,m),o.elementType=N,o.lanes=x,o;case E:return ts(f.children,m,x,l);case A:S=8,m|=24;break;case T:return o=mr(12,f,l,m|2),o.elementType=T,o.lanes=x,o;case j:return o=mr(13,f,l,m),o.elementType=j,o.lanes=x,o;case H:return o=mr(19,f,l,m),o.elementType=H,o.lanes=x,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:case D:S=10;break e;case R:S=9;break e;case B:S=11;break e;case O:S=14;break e;case b:S=16,d=null;break e}S=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=mr(S,f,l,m),l.elementType=o,l.type=d,l.lanes=x,l}function ts(o,l,f,d){return o=mr(7,o,d,l),o.lanes=f,o}function E1(o,l,f){return o=mr(6,o,null,l),o.lanes=f,o}function w1(o,l,f){return l=mr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var ll=[],ul=0,oh=null,sh=0,Lr=[],kr=0,ns=null,Qi=1,Zi="";function rs(o,l){ll[ul++]=sh,ll[ul++]=oh,oh=o,sh=l}function I_(o,l,f){Lr[kr++]=Qi,Lr[kr++]=Zi,Lr[kr++]=ns,ns=o;var d=Qi;o=Zi;var m=32-Un(d)-1;d&=~(1<<m),f+=1;var x=32-Un(l)+m;if(30<x){var S=m-m%5;x=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Qi=1<<32-Un(l)+m|f<<m|d,Zi=x+o}else Qi=1<<x|f<<m|d,Zi=o}function A1(o){o.return!==null&&(rs(o,1),I_(o,1,0))}function T1(o){for(;o===oh;)oh=ll[--ul],ll[ul]=null,sh=ll[--ul],ll[ul]=null;for(;o===ns;)ns=Lr[--kr],Lr[kr]=null,Zi=Lr[--kr],Lr[kr]=null,Qi=Lr[--kr],Lr[kr]=null}var Jn=null,zt=null,ht=!1,is=null,xi=!1,C1=Error(r(519));function as(o){var l=Error(r(418,""));throw Ku(Pr(l,o)),C1}function R_(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[nn]=o,l[Yt]=d,f){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(f=0;f<yc.length;f++)Je(yc[f],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":Je("invalid",l),Ho(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ws(l);break;case"select":Je("invalid",l);break;case"textarea":Je("invalid",l),Go(l,d.value,d.defaultValue,d.children),Ws(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||Xx(l.textContent,f)?(d.popover!=null&&(Je("beforetoggle",l),Je("toggle",l)),d.onScroll!=null&&Je("scroll",l),d.onScrollEnd!=null&&Je("scrollend",l),d.onClick!=null&&(l.onclick=jh),l=!0):l=!1,l||as(o)}function O_(o){for(Jn=o.return;Jn;)switch(Jn.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Jn=Jn.return}}function Xu(o){if(o!==Jn)return!1;if(!ht)return O_(o),ht=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||jp(o.type,o.memoizedProps)),f=!f),f&&zt&&as(o),O_(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){zt=$r(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}zt=null}}else l===27?(l=zt,Xa(o.type)?(o=qp,qp=null,zt=o):zt=l):zt=Jn?$r(o.stateNode.nextSibling):null;return!0}function Wu(){zt=Jn=null,ht=!1}function D_(){var o=is;return o!==null&&(lr===null?lr=o:lr.push.apply(lr,o),is=null),o}function Ku(o){is===null?is=[o]:is.push(o)}var b1=se(null),os=null,Ji=null;function Da(o,l,f){ce(b1,l._currentValue),l._currentValue=f}function ea(o){o._currentValue=b1.current,de(b1)}function S1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function I1(o,l,f,d){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var x=m.dependencies;if(x!==null){var S=m.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=m;for(var q=0;q<l.length;q++)if(P.context===l[q]){x.lanes|=f,P=x.alternate,P!==null&&(P.lanes|=f),S1(x.return,f,o),d||(S=null);break e}x=P.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=f,x=S.alternate,x!==null&&(x.lanes|=f),S1(S,f,o),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===o){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Yu(o,l,f,d){o=null;for(var m=l,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var P=m.type;vr(m.pendingProps.value,S.value)||(o!==null?o.push(P):o=[P])}}else if(m===ge.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(Tc):o=[Tc])}m=m.return}o!==null&&I1(l,o,f,d),l.flags|=262144}function lh(o){for(o=o.firstContext;o!==null;){if(!vr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ss(o){os=o,Ji=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function jn(o){return N_(os,o)}function uh(o,l){return os===null&&ss(o),N_(o,l)}function N_(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Ji===null){if(o===null)throw Error(r(308));Ji=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ji=Ji.next=l;return f}var $4=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},Q4=n.unstable_scheduleCallback,Z4=n.unstable_NormalPriority,on={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function R1(){return{controller:new $4,data:new Map,refCount:0}}function $u(o){o.refCount--,o.refCount===0&&Q4(Z4,function(){o.controller.abort()})}var Qu=null,O1=0,cl=0,fl=null;function J4(o,l){if(Qu===null){var f=Qu=[];O1=0,cl=Np(),fl={status:"pending",value:void 0,then:function(d){f.push(d)}}}return O1++,l.then(P_,P_),l}function P_(){if(--O1===0&&Qu!==null){fl!==null&&(fl.status="fulfilled");var o=Qu;Qu=null,cl=0,fl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function eR(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(m){f.push(m)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var m=0;m<f.length;m++)(0,f[m])(l)},function(m){for(d.status="rejected",d.reason=m,m=0;m<f.length;m++)(0,f[m])(void 0)}),d}var M_=K.S;K.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&J4(o,l),M_!==null&&M_(o,l)};var ls=se(null);function D1(){var o=ls.current;return o!==null?o:Ot.pooledCache}function ch(o,l){l===null?ce(ls,ls.current):ce(ls,l.pool)}function L_(){var o=D1();return o===null?null:{parent:on._currentValue,pool:o}}var Zu=Error(r(460)),k_=Error(r(474)),fh=Error(r(542)),N1={then:function(){}};function B_(o){return o=o.status,o==="fulfilled"||o==="rejected"}function hh(){}function V_(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(hh,hh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,U_(o),o;default:if(typeof l.status=="string")l.then(hh,hh);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=d}},function(d){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,U_(o),o}throw Ju=l,Zu}}var Ju=null;function F_(){if(Ju===null)throw Error(r(459));var o=Ju;return Ju=null,o}function U_(o){if(o===Zu||o===fh)throw Error(r(483))}var Na=!1;function P1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Pa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ma(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(_t&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,l=ih(o),b_(o,null,f),l}return rh(o,d,l,f),ih(o)}function ec(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Iu(o,f)}}function L1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var m=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var S={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?m=x=S:x=x.next=S,f=f.next}while(f!==null);x===null?m=x=l:x=x.next=l}else m=x=l;f={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var k1=!1;function tc(){if(k1){var o=fl;if(o!==null)throw o}}function nc(o,l,f,d){k1=!1;var m=o.updateQueue;Na=!1;var x=m.firstBaseUpdate,S=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,Z=q.next;q.next=null,S===null?x=Z:S.next=Z,S=q;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,P=oe.lastBaseUpdate,P!==S&&(P===null?oe.firstBaseUpdate=Z:P.next=Z,oe.lastBaseUpdate=q))}if(x!==null){var ue=m.baseState;S=0,oe=Z=q=null,P=x;do{var te=P.lane&-536870913,ne=te!==P.lane;if(ne?(it&te)===te:(d&te)===te){te!==0&&te===cl&&(k1=!0),oe!==null&&(oe=oe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ve=o,Pe=P;te=l;var St=f;switch(Pe.tag){case 1:if(Ve=Pe.payload,typeof Ve=="function"){ue=Ve.call(St,ue,te);break e}ue=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Pe.payload,te=typeof Ve=="function"?Ve.call(St,ue,te):Ve,te==null)break e;ue=p({},ue,te);break e;case 2:Na=!0}}te=P.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},oe===null?(Z=oe=ne,q=ue):oe=oe.next=ne,S|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);oe===null&&(q=ue),m.baseState=q,m.firstBaseUpdate=Z,m.lastBaseUpdate=oe,x===null&&(m.shared.lanes=0),za|=S,o.lanes=S,o.memoizedState=ue}}function j_(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function z_(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)j_(f[o],l)}var hl=se(null),dh=se(0);function H_(o,l){o=sa,ce(dh,o),ce(hl,l),sa=o|l.baseLanes}function B1(){ce(dh,sa),ce(hl,hl.current)}function V1(){sa=dh.current,de(hl),de(dh)}var La=0,Xe=null,Ct=null,Qt=null,ph=!1,dl=!1,us=!1,gh=0,rc=0,pl=null,tR=0;function Xt(){throw Error(r(321))}function F1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!vr(o[f],l[f]))return!1;return!0}function U1(o,l,f,d,m,x){return La=x,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=o===null||o.memoizedState===null?b2:S2,us=!1,x=f(d,m),us=!1,dl&&(x=q_(l,f,d,m)),G_(o),x}function G_(o){K.H=Eh;var l=Ct!==null&&Ct.next!==null;if(La=0,Qt=Ct=Xe=null,ph=!1,rc=0,pl=null,l)throw Error(r(300));o===null||En||(o=o.dependencies,o!==null&&lh(o)&&(En=!0))}function q_(o,l,f,d){Xe=o;var m=0;do{if(dl&&(pl=null),rc=0,dl=!1,25<=m)throw Error(r(301));if(m+=1,Qt=Ct=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=lR,x=l(f,d)}while(dl);return x}function nR(){var o=K.H,l=o.useState()[0];return l=typeof l.then=="function"?ic(l):l,o=o.useState()[0],(Ct!==null?Ct.memoizedState:null)!==o&&(Xe.flags|=1024),l}function j1(){var o=gh!==0;return gh=0,o}function z1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function H1(o){if(ph){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ph=!1}La=0,Qt=Ct=Xe=null,dl=!1,rc=gh=0,pl=null}function or(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o,Qt}function Zt(){if(Ct===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=Ct.next;var l=Qt===null?Xe.memoizedState:Qt.next;if(l!==null)Qt=l,Ct=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Ct=o,o={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o}return Qt}function G1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(o){var l=rc;return rc+=1,pl===null&&(pl=[]),o=V_(pl,o,l),l=Xe,(Qt===null?l.memoizedState:Qt.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?b2:S2),o}function vh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ic(o);if(o.$$typeof===D)return jn(o)}throw Error(r(438,String(o)))}function q1(o){var l=null,f=Xe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=Xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=G1(),Xe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=V;return l.index++,f}function ta(o,l){return typeof l=="function"?l(o):l}function mh(o){var l=Zt();return X1(l,Ct,o)}function X1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var m=o.baseQueue,x=d.pending;if(x!==null){if(m!==null){var S=m.next;m.next=x.next,x.next=S}l.baseQueue=m=x,d.pending=null}if(x=o.baseState,m===null)o.memoizedState=x;else{l=m.next;var P=S=null,q=null,Z=l,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(it&ue)===ue:(La&ue)===ue){var te=Z.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===cl&&(oe=!0);else if((La&te)===te){Z=Z.next,te===cl&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(P=q=ue,S=x):q=q.next=ue,Xe.lanes|=te,za|=te;ue=Z.action,us&&f(x,ue),x=Z.hasEagerState?Z.eagerState:f(x,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(P=q=te,S=x):q=q.next=te,Xe.lanes|=ue,za|=ue;Z=Z.next}while(Z!==null&&Z!==l);if(q===null?S=x:q.next=P,!vr(x,o.memoizedState)&&(En=!0,oe&&(f=fl,f!==null)))throw f;o.memoizedState=x,o.baseState=S,o.baseQueue=q,d.lastRenderedState=x}return m===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function W1(o){var l=Zt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,m=f.pending,x=l.memoizedState;if(m!==null){f.pending=null;var S=m=m.next;do x=o(x,S.action),S=S.next;while(S!==m);vr(x,l.memoizedState)||(En=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),f.lastRenderedState=x}return[x,d]}function X_(o,l,f){var d=Xe,m=Zt(),x=ht;if(x){if(f===void 0)throw Error(r(407));f=f()}else f=l();var S=!vr((Ct||m).memoizedState,f);S&&(m.memoizedState=f,En=!0),m=m.queue;var P=Y_.bind(null,d,m,o);if(ac(2048,8,P,[o]),m.getSnapshot!==l||S||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,gl(9,yh(),K_.bind(null,d,m,f,l),null),Ot===null)throw Error(r(349));x||(La&124)!==0||W_(d,l,f)}return f}function W_(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Xe.updateQueue,l===null?(l=G1(),Xe.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function K_(o,l,f,d){l.value=f,l.getSnapshot=d,$_(l)&&Q_(o)}function Y_(o,l,f){return f(function(){$_(l)&&Q_(o)})}function $_(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!vr(o,f)}catch{return!0}}function Q_(o){var l=ol(o,2);l!==null&&wr(l,o,2)}function K1(o){var l=or();if(typeof o=="function"){var f=o;if(o=f(),us){pr(!0);try{f()}finally{pr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:o},l}function Z_(o,l,f,d){return o.baseState=f,X1(o,Ct,typeof d=="function"?d:ta)}function rR(o,l,f,d,m){if(xh(o))throw Error(r(485));if(o=l.action,o!==null){var x={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};K.T!==null?f(!0):x.isTransition=!1,d(x),f=l.pending,f===null?(x.next=l.pending=x,J_(l,x)):(x.next=f.next,l.pending=f.next=x)}}function J_(o,l){var f=l.action,d=l.payload,m=o.state;if(l.isTransition){var x=K.T,S={};K.T=S;try{var P=f(m,d),q=K.S;q!==null&&q(S,P),e2(o,l,P)}catch(Z){Y1(o,l,Z)}finally{K.T=x}}else try{x=f(m,d),e2(o,l,x)}catch(Z){Y1(o,l,Z)}}function e2(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){t2(o,l,d)},function(d){return Y1(o,l,d)}):t2(o,l,f)}function t2(o,l,f){l.status="fulfilled",l.value=f,n2(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,J_(o,f)))}function Y1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,n2(l),l=l.next;while(l!==d)}o.action=null}function n2(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function r2(o,l){return l}function i2(o,l){if(ht){var f=Ot.formState;if(f!==null){e:{var d=Xe;if(ht){if(zt){t:{for(var m=zt,x=xi;m.nodeType!==8;){if(!x){m=null;break t}if(m=$r(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){zt=$r(m.nextSibling),d=m.data==="F!";break e}}as(d)}d=!1}d&&(l=f[0])}}return f=or(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r2,lastRenderedState:l},f.queue=d,f=A2.bind(null,Xe,d),d.dispatch=f,d=K1(!1),x=ep.bind(null,Xe,!1,d.queue),d=or(),m={state:l,dispatch:null,action:o,pending:null},d.queue=m,f=rR.bind(null,Xe,m,x,f),m.dispatch=f,d.memoizedState=o,[l,f,!1]}function a2(o){var l=Zt();return o2(l,Ct,o)}function o2(o,l,f){if(l=X1(o,l,r2)[0],o=mh(ta)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=ic(l)}catch(S){throw S===Zu?fh:S}else d=l;l=Zt();var m=l.queue,x=m.dispatch;return f!==l.memoizedState&&(Xe.flags|=2048,gl(9,yh(),iR.bind(null,m,f),null)),[d,x,o]}function iR(o,l){o.action=l}function s2(o){var l=Zt(),f=Ct;if(f!==null)return o2(l,f,o);Zt(),l=l.memoizedState,f=Zt();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function gl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=G1(),Xe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function yh(){return{destroy:void 0,resource:void 0}}function l2(){return Zt().memoizedState}function _h(o,l,f,d){var m=or();d=d===void 0?null:d,Xe.flags|=o,m.memoizedState=gl(1|l,yh(),f,d)}function ac(o,l,f,d){var m=Zt();d=d===void 0?null:d;var x=m.memoizedState.inst;Ct!==null&&d!==null&&F1(d,Ct.memoizedState.deps)?m.memoizedState=gl(l,x,f,d):(Xe.flags|=o,m.memoizedState=gl(1|l,x,f,d))}function u2(o,l){_h(8390656,8,o,l)}function c2(o,l){ac(2048,8,o,l)}function f2(o,l){return ac(4,2,o,l)}function h2(o,l){return ac(4,4,o,l)}function d2(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function p2(o,l,f){f=f!=null?f.concat([o]):null,ac(4,4,d2.bind(null,l,o),f)}function $1(){}function g2(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&F1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function v2(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&F1(l,d[1]))return d[0];if(d=o(),us){pr(!0);try{o()}finally{pr(!1)}}return f.memoizedState=[d,l],d}function Q1(o,l,f){return f===void 0||(La&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=_x(),Xe.lanes|=o,za|=o,f)}function m2(o,l,f,d){return vr(f,l)?f:hl.current!==null?(o=Q1(o,f,d),vr(o,l)||(En=!0),o):(La&42)===0?(En=!0,o.memoizedState=f):(o=_x(),Xe.lanes|=o,za|=o,l)}function y2(o,l,f,d,m){var x=ae.p;ae.p=x!==0&&8>x?x:8;var S=K.T,P={};K.T=P,ep(o,!1,l,f);try{var q=m(),Z=K.S;if(Z!==null&&Z(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=eR(q,d);oc(o,l,oe,Er(o))}else oc(o,l,d,Er(o))}catch(ue){oc(o,l,{then:function(){},status:"rejected",reason:ue},Er())}finally{ae.p=x,K.T=S}}function aR(){}function Z1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var m=_2(o).queue;y2(o,m,l,ee,f===null?aR:function(){return x2(o),f(d)})}function _2(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:ee},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function x2(o){var l=_2(o).next.queue;oc(o,l,{},Er())}function J1(){return jn(Tc)}function E2(){return Zt().memoizedState}function w2(){return Zt().memoizedState}function oR(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Er();o=Pa(f);var d=Ma(l,o,f);d!==null&&(wr(d,l,f),ec(d,l,f)),l={cache:R1()},o.payload=l;return}l=l.return}}function sR(o,l,f){var d=Er();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},xh(o)?T2(l,f):(f=_1(o,l,f,d),f!==null&&(wr(f,o,d),C2(f,l,d)))}function A2(o,l,f){var d=Er();oc(o,l,f,d)}function oc(o,l,f,d){var m={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(xh(o))T2(l,m);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var S=l.lastRenderedState,P=x(S,f);if(m.hasEagerState=!0,m.eagerState=P,vr(P,S))return rh(o,l,m,0),Ot===null&&nh(),!1}catch{}finally{}if(f=_1(o,l,m,d),f!==null)return wr(f,o,d),C2(f,l,d),!0}return!1}function ep(o,l,f,d){if(d={lane:2,revertLane:Np(),action:d,hasEagerState:!1,eagerState:null,next:null},xh(o)){if(l)throw Error(r(479))}else l=_1(o,f,d,2),l!==null&&wr(l,o,2)}function xh(o){var l=o.alternate;return o===Xe||l!==null&&l===Xe}function T2(o,l){dl=ph=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function C2(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Iu(o,f)}}var Eh={readContext:jn,use:vh,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},b2={readContext:jn,use:vh,useCallback:function(o,l){return or().memoizedState=[o,l===void 0?null:l],o},useContext:jn,useEffect:u2,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,_h(4194308,4,d2.bind(null,l,o),f)},useLayoutEffect:function(o,l){return _h(4194308,4,o,l)},useInsertionEffect:function(o,l){_h(4,2,o,l)},useMemo:function(o,l){var f=or();l=l===void 0?null:l;var d=o();if(us){pr(!0);try{o()}finally{pr(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=or();if(f!==void 0){var m=f(l);if(us){pr(!0);try{f(l)}finally{pr(!1)}}}else m=l;return d.memoizedState=d.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},d.queue=o,o=o.dispatch=sR.bind(null,Xe,o),[d.memoizedState,o]},useRef:function(o){var l=or();return o={current:o},l.memoizedState=o},useState:function(o){o=K1(o);var l=o.queue,f=A2.bind(null,Xe,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:$1,useDeferredValue:function(o,l){var f=or();return Q1(f,o,l)},useTransition:function(){var o=K1(!1);return o=y2.bind(null,Xe,o.queue,!0,!1),or().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=Xe,m=or();if(ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ot===null)throw Error(r(349));(it&124)!==0||W_(d,l,f)}m.memoizedState=f;var x={value:f,getSnapshot:l};return m.queue=x,u2(Y_.bind(null,d,x,o),[o]),d.flags|=2048,gl(9,yh(),K_.bind(null,d,x,f,l),null),f},useId:function(){var o=or(),l=Ot.identifierPrefix;if(ht){var f=Zi,d=Qi;f=(d&~(1<<32-Un(d)-1)).toString(32)+f,l=""+l+"R"+f,f=gh++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=tR++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:J1,useFormState:i2,useActionState:i2,useOptimistic:function(o){var l=or();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=ep.bind(null,Xe,!0,f),f.dispatch=l,[o,l]},useMemoCache:q1,useCacheRefresh:function(){return or().memoizedState=oR.bind(null,Xe)}},S2={readContext:jn,use:vh,useCallback:g2,useContext:jn,useEffect:c2,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:v2,useReducer:mh,useRef:l2,useState:function(){return mh(ta)},useDebugValue:$1,useDeferredValue:function(o,l){var f=Zt();return m2(f,Ct.memoizedState,o,l)},useTransition:function(){var o=mh(ta)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:ic(o),l]},useSyncExternalStore:X_,useId:E2,useHostTransitionStatus:J1,useFormState:a2,useActionState:a2,useOptimistic:function(o,l){var f=Zt();return Z_(f,Ct,o,l)},useMemoCache:q1,useCacheRefresh:w2},lR={readContext:jn,use:vh,useCallback:g2,useContext:jn,useEffect:c2,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:v2,useReducer:W1,useRef:l2,useState:function(){return W1(ta)},useDebugValue:$1,useDeferredValue:function(o,l){var f=Zt();return Ct===null?Q1(f,o,l):m2(f,Ct.memoizedState,o,l)},useTransition:function(){var o=W1(ta)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:ic(o),l]},useSyncExternalStore:X_,useId:E2,useHostTransitionStatus:J1,useFormState:s2,useActionState:s2,useOptimistic:function(o,l){var f=Zt();return Ct!==null?Z_(f,Ct,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:q1,useCacheRefresh:w2},vl=null,sc=0;function wh(o){var l=sc;return sc+=1,vl===null&&(vl=[]),V_(vl,o,l)}function lc(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Ah(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function I2(o){var l=o._init;return l(o._payload)}function R2(o){function l(Y,W){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[W],Y.flags|=16):Q.push(W)}}function f(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function m(Y,W){return Y=$i(Y,W),Y.index=0,Y.sibling=null,Y}function x(Y,W,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<W?(Y.flags|=67108866,W):Q):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function S(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function P(Y,W,Q,le){return W===null||W.tag!==6?(W=E1(Q,Y.mode,le),W.return=Y,W):(W=m(W,Q),W.return=Y,W)}function q(Y,W,Q,le){var Ee=Q.type;return Ee===E?oe(Y,W,Q.props.children,le,Q.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&I2(Ee)===W.type)?(W=m(W,Q.props),lc(W,Q),W.return=Y,W):(W=ah(Q.type,Q.key,Q.props,null,Y.mode,le),lc(W,Q),W.return=Y,W)}function Z(Y,W,Q,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=w1(Q,Y.mode,le),W.return=Y,W):(W=m(W,Q.children||[]),W.return=Y,W)}function oe(Y,W,Q,le,Ee){return W===null||W.tag!==7?(W=ts(Q,Y.mode,le,Ee),W.return=Y,W):(W=m(W,Q),W.return=Y,W)}function ue(Y,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=E1(""+W,Y.mode,Q),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return Q=ah(W.type,W.key,W.props,null,Y.mode,Q),lc(Q,W),Q.return=Y,Q;case _:return W=w1(W,Y.mode,Q),W.return=Y,W;case b:var le=W._init;return W=le(W._payload),ue(Y,W,Q)}if(xe(W)||G(W))return W=ts(W,Y.mode,Q,null),W.return=Y,W;if(typeof W.then=="function")return ue(Y,wh(W),Q);if(W.$$typeof===D)return ue(Y,uh(Y,W),Q);Ah(Y,W)}return null}function te(Y,W,Q,le){var Ee=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:P(Y,W,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===Ee?q(Y,W,Q,le):null;case _:return Q.key===Ee?Z(Y,W,Q,le):null;case b:return Ee=Q._init,Q=Ee(Q._payload),te(Y,W,Q,le)}if(xe(Q)||G(Q))return Ee!==null?null:oe(Y,W,Q,le,null);if(typeof Q.then=="function")return te(Y,W,wh(Q),le);if(Q.$$typeof===D)return te(Y,W,uh(Y,Q),le);Ah(Y,Q)}return null}function ne(Y,W,Q,le,Ee){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Q)||null,P(W,Y,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return Y=Y.get(le.key===null?Q:le.key)||null,q(W,Y,le,Ee);case _:return Y=Y.get(le.key===null?Q:le.key)||null,Z(W,Y,le,Ee);case b:var $e=le._init;return le=$e(le._payload),ne(Y,W,Q,le,Ee)}if(xe(le)||G(le))return Y=Y.get(Q)||null,oe(W,Y,le,Ee,null);if(typeof le.then=="function")return ne(Y,W,Q,wh(le),Ee);if(le.$$typeof===D)return ne(Y,W,Q,uh(W,le),Ee);Ah(W,le)}return null}function Ve(Y,W,Q,le){for(var Ee=null,$e=null,Ie=W,Le=W=0,An=null;Ie!==null&&Le<Q.length;Le++){Ie.index>Le?(An=Ie,Ie=null):An=Ie.sibling;var ct=te(Y,Ie,Q[Le],le);if(ct===null){Ie===null&&(Ie=An);break}o&&Ie&&ct.alternate===null&&l(Y,Ie),W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct,Ie=An}if(Le===Q.length)return f(Y,Ie),ht&&rs(Y,Le),Ee;if(Ie===null){for(;Le<Q.length;Le++)Ie=ue(Y,Q[Le],le),Ie!==null&&(W=x(Ie,W,Le),$e===null?Ee=Ie:$e.sibling=Ie,$e=Ie);return ht&&rs(Y,Le),Ee}for(Ie=d(Ie);Le<Q.length;Le++)An=ne(Ie,Y,Le,Q[Le],le),An!==null&&(o&&An.alternate!==null&&Ie.delete(An.key===null?Le:An.key),W=x(An,W,Le),$e===null?Ee=An:$e.sibling=An,$e=An);return o&&Ie.forEach(function(Qa){return l(Y,Qa)}),ht&&rs(Y,Le),Ee}function Pe(Y,W,Q,le){if(Q==null)throw Error(r(151));for(var Ee=null,$e=null,Ie=W,Le=W=0,An=null,ct=Q.next();Ie!==null&&!ct.done;Le++,ct=Q.next()){Ie.index>Le?(An=Ie,Ie=null):An=Ie.sibling;var Qa=te(Y,Ie,ct.value,le);if(Qa===null){Ie===null&&(Ie=An);break}o&&Ie&&Qa.alternate===null&&l(Y,Ie),W=x(Qa,W,Le),$e===null?Ee=Qa:$e.sibling=Qa,$e=Qa,Ie=An}if(ct.done)return f(Y,Ie),ht&&rs(Y,Le),Ee;if(Ie===null){for(;!ct.done;Le++,ct=Q.next())ct=ue(Y,ct.value,le),ct!==null&&(W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct);return ht&&rs(Y,Le),Ee}for(Ie=d(Ie);!ct.done;Le++,ct=Q.next())ct=ne(Ie,Y,Le,ct.value,le),ct!==null&&(o&&ct.alternate!==null&&Ie.delete(ct.key===null?Le:ct.key),W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct);return o&&Ie.forEach(function(u8){return l(Y,u8)}),ht&&rs(Y,Le),Ee}function St(Y,W,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var Ee=Q.key;W!==null;){if(W.key===Ee){if(Ee=Q.type,Ee===E){if(W.tag===7){f(Y,W.sibling),le=m(W,Q.props.children),le.return=Y,Y=le;break e}}else if(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&I2(Ee)===W.type){f(Y,W.sibling),le=m(W,Q.props),lc(le,Q),le.return=Y,Y=le;break e}f(Y,W);break}else l(Y,W);W=W.sibling}Q.type===E?(le=ts(Q.props.children,Y.mode,le,Q.key),le.return=Y,Y=le):(le=ah(Q.type,Q.key,Q.props,null,Y.mode,le),lc(le,Q),le.return=Y,Y=le)}return S(Y);case _:e:{for(Ee=Q.key;W!==null;){if(W.key===Ee)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){f(Y,W.sibling),le=m(W,Q.children||[]),le.return=Y,Y=le;break e}else{f(Y,W);break}else l(Y,W);W=W.sibling}le=w1(Q,Y.mode,le),le.return=Y,Y=le}return S(Y);case b:return Ee=Q._init,Q=Ee(Q._payload),St(Y,W,Q,le)}if(xe(Q))return Ve(Y,W,Q,le);if(G(Q)){if(Ee=G(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),Pe(Y,W,Q,le)}if(typeof Q.then=="function")return St(Y,W,wh(Q),le);if(Q.$$typeof===D)return St(Y,W,uh(Y,Q),le);Ah(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,W!==null&&W.tag===6?(f(Y,W.sibling),le=m(W,Q),le.return=Y,Y=le):(f(Y,W),le=E1(Q,Y.mode,le),le.return=Y,Y=le),S(Y)):f(Y,W)}return function(Y,W,Q,le){try{sc=0;var Ee=St(Y,W,Q,le);return vl=null,Ee}catch(Ie){if(Ie===Zu||Ie===fh)throw Ie;var $e=mr(29,Ie,null,Y.mode);return $e.lanes=le,$e.return=Y,$e}finally{}}}var ml=R2(!0),O2=R2(!1),Br=se(null),Ei=null;function ka(o){var l=o.alternate;ce(sn,sn.current&1),ce(Br,o),Ei===null&&(l===null||hl.current!==null||l.memoizedState!==null)&&(Ei=o)}function D2(o){if(o.tag===22){if(ce(sn,sn.current),ce(Br,o),Ei===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ei=o)}}else Ba()}function Ba(){ce(sn,sn.current),ce(Br,Br.current)}function na(o){de(Br),Ei===o&&(Ei=null),de(sn)}var sn=se(0);function Th(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Gp(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function tp(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var np={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=Er(),m=Pa(d);m.payload=l,f!=null&&(m.callback=f),l=Ma(o,m,d),l!==null&&(wr(l,o,d),ec(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=Er(),m=Pa(d);m.tag=1,m.payload=l,f!=null&&(m.callback=f),l=Ma(o,m,d),l!==null&&(wr(l,o,d),ec(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Er(),d=Pa(f);d.tag=2,l!=null&&(d.callback=l),l=Ma(o,d,f),l!==null&&(wr(l,o,f),ec(l,o,f))}};function N2(o,l,f,d,m,x,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,x,S):l.prototype&&l.prototype.isPureReactComponent?!Gu(f,d)||!Gu(m,x):!0}function P2(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&np.enqueueReplaceState(l,l.state,null)}function cs(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var m in o)f[m]===void 0&&(f[m]=o[m])}return f}var Ch=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function M2(o){Ch(o)}function L2(o){console.error(o)}function k2(o){Ch(o)}function bh(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function B2(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rp(o,l,f){return f=Pa(f),f.tag=3,f.payload={element:null},f.callback=function(){bh(o,l)},f}function V2(o){return o=Pa(o),o.tag=3,o}function F2(o,l,f,d){var m=f.type.getDerivedStateFromError;if(typeof m=="function"){var x=d.value;o.payload=function(){return m(x)},o.callback=function(){B2(l,f,d)}}var S=f.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(o.callback=function(){B2(l,f,d),typeof m!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function uR(o,l,f,d,m){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&Yu(l,f,m,!0),f=Br.current,f!==null){switch(f.tag){case 13:return Ei===null?Sp():f.alternate===null&&Ht===0&&(Ht=3),f.flags&=-257,f.flags|=65536,f.lanes=m,d===N1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),Rp(o,d,m)),!1;case 22:return f.flags|=65536,d===N1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),Rp(o,d,m)),!1}throw Error(r(435,f.tag))}return Rp(o,d,m),Sp(),!1}if(ht)return l=Br.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,d!==C1&&(o=Error(r(422),{cause:d}),Ku(Pr(o,f)))):(d!==C1&&(l=Error(r(423),{cause:d}),Ku(Pr(l,f))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,d=Pr(d,f),m=rp(o.stateNode,d,m),L1(o,m),Ht!==4&&(Ht=2)),!1;var x=Error(r(520),{cause:d});if(x=Pr(x,f),gc===null?gc=[x]:gc.push(x),Ht!==4&&(Ht=2),l===null)return!0;d=Pr(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=m&-m,f.lanes|=o,o=rp(f.stateNode,d,o),L1(f,o),!1;case 1:if(l=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x))))return f.flags|=65536,m&=-m,f.lanes|=m,m=V2(m),F2(m,o,f,d),L1(f,m),!1}f=f.return}while(f!==null);return!1}var U2=Error(r(461)),En=!1;function Dn(o,l,f,d){l.child=o===null?O2(l,null,f,d):ml(l,o.child,f,d)}function j2(o,l,f,d,m){f=f.render;var x=l.ref;if("ref"in d){var S={};for(var P in d)P!=="ref"&&(S[P]=d[P])}else S=d;return ss(l),d=U1(o,l,f,S,x,m),P=j1(),o!==null&&!En?(z1(o,l,m),ra(o,l,m)):(ht&&P&&A1(l),l.flags|=1,Dn(o,l,d,m),l.child)}function z2(o,l,f,d,m){if(o===null){var x=f.type;return typeof x=="function"&&!x1(x)&&x.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=x,H2(o,l,x,d,m)):(o=ah(f.type,null,d,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(x=o.child,!fp(o,m)){var S=x.memoizedProps;if(f=f.compare,f=f!==null?f:Gu,f(S,d)&&o.ref===l.ref)return ra(o,l,m)}return l.flags|=1,o=$i(x,d),o.ref=l.ref,o.return=l,l.child=o}function H2(o,l,f,d,m){if(o!==null){var x=o.memoizedProps;if(Gu(x,d)&&o.ref===l.ref)if(En=!1,l.pendingProps=d=x,fp(o,m))(o.flags&131072)!==0&&(En=!0);else return l.lanes=o.lanes,ra(o,l,m)}return ip(o,l,f,d,m)}function G2(o,l,f){var d=l.pendingProps,m=d.children,x=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=x!==null?x.baseLanes|f:f,o!==null){for(m=l.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;l.childLanes=x&~d}else l.childLanes=0,l.child=null;return q2(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ch(l,x!==null?x.cachePool:null),x!==null?H_(l,x):B1(),D2(l);else return l.lanes=l.childLanes=536870912,q2(o,l,x!==null?x.baseLanes|f:f,f)}else x!==null?(ch(l,x.cachePool),H_(l,x),Ba(),l.memoizedState=null):(o!==null&&ch(l,null),B1(),Ba());return Dn(o,l,m,f),l.child}function q2(o,l,f,d){var m=D1();return m=m===null?null:{parent:on._currentValue,pool:m},l.memoizedState={baseLanes:f,cachePool:m},o!==null&&ch(l,null),B1(),D2(l),o!==null&&Yu(o,l,d,!0),null}function Sh(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function ip(o,l,f,d,m){return ss(l),f=U1(o,l,f,d,void 0,m),d=j1(),o!==null&&!En?(z1(o,l,m),ra(o,l,m)):(ht&&d&&A1(l),l.flags|=1,Dn(o,l,f,m),l.child)}function X2(o,l,f,d,m,x){return ss(l),l.updateQueue=null,f=q_(l,d,f,m),G_(o),d=j1(),o!==null&&!En?(z1(o,l,x),ra(o,l,x)):(ht&&d&&A1(l),l.flags|=1,Dn(o,l,f,x),l.child)}function W2(o,l,f,d,m){if(ss(l),l.stateNode===null){var x=sl,S=f.contextType;typeof S=="object"&&S!==null&&(x=jn(S)),x=new f(d,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=np,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=d,x.state=l.memoizedState,x.refs={},P1(l),S=f.contextType,x.context=typeof S=="object"&&S!==null?jn(S):sl,x.state=l.memoizedState,S=f.getDerivedStateFromProps,typeof S=="function"&&(tp(l,f,S,d),x.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&np.enqueueReplaceState(x,x.state,null),nc(l,d,x,m),tc(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){x=l.stateNode;var P=l.memoizedProps,q=cs(f,P);x.props=q;var Z=x.context,oe=f.contextType;S=sl,typeof oe=="object"&&oe!==null&&(S=jn(oe));var ue=f.getDerivedStateFromProps;oe=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=l.pendingProps!==P,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||Z!==S)&&P2(l,x,d,S),Na=!1;var te=l.memoizedState;x.state=te,nc(l,d,x,m),tc(),Z=l.memoizedState,P||te!==Z||Na?(typeof ue=="function"&&(tp(l,f,ue,d),Z=l.memoizedState),(q=Na||N2(l,f,q,d,te,Z,S))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Z),x.props=d,x.state=Z,x.context=S,d=q):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{x=l.stateNode,M1(o,l),S=l.memoizedProps,oe=cs(f,S),x.props=oe,ue=l.pendingProps,te=x.context,Z=f.contextType,q=sl,typeof Z=="object"&&Z!==null&&(q=jn(Z)),P=f.getDerivedStateFromProps,(Z=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==ue||te!==q)&&P2(l,x,d,q),Na=!1,te=l.memoizedState,x.state=te,nc(l,d,x,m),tc();var ne=l.memoizedState;S!==ue||te!==ne||Na||o!==null&&o.dependencies!==null&&lh(o.dependencies)?(typeof P=="function"&&(tp(l,f,P,d),ne=l.memoizedState),(oe=Na||N2(l,f,oe,d,te,ne,q)||o!==null&&o.dependencies!==null&&lh(o.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ne,q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ne,q)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ne),x.props=d,x.state=ne,x.context=q,d=oe):(typeof x.componentDidUpdate!="function"||S===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),d=!1)}return x=d,Sh(o,l),d=(l.flags&128)!==0,x||d?(x=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,o!==null&&d?(l.child=ml(l,o.child,null,m),l.child=ml(l,null,f,m)):Dn(o,l,f,m),l.memoizedState=x.state,o=l.child):o=ra(o,l,m),o}function K2(o,l,f,d){return Wu(),l.flags|=256,Dn(o,l,f,d),l.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(o){return{baseLanes:o,cachePool:L_()}}function sp(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Vr),o}function Y2(o,l,f){var d=l.pendingProps,m=!1,x=(l.flags&128)!==0,S;if((S=x)||(S=o!==null&&o.memoizedState===null?!1:(sn.current&2)!==0),S&&(m=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,o===null){if(ht){if(m?ka(l):Ba(),ht){var P=zt,q;if(q=P){e:{for(q=P,P=xi;q.nodeType!==8;){if(!P){P=null;break e}if(q=$r(q.nextSibling),q===null){P=null;break e}}P=q}P!==null?(l.memoizedState={dehydrated:P,treeContext:ns!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},q=mr(18,null,null,0),q.stateNode=P,q.return=l,l.child=q,Jn=l,zt=null,q=!0):q=!1}q||as(l)}if(P=l.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Gp(P)?l.lanes=32:l.lanes=536870912,null;na(l)}return P=d.children,d=d.fallback,m?(Ba(),m=l.mode,P=Ih({mode:"hidden",children:P},m),d=ts(d,m,f,null),P.return=l,d.return=l,P.sibling=d,l.child=P,m=l.child,m.memoizedState=op(f),m.childLanes=sp(o,S,f),l.memoizedState=ap,d):(ka(l),lp(l,P))}if(q=o.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(x)l.flags&256?(ka(l),l.flags&=-257,l=up(o,l,f)):l.memoizedState!==null?(Ba(),l.child=o.child,l.flags|=128,l=null):(Ba(),m=d.fallback,P=l.mode,d=Ih({mode:"visible",children:d.children},P),m=ts(m,P,f,null),m.flags|=2,d.return=l,m.return=l,d.sibling=m,l.child=d,ml(l,o.child,null,f),d=l.child,d.memoizedState=op(f),d.childLanes=sp(o,S,f),l.memoizedState=ap,l=m);else if(ka(l),Gp(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var Z=S.dgst;S=Z,d=Error(r(419)),d.stack="",d.digest=S,Ku({value:d,source:null,stack:null}),l=up(o,l,f)}else if(En||Yu(o,l,f,!1),S=(f&o.childLanes)!==0,En||S){if(S=Ot,S!==null&&(d=f&-f,d=(d&42)!==0?1:Ta(d),d=(d&(S.suspendedLanes|f))!==0?0:d,d!==0&&d!==q.retryLane))throw q.retryLane=d,ol(o,d),wr(S,o,d),U2;P.data==="$?"||Sp(),l=up(o,l,f)}else P.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=q.treeContext,zt=$r(P.nextSibling),Jn=l,ht=!0,is=null,xi=!1,o!==null&&(Lr[kr++]=Qi,Lr[kr++]=Zi,Lr[kr++]=ns,Qi=o.id,Zi=o.overflow,ns=l),l=lp(l,d.children),l.flags|=4096);return l}return m?(Ba(),m=d.fallback,P=l.mode,q=o.child,Z=q.sibling,d=$i(q,{mode:"hidden",children:d.children}),d.subtreeFlags=q.subtreeFlags&65011712,Z!==null?m=$i(Z,m):(m=ts(m,P,f,null),m.flags|=2),m.return=l,d.return=l,d.sibling=m,l.child=d,d=m,m=l.child,P=o.child.memoizedState,P===null?P=op(f):(q=P.cachePool,q!==null?(Z=on._currentValue,q=q.parent!==Z?{parent:Z,pool:Z}:q):q=L_(),P={baseLanes:P.baseLanes|f,cachePool:q}),m.memoizedState=P,m.childLanes=sp(o,S,f),l.memoizedState=ap,d):(ka(l),f=o.child,o=f.sibling,f=$i(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(S=l.deletions,S===null?(l.deletions=[o],l.flags|=16):S.push(o)),l.child=f,l.memoizedState=null,f)}function lp(o,l){return l=Ih({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Ih(o,l){return o=mr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function up(o,l,f){return ml(l,o.child,null,f),o=lp(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function $2(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),S1(o.return,l,f)}function cp(o,l,f,d,m){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:m}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=f,x.tailMode=m)}function Q2(o,l,f){var d=l.pendingProps,m=d.revealOrder,x=d.tail;if(Dn(o,l,d.children,f),d=sn.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$2(o,f,l);else if(o.tag===19)$2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(ce(sn,d),m){case"forwards":for(f=l.child,m=null;f!==null;)o=f.alternate,o!==null&&Th(o)===null&&(m=f),f=f.sibling;f=m,f===null?(m=l.child,l.child=null):(m=f.sibling,f.sibling=null),cp(l,!1,m,f,x);break;case"backwards":for(f=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&Th(o)===null){l.child=m;break}o=m.sibling,m.sibling=f,f=m,m=o}cp(l,!0,f,null,x);break;case"together":cp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ra(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),za|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Yu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=$i(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=$i(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function fp(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&lh(o)))}function cR(o,l,f){switch(l.tag){case 3:Re(l,l.stateNode.containerInfo),Da(l,on,o.memoizedState.cache),Wu();break;case 27:case 5:Ge(l);break;case 4:Re(l,l.stateNode.containerInfo);break;case 10:Da(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(ka(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Y2(o,l,f):(ka(l),o=ra(o,l,f),o!==null?o.sibling:null);ka(l);break;case 19:var m=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(Yu(o,l,f,!1),d=(f&l.childLanes)!==0),m){if(d)return Q2(o,l,f);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(sn,sn.current),d)break;return null;case 22:case 23:return l.lanes=0,G2(o,l,f);case 24:Da(l,on,o.memoizedState.cache)}return ra(o,l,f)}function Z2(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)En=!0;else{if(!fp(o,f)&&(l.flags&128)===0)return En=!1,cR(o,l,f);En=(o.flags&131072)!==0}else En=!1,ht&&(l.flags&1048576)!==0&&I_(l,sh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,m=d._init;if(d=m(d._payload),l.type=d,typeof d=="function")x1(d)?(o=cs(d,o),l.tag=1,l=W2(null,l,d,o,f)):(l.tag=0,l=ip(null,l,d,o,f));else{if(d!=null){if(m=d.$$typeof,m===B){l.tag=11,l=j2(null,l,d,o,f);break e}else if(m===O){l.tag=14,l=z2(null,l,d,o,f);break e}}throw l=ye(d)||d,Error(r(306,l,""))}}return l;case 0:return ip(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,m=cs(d,l.pendingProps),W2(o,l,d,m,f);case 3:e:{if(Re(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var x=l.memoizedState;m=x.element,M1(o,l),nc(l,d,null,f);var S=l.memoizedState;if(d=S.cache,Da(l,on,d),d!==x.cache&&I1(l,[on],f,!0),tc(),d=S.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=K2(o,l,d,f);break e}else if(d!==m){m=Pr(Error(r(424)),l),Ku(m),l=K2(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(zt=$r(o.firstChild),Jn=l,ht=!0,is=null,xi=!0,f=O2(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Wu(),d===m){l=ra(o,l,f);break e}Dn(o,l,d,f)}l=l.child}return l;case 26:return Sh(o,l),o===null?(f=nE(l.type,null,l.pendingProps,null))?l.memoizedState=f:ht||(f=l.type,o=l.pendingProps,d=zh(Se.current).createElement(f),d[nn]=l,d[Yt]=o,Pn(d,f,o),qt(d),l.stateNode=d):l.memoizedState=nE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ge(l),o===null&&ht&&(d=l.stateNode=Jx(l.type,l.pendingProps,Se.current),Jn=l,xi=!0,m=zt,Xa(l.type)?(qp=m,zt=$r(d.firstChild)):zt=m),Dn(o,l,l.pendingProps.children,f),Sh(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ht&&((m=d=zt)&&(d=VR(d,l.type,l.pendingProps,xi),d!==null?(l.stateNode=d,Jn=l,zt=$r(d.firstChild),xi=!1,m=!0):m=!1),m||as(l)),Ge(l),m=l.type,x=l.pendingProps,S=o!==null?o.memoizedProps:null,d=x.children,jp(m,x)?d=null:S!==null&&jp(m,S)&&(l.flags|=32),l.memoizedState!==null&&(m=U1(o,l,nR,null,null,f),Tc._currentValue=m),Sh(o,l),Dn(o,l,d,f),l.child;case 6:return o===null&&ht&&((o=f=zt)&&(f=FR(f,l.pendingProps,xi),f!==null?(l.stateNode=f,Jn=l,zt=null,o=!0):o=!1),o||as(l)),null;case 13:return Y2(o,l,f);case 4:return Re(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=ml(l,null,d,f):Dn(o,l,d,f),l.child;case 11:return j2(o,l,l.type,l.pendingProps,f);case 7:return Dn(o,l,l.pendingProps,f),l.child;case 8:return Dn(o,l,l.pendingProps.children,f),l.child;case 12:return Dn(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Da(l,l.type,d.value),Dn(o,l,d.children,f),l.child;case 9:return m=l.type._context,d=l.pendingProps.children,ss(l),m=jn(m),d=d(m),l.flags|=1,Dn(o,l,d,f),l.child;case 14:return z2(o,l,l.type,l.pendingProps,f);case 15:return H2(o,l,l.type,l.pendingProps,f);case 19:return Q2(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=Ih(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=$i(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return G2(o,l,f);case 24:return ss(l),d=jn(on),o===null?(m=D1(),m===null&&(m=Ot,x=R1(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=f),m=x),l.memoizedState={parent:d,cache:m},P1(l),Da(l,on,m)):((o.lanes&f)!==0&&(M1(o,l),nc(l,null,null,f),tc()),m=o.memoizedState,x=l.memoizedState,m.parent!==d?(m={parent:d,cache:d},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Da(l,on,d)):(d=x.cache,Da(l,on,d),d!==m.cache&&I1(l,[on],f,!0))),Dn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ia(o){o.flags|=4}function J2(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!sE(l)){if(l=Br.current,l!==null&&((it&4194048)===it?Ei!==null:(it&62914560)!==it&&(it&536870912)===0||l!==Ei))throw Ju=N1,k_;o.flags|=8192}}function Rh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?bu():536870912,o.lanes|=l,El|=l)}function uc(o,l){if(!ht)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Ft(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function fR(o,l,f){var d=l.pendingProps;switch(T1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Ft(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ea(on),ut(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Xu(l)?ia(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,D_())),Ft(l),null;case 26:return f=l.memoizedState,o===null?(ia(l),f!==null?(Ft(l),J2(l,f)):(Ft(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ia(l),Ft(l),J2(l,f)):(Ft(l),l.flags&=-16777217):(o.memoizedProps!==d&&ia(l),Ft(l),l.flags&=-16777217),null;case 27:je(l),f=Se.current;var m=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}o=me.current,Xu(l)?R_(l):(o=Jx(m,d,f),l.stateNode=o,ia(l))}return Ft(l),null;case 5:if(je(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}if(o=me.current,Xu(l))R_(l);else{switch(m=zh(Se.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?m.createElement(f,{is:d.is}):m.createElement(f)}}o[nn]=l,o[Yt]=d;e:for(m=l.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break e;for(;m.sibling===null;){if(m.return===null||m.return===l)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l.stateNode=o;e:switch(Pn(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ia(l)}}return Ft(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=Se.current,Xu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,m=Jn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}o[nn]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||Xx(o.nodeValue,f)),o||as(l)}else o=zh(o).createTextNode(d),o[nn]=l,l.stateNode=o}return Ft(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=Xu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[nn]=l}else Wu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),m=!1}else m=D_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(na(l),l):(na(l),null)}if(na(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Rh(l,l.updateQueue),Ft(l),null;case 4:return ut(),o===null&&kp(l.stateNode.containerInfo),Ft(l),null;case 10:return ea(l.type),Ft(l),null;case 19:if(de(sn),m=l.memoizedState,m===null)return Ft(l),null;if(d=(l.flags&128)!==0,x=m.rendering,x===null)if(d)uc(m,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(x=Th(o),x!==null){for(l.flags|=128,uc(m,!1),o=x.updateQueue,l.updateQueue=o,Rh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)S_(f,o),f=f.sibling;return ce(sn,sn.current&1|2),l.child}o=o.sibling}m.tail!==null&&yn()>Nh&&(l.flags|=128,d=!0,uc(m,!1),l.lanes=4194304)}else{if(!d)if(o=Th(x),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Rh(l,o),uc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ht)return Ft(l),null}else 2*yn()-m.renderingStartTime>Nh&&f!==536870912&&(l.flags|=128,d=!0,uc(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(o=m.last,o!==null?o.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=yn(),l.sibling=null,o=sn.current,ce(sn,d?o&1|2:o&1),l):(Ft(l),null);case 22:case 23:return na(l),V1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),f=l.updateQueue,f!==null&&Rh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&de(ls),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ea(on),Ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function hR(o,l){switch(T1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ea(on),ut(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 13:if(na(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Wu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return de(sn),null;case 4:return ut(),null;case 10:return ea(l.type),null;case 22:case 23:return na(l),V1(),o!==null&&de(ls),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ea(on),null;case 25:return null;default:return null}}function ex(o,l){switch(T1(l),l.tag){case 3:ea(on),ut();break;case 26:case 27:case 5:je(l);break;case 4:ut();break;case 13:na(l);break;case 19:de(sn);break;case 10:ea(l.type);break;case 22:case 23:na(l),V1(),o!==null&&de(ls);break;case 24:ea(on)}}function cc(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var m=d.next;f=m;do{if((f.tag&o)===o){d=void 0;var x=f.create,S=f.inst;d=x(),S.destroy=d}f=f.next}while(f!==m)}}catch(P){Rt(l,l.return,P)}}function Va(o,l,f){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&o)===o){var S=d.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,m=l;var q=f,Z=P;try{Z()}catch(oe){Rt(m,q,oe)}}}d=d.next}while(d!==x)}}catch(oe){Rt(l,l.return,oe)}}function tx(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{z_(l,f)}catch(d){Rt(o,o.return,d)}}}function nx(o,l,f){f.props=cs(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Rt(o,l,d)}}function fc(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(m){Rt(o,l,m)}}function wi(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(m){Rt(o,l,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(m){Rt(o,l,m)}else f.current=null}function rx(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(m){Rt(o,o.return,m)}}function hp(o,l,f){try{var d=o.stateNode;PR(d,o.type,f,l),d[Yt]=l}catch(m){Rt(o,o.return,m)}}function ix(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Xa(o.type)||o.tag===4}function dp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ix(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function pp(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=jh));else if(d!==4&&(d===27&&Xa(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(pp(o,l,f),o=o.sibling;o!==null;)pp(o,l,f),o=o.sibling}function Oh(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&Xa(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Oh(o,l,f),o=o.sibling;o!==null;)Oh(o,l,f),o=o.sibling}function ax(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);Pn(l,d,f),l[nn]=o,l[Yt]=f}catch(x){Rt(o,o.return,x)}}var aa=!1,Wt=!1,gp=!1,ox=typeof WeakSet=="function"?WeakSet:Set,wn=null;function dR(o,l){if(o=o.containerInfo,Fp=Kh,o=m_(o),d1(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var S=0,P=-1,q=-1,Z=0,oe=0,ue=o,te=null;t:for(;;){for(var ne;ue!==f||m!==0&&ue.nodeType!==3||(P=S+m),ue!==x||d!==0&&ue.nodeType!==3||(q=S+d),ue.nodeType===3&&(S+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===o)break t;if(te===f&&++Z===m&&(P=S),te===x&&++oe===d&&(q=S),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}f=P===-1||q===-1?null:{start:P,end:q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Up={focusedElem:o,selectionRange:f},Kh=!1,wn=l;wn!==null;)if(l=wn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,wn=o;else for(;wn!==null;){switch(l=wn,x=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&x!==null){o=void 0,f=l,m=x.memoizedProps,x=x.memoizedState,d=f.stateNode;try{var Ve=cs(f.type,m,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Ve,x),d.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){Rt(f,f.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Hp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Hp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,wn=o;break}wn=l.return}}function sx(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:Fa(o,f),d&4&&cc(5,f);break;case 1:if(Fa(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(S){Rt(f,f.return,S)}else{var m=cs(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(m,l,o.__reactInternalSnapshotBeforeUpdate)}catch(S){Rt(f,f.return,S)}}d&64&&tx(f),d&512&&fc(f,f.return);break;case 3:if(Fa(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{z_(o,l)}catch(S){Rt(f,f.return,S)}}break;case 27:l===null&&d&4&&ax(f);case 26:case 5:Fa(o,f),l===null&&d&4&&rx(f),d&512&&fc(f,f.return);break;case 12:Fa(o,f);break;case 13:Fa(o,f),d&4&&cx(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=wR.bind(null,f),UR(o,f))));break;case 22:if(d=f.memoizedState!==null||aa,!d){l=l!==null&&l.memoizedState!==null||Wt,m=aa;var x=Wt;aa=d,(Wt=l)&&!x?Ua(o,f,(f.subtreeFlags&8772)!==0):Fa(o,f),aa=m,Wt=x}break;case 30:break;default:Fa(o,f)}}function lx(o){var l=o.alternate;l!==null&&(o.alternate=null,lx(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Sa(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Lt=null,sr=!1;function oa(o,l,f){for(f=f.child;f!==null;)ux(o,l,f),f=f.sibling}function ux(o,l,f){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(jt,f)}catch{}switch(f.tag){case 26:Wt||wi(f,l),oa(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Wt||wi(f,l);var d=Lt,m=sr;Xa(f.type)&&(Lt=f.stateNode,sr=!1),oa(o,l,f),xc(f.stateNode),Lt=d,sr=m;break;case 5:Wt||wi(f,l);case 6:if(d=Lt,m=sr,Lt=null,oa(o,l,f),Lt=d,sr=m,Lt!==null)if(sr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(f.stateNode)}catch(x){Rt(f,l,x)}else try{Lt.removeChild(f.stateNode)}catch(x){Rt(f,l,x)}break;case 18:Lt!==null&&(sr?(o=Lt,Qx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Ic(o)):Qx(Lt,f.stateNode));break;case 4:d=Lt,m=sr,Lt=f.stateNode.containerInfo,sr=!0,oa(o,l,f),Lt=d,sr=m;break;case 0:case 11:case 14:case 15:Wt||Va(2,f,l),Wt||Va(4,f,l),oa(o,l,f);break;case 1:Wt||(wi(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&nx(f,l,d)),oa(o,l,f);break;case 21:oa(o,l,f);break;case 22:Wt=(d=Wt)||f.memoizedState!==null,oa(o,l,f),Wt=d;break;default:oa(o,l,f)}}function cx(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ic(o)}catch(f){Rt(l,l.return,f)}}function pR(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new ox),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new ox),l;default:throw Error(r(435,o.tag))}}function vp(o,l){var f=pR(o);l.forEach(function(d){var m=AR.bind(null,o,d);f.has(d)||(f.add(d),d.then(m,m))})}function yr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var m=f[d],x=o,S=l,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(Xa(P.type)){Lt=P.stateNode,sr=!1;break e}break;case 5:Lt=P.stateNode,sr=!1;break e;case 3:case 4:Lt=P.stateNode.containerInfo,sr=!0;break e}P=P.return}if(Lt===null)throw Error(r(160));ux(x,S,m),Lt=null,sr=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)fx(l,o),l=l.sibling}var Yr=null;function fx(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:yr(l,o),_r(o),d&4&&(Va(3,o,o.return),cc(3,o),Va(5,o,o.return));break;case 1:yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),d&64&&aa&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var m=Yr;if(yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),d&4){var x=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Fo]||x[nn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(d),m.head.insertBefore(x,m.querySelector("head > title"))),Pn(x,d,f),x[nn]=o,qt(x),d=x;break e;case"link":var S=aE("link","href",m).get(d+(f.href||""));if(S){for(var P=0;P<S.length;P++)if(x=S[P],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){S.splice(P,1);break t}}x=m.createElement(d),Pn(x,d,f),m.head.appendChild(x);break;case"meta":if(S=aE("meta","content",m).get(d+(f.content||""))){for(P=0;P<S.length;P++)if(x=S[P],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){S.splice(P,1);break t}}x=m.createElement(d),Pn(x,d,f),m.head.appendChild(x);break;default:throw Error(r(468,d))}x[nn]=o,qt(x),d=x}o.stateNode=d}else oE(m,o.type,o.stateNode);else o.stateNode=iE(m,d,o.memoizedProps);else x!==d?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,d===null?oE(m,o.type,o.stateNode):iE(m,d,o.memoizedProps)):d===null&&o.stateNode!==null&&hp(o,o.memoizedProps,f.memoizedProps)}break;case 27:yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),f!==null&&d&4&&hp(o,o.memoizedProps,f.memoizedProps);break;case 5:if(yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),o.flags&32){m=o.stateNode;try{Rr(m,"")}catch(ne){Rt(o,o.return,ne)}}d&4&&o.stateNode!=null&&(m=o.memoizedProps,hp(o,m,f!==null?f.memoizedProps:m)),d&1024&&(gp=!0);break;case 6:if(yr(l,o),_r(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(ne){Rt(o,o.return,ne)}}break;case 3:if(qh=null,m=Yr,Yr=Hh(l.containerInfo),yr(l,o),Yr=m,_r(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{Ic(l.containerInfo)}catch(ne){Rt(o,o.return,ne)}gp&&(gp=!1,hx(o));break;case 4:d=Yr,Yr=Hh(o.stateNode.containerInfo),yr(l,o),_r(o),Yr=d;break;case 12:yr(l,o),_r(o);break;case 13:yr(l,o),_r(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(wp=yn()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,vp(o,d)));break;case 22:m=o.memoizedState!==null;var q=f!==null&&f.memoizedState!==null,Z=aa,oe=Wt;if(aa=Z||m,Wt=oe||q,yr(l,o),Wt=oe,aa=Z,_r(o),d&8192)e:for(l=o.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(f===null||q||aa||Wt||fs(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){q=f=l;try{if(x=q.stateNode,m)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=q.stateNode;var ue=q.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;P.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Rt(q,q.return,ne)}}}else if(l.tag===6){if(f===null){q=l;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(ne){Rt(q,q.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,vp(o,f))));break;case 19:yr(l,o),_r(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,vp(o,d)));break;case 30:break;case 21:break;default:yr(l,o),_r(o)}}function _r(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(ix(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var m=f.stateNode,x=dp(o);Oh(o,x,m);break;case 5:var S=f.stateNode;f.flags&32&&(Rr(S,""),f.flags&=-33);var P=dp(o);Oh(o,P,S);break;case 3:case 4:var q=f.stateNode.containerInfo,Z=dp(o);pp(o,Z,q);break;default:throw Error(r(161))}}catch(oe){Rt(o,o.return,oe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function hx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;hx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Fa(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)sx(o,l.alternate,l),l=l.sibling}function fs(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Va(4,l,l.return),fs(l);break;case 1:wi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&nx(l,l.return,f),fs(l);break;case 27:xc(l.stateNode);case 26:case 5:wi(l,l.return),fs(l);break;case 22:l.memoizedState===null&&fs(l);break;case 30:fs(l);break;default:fs(l)}o=o.sibling}}function Ua(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,m=o,x=l,S=x.flags;switch(x.tag){case 0:case 11:case 15:Ua(m,x,f),cc(4,x);break;case 1:if(Ua(m,x,f),d=x,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Rt(d,d.return,Z)}if(d=x,m=d.updateQueue,m!==null){var P=d.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)j_(q[m],P)}catch(Z){Rt(d,d.return,Z)}}f&&S&64&&tx(x),fc(x,x.return);break;case 27:ax(x);case 26:case 5:Ua(m,x,f),f&&d===null&&S&4&&rx(x),fc(x,x.return);break;case 12:Ua(m,x,f);break;case 13:Ua(m,x,f),f&&S&4&&cx(m,x);break;case 22:x.memoizedState===null&&Ua(m,x,f),fc(x,x.return);break;case 30:break;default:Ua(m,x,f)}l=l.sibling}}function mp(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&$u(f))}function yp(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&$u(o))}function Ai(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)dx(o,l,f,d),l=l.sibling}function dx(o,l,f,d){var m=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(o,l,f,d),m&2048&&cc(9,l);break;case 1:Ai(o,l,f,d);break;case 3:Ai(o,l,f,d),m&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&$u(o)));break;case 12:if(m&2048){Ai(o,l,f,d),o=l.stateNode;try{var x=l.memoizedProps,S=x.id,P=x.onPostCommit;typeof P=="function"&&P(S,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(q){Rt(l,l.return,q)}}else Ai(o,l,f,d);break;case 13:Ai(o,l,f,d);break;case 23:break;case 22:x=l.stateNode,S=l.alternate,l.memoizedState!==null?x._visibility&2?Ai(o,l,f,d):hc(o,l):x._visibility&2?Ai(o,l,f,d):(x._visibility|=2,yl(o,l,f,d,(l.subtreeFlags&10256)!==0)),m&2048&&mp(S,l);break;case 24:Ai(o,l,f,d),m&2048&&yp(l.alternate,l);break;default:Ai(o,l,f,d)}}function yl(o,l,f,d,m){for(m=m&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var x=o,S=l,P=f,q=d,Z=S.flags;switch(S.tag){case 0:case 11:case 15:yl(x,S,P,q,m),cc(8,S);break;case 23:break;case 22:var oe=S.stateNode;S.memoizedState!==null?oe._visibility&2?yl(x,S,P,q,m):hc(x,S):(oe._visibility|=2,yl(x,S,P,q,m)),m&&Z&2048&&mp(S.alternate,S);break;case 24:yl(x,S,P,q,m),m&&Z&2048&&yp(S.alternate,S);break;default:yl(x,S,P,q,m)}l=l.sibling}}function hc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,m=d.flags;switch(d.tag){case 22:hc(f,d),m&2048&&mp(d.alternate,d);break;case 24:hc(f,d),m&2048&&yp(d.alternate,d);break;default:hc(f,d)}l=l.sibling}}var dc=8192;function _l(o){if(o.subtreeFlags&dc)for(o=o.child;o!==null;)px(o),o=o.sibling}function px(o){switch(o.tag){case 26:_l(o),o.flags&dc&&o.memoizedState!==null&&JR(Yr,o.memoizedState,o.memoizedProps);break;case 5:_l(o);break;case 3:case 4:var l=Yr;Yr=Hh(o.stateNode.containerInfo),_l(o),Yr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=dc,dc=16777216,_l(o),dc=l):_l(o));break;default:_l(o)}}function gx(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function pc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,mx(d,o)}gx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vx(o),o=o.sibling}function vx(o){switch(o.tag){case 0:case 11:case 15:pc(o),o.flags&2048&&Va(9,o,o.return);break;case 3:pc(o);break;case 12:pc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Dh(o)):pc(o);break;default:pc(o)}}function Dh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,mx(d,o)}gx(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Va(8,l,l.return),Dh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Dh(l));break;default:Dh(l)}o=o.sibling}}function mx(o,l){for(;wn!==null;){var f=wn;switch(f.tag){case 0:case 11:case 15:Va(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:$u(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,wn=d;else e:for(f=o;wn!==null;){d=wn;var m=d.sibling,x=d.return;if(lx(d),d===f){wn=null;break e}if(m!==null){m.return=x,wn=m;break e}wn=x}}}var gR={getCacheForType:function(o){var l=jn(on),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},vR=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ot=null,Ze=null,it=0,xt=0,xr=null,ja=!1,xl=!1,_p=!1,sa=0,Ht=0,za=0,hs=0,xp=0,Vr=0,El=0,gc=null,lr=null,Ep=!1,wp=0,Nh=1/0,Ph=null,Ha=null,Nn=0,Ga=null,wl=null,Al=0,Ap=0,Tp=null,yx=null,vc=0,Cp=null;function Er(){if((_t&2)!==0&&it!==0)return it&-it;if(K.T!==null){var o=cl;return o!==0?o:Np()}return Ca()}function _x(){Vr===0&&(Vr=(it&536870912)===0||ht?Cu():536870912);var o=Br.current;return o!==null&&(o.flags|=32),Vr}function wr(o,l,f){(o===Ot&&(xt===2||xt===9)||o.cancelPendingCommit!==null)&&(Tl(o,0),qa(o,it,Vr,!1)),Fi(o,f),((_t&2)===0||o!==Ot)&&(o===Ot&&((_t&2)===0&&(hs|=f),Ht===4&&qa(o,it,Vr,!1)),Ti(o))}function xx(o,l,f){if((_t&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Vo(o,l),m=d?_R(o,l):Ip(o,l,!0),x=d;do{if(m===0){xl&&!d&&qa(o,l,0,!1);break}else{if(f=o.current.alternate,x&&!mR(f)){m=Ip(o,l,!1),x=!1;continue}if(m===2){if(x=l,o.errorRecoveryDisabledLanes&x)var S=0;else S=o.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var P=o;m=gc;var q=P.current.memoizedState.isDehydrated;if(q&&(Tl(P,S).flags|=256),S=Ip(P,S,!1),S!==2){if(_p&&!q){P.errorRecoveryDisabledLanes|=x,hs|=x,m=4;break e}x=lr,lr=m,x!==null&&(lr===null?lr=x:lr.push.apply(lr,x))}m=S}if(x=!1,m!==2)continue}}if(m===1){Tl(o,0),qa(o,l,0,!0);break}e:{switch(d=o,x=m,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:qa(d,l,Vr,!ja);break e;case 2:lr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(m=wp+300-yn(),10<m)){if(qa(d,l,Vr,!ja),js(d,0,!0)!==0)break e;d.timeoutHandle=Yx(Ex.bind(null,d,f,lr,Ph,Ep,l,Vr,hs,El,ja,x,2,-0,0),m);break e}Ex(d,f,lr,Ph,Ep,l,Vr,hs,El,ja,x,0,-0,0)}}break}while(!0);Ti(o)}function Ex(o,l,f,d,m,x,S,P,q,Z,oe,ue,te,ne){if(o.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Ac={stylesheets:null,count:0,unsuspend:ZR},px(l),ue=e8(),ue!==null)){o.cancelPendingCommit=ue(Ix.bind(null,o,l,x,f,d,m,S,P,q,oe,1,te,ne)),qa(o,x,S,!Z);return}Ix(o,l,x,f,d,m,S,P,q)}function mR(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var m=f[d],x=m.getSnapshot;m=m.value;try{if(!vr(x(),m))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function qa(o,l,f,d){l&=~xp,l&=~hs,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var m=l;0<m;){var x=31-Un(m),S=1<<x;d[x]=-1,m&=~S}f!==0&&ui(o,f,l)}function Mh(){return(_t&6)===0?(mc(0),!1):!0}function bp(){if(Ze!==null){if(xt===0)var o=Ze.return;else o=Ze,Ji=os=null,H1(o),vl=null,sc=0,o=Ze;for(;o!==null;)ex(o.alternate,o),o=o.return;Ze=null}}function Tl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,LR(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),bp(),Ot=o,Ze=f=$i(o.current,null),it=l,xt=0,xr=null,ja=!1,xl=Vo(o,l),_p=!1,El=Vr=xp=hs=za=Ht=0,lr=gc=null,Ep=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var m=31-Un(d),x=1<<m;l|=o[m],d&=~x}return sa=l,nh(),f}function wx(o,l){Xe=null,K.H=Eh,l===Zu||l===fh?(l=F_(),xt=3):l===k_?(l=F_(),xt=4):xt=l===U2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xr=l,Ze===null&&(Ht=1,bh(o,Pr(l,o.current)))}function Ax(){var o=K.H;return K.H=Eh,o===null?Eh:o}function Tx(){var o=K.A;return K.A=gR,o}function Sp(){Ht=4,ja||(it&4194048)!==it&&Br.current!==null||(xl=!0),(za&134217727)===0&&(hs&134217727)===0||Ot===null||qa(Ot,it,Vr,!1)}function Ip(o,l,f){var d=_t;_t|=2;var m=Ax(),x=Tx();(Ot!==o||it!==l)&&(Ph=null,Tl(o,l)),l=!1;var S=Ht;e:do try{if(xt!==0&&Ze!==null){var P=Ze,q=xr;switch(xt){case 8:bp(),S=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(l=!0);var Z=xt;if(xt=0,xr=null,Cl(o,P,q,Z),f&&xl){S=0;break e}break;default:Z=xt,xt=0,xr=null,Cl(o,P,q,Z)}}yR(),S=Ht;break}catch(oe){wx(o,oe)}while(!0);return l&&o.shellSuspendCounter++,Ji=os=null,_t=d,K.H=m,K.A=x,Ze===null&&(Ot=null,it=0,nh()),S}function yR(){for(;Ze!==null;)Cx(Ze)}function _R(o,l){var f=_t;_t|=2;var d=Ax(),m=Tx();Ot!==o||it!==l?(Ph=null,Nh=yn()+500,Tl(o,l)):xl=Vo(o,l);e:do try{if(xt!==0&&Ze!==null){l=Ze;var x=xr;t:switch(xt){case 1:xt=0,xr=null,Cl(o,l,x,1);break;case 2:case 9:if(B_(x)){xt=0,xr=null,bx(l);break}l=function(){xt!==2&&xt!==9||Ot!==o||(xt=7),Ti(o)},x.then(l,l);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:B_(x)?(xt=0,xr=null,bx(l)):(xt=0,xr=null,Cl(o,l,x,7));break;case 5:var S=null;switch(Ze.tag){case 26:S=Ze.memoizedState;case 5:case 27:var P=Ze;if(!S||sE(S)){xt=0,xr=null;var q=P.sibling;if(q!==null)Ze=q;else{var Z=P.return;Z!==null?(Ze=Z,Lh(Z)):Ze=null}break t}}xt=0,xr=null,Cl(o,l,x,5);break;case 6:xt=0,xr=null,Cl(o,l,x,6);break;case 8:bp(),Ht=6;break e;default:throw Error(r(462))}}xR();break}catch(oe){wx(o,oe)}while(!0);return Ji=os=null,K.H=d,K.A=m,_t=f,Ze!==null?0:(Ot=null,it=0,nh(),Ht)}function xR(){for(;Ze!==null&&!Gr();)Cx(Ze)}function Cx(o){var l=Z2(o.alternate,o,sa);o.memoizedProps=o.pendingProps,l===null?Lh(o):Ze=l}function bx(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=X2(f,l,l.pendingProps,l.type,void 0,it);break;case 11:l=X2(f,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:H1(l);default:ex(f,l),l=Ze=S_(l,sa),l=Z2(f,l,sa)}o.memoizedProps=o.pendingProps,l===null?Lh(o):Ze=l}function Cl(o,l,f,d){Ji=os=null,H1(l),vl=null,sc=0;var m=l.return;try{if(uR(o,m,l,f,it)){Ht=1,bh(o,Pr(f,o.current)),Ze=null;return}}catch(x){if(m!==null)throw Ze=m,x;Ht=1,bh(o,Pr(f,o.current)),Ze=null;return}l.flags&32768?(ht||d===1?o=!0:xl||(it&536870912)!==0?o=!1:(ja=o=!0,(d===2||d===9||d===3||d===6)&&(d=Br.current,d!==null&&d.tag===13&&(d.flags|=16384))),Sx(l,o)):Lh(l)}function Lh(o){var l=o;do{if((l.flags&32768)!==0){Sx(l,ja);return}o=l.return;var f=fR(l.alternate,l,sa);if(f!==null){Ze=f;return}if(l=l.sibling,l!==null){Ze=l;return}Ze=l=o}while(l!==null);Ht===0&&(Ht=5)}function Sx(o,l){do{var f=hR(o.alternate,o);if(f!==null){f.flags&=32767,Ze=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Ze=o;return}Ze=o=f}while(o!==null);Ht=6,Ze=null}function Ix(o,l,f,d,m,x,S,P,q){o.cancelPendingCommit=null;do kh();while(Nn!==0);if((_t&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=y1,Su(o,f,x,S,P,q),o===Ot&&(Ze=Ot=null,it=0),wl=l,Ga=o,Al=f,Ap=x,Tp=m,yx=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,TR(Mo,function(){return Px(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,m=ae.p,ae.p=2,S=_t,_t|=4;try{dR(o,l,f)}finally{_t=S,ae.p=m,K.T=d}}Nn=1,Rx(),Ox(),Dx()}}function Rx(){if(Nn===1){Nn=0;var o=Ga,l=wl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=K.T,K.T=null;var d=ae.p;ae.p=2;var m=_t;_t|=4;try{fx(l,o);var x=Up,S=m_(o.containerInfo),P=x.focusedElem,q=x.selectionRange;if(S!==P&&P&&P.ownerDocument&&v_(P.ownerDocument.documentElement,P)){if(q!==null&&d1(P)){var Z=q.start,oe=q.end;if(oe===void 0&&(oe=Z),"selectionStart"in P)P.selectionStart=Z,P.selectionEnd=Math.min(oe,P.value.length);else{var ue=P.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ve=P.textContent.length,Pe=Math.min(q.start,Ve),St=q.end===void 0?Pe:Math.min(q.end,Ve);!ne.extend&&Pe>St&&(S=St,St=Pe,Pe=S);var Y=g_(P,Pe),W=g_(P,St);if(Y&&W&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var Q=ue.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Pe>St?(ne.addRange(Q),ne.extend(W.node,W.offset)):(Q.setEnd(W.node,W.offset),ne.addRange(Q))}}}}for(ue=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ue.length;P++){var le=ue[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Kh=!!Fp,Up=Fp=null}finally{_t=m,ae.p=d,K.T=f}}o.current=l,Nn=2}}function Ox(){if(Nn===2){Nn=0;var o=Ga,l=wl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=K.T,K.T=null;var d=ae.p;ae.p=2;var m=_t;_t|=4;try{sx(o,l.alternate,l)}finally{_t=m,ae.p=d,K.T=f}}Nn=3}}function Dx(){if(Nn===4||Nn===3){Nn=0,si();var o=Ga,l=wl,f=Al,d=yx;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Nn=5:(Nn=0,wl=Ga=null,Nx(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Ha=null),zs(f),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(jt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=K.T,m=ae.p,ae.p=2,K.T=null;try{for(var x=o.onRecoverableError,S=0;S<d.length;S++){var P=d[S];x(P.value,{componentStack:P.stack})}}finally{K.T=l,ae.p=m}}(Al&3)!==0&&kh(),Ti(o),m=o.pendingLanes,(f&4194090)!==0&&(m&42)!==0?o===Cp?vc++:(vc=0,Cp=o):vc=0,mc(0)}}function Nx(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,$u(l)))}function kh(o){return Rx(),Ox(),Dx(),Px()}function Px(){if(Nn!==5)return!1;var o=Ga,l=Ap;Ap=0;var f=zs(Al),d=K.T,m=ae.p;try{ae.p=32>f?32:f,K.T=null,f=Tp,Tp=null;var x=Ga,S=Al;if(Nn=0,wl=Ga=null,Al=0,(_t&6)!==0)throw Error(r(331));var P=_t;if(_t|=4,vx(x.current),dx(x,x.current,S,f),_t=P,mc(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(jt,x)}catch{}return!0}finally{ae.p=m,K.T=d,Nx(o,l)}}function Mx(o,l,f){l=Pr(f,l),l=rp(o.stateNode,l,2),o=Ma(o,l,2),o!==null&&(Fi(o,2),Ti(o))}function Rt(o,l,f){if(o.tag===3)Mx(o,o,f);else for(;l!==null;){if(l.tag===3){Mx(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))){o=Pr(f,o),f=V2(2),d=Ma(l,f,2),d!==null&&(F2(f,d,l,o),Fi(d,2),Ti(d));break}}l=l.return}}function Rp(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new vR;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(f)||(_p=!0,m.add(f),o=ER.bind(null,o,l,f),l.then(o,o))}function ER(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ot===o&&(it&f)===f&&(Ht===4||Ht===3&&(it&62914560)===it&&300>yn()-wp?(_t&2)===0&&Tl(o,0):xp|=f,El===it&&(El=0)),Ti(o)}function Lx(o,l){l===0&&(l=bu()),o=ol(o,l),o!==null&&(Fi(o,l),Ti(o))}function wR(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),Lx(o,f)}function AR(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(f=m.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),Lx(o,f)}function TR(o,l){return Gt(o,l)}var Bh=null,bl=null,Op=!1,Vh=!1,Dp=!1,ds=0;function Ti(o){o!==bl&&o.next===null&&(bl===null?Bh=bl=o:bl=bl.next=o),Vh=!0,Op||(Op=!0,bR())}function mc(o,l){if(!Dp&&Vh){Dp=!0;do for(var f=!1,d=Bh;d!==null;){if(o!==0){var m=d.pendingLanes;if(m===0)var x=0;else{var S=d.suspendedLanes,P=d.pingedLanes;x=(1<<31-Un(42|o)+1)-1,x&=m&~(S&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,Fx(d,x))}else x=it,x=js(d,d===Ot?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Vo(d,x)||(f=!0,Fx(d,x));d=d.next}while(f);Dp=!1}}function CR(){kx()}function kx(){Vh=Op=!1;var o=0;ds!==0&&(MR()&&(o=ds),ds=0);for(var l=yn(),f=null,d=Bh;d!==null;){var m=d.next,x=Bx(d,l);x===0?(d.next=null,f===null?Bh=m:f.next=m,m===null&&(bl=f)):(f=d,(o!==0||(x&3)!==0)&&(Vh=!0)),d=m}mc(o)}function Bx(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var S=31-Un(x),P=1<<S,q=m[S];q===-1?((P&f)===0||(P&d)!==0)&&(m[S]=Tu(P,l)):q<=l&&(o.expiredLanes|=P),x&=~P}if(l=Ot,f=it,f=js(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(xt===2||xt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&mn(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Vo(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&mn(d),zs(f)){case 2:case 8:f=Fs;break;case 32:f=Mo;break;case 268435456:f=Us;break;default:f=Mo}return d=Vx.bind(null,o),f=Gt(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&mn(d),o.callbackPriority=2,o.callbackNode=null,2}function Vx(o,l){if(Nn!==0&&Nn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(kh()&&o.callbackNode!==f)return null;var d=it;return d=js(o,o===Ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(xx(o,d,l),Bx(o,yn()),o.callbackNode!=null&&o.callbackNode===f?Vx.bind(null,o):null)}function Fx(o,l){if(kh())return null;xx(o,l,!0)}function bR(){kR(function(){(_t&6)!==0?Gt(li,CR):kx()})}function Np(){return ds===0&&(ds=Cu()),ds}function Ux(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ks(""+o)}function jx(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function SR(o,l,f,d,m){if(l==="submit"&&f&&f.stateNode===m){var x=Ux((m[Yt]||null).action),S=d.submitter;S&&(l=(l=S[Yt]||null)?Ux(l.formAction):S.getAttribute("formAction"),l!==null&&(x=l,S=null));var P=new Ys("action","action",null,d,m);o.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ds!==0){var q=S?jx(m,S):new FormData(m);Z1(f,{pending:!0,data:q,method:m.method,action:x},null,q)}}else typeof x=="function"&&(P.preventDefault(),q=S?jx(m,S):new FormData(m),Z1(f,{pending:!0,data:q,method:m.method,action:x},x,q))},currentTarget:m}]})}}for(var Pp=0;Pp<m1.length;Pp++){var Mp=m1[Pp],IR=Mp.toLowerCase(),RR=Mp[0].toUpperCase()+Mp.slice(1);Kr(IR,"on"+RR)}Kr(x_,"onAnimationEnd"),Kr(E_,"onAnimationIteration"),Kr(w_,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(X4,"onTransitionRun"),Kr(W4,"onTransitionStart"),Kr(K4,"onTransitionCancel"),Kr(A_,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function zx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],m=d.event;d=d.listeners;e:{var x=void 0;if(l)for(var S=d.length-1;0<=S;S--){var P=d[S],q=P.instance,Z=P.currentTarget;if(P=P.listener,q!==x&&m.isPropagationStopped())break e;x=P,m.currentTarget=Z;try{x(m)}catch(oe){Ch(oe)}m.currentTarget=null,x=q}else for(S=0;S<d.length;S++){if(P=d[S],q=P.instance,Z=P.currentTarget,P=P.listener,q!==x&&m.isPropagationStopped())break e;x=P,m.currentTarget=Z;try{x(m)}catch(oe){Ch(oe)}m.currentTarget=null,x=q}}}}function Je(o,l){var f=l[Ru];f===void 0&&(f=l[Ru]=new Set);var d=o+"__bubble";f.has(d)||(Hx(l,o,2,!1),f.add(d))}function Lp(o,l,f){var d=0;l&&(d|=4),Hx(f,o,d,l)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function kp(o){if(!o[Fh]){o[Fh]=!0,Ou.forEach(function(f){f!=="selectionchange"&&(OR.has(f)||Lp(f,!1,o),Lp(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Fh]||(l[Fh]=!0,Lp("selectionchange",!1,l))}}function Hx(o,l,f,d){switch(dE(l)){case 2:var m=r8;break;case 8:m=i8;break;default:m=$p}f=m.bind(null,l,f,o),m=void 0,!Dr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?o.addEventListener(l,f,{capture:!0,passive:m}):o.addEventListener(l,f,!0):m!==void 0?o.addEventListener(l,f,{passive:m}):o.addEventListener(l,f,!1)}function Bp(o,l,f,d,m){var x=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var P=d.stateNode.containerInfo;if(P===m)break;if(S===4)for(S=d.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;P!==null;){if(S=Ui(P),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){d=x=S;continue e}P=P.parentNode}}d=d.return}jf(function(){var Z=x,oe=Or(f),ue=[];e:{var te=T_.get(o);if(te!==void 0){var ne=Ys,Ve=o;switch(o){case"keypress":if(gi(f)===0)break e;case"keydown":case"keyup":ne=tl;break;case"focusin":Ve="focus",ne=Zs;break;case"focusout":Ve="blur",ne=Zs;break;case"beforeblur":case"afterblur":ne=Zs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Yf;break;case x_:case E_:case w_:ne=Js;break;case A_:ne=Qf;break;case"scroll":case"scrollend":ne=zf;break;case"wheel":ne=nl;break;case"copy":case"cut":case"paste":ne=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=zu;break;case"toggle":case"beforetoggle":ne=Jf}var Pe=(l&4)!==0,St=!Pe&&(o==="scroll"||o==="scrollend"),Y=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var W=Z,Q;W!==null;){var le=W;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||Y===null||(le=Xo(W,Y),le!=null&&Pe.push(_c(W,le,Q))),St)break;W=W.return}0<Pe.length&&(te=new ne(te,Ve,null,f,oe),ue.push({event:te,listeners:Pe}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&f!==Gi&&(Ve=f.relatedTarget||f.fromElement)&&(Ui(Ve)||Ve[Ir]))break e;if((ne||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ve=f.relatedTarget||f.toElement,ne=Z,Ve=Ve?Ui(Ve):null,Ve!==null&&(St=a(Ve),Pe=Ve.tag,Ve!==St||Pe!==5&&Pe!==27&&Pe!==6)&&(Ve=null)):(ne=null,Ve=Z),ne!==Ve)){if(Pe=Nr,le="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=zu,le="onPointerLeave",Y="onPointerEnter",W="pointer"),St=ne==null?te:fi(ne),Q=Ve==null?te:fi(Ve),te=new Pe(le,W+"leave",ne,f,oe),te.target=St,te.relatedTarget=Q,le=null,Ui(oe)===Z&&(Pe=new Pe(Y,W+"enter",Ve,f,oe),Pe.target=Q,Pe.relatedTarget=St,le=Pe),St=le,ne&&Ve)t:{for(Pe=ne,Y=Ve,W=0,Q=Pe;Q;Q=Sl(Q))W++;for(Q=0,le=Y;le;le=Sl(le))Q++;for(;0<W-Q;)Pe=Sl(Pe),W--;for(;0<Q-W;)Y=Sl(Y),Q--;for(;W--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=Sl(Pe),Y=Sl(Y)}Pe=null}else Pe=null;ne!==null&&Gx(ue,te,ne,Pe,!1),Ve!==null&&St!==null&&Gx(ue,St,Ve,Pe,!0)}}e:{if(te=Z?fi(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ee=u_;else if(an(te))if(c_)Ee=H4;else{Ee=j4;var $e=U4}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&Lu(Z.elementType)&&(Ee=u_):Ee=z4;if(Ee&&(Ee=Ee(o,Z))){Yi(ue,Ee,f,oe);break e}$e&&$e(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Ra(te,"number",te.value)}switch($e=Z?fi(Z):window,o){case"focusin":(an($e)||$e.contentEditable==="true")&&(rl=$e,p1=Z,qu=null);break;case"focusout":qu=p1=rl=null;break;case"mousedown":g1=!0;break;case"contextmenu":case"mouseup":case"dragend":g1=!1,y_(ue,f,oe);break;case"selectionchange":if(q4)break;case"keydown":case"keyup":y_(ue,f,oe)}var Ie;if(yi)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else nt?re(o,f)&&(Le="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Le="onCompositionStart");Le&&(C&&f.locale!=="ko"&&(nt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&nt&&(Ie=Bu()):(pi=oe,Oa="value"in pi?pi.value:pi.textContent,nt=!0)),$e=Uh(Z,Le),0<$e.length&&(Le=new Uu(Le,o,null,f,oe),ue.push({event:Le,listeners:$e}),Ie?Le.data=Ie:(Ie=pe(f),Ie!==null&&(Le.data=Ie)))),(Ie=w?rn(o,f):rt(o,f))&&(Le=Uh(Z,"onBeforeInput"),0<Le.length&&($e=new Uu("onBeforeInput","beforeinput",null,f,oe),ue.push({event:$e,listeners:Le}),$e.data=Ie)),SR(ue,o,Z,f,oe)}zx(ue,l)})}function _c(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Uh(o,l){for(var f=l+"Capture",d=[];o!==null;){var m=o,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Xo(o,f),m!=null&&d.unshift(_c(o,m,x)),m=Xo(o,l),m!=null&&d.push(_c(o,m,x))),o.tag===3)return d;o=o.return}return[]}function Sl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Gx(o,l,f,d,m){for(var x=l._reactName,S=[];f!==null&&f!==d;){var P=f,q=P.alternate,Z=P.stateNode;if(P=P.tag,q!==null&&q===d)break;P!==5&&P!==26&&P!==27||Z===null||(q=Z,m?(Z=Xo(f,x),Z!=null&&S.unshift(_c(f,Z,q))):m||(Z=Xo(f,x),Z!=null&&S.push(_c(f,Z,q)))),f=f.return}S.length!==0&&o.push({event:l,listeners:S})}var DR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function qx(o){return(typeof o=="string"?o:""+o).replace(DR,`
`).replace(NR,"")}function Xx(o,l){return l=qx(l),qx(o)===l}function jh(){}function bt(o,l,f,d,m,x){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Rr(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Rr(o,""+d);break;case"className":hi(o,"class",d);break;case"tabIndex":hi(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(o,f,d);break;case"style":Mu(o,d,x);break;case"data":if(l!=="object"){hi(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ks(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(l!=="input"&&bt(o,l,"name",m.name,m,null),bt(o,l,"formEncType",m.formEncType,m,null),bt(o,l,"formMethod",m.formMethod,m,null),bt(o,l,"formTarget",m.formTarget,m,null)):(bt(o,l,"encType",m.encType,m,null),bt(o,l,"method",m.method,m,null),bt(o,l,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ks(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=jh);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Ks(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Je("beforetoggle",o),Je("toggle",o),Ia(o,"popover",d);break;case"xlinkActuate":Rn(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rn(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rn(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rn(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rn(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ia(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=s1.get(f)||f,Ia(o,f,d))}}function Vp(o,l,f,d,m,x){switch(f){case"style":Mu(o,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?Rr(o,d):(typeof d=="number"||typeof d=="bigint")&&Rr(o,""+d);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"onClick":d!=null&&(o.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(m=f.endsWith("Capture"),l=f.slice(2,m?f.length-7:void 0),x=o[Yt]||null,x=x!=null?x[f]:null,typeof x=="function"&&o.removeEventListener(l,x,m),typeof d=="function")){typeof x!="function"&&x!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,m);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Ia(o,f,d)}}}function Pn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",o),Je("load",o);var d=!1,m=!1,x;for(x in f)if(f.hasOwnProperty(x)){var S=f[x];if(S!=null)switch(x){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,x,S,f,null)}}m&&bt(o,l,"srcSet",f.srcSet,f,null),d&&bt(o,l,"src",f.src,f,null);return;case"input":Je("invalid",o);var P=x=S=m=null,q=null,Z=null;for(d in f)if(f.hasOwnProperty(d)){var oe=f[d];if(oe!=null)switch(d){case"name":m=oe;break;case"type":S=oe;break;case"checked":q=oe;break;case"defaultChecked":Z=oe;break;case"value":x=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:bt(o,l,d,oe,f,null)}}Ho(o,x,P,q,Z,S,m,!1),Ws(o);return;case"select":Je("invalid",o),d=S=x=null;for(m in f)if(f.hasOwnProperty(m)&&(P=f[m],P!=null))switch(m){case"value":x=P;break;case"defaultValue":S=P;break;case"multiple":d=P;default:bt(o,l,m,P,f,null)}l=x,f=S,o.multiple=!!d,l!=null?Hi(o,!!d,l,!1):f!=null&&Hi(o,!!d,f,!0);return;case"textarea":Je("invalid",o),x=m=d=null;for(S in f)if(f.hasOwnProperty(S)&&(P=f[S],P!=null))switch(S){case"value":d=P;break;case"defaultValue":m=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:bt(o,l,S,P,f,null)}Go(o,d,m,x),Ws(o);return;case"option":for(q in f)if(f.hasOwnProperty(q)&&(d=f[q],d!=null))switch(q){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(o,l,q,d,f,null)}return;case"dialog":Je("beforetoggle",o),Je("toggle",o),Je("cancel",o),Je("close",o);break;case"iframe":case"object":Je("load",o);break;case"video":case"audio":for(d=0;d<yc.length;d++)Je(yc[d],o);break;case"image":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"embed":case"source":case"link":Je("error",o),Je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in f)if(f.hasOwnProperty(Z)&&(d=f[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,Z,d,f,null)}return;default:if(Lu(l)){for(oe in f)f.hasOwnProperty(oe)&&(d=f[oe],d!==void 0&&Vp(o,l,oe,d,f,void 0));return}}for(P in f)f.hasOwnProperty(P)&&(d=f[P],d!=null&&bt(o,l,P,d,f,null))}function PR(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,S=null,P=null,q=null,Z=null,oe=null;for(ne in f){var ue=f[ne];if(f.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:d.hasOwnProperty(ne)||bt(o,l,ne,null,d,ue)}}for(var te in d){var ne=d[te];if(ue=f[te],d.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":x=ne;break;case"name":m=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":S=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ue&&bt(o,l,te,ne,d,ue)}}gr(o,S,P,q,Z,oe,x,m);return;case"select":ne=S=P=te=null;for(x in f)if(q=f[x],f.hasOwnProperty(x)&&q!=null)switch(x){case"value":break;case"multiple":ne=q;default:d.hasOwnProperty(x)||bt(o,l,x,null,d,q)}for(m in d)if(x=d[m],q=f[m],d.hasOwnProperty(m)&&(x!=null||q!=null))switch(m){case"value":te=x;break;case"defaultValue":P=x;break;case"multiple":S=x;default:x!==q&&bt(o,l,m,x,d,q)}l=P,f=S,d=ne,te!=null?Hi(o,!!f,te,!1):!!d!=!!f&&(l!=null?Hi(o,!!f,l,!0):Hi(o,!!f,f?[]:"",!1));return;case"textarea":ne=te=null;for(P in f)if(m=f[P],f.hasOwnProperty(P)&&m!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:bt(o,l,P,null,d,m)}for(S in d)if(m=d[S],x=f[S],d.hasOwnProperty(S)&&(m!=null||x!=null))switch(S){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==x&&bt(o,l,S,m,d,x)}Tt(o,te,ne);return;case"option":for(var Ve in f)if(te=f[Ve],f.hasOwnProperty(Ve)&&te!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:bt(o,l,Ve,null,d,te)}for(q in d)if(te=d[q],ne=f[q],d.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:bt(o,l,q,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in f)te=f[Pe],f.hasOwnProperty(Pe)&&te!=null&&!d.hasOwnProperty(Pe)&&bt(o,l,Pe,null,d,te);for(Z in d)if(te=d[Z],ne=f[Z],d.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:bt(o,l,Z,te,d,ne)}return;default:if(Lu(l)){for(var St in f)te=f[St],f.hasOwnProperty(St)&&te!==void 0&&!d.hasOwnProperty(St)&&Vp(o,l,St,void 0,d,te);for(oe in d)te=d[oe],ne=f[oe],!d.hasOwnProperty(oe)||te===ne||te===void 0&&ne===void 0||Vp(o,l,oe,te,d,ne);return}}for(var Y in f)te=f[Y],f.hasOwnProperty(Y)&&te!=null&&!d.hasOwnProperty(Y)&&bt(o,l,Y,null,d,te);for(ue in d)te=d[ue],ne=f[ue],!d.hasOwnProperty(ue)||te===ne||te==null&&ne==null||bt(o,l,ue,te,d,ne)}var Fp=null,Up=null;function zh(o){return o.nodeType===9?o:o.ownerDocument}function Wx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kx(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function jp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zp=null;function MR(){var o=window.event;return o&&o.type==="popstate"?o===zp?!1:(zp=o,!0):(zp=null,!1)}var Yx=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof $x<"u"?function(o){return $x.resolve(null).then(o).catch(BR)}:Yx;function BR(o){setTimeout(function(){throw o})}function Xa(o){return o==="head"}function Qx(o,l){var f=l,d=0,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(0<d&&8>d){f=d;var S=o.ownerDocument;if(f&1&&xc(S.documentElement),f&2&&xc(S.body),f&4)for(f=S.head,xc(f),S=f.firstChild;S;){var P=S.nextSibling,q=S.nodeName;S[Fo]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=P}}if(m===0){o.removeChild(x),Ic(l);return}m--}else f==="$"||f==="$?"||f==="$!"?m++:d=f.charCodeAt(0)-48;else d=0;f=x}while(f);Ic(l)}function Hp(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Hp(f),Sa(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function VR(o,l,f,d){for(;o.nodeType===1;){var m=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Fo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=$r(o.nextSibling),o===null)break}return null}function FR(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=$r(o.nextSibling),o===null))return null;return o}function Gp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function UR(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function $r(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var qp=null;function Zx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function Jx(o,l,f){switch(l=zh(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function xc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Sa(o)}var Fr=new Map,eE=new Set;function Hh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var la=ae.d;ae.d={f:jR,r:zR,D:HR,C:GR,L:qR,m:XR,X:KR,S:WR,M:YR};function jR(){var o=la.f(),l=Mh();return o||l}function zR(o){var l=ci(o);l!==null&&l.tag===5&&l.type==="form"?x2(l):la.r(o)}var Il=typeof document>"u"?null:document;function tE(o,l,f){var d=Il;if(d&&typeof l=="string"&&l){var m=$t(l);m='link[rel="'+o+'"][href="'+m+'"]',typeof f=="string"&&(m+='[crossorigin="'+f+'"]'),eE.has(m)||(eE.add(m),o={rel:o,crossOrigin:f,href:l},d.querySelector(m)===null&&(l=d.createElement("link"),Pn(l,"link",o),qt(l),d.head.appendChild(l)))}}function HR(o){la.D(o),tE("dns-prefetch",o,null)}function GR(o,l){la.C(o,l),tE("preconnect",o,l)}function qR(o,l,f){la.L(o,l,f);var d=Il;if(d&&o&&l){var m='link[rel="preload"][as="'+$t(l)+'"]';l==="image"&&f&&f.imageSrcSet?(m+='[imagesrcset="'+$t(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(m+='[imagesizes="'+$t(f.imageSizes)+'"]')):m+='[href="'+$t(o)+'"]';var x=m;switch(l){case"style":x=Rl(o);break;case"script":x=Ol(o)}Fr.has(x)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Fr.set(x,o),d.querySelector(m)!==null||l==="style"&&d.querySelector(Ec(x))||l==="script"&&d.querySelector(wc(x))||(l=d.createElement("link"),Pn(l,"link",o),qt(l),d.head.appendChild(l)))}}function XR(o,l){la.m(o,l);var f=Il;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(o)+'"]',x=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ol(o)}if(!Fr.has(x)&&(o=p({rel:"modulepreload",href:o},l),Fr.set(x,o),f.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(wc(x)))return}d=f.createElement("link"),Pn(d,"link",o),qt(d),f.head.appendChild(d)}}}function WR(o,l,f){la.S(o,l,f);var d=Il;if(d&&o){var m=$n(d).hoistableStyles,x=Rl(o);l=l||"default";var S=m.get(x);if(!S){var P={loading:0,preload:null};if(S=d.querySelector(Ec(x)))P.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Fr.get(x))&&Xp(o,f);var q=S=d.createElement("link");qt(q),Pn(q,"link",o),q._p=new Promise(function(Z,oe){q.onload=Z,q.onerror=oe}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Gh(S,l,d)}S={type:"stylesheet",instance:S,count:1,state:P},m.set(x,S)}}}function KR(o,l){la.X(o,l);var f=Il;if(f&&o){var d=$n(f).hoistableScripts,m=Ol(o),x=d.get(m);x||(x=f.querySelector(wc(m)),x||(o=p({src:o,async:!0},l),(l=Fr.get(m))&&Wp(o,l),x=f.createElement("script"),qt(x),Pn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function YR(o,l){la.M(o,l);var f=Il;if(f&&o){var d=$n(f).hoistableScripts,m=Ol(o),x=d.get(m);x||(x=f.querySelector(wc(m)),x||(o=p({src:o,async:!0,type:"module"},l),(l=Fr.get(m))&&Wp(o,l),x=f.createElement("script"),qt(x),Pn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function nE(o,l,f,d){var m=(m=Se.current)?Hh(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Rl(f.href),f=$n(m).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Rl(f.href);var x=$n(m).hoistableStyles,S=x.get(o);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,S),(x=m.querySelector(Ec(o)))&&!x._p&&(S.instance=x,S.state.loading=5),Fr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Fr.set(o,f),x||$R(m,o,f,S.state))),l&&d===null)throw Error(r(528,""));return S}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ol(f),f=$n(m).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Rl(o){return'href="'+$t(o)+'"'}function Ec(o){return'link[rel="stylesheet"]['+o+"]"}function rE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function $R(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Pn(l,"link",f),qt(l),o.head.appendChild(l))}function Ol(o){return'[src="'+$t(o)+'"]'}function wc(o){return"script[async]"+o}function iE(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+$t(f.href)+'"]');if(d)return l.instance=d,qt(d),d;var m=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),qt(d),Pn(d,"style",m),Gh(d,f.precedence,o),l.instance=d;case"stylesheet":m=Rl(f.href);var x=o.querySelector(Ec(m));if(x)return l.state.loading|=4,l.instance=x,qt(x),x;d=rE(f),(m=Fr.get(m))&&Xp(d,m),x=(o.ownerDocument||o).createElement("link"),qt(x);var S=x;return S._p=new Promise(function(P,q){S.onload=P,S.onerror=q}),Pn(x,"link",d),l.state.loading|=4,Gh(x,f.precedence,o),l.instance=x;case"script":return x=Ol(f.src),(m=o.querySelector(wc(x)))?(l.instance=m,qt(m),m):(d=f,(m=Fr.get(x))&&(d=p({},f),Wp(d,m)),o=o.ownerDocument||o,m=o.createElement("script"),qt(m),Pn(m,"link",d),o.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Gh(d,f.precedence,o));return l.instance}function Gh(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,x=m,S=0;S<d.length;S++){var P=d[S];if(P.dataset.precedence===l)x=P;else if(x!==m)break}x?x.parentNode.insertBefore(o,x.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Xp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Wp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var qh=null;function aE(o,l,f){if(qh===null){var d=new Map,m=qh=new Map;m.set(f,d)}else m=qh,d=m.get(f),d||(d=new Map,m.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),m=0;m<f.length;m++){var x=f[m];if(!(x[Fo]||x[nn]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(l)||"";S=o+S;var P=d.get(S);P?P.push(x):d.set(S,[x])}}return d}function oE(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function QR(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ac=null;function ZR(){}function JR(o,l,f){if(Ac===null)throw Error(r(475));var d=Ac;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Rl(f.href),x=o.querySelector(Ec(m));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Xh.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=x,qt(x);return}x=o.ownerDocument||o,f=rE(f),(m=Fr.get(m))&&Xp(f,m),x=x.createElement("link"),qt(x);var S=x;S._p=new Promise(function(P,q){S.onload=P,S.onerror=q}),Pn(x,"link",f),l.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Xh.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function e8(){if(Ac===null)throw Error(r(475));var o=Ac;return o.stylesheets&&o.count===0&&Kp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Kp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)Kp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wh=null;function Kp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wh=new Map,l.forEach(t8,o),Wh=null,Xh.call(o))}function t8(o,l){if(!(l.state.loading&4)){var f=Wh.get(o);if(f)var d=f.get(null);else{f=new Map,Wh.set(o,f);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var S=m[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(f.set(S.dataset.precedence,S),d=S)}d&&f.set(null,d)}m=l.instance,S=m.getAttribute("data-precedence"),x=f.get(S)||d,x===d&&f.set(null,m),f.set(S,m),this.count++,d=Xh.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),x?x.parentNode.insertBefore(m,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),l.state.loading|=4}}var Tc={$$typeof:D,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function n8(o,l,f,d,m,x,S,P){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function lE(o,l,f,d,m,x,S,P,q,Z,oe,ue){return o=new n8(o,l,f,S,P,q,Z,ue),l=1,x===!0&&(l|=24),x=mr(3,null,null,l),o.current=x,x.stateNode=o,l=R1(),l.refCount++,o.pooledCache=l,l.refCount++,x.memoizedState={element:d,isDehydrated:f,cache:l},P1(x),o}function uE(o){return o?(o=sl,o):sl}function cE(o,l,f,d,m,x){m=uE(m),d.context===null?d.context=m:d.pendingContext=m,d=Pa(l),d.payload={element:f},x=x===void 0?null:x,x!==null&&(d.callback=x),f=Ma(o,d,l),f!==null&&(wr(f,o,l),ec(f,o,l))}function fE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Yp(o,l){fE(o,l),(o=o.alternate)&&fE(o,l)}function hE(o){if(o.tag===13){var l=ol(o,67108864);l!==null&&wr(l,o,67108864),Yp(o,67108864)}}var Kh=!0;function r8(o,l,f,d){var m=K.T;K.T=null;var x=ae.p;try{ae.p=2,$p(o,l,f,d)}finally{ae.p=x,K.T=m}}function i8(o,l,f,d){var m=K.T;K.T=null;var x=ae.p;try{ae.p=8,$p(o,l,f,d)}finally{ae.p=x,K.T=m}}function $p(o,l,f,d){if(Kh){var m=Qp(d);if(m===null)Bp(o,l,d,Yh,f),pE(o,d);else if(o8(m,o,l,f,d))d.stopPropagation();else if(pE(o,d),l&4&&-1<a8.indexOf(o)){for(;m!==null;){var x=ci(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=qr(x.pendingLanes);if(S!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var q=1<<31-Un(S);P.entanglements[1]|=q,S&=~q}Ti(x),(_t&6)===0&&(Nh=yn()+500,mc(0))}}break;case 13:P=ol(x,2),P!==null&&wr(P,x,2),Mh(),Yp(x,2)}if(x=Qp(d),x===null&&Bp(o,l,d,Yh,f),x===m)break;m=x}m!==null&&d.stopPropagation()}else Bp(o,l,d,null,f)}}function Qp(o){return o=Or(o),Zp(o)}var Yh=null;function Zp(o){if(Yh=null,o=Ui(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Yh=o,null}function dE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case li:return 2;case Fs:return 8;case Mo:case n1:return 32;case Us:return 268435456;default:return 32}default:return 32}}var Jp=!1,Wa=null,Ka=null,Ya=null,Cc=new Map,bc=new Map,$a=[],a8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(o,l){switch(o){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Cc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(l.pointerId)}}function Sc(o,l,f,d,m,x){return o===null||o.nativeEvent!==x?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},l!==null&&(l=ci(l),l!==null&&hE(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function o8(o,l,f,d,m){switch(l){case"focusin":return Wa=Sc(Wa,o,l,f,d,m),!0;case"dragenter":return Ka=Sc(Ka,o,l,f,d,m),!0;case"mouseover":return Ya=Sc(Ya,o,l,f,d,m),!0;case"pointerover":var x=m.pointerId;return Cc.set(x,Sc(Cc.get(x)||null,o,l,f,d,m)),!0;case"gotpointercapture":return x=m.pointerId,bc.set(x,Sc(bc.get(x)||null,o,l,f,d,m)),!0}return!1}function gE(o){var l=Ui(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Mf(o.priority,function(){if(f.tag===13){var d=Er();d=Ta(d);var m=ol(f,d);m!==null&&wr(m,f,d),Yp(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function $h(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Qp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);Gi=d,f.target.dispatchEvent(d),Gi=null}else return l=ci(f),l!==null&&hE(l),o.blockedOn=f,!1;l.shift()}return!0}function vE(o,l,f){$h(o)&&f.delete(l)}function s8(){Jp=!1,Wa!==null&&$h(Wa)&&(Wa=null),Ka!==null&&$h(Ka)&&(Ka=null),Ya!==null&&$h(Ya)&&(Ya=null),Cc.forEach(vE),bc.forEach(vE)}function Qh(o,l){o.blockedOn===l&&(o.blockedOn=null,Jp||(Jp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,s8)))}var Zh=null;function mE(o){Zh!==o&&(Zh=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zh===o&&(Zh=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],m=o[l+2];if(typeof d!="function"){if(Zp(d||f)===null)continue;break}var x=ci(f);x!==null&&(o.splice(l,3),l-=3,Z1(x,{pending:!0,data:m,method:f.method,action:d},d,m))}}))}function Ic(o){function l(q){return Qh(q,o)}Wa!==null&&Qh(Wa,o),Ka!==null&&Qh(Ka,o),Ya!==null&&Qh(Ya,o),Cc.forEach(l),bc.forEach(l);for(var f=0;f<$a.length;f++){var d=$a[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<$a.length&&(f=$a[0],f.blockedOn===null);)gE(f),f.blockedOn===null&&$a.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var m=f[d],x=f[d+1],S=m[Yt]||null;if(typeof x=="function")S||mE(f);else if(S){var P=null;if(x&&x.hasAttribute("formAction")){if(m=x,S=x[Yt]||null)P=S.formAction;else if(Zp(m)!==null)continue}else P=S.action;typeof P=="function"?f[d+1]=P:(f.splice(d,3),d-=3),mE(f)}}}function eg(o){this._internalRoot=o}Jh.prototype.render=eg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=Er();cE(f,d,o,l,null,null)},Jh.prototype.unmount=eg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;cE(o.current,2,null,o,null,null),Mh(),l[Ir]=null}};function Jh(o){this._internalRoot=o}Jh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ca();o={blockedOn:null,target:o,priority:l};for(var f=0;f<$a.length&&l!==0&&l<$a[f].priority;f++);$a.splice(f,0,o),f===0&&gE(o)}};var yE=e.version;if(yE!=="19.1.0")throw Error(r(527,yE,"19.1.0"));ae.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var l8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{jt=ed.inject(l8),yt=ed}catch{}}return Oc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",m=M2,x=L2,S=k2,P=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks)),l=lE(o,1,!1,null,null,f,d,m,x,S,P,null),o[Ir]=l.current,kp(o),new eg(l)},Oc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,m="",x=M2,S=L2,P=k2,q=null,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(m=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(S=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(q=f.unstable_transitionCallbacks),f.formState!==void 0&&(Z=f.formState)),l=lE(o,1,!0,l,f??null,d,m,x,S,P,q,Z),l.context=uE(null),f=l.current,d=Er(),d=Ta(d),m=Pa(d),m.callback=null,Ma(f,m,d),f=d,l.current.lanes=f,Fi(l,f),Ti(l),o[Ir]=l.current,kp(o),new Jh(l)},Oc.version="19.1.0",Oc}var IE;function y8(){if(IE)return rg.exports;IE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rg.exports=m8(),rg.exports}var _8=y8();function qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function x8(n,e){const t=L.createContext(e),r=a=>{const{children:s,...u}=a,c=L.useMemo(()=>u,Object.values(u));return M.jsx(t.Provider,{value:c,children:s})};r.displayName=n+"Provider";function i(a){const s=L.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function Ls(n,e=[]){let t=[];function r(a,s){const u=L.createContext(s),c=t.length;t=[...t,s];const h=g=>{var I;const{scope:y,children:_,...E}=g,A=((I=y==null?void 0:y[n])==null?void 0:I[c])||u,T=L.useMemo(()=>E,Object.values(E));return M.jsx(A.Provider,{value:T,children:_})};h.displayName=a+"Provider";function p(g,y){var A;const _=((A=y==null?void 0:y[n])==null?void 0:A[c])||u,E=L.useContext(_);if(E)return E;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,p]}const i=()=>{const a=t.map(s=>L.createContext(s));return function(u){const c=(u==null?void 0:u[n])||a;return L.useMemo(()=>({[`__scope${n}`]:{...u,[n]:c}}),[u,c])}};return i.scopeName=n,[r,E8(i,...e)]}function E8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((u,{useScope:c,scopeName:h})=>{const g=c(a)[`__scope${h}`];return{...u,...g}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function RE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function _C(...n){return e=>{let t=!1;const r=n.map(i=>{const a=RE(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():RE(n[i],null)}}}}function Vt(...n){return L.useCallback(_C(...n),n)}function Yl(n){const e=A8(n),t=L.forwardRef((r,i)=>{const{children:a,...s}=r,u=L.Children.toArray(a),c=u.find(C8);if(c){const h=c.props.children,p=u.map(g=>g===c?L.Children.count(h)>1?L.Children.only(null):L.isValidElement(h)?h.props.children:null:g);return M.jsx(e,{...s,ref:i,children:L.isValidElement(h)?L.cloneElement(h,void 0,p):null})}return M.jsx(e,{...s,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var w8=Yl("Slot");function A8(n){const e=L.forwardRef((t,r)=>{const{children:i,...a}=t;if(L.isValidElement(i)){const s=S8(i),u=b8(a,i.props);return i.type!==L.Fragment&&(u.ref=r?_C(r,s):s),L.cloneElement(i,u)}return L.Children.count(i)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var xC=Symbol("radix.slottable");function T8(n){const e=({children:t})=>M.jsx(M.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=xC,e}function C8(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===xC}function b8(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{const c=a(...u);return i(...u),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function S8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function EC(n){const e=n+"CollectionProvider",[t,r]=Ls(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=A=>{const{scope:T,children:I}=A,R=no.useRef(null),D=no.useRef(new Map).current;return M.jsx(i,{scope:T,itemMap:D,collectionRef:R,children:I})};s.displayName=e;const u=n+"CollectionSlot",c=Yl(u),h=no.forwardRef((A,T)=>{const{scope:I,children:R}=A,D=a(u,I),B=Vt(T,D.collectionRef);return M.jsx(c,{ref:B,children:R})});h.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",y=Yl(p),_=no.forwardRef((A,T)=>{const{scope:I,children:R,...D}=A,B=no.useRef(null),j=Vt(T,B),H=a(p,I);return no.useEffect(()=>(H.itemMap.set(B,{ref:B,...D}),()=>void H.itemMap.delete(B))),M.jsx(y,{[g]:"",ref:j,children:R})});_.displayName=p;function E(A){const T=a(n+"CollectionConsumer",A);return no.useCallback(()=>{const R=T.collectionRef.current;if(!R)return[];const D=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((H,O)=>D.indexOf(H.ref.current)-D.indexOf(O.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:s,Slot:h,ItemSlot:_},E,r]}var Wn=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},I8=mC[" useId ".trim().toString()]||(()=>{}),R8=0;function pa(n){const[e,t]=L.useState(I8());return Wn(()=>{t(r=>r??String(R8++))},[n]),n||(e?`radix-${e}`:"")}var hf=yC();const O8=Fm(hf);var D8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=D8.reduce((n,e)=>{const t=Yl(`Primitive.${e}`),r=L.forwardRef((i,a)=>{const{asChild:s,...u}=i,c=s?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function N8(n,e){n&&hf.flushSync(()=>n.dispatchEvent(e))}function yo(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var P8=mC[" useInsertionEffect ".trim().toString()]||Wn;function $l({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,s]=M8({defaultProp:e,onChange:t}),u=n!==void 0,c=u?n:i;{const p=L.useRef(n!==void 0);L.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=L.useCallback(p=>{var g;if(u){const y=L8(p)?p(n):p;y!==n&&((g=s.current)==null||g.call(s,y))}else a(p)},[u,n,a,s]);return[c,h]}function M8({defaultProp:n,onChange:e}){const[t,r]=L.useState(n),i=L.useRef(t),a=L.useRef(e);return P8(()=>{a.current=e},[e]),L.useEffect(()=>{var s;i.current!==t&&((s=a.current)==null||s.call(a,t),i.current=t)},[t,i]),[t,r,a]}function L8(n){return typeof n=="function"}var k8=L.createContext(void 0);function jm(n){const e=L.useContext(k8);return n||e||"ltr"}var sg="rovingFocusGroup.onEntryFocus",B8={bubbles:!1,cancelable:!0},df="RovingFocusGroup",[Mv,wC,V8]=EC(df),[F8,AC]=Ls(df,[V8]),[U8,j8]=F8(df),TC=L.forwardRef((n,e)=>M.jsx(Mv.Provider,{scope:n.__scopeRovingFocusGroup,children:M.jsx(Mv.Slot,{scope:n.__scopeRovingFocusGroup,children:M.jsx(z8,{...n,ref:e})})}));TC.displayName=df;var z8=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=n,y=L.useRef(null),_=Vt(e,y),E=jm(a),[A,T]=$l({prop:s,defaultProp:u??null,onChange:c,caller:df}),[I,R]=L.useState(!1),D=yo(h),B=wC(t),j=L.useRef(!1),[H,O]=L.useState(0);return L.useEffect(()=>{const b=y.current;if(b)return b.addEventListener(sg,D),()=>b.removeEventListener(sg,D)},[D]),M.jsx(U8,{scope:t,orientation:r,dir:E,loop:i,currentTabStopId:A,onItemFocus:L.useCallback(b=>T(b),[T]),onItemShiftTab:L.useCallback(()=>R(!0),[]),onFocusableItemAdd:L.useCallback(()=>O(b=>b+1),[]),onFocusableItemRemove:L.useCallback(()=>O(b=>b-1),[]),children:M.jsx(st.div,{tabIndex:I||H===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...n.style},onMouseDown:qe(n.onMouseDown,()=>{j.current=!0}),onFocus:qe(n.onFocus,b=>{const N=!j.current;if(b.target===b.currentTarget&&N&&!I){const V=new CustomEvent(sg,B8);if(b.currentTarget.dispatchEvent(V),!V.defaultPrevented){const z=B().filter(K=>K.focusable),G=z.find(K=>K.active),U=z.find(K=>K.id===A),xe=[G,U,...z].filter(Boolean).map(K=>K.ref.current);SC(xe,p)}}j.current=!1}),onBlur:qe(n.onBlur,()=>R(!1))})})}),CC="RovingFocusGroupItem",bC=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:s,...u}=n,c=pa(),h=a||c,p=j8(CC,t),g=p.currentTabStopId===h,y=wC(t),{onFocusableItemAdd:_,onFocusableItemRemove:E,currentTabStopId:A}=p;return L.useEffect(()=>{if(r)return _(),()=>E()},[r,_,E]),M.jsx(Mv.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:M.jsx(st.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:qe(n.onMouseDown,T=>{r?p.onItemFocus(h):T.preventDefault()}),onFocus:qe(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:qe(n.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const I=q8(T,p.orientation,p.dir);if(I!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let D=y().filter(B=>B.focusable).map(B=>B.ref.current);if(I==="last")D.reverse();else if(I==="prev"||I==="next"){I==="prev"&&D.reverse();const B=D.indexOf(T.currentTarget);D=p.loop?X8(D,B+1):D.slice(B+1)}setTimeout(()=>SC(D))}}),children:typeof s=="function"?s({isCurrentTabStop:g,hasTabStop:A!=null}):s})})});bC.displayName=CC;var H8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function q8(n,e,t){const r=G8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H8[r]}function SC(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function X8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var W8=TC,K8=bC;function Y8(n,e){return L.useReducer((t,r)=>e[t][r]??t,n)}var ks=n=>{const{present:e,children:t}=n,r=$8(e),i=typeof t=="function"?t({present:r.isPresent}):L.Children.only(t),a=Vt(r.ref,Q8(i));return typeof t=="function"||r.isPresent?L.cloneElement(i,{ref:a}):null};ks.displayName="Presence";function $8(n){const[e,t]=L.useState(),r=L.useRef(null),i=L.useRef(n),a=L.useRef("none"),s=n?"mounted":"unmounted",[u,c]=Y8(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const h=td(r.current);a.current=u==="mounted"?h:"none"},[u]),Wn(()=>{const h=r.current,p=i.current;if(p!==n){const y=a.current,_=td(h);n?c("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Wn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=_=>{const A=td(r.current).includes(_.animationName);if(_.target===e&&A&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},y=_=>{_.target===e&&(a.current=td(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:L.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function td(n){return(n==null?void 0:n.animationName)||"none"}function Q8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var p0="Tabs",[Z8,fH]=Ls(p0,[AC]),IC=AC(),[J8,zm]=Z8(p0),RC=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:u,activationMode:c="automatic",...h}=n,p=jm(u),[g,y]=$l({prop:r,onChange:i,defaultProp:a??"",caller:p0});return M.jsx(J8,{scope:t,baseId:pa(),value:g,onValueChange:y,orientation:s,dir:p,activationMode:c,children:M.jsx(st.div,{dir:p,"data-orientation":s,...h,ref:e})})});RC.displayName=p0;var OC="TabsList",DC=L.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=zm(OC,t),s=IC(t);return M.jsx(W8,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:M.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});DC.displayName=OC;var NC="TabsTrigger",PC=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,s=zm(NC,t),u=IC(t),c=kC(s.baseId,r),h=BC(s.baseId,r),p=r===s.value;return M.jsx(K8,{asChild:!0,...u,focusable:!i,active:p,children:M.jsx(st.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:qe(n.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?s.onValueChange(r):g.preventDefault()}),onKeyDown:qe(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&s.onValueChange(r)}),onFocus:qe(n.onFocus,()=>{const g=s.activationMode!=="manual";!p&&!i&&g&&s.onValueChange(r)})})})});PC.displayName=NC;var MC="TabsContent",LC=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...s}=n,u=zm(MC,t),c=kC(u.baseId,r),h=BC(u.baseId,r),p=r===u.value,g=L.useRef(p);return L.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),M.jsx(ks,{present:i||p,children:({present:y})=>M.jsx(st.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:h,tabIndex:0,...s,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:y&&a})})});LC.displayName=MC;function kC(n,e){return`${n}-trigger-${e}`}function BC(n,e){return`${n}-content-${e}`}var e6=RC,t6=DC,n6=PC,r6=LC;function VC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=VC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function FC(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=VC(n))&&(r&&(r+=" "),r+=e);return r}const Hm="-",i6=n=>{const e=o6(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{const u=s.split(Hm);return u[0]===""&&u.length!==1&&u.shift(),UC(u,e)||a6(s)},getConflictingClassGroupIds:(s,u)=>{const c=t[s]||[];return u&&r[s]?[...c,...r[s]]:c}}},UC=(n,e)=>{var s;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?UC(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Hm);return(s=e.validators.find(({validator:u})=>u(a)))==null?void 0:s.classGroupId},OE=/^\[(.+)\]$/,a6=n=>{if(OE.test(n)){const e=OE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},o6=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Lv(t[i],r,i,e);return r},Lv=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:DE(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(s6(i)){Lv(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,s])=>{Lv(s,DE(e,a),t,r)})})},DE=(n,e)=>{let t=n;return e.split(Hm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},s6=n=>n.isThemeGetter,l6=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,s)=>{t.set(a,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){t.has(a)?t.set(a,s):i(a,s)}}},kv="!",Bv=":",u6=Bv.length,c6=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let s=0,u=0,c=0,h;for(let E=0;E<i.length;E++){let A=i[E];if(s===0&&u===0){if(A===Bv){a.push(i.slice(c,E)),c=E+u6;continue}if(A==="/"){h=E;continue}}A==="["?s++:A==="]"?s--:A==="("?u++:A===")"&&u--}const p=a.length===0?i:i.substring(c),g=f6(p),y=g!==p,_=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:_}};if(e){const i=e+Bv,a=r;r=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},f6=n=>n.endsWith(kv)?n.substring(0,n.length-1):n.startsWith(kv)?n.substring(1):n,h6=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},d6=n=>({cache:l6(n.cacheSize),parseClassName:c6(n),sortModifiers:h6(n),...i6(n)}),p6=/\s+/,g6=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],u=n.trim().split(p6);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:y,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:A}=t(p);if(g){c=p+(c.length>0?" "+c:c);continue}let T=!!A,I=r(T?E.substring(0,A):E);if(!I){if(!T){c=p+(c.length>0?" "+c:c);continue}if(I=r(E),!I){c=p+(c.length>0?" "+c:c);continue}T=!1}const R=a(y).join(":"),D=_?R+kv:R,B=D+I;if(s.includes(B))continue;s.push(B);const j=i(I,T);for(let H=0;H<j.length;++H){const O=j[H];s.push(D+O)}c=p+(c.length>0?" "+c:c)}return c};function v6(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=jC(e))&&(r&&(r+=" "),r+=t);return r}const jC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=jC(n[r]))&&(t&&(t+=" "),t+=e);return t};function m6(n,...e){let t,r,i,a=s;function s(c){const h=e.reduce((p,g)=>g(p),n());return t=d6(h),r=t.cache.get,i=t.cache.set,a=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=g6(c,t);return i(c,p),p}return function(){return a(v6.apply(null,arguments))}}const ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},zC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y6=/^\d+\/\d+$/,_6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=n=>y6.test(n),We=n=>!!n&&!Number.isNaN(Number(n)),Za=n=>!!n&&Number.isInteger(Number(n)),lg=n=>n.endsWith("%")&&We(n.slice(0,-1)),ua=n=>_6.test(n),T6=()=>!0,C6=n=>x6.test(n)&&!E6.test(n),GC=()=>!1,b6=n=>w6.test(n),S6=n=>A6.test(n),I6=n=>!we(n)&&!Ae(n),R6=n=>lu(n,WC,GC),we=n=>zC.test(n),ps=n=>lu(n,KC,C6),ug=n=>lu(n,M6,We),NE=n=>lu(n,qC,GC),O6=n=>lu(n,XC,S6),nd=n=>lu(n,YC,b6),Ae=n=>HC.test(n),Dc=n=>uu(n,KC),D6=n=>uu(n,L6),PE=n=>uu(n,qC),N6=n=>uu(n,WC),P6=n=>uu(n,XC),rd=n=>uu(n,YC,!0),lu=(n,e,t)=>{const r=zC.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},uu=(n,e,t=!1)=>{const r=HC.exec(n);return r?r[1]?e(r[1]):t:!1},qC=n=>n==="position"||n==="percentage",XC=n=>n==="image"||n==="url",WC=n=>n==="length"||n==="size"||n==="bg-size",KC=n=>n==="length",M6=n=>n==="number",L6=n=>n==="family-name",YC=n=>n==="shadow",k6=()=>{const n=ln("color"),e=ln("font"),t=ln("text"),r=ln("font-weight"),i=ln("tracking"),a=ln("leading"),s=ln("breakpoint"),u=ln("container"),c=ln("spacing"),h=ln("radius"),p=ln("shadow"),g=ln("inset-shadow"),y=ln("text-shadow"),_=ln("drop-shadow"),E=ln("blur"),A=ln("perspective"),T=ln("aspect"),I=ln("ease"),R=ln("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...B(),Ae,we],H=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],b=()=>[Ae,we,c],N=()=>[Dl,"full","auto",...b()],V=()=>[Za,"none","subgrid",Ae,we],z=()=>["auto",{span:["full",Za,Ae,we]},Za,Ae,we],G=()=>[Za,"auto",Ae,we],U=()=>["auto","min","max","fr",Ae,we],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...b()],ae=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],ee=()=>[n,Ae,we],Ce=()=>[...B(),PE,NE,{position:[Ae,we]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",N6,R6,{size:[Ae,we]}],de=()=>[lg,Dc,ps],ce=()=>["","none","full",h,Ae,we],me=()=>["",We,Dc,ps],Me=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[We,lg,PE,NE],Re=()=>["","none",E,Ae,we],ut=()=>["none",We,Ae,we],Ge=()=>["none",We,Ae,we],je=()=>[We,Ae,we],ze=()=>[Dl,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ua],breakpoint:[ua],color:[T6],container:[ua],"drop-shadow":[ua],ease:["in","out","in-out"],font:[I6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ua],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ua],shadow:[ua],spacing:["px",We],text:[ua],"text-shadow":[ua],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,we,Ae,T]}],container:["container"],columns:[{columns:[We,we,Ae,u]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Za,"auto",Ae,we]}],basis:[{basis:[Dl,"full","auto",u,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Dl,"auto","initial","none",we]}],grow:[{grow:["",We,Ae,we]}],shrink:[{shrink:["",We,Ae,we]}],order:[{order:[Za,"first","last","none",Ae,we]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[u,"screen",...ae()]}],"min-w":[{"min-w":[u,"screen","none",...ae()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[s]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",t,Dc,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,ug]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lg,we]}],"font-family":[{font:[D6,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,we]}],"line-clamp":[{"line-clamp":[We,"none",Ae,ug]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Ae,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ae,ps]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[We,"auto",Ae,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Za,Ae,we],radial:["",Ae,we],conic:[Za,Ae,we]},P6,O6]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ae,we]}],"outline-w":[{outline:["",We,Dc,ps]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,rd,nd]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,rd,nd]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[We,ps]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",y,rd,nd]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[We,Ae,we]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ae,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,we]}],filter:[{filter:["","none",Ae,we]}],blur:[{blur:Re()}],brightness:[{brightness:[We,Ae,we]}],contrast:[{contrast:[We,Ae,we]}],"drop-shadow":[{"drop-shadow":["","none",_,rd,nd]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",We,Ae,we]}],"hue-rotate":[{"hue-rotate":[We,Ae,we]}],invert:[{invert:["",We,Ae,we]}],saturate:[{saturate:[We,Ae,we]}],sepia:[{sepia:["",We,Ae,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,we]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ae,we]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ae,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ae,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ae,we]}],"backdrop-invert":[{"backdrop-invert":["",We,Ae,we]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ae,we]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ae,we]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ae,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ae,we]}],ease:[{ease:["linear","initial",I,Ae,we]}],delay:[{delay:[We,Ae,we]}],animate:[{animate:["none",R,Ae,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ae,we]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:ut()}],"rotate-x":[{"rotate-x":ut()}],"rotate-y":[{"rotate-y":ut()}],"rotate-z":[{"rotate-z":ut()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[Ae,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,we]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[We,Dc,ps,ug]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},B6=m6(k6);function At(...n){return B6(FC(n))}function V6({className:n,...e}){return M.jsx(e6,{"data-slot":"tabs",className:At("flex flex-col gap-2",n),...e})}function F6({className:n,...e}){return M.jsx(t6,{"data-slot":"tabs-list",className:At("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function cg({className:n,...e}){return M.jsx(n6,{"data-slot":"tabs-trigger",className:At("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function fg({className:n,...e}){return M.jsx(r6,{"data-slot":"tabs-content",className:At("flex-1 outline-none",n),...e})}const ME=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,LE=FC,U6=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return LE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(h=>{const p=t==null?void 0:t[h],g=a==null?void 0:a[h];if(p===null)return null;const y=ME(p)||ME(g);return i[h][y]}),u=t&&Object.entries(t).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,..._}=p;return Object.entries(_).every(E=>{let[A,T]=E;return Array.isArray(T)?T.includes({...a,...u}[A]):{...a,...u}[A]===T})?[...h,g,y]:h},[]);return LE(n,s,c,t==null?void 0:t.class,t==null?void 0:t.className)},j6=U6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function rr({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?w8:"button";return M.jsx(a,{"data-slot":"button",className:At(j6({variant:e,size:t,className:n})),...i})}function z6({className:n,...e}){return M.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:M.jsx("table",{"data-slot":"table",className:At("w-full caption-bottom text-sm",n),...e})})}function H6({className:n,...e}){return M.jsx("thead",{"data-slot":"table-header",className:At("[&_tr]:border-b",n),...e})}function G6({className:n,...e}){return M.jsx("tbody",{"data-slot":"table-body",className:At("[&_tr:last-child]:border-0",n),...e})}function hg({className:n,...e}){return M.jsx("tr",{"data-slot":"table-row",className:At("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function kE({className:n,...e}){return M.jsx("th",{"data-slot":"table-head",className:At("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function dg({className:n,...e}){return M.jsx("td",{"data-slot":"table-cell",className:At("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const q6=()=>{};var BE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},X6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},QC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;c||(_=64,s||(y=64)),r.push(t[p],t[g],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($C(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):X6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new W6;const y=a<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K6=function(n){const e=$C(n);return QC.encodeByteArray(e,!0)},Bd=function(n){return K6(n).replace(/\./g,"")},ZC=function(n){try{return QC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=()=>Y6().__FIREBASE_DEFAULTS__,Q6=()=>{if(typeof process>"u"||typeof BE>"u")return;const n=BE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Z6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ZC(n[1]);return e&&JSON.parse(e)},g0=()=>{try{return q6()||$6()||Q6()||Z6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JC=n=>{var e,t;return(t=(e=g0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},J6=n=>{const e=JC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},eb=()=>{var n;return(n=g0())===null||n===void 0?void 0:n.config},tb=n=>{var e;return(e=g0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return n.endsWith(".cloudworkstations.dev")}async function nb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bd(JSON.stringify(t)),Bd(JSON.stringify(s)),""].join(".")}const Xc={};function nO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xc))Xc[e]?n.emulator.push(e):n.prod.push(e);return n}function rO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let VE=!1;function rb(n,e){if(typeof window>"u"||typeof document>"u"||!pf(window.location.host)||Xc[n]===e||Xc[n]||VE)return;Xc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=nO().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{VE=!0,s()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=rO(r),_=t("text"),E=document.getElementById(_)||document.createElement("span"),A=t("learnmore"),T=document.getElementById(A)||document.createElement("a"),I=t("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;u(D),p(T,A);const B=h();c(R,I),D.append(R,E,T,B),document.body.appendChild(D)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function aO(){var n;const e=(n=g0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uO(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cO(){return!aO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fO(){try{return typeof indexedDB=="object"}catch{return!1}}function hO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="FirebaseError";class Aa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dO,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?pO(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Aa(i,u,r)}}function pO(n,e){return n.replace(gO,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gO=/\{\$([^}]+)}/g;function vO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(FE(a)&&FE(s)){if(!Cs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mO(n,e){const t=new yO(n,e);return t.subscribe.bind(t)}class yO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=pg),i.error===void 0&&(i.error=pg),i.complete===void 0&&(i.complete=pg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xO=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EO(n){return n===ys?void 0:n}function wO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const TO={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},CO=et.INFO,bO={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},SO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=bO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=SO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const IO=(n,e)=>e.some(t=>n instanceof t);let UE,jE;function RO(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OO(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,Vv=new WeakMap,ab=new WeakMap,gg=new WeakMap,qm=new WeakMap;function DO(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(uo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ib.set(t,n)}).catch(()=>{}),qm.set(e,n),e}function NO(n){if(Vv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});Vv.set(n,e)}let Fv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ab.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function PO(n){Fv=n(Fv)}function MO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(vg(this),e,...t);return ab.set(r,e.sort?e.sort():[e]),uo(r)}:OO().includes(n)?function(...e){return n.apply(vg(this),e),uo(ib.get(this))}:function(...e){return uo(n.apply(vg(this),e))}}function LO(n){return typeof n=="function"?MO(n):(n instanceof IDBTransaction&&NO(n),IO(n,RO())?new Proxy(n,Fv):n)}function uo(n){if(n instanceof IDBRequest)return DO(n);if(gg.has(n))return gg.get(n);const e=LO(n);return e!==n&&(gg.set(n,e),qm.set(e,n)),e}const vg=n=>qm.get(n);function kO(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=uo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(uo(s.result),c.oldVersion,c.newVersion,uo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const BO=["get","getKey","getAll","getAllKeys","count"],VO=["put","add","delete","clear"],mg=new Map;function zE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=VO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BO.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return mg.set(e,a),a}PO(n=>({...n,get:(e,t,r)=>zE(e,t)||n.get(e,t,r),has:(e,t)=>!!zE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function UO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uv="@firebase/app",HE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Gm("@firebase/app"),jO="@firebase/app-compat",zO="@firebase/analytics-compat",HO="@firebase/analytics",GO="@firebase/app-check-compat",qO="@firebase/app-check",XO="@firebase/auth",WO="@firebase/auth-compat",KO="@firebase/database",YO="@firebase/data-connect",$O="@firebase/database-compat",QO="@firebase/functions",ZO="@firebase/functions-compat",JO="@firebase/installations",eD="@firebase/installations-compat",tD="@firebase/messaging",nD="@firebase/messaging-compat",rD="@firebase/performance",iD="@firebase/performance-compat",aD="@firebase/remote-config",oD="@firebase/remote-config-compat",sD="@firebase/storage",lD="@firebase/storage-compat",uD="@firebase/firestore",cD="@firebase/ai",fD="@firebase/firestore-compat",hD="firebase",dD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",pD={[Uv]:"fire-core",[jO]:"fire-core-compat",[HO]:"fire-analytics",[zO]:"fire-analytics-compat",[qO]:"fire-app-check",[GO]:"fire-app-check-compat",[XO]:"fire-auth",[WO]:"fire-auth-compat",[KO]:"fire-rtdb",[YO]:"fire-data-connect",[$O]:"fire-rtdb-compat",[QO]:"fire-fn",[ZO]:"fire-fn-compat",[JO]:"fire-iid",[eD]:"fire-iid-compat",[tD]:"fire-fcm",[nD]:"fire-fcm-compat",[rD]:"fire-perf",[iD]:"fire-perf-compat",[aD]:"fire-rc",[oD]:"fire-rc-compat",[sD]:"fire-gcs",[lD]:"fire-gcs-compat",[uD]:"fire-fst",[fD]:"fire-fst-compat",[cD]:"fire-vertex","fire-js":"fire-js",[hD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,gD=new Map,zv=new Map;function GE(n,e){try{n.container.addComponent(e)}catch(t){va.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ql(n){const e=n.name;if(zv.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;zv.set(e,n);for(const t of Vd.values())GE(t,n);for(const t of gD.values())GE(t,n);return!0}function Xm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new gf("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=dD;function ob(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(t||(t=eb()),!t)throw co.create("no-options");const a=Vd.get(i);if(a){if(Cs(t,a.options)&&Cs(r,a.config))return a;throw co.create("duplicate-app",{appName:i})}const s=new AO(i);for(const c of zv.values())s.addComponent(c);const u=new mD(t,r,s);return Vd.set(i,u),u}function sb(n=jv){const e=Vd.get(n);if(!e&&n===jv&&eb())return ob();if(!e)throw co.create("no-app",{appName:n});return e}function fo(n,e,t){var r;let i=(r=pD[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(u.join(" "));return}Ql(new bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firebase-heartbeat-database",_D=1,Jc="firebase-heartbeat-store";let yg=null;function lb(){return yg||(yg=kO(yD,_D,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),yg}async function xD(n){try{const t=(await lb()).transaction(Jc),r=await t.objectStore(Jc).get(ub(n));return await t.done,r}catch(e){if(e instanceof Aa)va.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});va.warn(t.message)}}}async function qE(n,e){try{const r=(await lb()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,ub(n)),await r.done}catch(t){if(t instanceof Aa)va.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});va.warn(r.message)}}}function ub(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1024,wD=30;class AD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=XE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wD){const s=bD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){va.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=XE(),{heartbeatsToSend:r,unsentEntries:i}=TD(this._heartbeatsCache.heartbeats),a=Bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return va.warn(t),""}}}function XE(){return new Date().toISOString().substring(0,10)}function TD(n,e=ED){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),WE(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),WE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fO()?hO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WE(n){return Bd(JSON.stringify({version:2,heartbeats:n})).length}function bD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n){Ql(new bs("platform-logger",e=>new FO(e),"PRIVATE")),Ql(new bs("heartbeat",e=>new AD(e),"PRIVATE")),fo(Uv,HE,n),fo(Uv,HE,"esm2017"),fo("fire-js","")}SD("");var bi=function(){return bi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bi.apply(this,arguments)};function mf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ID(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=cb,fb=new gf("auth","Firebase",cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Gm("@firebase/auth");function OD(n,...e){Fd.logLevel<=et.WARN&&Fd.warn(`Auth (${cu}): ${n}`,...e)}function Ed(n,...e){Fd.logLevel<=et.ERROR&&Fd.error(`Auth (${cu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw Km(n,...e)}function ri(n,...e){return Km(n,...e)}function Wm(n,e,t){const r=Object.assign(Object.assign({},RD()),{[e]:t});return new gf("auth","Firebase",r).create(e,{appName:n.name})}function ga(n){return Wm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(n,"argument-error"),Wm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fb.create(n,...e)}function ke(n,e,...t){if(!n)throw Km(e,...t)}function ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ed(e),new Error(e)}function ma(n,e){n||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ND(){return KE()==="http:"||KE()==="https:"}function KE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ND()||sO()||"connection"in navigator)?navigator.onLine:!0}function MD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ma(t>e,"Short delay should be less than long delay!"),this.isMobile=iO()||lO()}get(){return PD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n,e){ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BD=new yf(3e4,6e4);function So(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Io(n,e,t,r,i={}){return db(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=vf(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return oO()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&pf(n.emulatorConfig.host)&&(h.credentials="include"),hb.fetch()(await pb(n,n.config.apiHost,t,u),h)})}async function db(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},LD),e);try{const i=new FD(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw id(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw id(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw id(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Wm(n,p,h);Hr(n,p)}}catch(i){if(i instanceof Aa)throw i;Hr(n,"network-request-failed",{message:String(i)})}}async function _f(n,e,t,r,i={}){const a=await Io(n,e,t,r,i);return"mfaPendingCredential"in a&&Hr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function pb(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?Ym(n.config,i):`${n.config.apiScheme}://${i}`;return kD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function VD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),BD.get())})}}function id(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ri(n,e,r);return i.customData._tokenResponse=t,i}function YE(n){return n!==void 0&&n.enterprise!==void 0}class UD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jD(n,e){return Io(n,"GET","/v2/recaptchaConfig",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e){return Io(n,"POST","/v1/accounts:delete",e)}async function Ud(n,e){return Io(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HD(n,e=!1){const t=tn(n),r=await t.getIdToken(e),i=$m(r);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Wc(_g(i.auth_time)),issuedAtTime:Wc(_g(i.iat)),expirationTime:Wc(_g(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _g(n){return Number(n)*1e3}function $m(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZC(t);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $E(n){const e=$m(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Aa&&GD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ef(n,Ud(t,{idToken:r}));ke(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gb(a.providerUserInfo):[],u=WD(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function XD(n){const e=tn(n);await jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gb(n){return n.map(e=>{var{providerId:t}=e,r=mf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(n,e){const t=await db(n,{},async()=>{const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await pb(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",hb.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YD(n,e){return Io(n,"POST","/v2/accounts:revokeToken",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=$E(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await KD(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Hl;return r&&(ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ef(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HD(this,e)}reload(){return XD(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(ga(this.auth));const e=await this.getIdToken();return await ef(this,zD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,R=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:B,isAnonymous:j,providerData:H,stsTokenManager:O}=t;ke(D&&O,e,"internal-error");const b=Hl.fromJSON(this.name,O);ke(typeof D=="string",e,"internal-error"),Ja(g,e.name),Ja(y,e.name),ke(typeof B=="boolean",e,"internal-error"),ke(typeof j=="boolean",e,"internal-error"),Ja(_,e.name),Ja(E,e.name),Ja(A,e.name),Ja(T,e.name),Ja(I,e.name),Ja(R,e.name);const N=new ni({uid:D,auth:e,email:y,emailVerified:B,displayName:g,isAnonymous:j,photoURL:E,phoneNumber:_,tenantId:A,stsTokenManager:b,createdAt:I,lastLoginAt:R});return H&&Array.isArray(H)&&(N.providerData=H.map(V=>Object.assign({},V))),T&&(N._redirectEventId=T),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new Hl;i.updateFromServerResponse(t);const a=new ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?gb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Hl;u.updateFromIdToken(r);const c=new ni({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function da(n){ma(n instanceof Function,"Expected a class definition");let e=QE.get(n);return e?(ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vb.type="NONE";const ZE=vb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n,e,t){return`firebase:${n}:${e}:${t}`}class Gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=wd(this.userKey,i.apiKey,a),this.fullPersistenceKey=wd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ud(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Gl(da(ZE),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||da(ZE);const s=wd(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let g;if(typeof p=="string"){const y=await Ud(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ni._fromGetAccountInfoResponse(e,y,p)}else g=ni._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Gl(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new Gl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Ab(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mb(n=Kn()){return/firefox\//i.test(n)}function yb(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(n=Kn()){return/crios\//i.test(n)}function xb(n=Kn()){return/iemobile/i.test(n)}function Eb(n=Kn()){return/android/i.test(n)}function wb(n=Kn()){return/blackberry/i.test(n)}function Ab(n=Kn()){return/webos/i.test(n)}function Qm(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $D(n=Kn()){var e;return Qm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QD(){return uO()&&document.documentMode===10}function Tb(n=Kn()){return Qm(n)||Eb(n)||Ab(n)||wb(n)||/windows phone/i.test(n)||xb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n,e=[]){let t;switch(n){case"Browser":t=JE(Kn());break;case"Worker":t=`${JE(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e={}){return Io(n,"GET","/v2/passwordPolicy",So(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:eN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new ZD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=da(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ud(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(ga(this));const t=e?tn(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JD(this),t=new tN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await YD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&da(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&OD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ro(n){return tn(n)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=mO(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(n){v0=n}function bb(n){return v0.loadJS(n)}function iN(){return v0.recaptchaEnterpriseScript}function aN(){return v0.gapiScript}function oN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sN{constructor(){this.enterprise=new lN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uN="recaptcha-enterprise",Sb="NO_RECAPTCHA";class cN{constructor(e){this.type=uN,this.auth=Ro(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{jD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new UD(c);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,s(h.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;YE(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(h=>{s(h)}).catch(()=>{s(Sb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sN().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!t&&YE(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iN();c.length!==0&&(c+=u),bb(c).then(()=>{i(u,a,s)}).catch(h=>{s(h)})}}).catch(u=>{s(u)})})}}async function tw(n,e,t,r=!1,i=!1){const a=new cN(n);let s;if(i)s=Sb;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function qv(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await tw(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await tw(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,e){const t=Xm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Cs(a,e??{}))return i;Hr(i,"already-initialized")}return t.initialize({options:e})}function hN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(da);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dN(n,e,t){const r=Ro(n);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Ib(e),{host:s,port:u}=pN(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(Cs(h,r.config.emulator)&&Cs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,pf(s)?(nb(`${a}//${s}${c}`),rb("Auth",!0)):gN()}function Ib(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pN(n){const e=Ib(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:nw(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:nw(s)}}}function nw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function vN(n,e){return Io(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e){return _f(n,"POST","/v1/accounts:signInWithPassword",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e){return _f(n,"POST","/v1/accounts:signInWithEmailLink",So(n,e))}async function _N(n,e){return _f(n,"POST","/v1/accounts:signInWithEmailLink",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends Zm{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,t,"signInWithPassword",mN);case"emailLink":return yN(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qv(e,r,"signUpPassword",vN);case"emailLink":return _N(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e){return _f(n,"POST","/v1/accounts:signInWithIdp",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="http://localhost";class Ss extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=mf(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ss(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return ql(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ql(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ql(e,t)}buildRequest(){const e={requestUri:xN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(n){const e=Lc(kc(n)).link,t=e?Lc(kc(e)).deep_link_id:null,r=Lc(kc(n)).deep_link_id;return(r?Lc(kc(r)).link:null)||r||t||e||n}class Jm{constructor(e){var t,r,i,a,s,u;const c=Lc(kc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=EN((i=c.mode)!==null&&i!==void 0?i:null);ke(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=wN(e);try{return new Jm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,t){return tf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Jm.parseLink(t);return ke(r,"argument-error"),tf._fromEmailAndCode(e,r.code,r.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends xf{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ss._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fa.credential(t,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends xf{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends xf{constructor(){super("twitter.com")}static credential(e,t){return Ss._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return so.credential(t,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(n,e){return _f(n,"POST","/v1/accounts:signUp",So(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ni._fromIdTokenResponse(e,r,i),s=rw(r);return new Is({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=rw(r);return new Is({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function rw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Aa{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zd(e,t,r,i)}}function Rb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(n,a,e,r):a})}async function TN(n,e,t=!1){const r=await ef(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Is._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e,t=!1){const{auth:r}=n;if(Tr(r.app))return Promise.reject(ga(r));const i="reauthenticate";try{const a=await ef(n,Rb(r,i,e,n),t);ke(a.idToken,r,"internal-error");const s=$m(a.idToken);ke(s,r,"internal-error");const{sub:u}=s;return ke(n.uid===u,r,"user-mismatch"),Is._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(n,e,t=!1){if(Tr(n.app))return Promise.reject(ga(n));const r="signIn",i=await Rb(n,r,e),a=await Is._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function bN(n,e){return Ob(Ro(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(n){const e=Ro(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SN(n,e,t){if(Tr(n.app))return Promise.reject(ga(n));const r=Ro(n),s=await qv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AN).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Db(n),c}),u=await Is._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function IN(n,e,t){return Tr(n.app)?Promise.reject(ga(n)):bN(tn(n),fu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Db(n),r})}function RN(n,e,t,r){return tn(n).onIdTokenChanged(e,t,r)}function ON(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function DN(n,e,t,r){return tn(n).onAuthStateChanged(e,t,r)}function iw(n){return tn(n).signOut()}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3,PN=10;class Pb extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);QD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,PN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pb.type="LOCAL";const MN=Pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mb.type="SESSION";const Lb=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new m0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await LN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=ty("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function BN(n){Ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function VN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UN(){return kb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebaseLocalStorageDb",jN=1,Gd="firebaseLocalStorage",Vb="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function y0(n,e){return n.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function zN(){const n=indexedDB.deleteDatabase(Bb);return new Ef(n).toPromise()}function Xv(){const n=indexedDB.open(Bb,jN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gd,{keyPath:Vb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),await zN(),e(await Xv()))})})}async function aw(n,e,t){const r=y0(n,!0).put({[Vb]:e,value:t});return new Ef(r).toPromise()}async function HN(n,e){const t=y0(n,!1).get(e),r=await new Ef(t).toPromise();return r===void 0?null:r.value}function ow(n,e){const t=y0(n,!0).delete(e);return new Ef(t).toPromise()}const GN=800,qN=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m0._getInstance(UN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await VN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await aw(e,Hd,"1"),await ow(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>HN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ow(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=y0(i,!1).getAll();return new Ef(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const XN=Fb;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n,e){return e?da(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WN(n){return Ob(n.auth,new ny(n),n.bypassAuthState)}function KN(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),CN(t,new ny(n),n.bypassAuthState)}async function YN(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),TN(t,new ny(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:Hr(this.auth,"internal-error")}}resolve(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new yf(2e3,1e4);async function QN(n,e,t){if(Tr(n.app))return Promise.reject(ri(n,"operation-not-supported-in-this-environment"));const r=Ro(n);DD(n,e,ey);const i=Ub(r,t);return new Es(r,"signInViaPopup",e,i).executeNotNull()}class Es extends jb{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ma(this.filter.length===1,"Popup operations only handle one event");const e=ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",Ad=new Map;class JN extends jb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const r=await e5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e5(n,e){const t=r5(e),r=n5(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function t5(n,e){Ad.set(n._key(),e)}function n5(n){return da(n._redirectPersistence)}function r5(n){return wd(ZN,n.config.apiKey,n.name)}async function i5(n,e,t=!1){if(Tr(n.app))return Promise.reject(ga(n));const r=Ro(n),i=Ub(r,e),s=await new JN(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=10*60*1e3;class o5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sw(e))}saveEventToCache(e){this.cachedEventUids.add(sw(e)),this.lastProcessedEventTime=Date.now()}}function sw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e={}){return Io(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c5=/^https?/;async function f5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await l5(n);for(const t of e)try{if(h5(t))return}catch{}Hr(n,"unauthorized-domain")}function h5(n){const e=Hv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!c5.test(t))return!1;if(u5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new yf(3e4,6e4);function lw(){const n=Ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function p5(n){return new Promise((e,t)=>{var r,i,a;function s(){lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lw(),t(ri(n,"network-request-failed"))},timeout:d5.get()})}if(!((i=(r=Ri().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ri().gapi)===null||a===void 0)&&a.load)s();else{const u=oN("iframefcb");return Ri()[u]=()=>{gapi.load?s():t(ri(n,"network-request-failed"))},bb(`${aN()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Td=null,e})}let Td=null;function g5(n){return Td=Td||p5(n),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=new yf(5e3,15e3),m5="__/auth/iframe",y5="emulator/auth/iframe",_5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E5(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ym(e,y5):`https://${n.config.authDomain}/${m5}`,r={apiKey:e.apiKey,appName:n.name,v:cu},i=x5.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${vf(r).slice(1)}`}async function w5(n){const e=await g5(n),t=Ri().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:E5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_5,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ri(n,"network-request-failed"),u=Ri().setTimeout(()=>{a(s)},v5.get());function c(){Ri().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T5=500,C5=600,b5="_blank",S5="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I5(n,e,t,r=T5,i=C5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},A5),{width:r.toString(),height:i.toString(),top:a,left:s}),h=Kn().toLowerCase();t&&(u=_b(h)?b5:t),mb(h)&&(e=e||S5,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if($D(h)&&u!=="_self")return R5(e||"",u),new uw(null);const g=window.open(e||"",u,p);ke(g,n,"popup-blocked");try{g.focus()}catch{}return new uw(g)}function R5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="__/auth/handler",D5="emulator/auth/handler",N5=encodeURIComponent("fac");async function cw(n,e,t,r,i,a){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:cu,eventId:i};if(e instanceof ey){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",vO(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))s[p]=g}if(e instanceof xf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${N5}=${encodeURIComponent(c)}`:"";return`${P5(n)}?${vf(u).slice(1)}${h}`}function P5({config:n}){return n.emulator?Ym(n,D5):`https://${n.authDomain}/${O5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class M5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lb,this._completeRedirectFn=i5,this._overrideRedirectResult=t5}async _openPopup(e,t,r,i){var a;ma((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await cw(e,t,r,Hv(),i);return I5(e,s,ty())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await cw(e,t,r,Hv(),i);return BN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ma(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await w5(e),r=new o5(e);return t.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xg,{type:xg},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[xg];s!==void 0&&t(!!s),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tb()||yb()||Qm()}}const L5=M5;var fw="@firebase/auth",hw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V5(n){Ql(new bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(n)},h=new nN(r,i,a,c);return hN(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ql(new bs("auth-internal",e=>{const t=Ro(e.getProvider("auth").getImmediate());return(r=>new k5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(fw,hw,B5(n)),fo(fw,hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=5*60,U5=tb("authIdTokenMaxAge")||F5;let dw=null;const j5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>U5)return;const i=t==null?void 0:t.token;dw!==i&&(dw=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z5(n=sb()){const e=Xm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fN(n,{popupRedirectResolver:L5,persistence:[XN,MN,Lb]}),r=tb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=j5(a.toString());ON(t,s,()=>s(t.currentUser)),RN(t,u=>s(u))}}const i=JC("auth");return i&&dN(t,`http://${i}`),t}function H5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ri("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",H5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V5("Browser");var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,Hb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function N(){}N.prototype=b.prototype,O.D=b.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(V,z,G){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return b.prototype[z].apply(V,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,b,N){N||(N=0);var V=Array(16);if(typeof b=="string")for(var z=0;16>z;++z)V[z]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(z=0;16>z;++z)V[z]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=O.g[0],N=O.g[1],z=O.g[2];var G=O.g[3],U=b+(G^N&(z^G))+V[0]+3614090360&4294967295;b=N+(U<<7&4294967295|U>>>25),U=G+(z^b&(N^z))+V[1]+3905402710&4294967295,G=b+(U<<12&4294967295|U>>>20),U=z+(N^G&(b^N))+V[2]+606105819&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(b^z&(G^b))+V[3]+3250441966&4294967295,N=z+(U<<22&4294967295|U>>>10),U=b+(G^N&(z^G))+V[4]+4118548399&4294967295,b=N+(U<<7&4294967295|U>>>25),U=G+(z^b&(N^z))+V[5]+1200080426&4294967295,G=b+(U<<12&4294967295|U>>>20),U=z+(N^G&(b^N))+V[6]+2821735955&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(b^z&(G^b))+V[7]+4249261313&4294967295,N=z+(U<<22&4294967295|U>>>10),U=b+(G^N&(z^G))+V[8]+1770035416&4294967295,b=N+(U<<7&4294967295|U>>>25),U=G+(z^b&(N^z))+V[9]+2336552879&4294967295,G=b+(U<<12&4294967295|U>>>20),U=z+(N^G&(b^N))+V[10]+4294925233&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(b^z&(G^b))+V[11]+2304563134&4294967295,N=z+(U<<22&4294967295|U>>>10),U=b+(G^N&(z^G))+V[12]+1804603682&4294967295,b=N+(U<<7&4294967295|U>>>25),U=G+(z^b&(N^z))+V[13]+4254626195&4294967295,G=b+(U<<12&4294967295|U>>>20),U=z+(N^G&(b^N))+V[14]+2792965006&4294967295,z=G+(U<<17&4294967295|U>>>15),U=N+(b^z&(G^b))+V[15]+1236535329&4294967295,N=z+(U<<22&4294967295|U>>>10),U=b+(z^G&(N^z))+V[1]+4129170786&4294967295,b=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(b^N))+V[6]+3225465664&4294967295,G=b+(U<<9&4294967295|U>>>23),U=z+(b^N&(G^b))+V[11]+643717713&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^b&(z^G))+V[0]+3921069994&4294967295,N=z+(U<<20&4294967295|U>>>12),U=b+(z^G&(N^z))+V[5]+3593408605&4294967295,b=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(b^N))+V[10]+38016083&4294967295,G=b+(U<<9&4294967295|U>>>23),U=z+(b^N&(G^b))+V[15]+3634488961&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^b&(z^G))+V[4]+3889429448&4294967295,N=z+(U<<20&4294967295|U>>>12),U=b+(z^G&(N^z))+V[9]+568446438&4294967295,b=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(b^N))+V[14]+3275163606&4294967295,G=b+(U<<9&4294967295|U>>>23),U=z+(b^N&(G^b))+V[3]+4107603335&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^b&(z^G))+V[8]+1163531501&4294967295,N=z+(U<<20&4294967295|U>>>12),U=b+(z^G&(N^z))+V[13]+2850285829&4294967295,b=N+(U<<5&4294967295|U>>>27),U=G+(N^z&(b^N))+V[2]+4243563512&4294967295,G=b+(U<<9&4294967295|U>>>23),U=z+(b^N&(G^b))+V[7]+1735328473&4294967295,z=G+(U<<14&4294967295|U>>>18),U=N+(G^b&(z^G))+V[12]+2368359562&4294967295,N=z+(U<<20&4294967295|U>>>12),U=b+(N^z^G)+V[5]+4294588738&4294967295,b=N+(U<<4&4294967295|U>>>28),U=G+(b^N^z)+V[8]+2272392833&4294967295,G=b+(U<<11&4294967295|U>>>21),U=z+(G^b^N)+V[11]+1839030562&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^b)+V[14]+4259657740&4294967295,N=z+(U<<23&4294967295|U>>>9),U=b+(N^z^G)+V[1]+2763975236&4294967295,b=N+(U<<4&4294967295|U>>>28),U=G+(b^N^z)+V[4]+1272893353&4294967295,G=b+(U<<11&4294967295|U>>>21),U=z+(G^b^N)+V[7]+4139469664&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^b)+V[10]+3200236656&4294967295,N=z+(U<<23&4294967295|U>>>9),U=b+(N^z^G)+V[13]+681279174&4294967295,b=N+(U<<4&4294967295|U>>>28),U=G+(b^N^z)+V[0]+3936430074&4294967295,G=b+(U<<11&4294967295|U>>>21),U=z+(G^b^N)+V[3]+3572445317&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^b)+V[6]+76029189&4294967295,N=z+(U<<23&4294967295|U>>>9),U=b+(N^z^G)+V[9]+3654602809&4294967295,b=N+(U<<4&4294967295|U>>>28),U=G+(b^N^z)+V[12]+3873151461&4294967295,G=b+(U<<11&4294967295|U>>>21),U=z+(G^b^N)+V[15]+530742520&4294967295,z=G+(U<<16&4294967295|U>>>16),U=N+(z^G^b)+V[2]+3299628645&4294967295,N=z+(U<<23&4294967295|U>>>9),U=b+(z^(N|~G))+V[0]+4096336452&4294967295,b=N+(U<<6&4294967295|U>>>26),U=G+(N^(b|~z))+V[7]+1126891415&4294967295,G=b+(U<<10&4294967295|U>>>22),U=z+(b^(G|~N))+V[14]+2878612391&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~b))+V[5]+4237533241&4294967295,N=z+(U<<21&4294967295|U>>>11),U=b+(z^(N|~G))+V[12]+1700485571&4294967295,b=N+(U<<6&4294967295|U>>>26),U=G+(N^(b|~z))+V[3]+2399980690&4294967295,G=b+(U<<10&4294967295|U>>>22),U=z+(b^(G|~N))+V[10]+4293915773&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~b))+V[1]+2240044497&4294967295,N=z+(U<<21&4294967295|U>>>11),U=b+(z^(N|~G))+V[8]+1873313359&4294967295,b=N+(U<<6&4294967295|U>>>26),U=G+(N^(b|~z))+V[15]+4264355552&4294967295,G=b+(U<<10&4294967295|U>>>22),U=z+(b^(G|~N))+V[6]+2734768916&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~b))+V[13]+1309151649&4294967295,N=z+(U<<21&4294967295|U>>>11),U=b+(z^(N|~G))+V[4]+4149444226&4294967295,b=N+(U<<6&4294967295|U>>>26),U=G+(N^(b|~z))+V[11]+3174756917&4294967295,G=b+(U<<10&4294967295|U>>>22),U=z+(b^(G|~N))+V[2]+718787259&4294967295,z=G+(U<<15&4294967295|U>>>17),U=N+(G^(z|~b))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+G&4294967295}r.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var N=b-this.blockSize,V=this.B,z=this.h,G=0;G<b;){if(z==0)for(;G<=N;)i(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<b;)if(V[z++]=O.charCodeAt(G++),z==this.blockSize){i(this,V),z=0;break}}else for(;G<b;)if(V[z++]=O[G++],z==this.blockSize){i(this,V),z=0;break}}this.h=z,this.o+=b},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var N=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=N&255,N/=256;for(this.u(O),O=Array(16),b=N=0;4>b;++b)for(var V=0;32>V;V+=8)O[N++]=this.g[b]>>>V&255;return O};function a(O,b){var N=u;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=b(O)}function s(O,b){this.h=b;for(var N=[],V=!0,z=O.length-1;0<=z;z--){var G=O[z]|0;V&&G==b||(N[z]=G,V=!1)}this.g=N}var u={};function c(O){return-128<=O&&128>O?a(O,function(b){return new s([b|0],0>b?-1:0)}):new s([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return T(h(-O));for(var b=[],N=1,V=0;O>=N;V++)b[V]=O/N|0,N*=4294967296;return new s(b,0)}function p(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return T(p(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=h(Math.pow(b,8)),V=g,z=0;z<O.length;z+=8){var G=Math.min(8,O.length-z),U=parseInt(O.substring(z,z+G),b);8>G?(G=h(Math.pow(b,G)),V=V.j(G).add(h(U))):(V=V.j(N),V=V.add(h(U)))}return V}var g=c(0),y=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-T(this).m();for(var O=0,b=1,N=0;N<this.g.length;N++){var V=this.i(N);O+=(0<=V?V:4294967296+V)*b,b*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(A(this))return"-"+T(this).toString(O);for(var b=h(Math.pow(O,6)),N=this,V="";;){var z=B(N,b).g;N=I(N,z.j(b));var G=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=z,E(N))return G+V;for(;6>G.length;)G="0"+G;V=G+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=I(this,O),A(O)?-1:E(O)?0:1};function T(O){for(var b=O.g.length,N=[],V=0;V<b;V++)N[V]=~O.g[V];return new s(N,~O.h).add(y)}n.abs=function(){return A(this)?T(this):this},n.add=function(O){for(var b=Math.max(this.g.length,O.g.length),N=[],V=0,z=0;z<=b;z++){var G=V+(this.i(z)&65535)+(O.i(z)&65535),U=(G>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);V=U>>>16,G&=65535,U&=65535,N[z]=U<<16|G}return new s(N,N[N.length-1]&-2147483648?-1:0)};function I(O,b){return O.add(T(b))}n.j=function(O){if(E(this)||E(O))return g;if(A(this))return A(O)?T(this).j(T(O)):T(T(this).j(O));if(A(O))return T(this.j(T(O)));if(0>this.l(_)&&0>O.l(_))return h(this.m()*O.m());for(var b=this.g.length+O.g.length,N=[],V=0;V<2*b;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<O.g.length;z++){var G=this.i(V)>>>16,U=this.i(V)&65535,ye=O.i(z)>>>16,xe=O.i(z)&65535;N[2*V+2*z]+=U*xe,R(N,2*V+2*z),N[2*V+2*z+1]+=G*xe,R(N,2*V+2*z+1),N[2*V+2*z+1]+=U*ye,R(N,2*V+2*z+1),N[2*V+2*z+2]+=G*ye,R(N,2*V+2*z+2)}for(V=0;V<b;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=b;V<2*b;V++)N[V]=0;return new s(N,0)};function R(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function D(O,b){this.g=O,this.h=b}function B(O,b){if(E(b))throw Error("division by zero");if(E(O))return new D(g,g);if(A(O))return b=B(T(O),b),new D(T(b.g),T(b.h));if(A(b))return b=B(O,T(b)),new D(T(b.g),b.h);if(30<O.g.length){if(A(O)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var N=y,V=b;0>=V.l(O);)N=j(N),V=j(V);var z=H(N,1),G=H(V,1);for(V=H(V,2),N=H(N,2);!E(V);){var U=G.add(V);0>=U.l(O)&&(z=z.add(N),G=U),V=H(V,1),N=H(N,1)}return b=I(O,z.j(b)),new D(z,b)}for(z=g;0<=O.l(b);){for(N=Math.max(1,Math.floor(O.m()/b.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),G=h(N),U=G.j(b);A(U)||0<U.l(O);)N-=V,G=h(N),U=G.j(b);E(G)&&(G=y),z=z.add(G),O=I(O,U)}return new D(z,O)}n.A=function(O){return B(this,O).h},n.and=function(O){for(var b=Math.max(this.g.length,O.g.length),N=[],V=0;V<b;V++)N[V]=this.i(V)&O.i(V);return new s(N,this.h&O.h)},n.or=function(O){for(var b=Math.max(this.g.length,O.g.length),N=[],V=0;V<b;V++)N[V]=this.i(V)|O.i(V);return new s(N,this.h|O.h)},n.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),N=[],V=0;V<b;V++)N[V]=this.i(V)^O.i(V);return new s(N,this.h^O.h)};function j(O){for(var b=O.g.length+1,N=[],V=0;V<b;V++)N[V]=O.i(V)<<1|O.i(V-1)>>>31;return new s(N,O.h)}function H(O,b){var N=b>>5;b%=32;for(var V=O.g.length-N,z=[],G=0;G<V;G++)z[G]=0<b?O.i(G+N)>>>b|O.i(G+N+1)<<32-b:O.i(G+N);return new s(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hb=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,ho=s}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gb,Bc,qb,Cd,Wv,Xb,Wb,Kb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,w,C){return v==Array.prototype||v==Object.prototype||(v[w]=C.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var w=0;w<v.length;++w){var C=v[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=t(this);function i(v,w){if(w)e:{var C=r;v=v.split(".");for(var k=0;k<v.length-1;k++){var $=v[k];if(!($ in C))break e;C=C[$]}v=v[v.length-1],k=C[v],w=w(k),w!=k&&w!=null&&e(C,v,{configurable:!0,writable:!0,value:w})}}function a(v,w){v instanceof String&&(v+="");var C=0,k=!1,$={next:function(){if(!k&&C<v.length){var re=C++;return{value:w(re,v[re]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(v){return v||function(){return a(this,function(w,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(v){var w=typeof v;return w=w!="object"?w:v?Array.isArray(v)?"array":w:"null",w=="array"||w=="object"&&typeof v.length=="number"}function h(v){var w=typeof v;return w=="object"&&v!=null||w=="function"}function p(v,w,C){return v.call.apply(v.bind,arguments)}function g(v,w,C){if(!v)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),v.apply(w,$)}}return function(){return v.apply(w,arguments)}}function y(v,w,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function _(v,w){var C=Array.prototype.slice.call(arguments,1);return function(){var k=C.slice();return k.push.apply(k,arguments),v.apply(this,k)}}function E(v,w){function C(){}C.prototype=w.prototype,v.aa=w.prototype,v.prototype=new C,v.prototype.constructor=v,v.Qb=function(k,$,re){for(var pe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)pe[nt-2]=arguments[nt];return w.prototype[$].apply(k,pe)}}function A(v){const w=v.length;if(0<w){const C=Array(w);for(let k=0;k<w;k++)C[k]=v[k];return C}return[]}function T(v,w){for(let C=1;C<arguments.length;C++){const k=arguments[C];if(c(k)){const $=v.length||0,re=k.length||0;v.length=$+re;for(let pe=0;pe<re;pe++)v[$+pe]=k[pe]}else v.push(k)}}class I{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(v){return/^[\s\xa0]*$/.test(v)}function D(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function B(v){return B[" "](v),v}B[" "]=function(){};var j=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function H(v,w,C){for(const k in v)w.call(C,v[k],k,v)}function O(v,w){for(const C in v)w.call(void 0,v[C],C,v)}function b(v){const w={};for(const C in v)w[C]=v[C];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(v,w){let C,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(C in k)v[C]=k[C];for(let re=0;re<N.length;re++)C=N[re],Object.prototype.hasOwnProperty.call(k,C)&&(v[C]=k[C])}}function z(v){var w=1;v=v.split(":");const C=[];for(;0<w&&v.length;)C.push(v.shift()),w--;return v.length&&C.push(v.join(":")),C}function G(v){u.setTimeout(()=>{throw v},0)}function U(){var v=Ce;let w=null;return v.g&&(w=v.g,v.g=v.g.next,v.g||(v.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,C){const k=xe.get();k.set(w,C),this.h?this.h.next=k:this.g=k,this.h=k}}var xe=new I(()=>new K,v=>v.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ee=!1,Ce=new ye,X=()=>{const v=u.Promise.resolve(void 0);ae=()=>{v.then(se)}};var se=()=>{for(var v;v=U();){try{v.h.call(v.g)}catch(C){G(C)}var w=xe;w.j(v),100>w.h&&(w.h++,v.next=w.g,w.g=v)}ee=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(v,w){this.type=v,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,w=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const C=()=>{};u.addEventListener("test",C,w),u.removeEventListener("test",C,w)}catch{}return v}();function Me(v,w){if(ce.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var C=this.type=v.type,k=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=w,w=v.relatedTarget){if(j){e:{try{B(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else C=="mouseover"?w=v.fromElement:C=="mouseout"&&(w=v.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Se[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Me.aa.h.call(this)}}E(Me,ce);var Se={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Re=0;function ut(v,w,C,k,$){this.listener=v,this.proxy=null,this.src=w,this.type=C,this.capture=!!k,this.ha=$,this.key=++Re,this.da=this.fa=!1}function Ge(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function je(v){this.src=v,this.g={},this.h=0}je.prototype.add=function(v,w,C,k,$){var re=v.toString();v=this.g[re],v||(v=this.g[re]=[],this.h++);var pe=Gt(v,w,k,$);return-1<pe?(w=v[pe],C||(w.fa=!1)):(w=new ut(w,this.src,re,!!k,$),w.fa=C,v.push(w)),w};function ze(v,w){var C=w.type;if(C in v.g){var k=v.g[C],$=Array.prototype.indexOf.call(k,w,void 0),re;(re=0<=$)&&Array.prototype.splice.call(k,$,1),re&&(Ge(w),v.g[C].length==0&&(delete v.g[C],v.h--))}}function Gt(v,w,C,k){for(var $=0;$<v.length;++$){var re=v[$];if(!re.da&&re.listener==w&&re.capture==!!C&&re.ha==k)return $}return-1}var mn="closure_lm_"+(1e6*Math.random()|0),Gr={};function si(v,w,C,k,$){if(Array.isArray(w)){for(var re=0;re<w.length;re++)si(v,w[re],C,k,$);return null}return C=Nf(C),v&&v[ge]?v.K(w,C,h(k)?!!k.capture:!1,$):yn(v,w,C,!1,k,$)}function yn(v,w,C,k,$,re){if(!w)throw Error("Invalid event type");var pe=h($)?!!$.capture:!!$,nt=Us(v);if(nt||(v[mn]=nt=new je(v)),C=nt.add(w,C,k,pe,re),C.proxy)return C;if(k=wu(),C.proxy=k,k.src=v,k.listener=C,v.addEventListener)me||($=pe),$===void 0&&($=!1),v.addEventListener(w.toString(),k,$);else if(v.attachEvent)v.attachEvent(Mo(w.toString()),k);else if(v.addListener&&v.removeListener)v.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return C}function wu(){function v(C){return w.call(v.src,v.listener,C)}const w=n1;return v}function li(v,w,C,k,$){if(Array.isArray(w))for(var re=0;re<w.length;re++)li(v,w[re],C,k,$);else k=h(k)?!!k.capture:!!k,C=Nf(C),v&&v[ge]?(v=v.i,w=String(w).toString(),w in v.g&&(re=v.g[w],C=Gt(re,C,k,$),-1<C&&(Ge(re[C]),Array.prototype.splice.call(re,C,1),re.length==0&&(delete v.g[w],v.h--)))):v&&(v=Us(v))&&(w=v.g[w.toString()],v=-1,w&&(v=Gt(w,C,k,$)),(C=-1<v?w[v]:null)&&Fs(C))}function Fs(v){if(typeof v!="number"&&v&&!v.da){var w=v.src;if(w&&w[ge])ze(w.i,v);else{var C=v.type,k=v.proxy;w.removeEventListener?w.removeEventListener(C,k,v.capture):w.detachEvent?w.detachEvent(Mo(C),k):w.addListener&&w.removeListener&&w.removeListener(k),(C=Us(w))?(ze(C,v),C.h==0&&(C.src=null,w[mn]=null)):Ge(v)}}}function Mo(v){return v in Gr?Gr[v]:Gr[v]="on"+v}function n1(v,w){if(v.da)v=!0;else{w=new Me(w,this);var C=v.listener,k=v.ha||v.src;v.fa&&Fs(v),v=C.call(k,w)}return v}function Us(v){return v=v[mn],v instanceof je?v:null}var Au="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nf(v){return typeof v=="function"?v:(v[Au]||(v[Au]=function(w){return v.handleEvent(w)}),v[Au])}function jt(){de.call(this),this.i=new je(this),this.M=this,this.F=null}E(jt,de),jt.prototype[ge]=!0,jt.prototype.removeEventListener=function(v,w,C,k){li(this,v,w,C,k)};function yt(v,w){var C,k=v.F;if(k)for(C=[];k;k=k.F)C.push(k);if(v=v.M,k=w.type||w,typeof w=="string")w=new ce(w,v);else if(w instanceof ce)w.target=w.target||v;else{var $=w;w=new ce(k,v),V(w,$)}if($=!0,C)for(var re=C.length-1;0<=re;re--){var pe=w.g=C[re];$=pr(pe,k,!0,w)&&$}if(pe=w.g=v,$=pr(pe,k,!0,w)&&$,$=pr(pe,k,!1,w)&&$,C)for(re=0;re<C.length;re++)pe=w.g=C[re],$=pr(pe,k,!1,w)&&$}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var v=this.i,w;for(w in v.g){for(var C=v.g[w],k=0;k<C.length;k++)Ge(C[k]);delete v.g[w],v.h--}}this.F=null},jt.prototype.K=function(v,w,C,k){return this.i.add(String(v),w,!1,C,k)},jt.prototype.L=function(v,w,C,k){return this.i.add(String(v),w,!0,C,k)};function pr(v,w,C,k){if(w=v.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,re=0;re<w.length;++re){var pe=w[re];if(pe&&!pe.da&&pe.capture==C){var nt=pe.listener,rn=pe.ha||pe.src;pe.fa&&ze(v.i,pe),$=nt.call(rn,k)!==!1&&$}}return $&&!k.defaultPrevented}function Un(v,w,C){if(typeof v=="function")C&&(v=y(v,C));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(v,w||0)}function Pf(v){v.g=Un(()=>{v.g=null,v.i&&(v.i=!1,Pf(v))},v.l);const w=v.h;v.h=null,v.m.apply(null,w)}class r1 extends de{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Pf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(v){de.call(this),this.h=v,this.g={}}E(Lo,de);var ko=[];function Bo(v){H(v.g,function(w,C){this.g.hasOwnProperty(C)&&Fs(w)},v),v.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),Bo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=u.JSON.stringify,js=u.JSON.parse,Vo=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function Tu(){}Tu.prototype.h=null;function Cu(v){return v.h||(v.h=v.i())}function bu(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){ce.call(this,"d")}E(Fi,ce);function Su(){ce.call(this,"c")}E(Su,ce);var ui={},Iu=null;function Ta(){return Iu=Iu||new jt}ui.La="serverreachability";function zs(v){ce.call(this,ui.La,v)}E(zs,ce);function Ca(v){const w=Ta();yt(w,new zs(w))}ui.STAT_EVENT="statevent";function Mf(v,w){ce.call(this,ui.STAT_EVENT,v),this.stat=w}E(Mf,ce);function Mt(v){const w=Ta();yt(w,new Mf(w,v))}ui.Ma="timingevent";function nn(v,w){ce.call(this,ui.Ma,v),this.size=w}E(nn,ce);function Yt(v,w){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},w)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Ru(v,w,C,k,$,re){v.info(function(){if(v.g)if(re)for(var pe="",nt=re.split("&"),rn=0;rn<nt.length;rn++){var rt=nt[rn].split("=");if(1<rt.length){var xn=rt[0];rt=rt[1];var an=xn.split("_");pe=2<=an.length&&an[1]=="type"?pe+(xn+"="+rt+"&"):pe+(xn+"=redacted&")}}else pe=null;else pe=re;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+w+`
`+C+`
`+pe})}function i1(v,w,C,k,$,re,pe){v.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+w+`
`+C+`
`+re+" "+pe})}function ba(v,w,C,k){v.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fo(v,C)+(k?" "+k:"")})}function Lf(v,w){v.info(function(){return"TIMEOUT: "+w})}Ir.prototype.info=function(){};function Fo(v,w){if(!v.g)return w;if(!w)return null;try{var C=JSON.parse(w);if(C){for(v=0;v<C.length;v++)if(Array.isArray(C[v])){var k=C[v];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var re=$[0];if(re!="noop"&&re!="stop"&&re!="close")for(var pe=1;pe<$.length;pe++)$[pe]=""}}}}return qr(C)}catch{return w}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function fi(){}E(fi,Tu),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},ci=new fi;function $n(v,w,C,k){this.j=v,this.i=w,this.l=C,this.R=k||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Ou={},Hs={};function Xr(v,w,C){v.L=1,v.v=Go(gr(w)),v.m=C,v.P=!0,ji(v,null)}function ji(v,w){v.F=Date.now(),Uo(v),v.A=gr(v.v);var C=v.A,k=v.R;Array.isArray(k)||(k=[String(k)]),ku(C.i,"t",k),v.C=0,C=v.j.J,v.h=new qt,v.g=Qf(v.j,C?w:null,!v.m),0<v.O&&(v.M=new r1(y(v.Y,v,v.g),v.O)),w=v.U,C=v.g,k=v.ca;var $="readystatechange";Array.isArray($)||($&&(ko[0]=$.toString()),$=ko);for(var re=0;re<$.length;re++){var pe=si(C,$[re],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=v.H?b(v.H):{},v.m?(v.u||(v.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,w)):(v.u="GET",v.g.ea(v.A,v.u,null,w)),Ca(),Ru(v.i,v.u,v.A,v.l,v.R,v.m)}$n.prototype.ca=function(v){v=v.target;const w=this.M;w&&Nr(v)==3?w.j():this.Y(v)},$n.prototype.Y=function(v){try{if(v==this.g)e:{const an=Nr(this.g);var w=this.g.Ba();const Yi=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Hf(this.g)))){this.J||an!=4||w==7||(w==8||0>=Yi?Ca(3):Ca(2)),Ia(this);var C=this.g.Z();this.X=C;t:if(kf(this)){var k=Hf(this.g);v="";var $=k.length,re=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),hi(this);var pe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,v+=this.h.i.decode(k[w],{stream:!(re&&w==$-1)});k.length=0,this.h.g+=v,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=C==200,i1(this.i,this.u,this.A,this.l,this.R,an,C),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,rn=this.g;if((nt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(nt)){var rt=nt;break t}}rt=null}if(C=rt)ba(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jo(this,C);else{this.o=!1,this.s=3,Mt(12),Rn(this),hi(this);break e}}if(this.P){C=!0;let On;for(;!this.J&&this.C<pe.length;)if(On=Bf(this,pe),On==Hs){an==4&&(this.s=4,Mt(14),C=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ou){this.s=4,Mt(15),ba(this.i,this.l,pe,"[Invalid Chunk]"),C=!1;break}else ba(this.i,this.l,On,null),jo(this,On);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||pe.length!=0||this.h.h||(this.s=1,Mt(16),C=!1),this.o=this.o&&C,!C)ba(this.i,this.l,pe,"[Invalid Chunked Response]"),Rn(this),hi(this);else if(0<pe.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Zo(xn),xn.M=!0,Mt(11))}}else ba(this.i,this.l,pe,null),jo(this,pe);an==4&&Rn(this),this.o&&!this.J&&(an==4?Kf(this.j,this):(this.o=!1,Uo(this)))}else u1(this.g),C==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Rn(this),hi(this)}}}catch{}finally{}};function kf(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Bf(v,w){var C=v.C,k=w.indexOf(`
`,C);return k==-1?Hs:(C=Number(w.substring(C,k)),isNaN(C)?Ou:(k+=1,k+C>w.length?Hs:(w=w.slice(k,k+C),v.C=k+C,w)))}$n.prototype.cancel=function(){this.J=!0,Rn(this)};function Uo(v){v.S=Date.now()+v.I,Vf(v,v.I)}function Vf(v,w){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Yt(y(v.ba,v),w)}function Ia(v){v.B&&(u.clearTimeout(v.B),v.B=null)}$n.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Lf(this.i,this.A),this.L!=2&&(Ca(),Mt(17)),Rn(this),this.s=2,hi(this)):Vf(this,this.S-v)};function hi(v){v.j.G==0||v.J||Kf(v.j,v)}function Rn(v){Ia(v);var w=v.M;w&&typeof w.ma=="function"&&w.ma(),v.M=null,Bo(v.U),v.g&&(w=v.g,v.g=null,w.abort(),w.ma())}function jo(v,w){try{var C=v.j;if(C.G!=0&&(C.g==v||Du(C.h,v))){if(!v.K&&Du(C.h,v)&&C.G==3){try{var k=C.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<v.F)tl(C),Js(C);else break e;ju(C),Mt(18)}}else C.za=$[1],0<C.za-C.T&&37500>$[2]&&C.F&&C.v==0&&!C.C&&(C.C=Yt(y(C.Za,C),6e3));if(1>=qs(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ki(C,11)}else if((v.K||C.g==v)&&tl(C),!R(w))for($=C.Da.g.parse(w),w=0;w<$.length;w++){let rt=$[w];if(C.T=rt[0],rt=rt[1],C.G==2)if(rt[0]=="c"){C.K=rt[1],C.ia=rt[2];const xn=rt[3];xn!=null&&(C.la=xn,C.j.info("VER="+C.la));const an=rt[4];an!=null&&(C.Aa=an,C.j.info("SVER="+C.Aa));const Yi=rt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(k=1.5*Yi,C.L=k,C.j.info("backChannelRequestTimeoutMs_="+k)),k=C;const On=v.g;if(On){const _i=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var re=k.h;re.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xs(re,re.h),re.h=null))}if(k.D){const Hu=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Hu&&(k.ya=Hu,Tt(k.I,k.D,Hu))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-v.F,C.j.info("Handshake RTT: "+C.R+"ms")),k=C;var pe=v;if(k.qa=$f(k,k.J?k.ia:null,k.W),pe.K){Qn(k.h,pe);var nt=pe,rn=k.L;rn&&(nt.I=rn),nt.B&&(Ia(nt),Uo(nt)),k.g=pe}else Xf(k);0<C.i.length&&el(C)}else rt[0]!="stop"&&rt[0]!="close"||Ki(C,7);else C.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ki(C,7):Fu(C):rt[0]!="noop"&&C.l&&C.l.ta(rt),C.v=0)}}Ca(4)}catch{}}var Ff=class{constructor(v,w){this.g=v,this.map=w}};function zi(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function qs(v){return v.h?1:v.g?v.g.size:0}function Du(v,w){return v.h?v.h==w:v.g?v.g.has(w):!1}function Xs(v,w){v.g?v.g.add(w):v.h=w}function Qn(v,w){v.h&&v.h==w?v.h=null:v.g&&v.g.has(w)&&v.g.delete(w)}zi.prototype.cancel=function(){if(this.i=Nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Nu(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let w=v.i;for(const C of v.g.values())w=w.concat(C.D);return w}return A(v.i)}function a1(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var w=[],C=v.length,k=0;k<C;k++)w.push(v[k]);return w}w=[],C=0;for(k in v)w[C++]=v[k];return w}function Ws(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var w=[];v=v.length;for(var C=0;C<v;C++)w.push(C);return w}w=[],C=0;for(const k in v)w[C++]=k;return w}}}function Pu(v,w){if(v.forEach&&typeof v.forEach=="function")v.forEach(w,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,w,void 0);else for(var C=Ws(v),k=a1(v),$=k.length,re=0;re<$;re++)w.call(void 0,k[re],C&&C[re],v)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o1(v,w){if(v){v=v.split("&");for(var C=0;C<v.length;C++){var k=v[C].indexOf("="),$=null;if(0<=k){var re=v[C].substring(0,k);$=v[C].substring(k+1)}else re=v[C];w(re,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function $t(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof $t){this.h=v.h,Ho(this,v.j),this.o=v.o,this.g=v.g,Ra(this,v.s),this.l=v.l;var w=v.i,C=new Gi;C.i=w.i,w.g&&(C.g=new Map(w.g),C.h=w.h),Hi(this,C),this.m=v.m}else v&&(w=String(v).match(zo))?(this.h=!1,Ho(this,w[1]||"",!0),this.o=Rr(w[2]||""),this.g=Rr(w[3]||"",!0),Ra(this,w[4]),this.l=Rr(w[5]||"",!0),Hi(this,w[6]||"",!0),this.m=Rr(w[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}$t.prototype.toString=function(){var v=[],w=this.j;w&&v.push(qo(w,Mu,!0),":");var C=this.g;return(C||w=="file")&&(v.push("//"),(w=this.o)&&v.push(qo(w,Mu,!0),"@"),v.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&v.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&v.push("/"),v.push(qo(C,C.charAt(0)=="/"?s1:Lu,!0))),(C=this.i.toString())&&v.push("?",C),(C=this.m)&&v.push("#",qo(C,Ks)),v.join("")};function gr(v){return new $t(v)}function Ho(v,w,C){v.j=C?Rr(w,!0):w,v.j&&(v.j=v.j.replace(/:$/,""))}function Ra(v,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);v.s=w}else v.s=null}function Hi(v,w,C){w instanceof Gi?(v.i=w,jf(v.i,v.h)):(C||(w=qo(w,l1)),v.i=new Gi(w,v.h))}function Tt(v,w,C){v.i.set(w,C)}function Go(v){return Tt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Rr(v,w){return v?w?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function qo(v,w,C){return typeof v=="string"?(v=encodeURI(v).replace(w,Uf),C&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Uf(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Mu=/[#\/\?@]/g,Lu=/[#\?:]/g,s1=/[#\?]/g,l1=/[#\?@]/g,Ks=/#/g;function Gi(v,w){this.h=this.g=null,this.i=v||null,this.j=!!w}function Or(v){v.g||(v.g=new Map,v.h=0,v.i&&o1(v.i,function(w,C){v.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}n=Gi.prototype,n.add=function(v,w){Or(this),this.i=null,v=di(this,v);var C=this.g.get(v);return C||this.g.set(v,C=[]),C.push(w),this.h+=1,this};function qi(v,w){Or(v),w=di(v,w),v.g.has(w)&&(v.i=null,v.h-=v.g.get(w).length,v.g.delete(w))}function Xi(v,w){return Or(v),w=di(v,w),v.g.has(w)}n.forEach=function(v,w){Or(this),this.g.forEach(function(C,k){C.forEach(function($){v.call(w,$,k,this)},this)},this)},n.na=function(){Or(this);const v=Array.from(this.g.values()),w=Array.from(this.g.keys()),C=[];for(let k=0;k<w.length;k++){const $=v[k];for(let re=0;re<$.length;re++)C.push(w[k])}return C},n.V=function(v){Or(this);let w=[];if(typeof v=="string")Xi(this,v)&&(w=w.concat(this.g.get(di(this,v))));else{v=Array.from(this.g.values());for(let C=0;C<v.length;C++)w=w.concat(v[C])}return w},n.set=function(v,w){return Or(this),this.i=null,v=di(this,v),Xi(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[w]),this.h+=1,this},n.get=function(v,w){return v?(v=this.V(v),0<v.length?String(v[0]):w):w};function ku(v,w,C){qi(v,w),0<C.length&&(v.i=null,v.g.set(di(v,w),A(C)),v.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],w=Array.from(this.g.keys());for(var C=0;C<w.length;C++){var k=w[C];const re=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var $=re;pe[k]!==""&&($+="="+encodeURIComponent(String(pe[k]))),v.push($)}}return this.i=v.join("&")};function di(v,w){return w=String(w),v.j&&(w=w.toLowerCase()),w}function jf(v,w){w&&!v.j&&(Or(v),v.i=null,v.g.forEach(function(C,k){var $=k.toLowerCase();k!=$&&(qi(this,k),ku(this,$,C))},v)),v.j=w}function Xo(v,w){const C=new Ir;if(u.Image){const k=new Image;k.onload=_(Dr,C,"TestLoadImage: loaded",!0,w,k),k.onerror=_(Dr,C,"TestLoadImage: error",!1,w,k),k.onabort=_(Dr,C,"TestLoadImage: abort",!1,w,k),k.ontimeout=_(Dr,C,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=v}else w(!1)}function Wr(v,w){const C=new Ir,k=new AbortController,$=setTimeout(()=>{k.abort(),Dr(C,"TestPingServer: timeout",!1,w)},1e4);fetch(v,{signal:k.signal}).then(re=>{clearTimeout($),re.ok?Dr(C,"TestPingServer: ok",!0,w):Dr(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Dr(C,"TestPingServer: error",!1,w)})}function Dr(v,w,C,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(C)}catch{}}function Wo(){this.g=new Vo}function pi(v,w,C){const k=C||"";try{Pu(v,function($,re){let pe=$;h($)&&(pe=qr($)),w.push(k+re+"="+encodeURIComponent(pe))})}catch($){throw w.push(k+"type="+encodeURIComponent("_badmap")),$}}function Oa(v){this.l=v.Ub||null,this.j=v.eb||!1}E(Oa,Tu),Oa.prototype.g=function(){return new Wi(this.l,this.j)},Oa.prototype.i=function(v){return function(){return v}}({});function Wi(v,w){jt.call(this),this.D=v,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wi,jt),n=Wi.prototype,n.open=function(v,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=w,this.readyState=1,vi(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(w.body=v),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var w=v.value?v.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!v.done}))&&(this.response=this.responseText+=w)}v.done?gi(this):vi(this),this.readyState==3&&Bu(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,gi(this))},n.Qa=function(v){this.g&&(this.response=v,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,vi(v)}n.setRequestHeader=function(v,w){this.u.append(v,w)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,v.push(C[0]+": "+C[1]),C=w.next();return v.join(`\r
`)};function vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Vu(v){let w="";return H(v,function(C,k){w+=k,w+=":",w+=C,w+=`\r
`}),w}function _n(v,w,C){e:{for(k in C){var k=!1;break e}k=!0}k||(C=Vu(C),typeof v=="string"?C!=null&&encodeURIComponent(String(C)):Tt(v,w,C))}function gt(v){jt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(gt,jt);var Ys=/^https?$/i,Ko=["POST","PUT"];n=gt.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,w,C,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);w=w?w.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Cu(this.o):Cu(ci),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(v),!0),this.B=!1}catch(re){zf(this,re);return}if(v=C||"",C=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)C.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const re of k.keys())C.set(re,k.get(re));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(C.keys()).find(re=>re.toLowerCase()=="content-type"),$=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ko,w,void 0))||k||$||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of C)this.g.setRequestHeader(re,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(v),this.u=!1}catch(re){zf(this,re)}};function zf(v,w){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=w,v.m=5,$s(v),mi(v)}function $s(v){v.A||(v.A=!0,yt(v,"complete"),yt(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,yt(this,"complete"),yt(this,"abort"),mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},n.bb=function(){Qs(this)};function Qs(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Nr(v)!=4||v.Z()!=2)){if(v.u&&Nr(v)==4)Un(v.Ea,0,v);else if(yt(v,"readystatechange"),Nr(v)==4){v.h=!1;try{const pe=v.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var C;if(!(C=w)){var k;if(k=pe===0){var $=String(v.D).match(zo)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),k=!Ys.test($?$.toLowerCase():"")}C=k}if(C)yt(v,"complete"),yt(v,"success");else{v.m=6;try{var re=2<Nr(v)?v.g.statusText:""}catch{re=""}v.l=re+" ["+v.Z()+"]",$s(v)}}finally{mi(v)}}}}function mi(v,w){if(v.g){Yo(v);const C=v.g,k=v.v[0]?()=>{}:null;v.g=null,v.v=null,w||yt(v,"ready");try{C.onreadystatechange=k}catch{}}}function Yo(v){v.I&&(u.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Nr(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var w=this.g.responseText;return v&&w.indexOf(v)==0&&(w=w.substring(v.length)),js(w)}};function Hf(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function u1(v){const w={};v=(v.g&&2<=Nr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<v.length;k++){if(R(v[k]))continue;var C=z(v[k]);const $=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const re=w[$]||[];w[$]=re,re.push(C)}O(w,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(v,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[v]||w}function Zs(v){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,v),this.cb=$o("retryDelaySeedMs",1e4,v),this.Wa=$o("forwardChannelMaxRetries",2,v),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(v&&v.concurrentRequestLimit),this.Da=new Wo,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zs.prototype,n.la=8,n.G=1,n.connect=function(v,w,C,k){Mt(0),this.W=v,this.H=w||{},C&&k!==void 0&&(this.H.OSID=C,this.H.OAID=k),this.F=this.X,this.I=$f(this,null,this.W),el(this)};function Fu(v){if(Gf(v),v.G==3){var w=v.U++,C=gr(v.I);if(Tt(C,"SID",v.K),Tt(C,"RID",w),Tt(C,"TYPE","terminate"),Qo(v,C),w=new $n(v,v.j,w),w.L=2,w.v=Go(gr(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=w.v,C=!0),C||(w.g=Qf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Uo(w)}Yf(v)}function Js(v){v.g&&(Zo(v),v.g.cancel(),v.g=null)}function Gf(v){Js(v),v.u&&(u.clearTimeout(v.u),v.u=null),tl(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function el(v){if(!Gs(v.h)&&!v.s){v.s=!0;var w=v.Ga;ae||X(),ee||(ae(),ee=!0),Ce.add(w,v),v.B=0}}function c1(v,w){return qs(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=w.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Yt(y(v.Ga,v,w),zu(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const $=new $n(this,this.j,v);let re=this.o;if(this.S&&(re?(re=b(re),V(re,this.S)):re=this.S),this.m!==null||this.O||($.H=re,re=null),this.P)e:{for(var w=0,C=0;C<this.i.length;C++){t:{var k=this.i[C];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=C;break e}if(w===4096||C===this.i.length-1){w=C+1;break e}}w=1e3}else w=1e3;w=qf(this,$,w),C=gr(this.I),Tt(C,"RID",v),Tt(C,"CVER",22),this.D&&Tt(C,"X-HTTP-Session-Id",this.D),Qo(this,C),re&&(this.O?w="headers="+encodeURIComponent(String(Vu(re)))+"&"+w:this.m&&_n(C,this.m,re)),Xs(this.h,$),this.Ua&&Tt(C,"TYPE","init"),this.P?(Tt(C,"$req",w),Tt(C,"SID","null"),$.T=!0,Xr($,C,null)):Xr($,C,w),this.G=2}}else this.G==3&&(v?Uu(this,v):this.i.length==0||Gs(this.h)||Uu(this))};function Uu(v,w){var C;w?C=w.l:C=v.U++;const k=gr(v.I);Tt(k,"SID",v.K),Tt(k,"RID",C),Tt(k,"AID",v.T),Qo(v,k),v.m&&v.o&&_n(k,v.m,v.o),C=new $n(v,v.j,C,v.B+1),v.m===null&&(C.H=v.o),w&&(v.i=w.D.concat(v.i)),w=qf(v,C,1e3),C.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Xs(v.h,C),Xr(C,k,w)}function Qo(v,w){v.H&&H(v.H,function(C,k){Tt(w,k,C)}),v.l&&Pu({},function(C,k){Tt(w,k,C)})}function qf(v,w,C){C=Math.min(v.i.length,C);var k=v.l?y(v.l.Na,v.l,v):null;e:{var $=v.i;let re=-1;for(;;){const pe=["count="+C];re==-1?0<C?(re=$[0].g,pe.push("ofs="+re)):re=0:pe.push("ofs="+re);let nt=!0;for(let rn=0;rn<C;rn++){let rt=$[rn].g;const xn=$[rn].map;if(rt-=re,0>rt)re=Math.max(0,$[rn].g-100),nt=!1;else try{pi(xn,pe,"req"+rt+"_")}catch{k&&k(xn)}}if(nt){k=pe.join("&");break e}}}return v=v.i.splice(0,C),w.D=v,k}function Xf(v){if(!v.g&&!v.u){v.Y=1;var w=v.Fa;ae||X(),ee||(ae(),ee=!0),Ce.add(w,v),v.v=0}}function ju(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Yt(y(v.Fa,v),zu(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,Wf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Yt(y(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Js(this),Wf(this))};function Zo(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function Wf(v){v.g=new $n(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var w=gr(v.qa);Tt(w,"RID","rpc"),Tt(w,"SID",v.K),Tt(w,"AID",v.T),Tt(w,"CI",v.F?"0":"1"),!v.F&&v.ja&&Tt(w,"TO",v.ja),Tt(w,"TYPE","xmlhttp"),Qo(v,w),v.m&&v.o&&_n(w,v.m,v.o),v.L&&(v.g.I=v.L);var C=v.g;v=v.ia,C.L=1,C.v=Go(gr(w)),C.m=null,C.P=!0,ji(C,v)}n.Za=function(){this.C!=null&&(this.C=null,Js(this),ju(this),Mt(19))};function tl(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Kf(v,w){var C=null;if(v.g==w){tl(v),Zo(v),v.g=null;var k=2}else if(Du(v.h,w))C=w.D,Qn(v.h,w),k=1;else return;if(v.G!=0){if(w.o)if(k==1){C=w.m?w.m.length:0,w=Date.now()-w.F;var $=v.B;k=Ta(),yt(k,new nn(k,C)),el(v)}else Xf(v);else if($=w.s,$==3||$==0&&0<w.X||!(k==1&&c1(v,w)||k==2&&ju(v)))switch(C&&0<C.length&&(w=v.h,w.i=w.i.concat(C)),$){case 1:Ki(v,5);break;case 4:Ki(v,10);break;case 3:Ki(v,6);break;default:Ki(v,2)}}}function zu(v,w){let C=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(C*=2),C*w}function Ki(v,w){if(v.j.info("Error code "+w),w==2){var C=y(v.fb,v),k=v.Xa;const $=!k;k=new $t(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ho(k,"https"),Go(k),$?Xo(k.toString(),C):Wr(k.toString(),C)}else Mt(2);v.G=0,v.l&&v.l.sa(w),Yf(v),Gf(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Yf(v){if(v.G=0,v.ka=[],v.l){const w=Nu(v.h);(w.length!=0||v.i.length!=0)&&(T(v.ka,w),T(v.ka,v.i),v.h.i.length=0,A(v.i),v.i.length=0),v.l.ra()}}function $f(v,w,C){var k=C instanceof $t?gr(C):new $t(C);if(k.g!="")w&&(k.g=w+"."+k.g),Ra(k,k.s);else{var $=u.location;k=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var re=new $t(null);k&&Ho(re,k),w&&(re.g=w),$&&Ra(re,$),C&&(re.l=C),k=re}return C=v.D,w=v.ya,C&&w&&Tt(k,C,w),Tt(k,"VER",v.la),Qo(v,k),k}function Qf(v,w,C){if(w&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=v.Ca&&!v.pa?new gt(new Oa({eb:C})):new gt(v.pa),w.Ha(v.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}n=Zf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(v,w){return new Zn(v,w)};function Zn(v,w){jt.call(this),this.g=new Zs(w),this.l=v,this.h=w&&w.messageUrlParams||null,v=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(v?v["X-WebChannel-Content-Type"]=w.messageContentType:v={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(v?v["X-WebChannel-Client-Profile"]=w.va:v={"X-WebChannel-Client-Profile":w.va}),this.g.S=v,(v=w&&w.Sb)&&!R(v)&&(this.g.m=v),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,v=this.h,v!==null&&w in v&&(v=this.h,w in v&&delete v[w])),this.j=new yi(this)}E(Zn,jt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Fu(this.g)},Zn.prototype.o=function(v){var w=this.g;if(typeof v=="string"){var C={};C.__data__=v,v=C}else this.u&&(C={},C.__data__=qr(v),v=C);w.i.push(new Ff(w.Ya++,v)),w.G==3&&el(w)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Fu(this.g),delete this.g,Zn.aa.N.call(this)};function Jf(v){Fi.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var w=v.__sm__;if(w){e:{for(const C in w){v=C;break e}v=void 0}(this.i=v)&&(v=this.i,w=w!==null&&v in w?w[v]:void 0),this.data=w}else this.data=v}E(Jf,Fi);function eh(){Su.call(this),this.status=1}E(eh,Su);function yi(v){this.g=v}E(yi,Zf),yi.prototype.ua=function(){yt(this.g,"a")},yi.prototype.ta=function(v){yt(this.g,new Jf(v))},yi.prototype.sa=function(v){yt(this.g,new eh)},yi.prototype.ra=function(){yt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Kb=function(){return new nl},Wb=function(){return Ta()},Xb=ui,Wv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Cd=Sa,Ui.COMPLETE="complete",qb=Ui,bu.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Bc=bu,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,Gb=gt}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",vw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Gm("@firebase/firestore");function Bl(){return Rs.logLevel}function _e(n,...e){if(Rs.logLevel<=et.DEBUG){const t=e.map(ry);Rs.debug(`Firestore (${hu}): ${n}`,...t)}}function ya(n,...e){if(Rs.logLevel<=et.ERROR){const t=e.map(ry);Rs.error(`Firestore (${hu}): ${n}`,...t)}}function Zl(n,...e){if(Rs.logLevel<=et.WARN){const t=e.map(ry);Rs.warn(`Firestore (${hu}): ${n}`,...t)}}function ry(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Yb(n,r,t)}function Yb(n,e,t){let r=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ya(r),new Error(r)}function mt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Yb(e,i,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Aa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class q5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class X5{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new po;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new po,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new po)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new $b(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class W5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new W5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Kv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const a=Qb(),s=Q5(a.encode(yw(n,t)),a.encode(yw(e,t)));return s!==0?s:Ye(r,i)}}t+=r>65535?2:1}return Ye(n.length,e.length)}function yw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Q5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ye(n[t],e[t]);return Ye(n.length,e.length)}function Jl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-62135596800,xw=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xw);return new en(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_w)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new en(0,0))}static max(){return new Fe(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__name__";class Ci{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ci.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=Ci.isNumericId(e),i=Ci.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):Kv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class kt extends Ci{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const Z5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ci{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return Z5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new Bn([Ew])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new be(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new be(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(kt.fromString(e))}static fromName(e){return new Ne(kt.fromString(e).popFirst(5))}static empty(){return new Ne(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;function J5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new en(t+1,0):new en(t,r));return new _o(i,Ne.empty(),e)}function e9(n){return new _o(n.readTime,n.key,nf)}class _o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _o(Fe.min(),Ne.empty(),nf)}static max(){return new _o(Fe.max(),Ne.empty(),nf)}}function t9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==n9)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new fe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function i9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}_0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function x0(n){return n==null}function qd(n){return n===0&&1/n==-1/0}function a9(n){return typeof n=="number"&&Number.isInteger(n)&&!qd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="";function o9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ww(e)),e=s9(n.get(t),e);return ww(e)}function s9(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Jb:t+="";break;default:t+=a}}return t}function ww(n){return n+Jb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=a??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new kn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tw(this.data.getIterator())}getIteratorFrom(e){return new Tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class Tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Cr([])}unionWith(e){let t=new vn(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tS("Invalid base64 string: "+a):a}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const l9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=l9.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Eo(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="server_timestamp",rS="__type__",iS="__previous_value__",aS="__local_write_time__";function ay(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rS])===null||t===void 0?void 0:t.stringValue)===nS}function E0(n){const e=n.mapValue.fields[iS];return ay(e)?E0(e):e}function rf(n){const e=xo(n.mapValue.fields[aS].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Xd="(default)";class af{constructor(e,t){this.projectId=e,this.database=t||Xd}static empty(){return new af("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(e){return e instanceof af&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="__type__",c9="__max__",sd={mapValue:{}},sS="__vector__",Wd="value";function wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ay(n)?4:h9(n)?9007199254740991:f9(n)?10:11:Be(28295,{value:n})}function Pi(n,e){if(n===e)return!0;const t=wo(n);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=xo(i.timestampValue),u=xo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Eo(i.bytesValue).isEqual(Eo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Kt(i.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Kt(i.integerValue)===Kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Kt(i.doubleValue),u=Kt(a.doubleValue);return s===u?qd(s)===qd(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Aw(s)!==Aw(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Pi(s[c],u[c])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function of(n,e){return(n.values||[]).find(t=>Pi(t,e))!==void 0}function eu(n,e){if(n===e)return 0;const t=wo(n),r=wo(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=Kt(a.integerValue||a.doubleValue),c=Kt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return Cw(n.timestampValue,e.timestampValue);case 4:return Cw(rf(n),rf(e));case 5:return Kv(n.stringValue,e.stringValue);case 6:return function(a,s){const u=Eo(a),c=Eo(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=Ye(u[h],c[h]);if(p!==0)return p}return Ye(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=Ye(Kt(a.latitude),Kt(s.latitude));return u!==0?u:Ye(Kt(a.longitude),Kt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bw(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const g=a.fields||{},y=s.fields||{},_=(u=g[Wd])===null||u===void 0?void 0:u.arrayValue,E=(c=y[Wd])===null||c===void 0?void 0:c.arrayValue,A=Ye(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:bw(_,E)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===sd.mapValue&&s===sd.mapValue)return 0;if(a===sd.mapValue)return 1;if(s===sd.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=Kv(c[g],p[g]);if(y!==0)return y;const _=eu(u[c[g]],h[p[g]]);if(_!==0)return _}return Ye(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function Cw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=xo(n),r=xo(e),i=Ye(t.seconds,r.seconds);return i!==0?i:Ye(t.nanos,r.nanos)}function bw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=eu(t[i],r[i]);if(a)return a}return Ye(t.length,r.length)}function tu(n){return Yv(n)}function Yv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Yv(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Yv(t.fields[s])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function bd(n){switch(wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=E0(n);return e?16+bd(e):16;case 5:return 2*n.stringValue.length;case 6:return Eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+bd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Oo(r.fields,(a,s)=>{i+=a.length+bd(s)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function $v(n){return!!n&&"integerValue"in n}function oy(n){return!!n&&"arrayValue"in n}function Sw(n){return!!n&&"nullValue"in n}function Iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sd(n){return!!n&&"mapValue"in n}function f9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[oS])===null||t===void 0?void 0:t.stringValue)===sS}function Kc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===c9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(t)}setAll(e){let t=Bn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=Kc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Oo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new fr(Kc(this.value))}}function lS(n){const e=[];return Oo(n.fields,(t,r)=>{const i=new Bn([t]);if(Sd(r)){const a=lS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Xn(e,0,Fe.min(),Fe.min(),Fe.min(),fr.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Fe.min(),Fe.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Fe.min(),Fe.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.position=e,this.inclusive=t}}function Rw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(s.referenceValue),t.key):r=eu(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function d9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class dn extends uS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new g9(e,t,r):t==="array-contains"?new y9(e,r):t==="in"?new _9(e,r):t==="not-in"?new x9(e,r):t==="array-contains-any"?new E9(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new v9(e,r):new m9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(eu(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends uS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Mi(e,t)}matches(e){return cS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cS(n){return n.op==="and"}function fS(n){return p9(n)&&cS(n)}function p9(n){for(const e of n.filters)if(e instanceof Mi)return!1;return!0}function Qv(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+tu(n.value);if(fS(n))return n.filters.map(e=>Qv(e)).join(",");{const e=n.filters.map(t=>Qv(t)).join(",");return`${n.op}(${e})`}}function hS(n,e){return n instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&Pi(r.value,i.value)}(n,e):n instanceof Mi?function(r,i){return i instanceof Mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&hS(s,i.filters[u]),!0):!1}(n,e):void Be(19439)}function dS(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${tu(t.value)}`}(n):n instanceof Mi?function(t){return t.op.toString()+" {"+t.getFilters().map(dS).join(" ,")+"}"}(n):"Filter"}class g9 extends dn{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class v9 extends dn{constructor(e,t){super(e,"in",t),this.keys=pS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class m9 extends dn{constructor(e,t){super(e,"not-in",t),this.keys=pS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class y9 extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oy(t)&&of(t.arrayValue,this.value)}}class _9 extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&of(this.value.arrayValue,t)}}class x9 extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!of(this.value.arrayValue,t)}}class E9 extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>of(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function Dw(n,e=null,t=[],r=[],i=null,a=null,s=null){return new w9(n,e,t,r,i,a,s)}function sy(n){const e=Ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Qv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),x0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tu(r)).join(",")),e.Ie=t}return e.Ie}function ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!d9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ow(n.startAt,e.startAt)&&Ow(n.endAt,e.endAt)}function Zv(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function A9(n,e,t,r,i,a,s,u){return new w0(n,e,t,r,i,a,s,u)}function A0(n){return new w0(n)}function Nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function T9(n){return n.collectionGroup!==null}function Yc(n){const e=Ue(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new vn(Bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Yd(a,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new Yd(Bn.keyField(),r))}return e.Ee}function Oi(n){const e=Ue(n);return e.de||(e.de=C9(e,Yc(n))),e.de}function C9(n,e){if(n.limitType==="F")return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Yd(i.field,a)});const t=n.endAt?new Kd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kd(n.startAt.position,n.startAt.inclusive):null;return Dw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Jv(n,e,t){return new w0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function T0(n,e){return ly(Oi(n),Oi(e))&&n.limitType===e.limitType}function gS(n){return`${sy(Oi(n))}|lt:${n.limitType}`}function Vl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dS(i)).join(", ")}]`),x0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>tu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>tu(i)).join(",")),`Target(${r})`}(Oi(n))}; limitType=${n.limitType})`}function C0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Yc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=Rw(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,u,c){const h=Rw(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Yc(r),i))}(n,e)}function b9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vS(n){return(e,t)=>{let r=!1;for(const i of Yc(n)){const a=S9(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function S9(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?eu(c,h):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return eS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new Ut(Ne.comparator);function _a(){return I9}const mS=new Ut(Ne.comparator);function Vc(...n){let e=mS;for(const t of n)e=e.insert(t.key,t);return e}function yS(n){let e=mS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return $c()}function _S(){return $c()}function $c(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const R9=new Ut(Ne.comparator),O9=new vn(Ne.comparator);function tt(...n){let e=O9;for(const t of n)e=e.add(t);return e}const D9=new vn(Ye);function N9(){return D9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function xS(n){return{integerValue:""+n}}function P9(n,e){return a9(e)?xS(e):uy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this._=void 0}}function M9(n,e,t){return n instanceof $d?function(i,a){const s={fields:{[rS]:{stringValue:nS},[aS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ay(a)&&(a=E0(a)),a&&(s.fields[iS]=a),{mapValue:s}}(t,e):n instanceof sf?wS(n,e):n instanceof lf?AS(n,e):function(i,a){const s=ES(i,a),u=Pw(s)+Pw(i.Re);return $v(s)&&$v(i.Re)?xS(u):uy(i.serializer,u)}(n,e)}function L9(n,e,t){return n instanceof sf?wS(n,e):n instanceof lf?AS(n,e):t}function ES(n,e){return n instanceof Qd?function(r){return $v(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class $d extends b0{}class sf extends b0{constructor(e){super(),this.elements=e}}function wS(n,e){const t=TS(e);for(const r of n.elements)t.some(i=>Pi(i,r))||t.push(r);return{arrayValue:{values:t}}}class lf extends b0{constructor(e){super(),this.elements=e}}function AS(n,e){let t=TS(e);for(const r of n.elements)t=t.filter(i=>!Pi(i,r));return{arrayValue:{values:t}}}class Qd extends b0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Pw(n){return Kt(n.integerValue||n.doubleValue)}function TS(n){return oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function k9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof sf&&i instanceof sf||r instanceof lf&&i instanceof lf?Jl(r.elements,i.elements,Pi):r instanceof Qd&&i instanceof Qd?Pi(r.Re,i.Re):r instanceof $d&&i instanceof $d}(n.transform,e.transform)}class B9{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class S0{}function CS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new I0(n.key,ir.none()):new wf(n.key,n.data,ir.none());{const t=n.data,r=fr.empty();let i=new vn(Bn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Do(n.key,r,new Cr(i.toArray()),ir.none())}}function V9(n,e,t){n instanceof wf?function(i,a,s){const u=i.value.clone(),c=Lw(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Do?function(i,a,s){if(!Id(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=Lw(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(bS(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qc(n,e,t,r){return n instanceof wf?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=a.value.clone(),p=kw(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Do?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=kw(a.fieldTransforms,c,s),p=s.data;return p.setAll(bS(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,s,u){return Id(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function F9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ES(r.transform,i||null);a!=null&&(t===null&&(t=fr.empty()),t.set(r.field,a))}return t||null}function Mw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jl(r,i,(a,s)=>k9(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wf extends S0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Do extends S0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lw(n,e,t){const r=new Map;mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,L9(s,u,t[i]))}return r}function kw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,M9(a,s,e))}return r}class I0 extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U9 extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&V9(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_S();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=CS(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(t,r)=>Mw(t,r))&&Jl(this.baseMutations,e.baseMutations,(t,r)=>Mw(t,r))}}class cy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return R9}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new cy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z9=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,at;function G9(n){switch(n){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function SS(n){if(n===void 0)return ya("GRPC error has no .code"),he.UNKNOWN;switch(n){case Jt.OK:return he.OK;case Jt.CANCELLED:return he.CANCELLED;case Jt.UNKNOWN:return he.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return he.INTERNAL;case Jt.UNAVAILABLE:return he.UNAVAILABLE;case Jt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Jt.NOT_FOUND:return he.NOT_FOUND;case Jt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Jt.ABORTED:return he.ABORTED;case Jt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Jt.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:n})}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new ho([4294967295,4294967295],0);function Bw(n){const e=Qb().encode(n),t=new Hb;return t.update(e),new Uint8Array(t.digest())}function Vw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ho([t,r],0),new ho([i,a],0)]}class fy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fc(`Invalid padding: ${t}`);if(r<0)throw new Fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ho.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ho.fromNumber(r)));return i.compare(q9)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Bw(e),[r,i]=Vw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new fy(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=Bw(e),[r,i]=Vw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new R0(Fe.min(),i,new Ut(Ye),_a(),tt())}}class Af{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Af(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class IS{constructor(e,t){this.targetId=e,this.Ce=t}}class RS{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Fw{constructor(){this.Fe=0,this.Me=Uw(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}}),new Af(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Uw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class X9{constructor(e){this.ze=e,this.je=new Map,this.He=_a(),this.Je=ld(),this.Ye=ld(),this.Ze=new Ut(Ye)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Zv(a))if(r===0){const s=new Ne(a.path);this.tt(t,s,Xn.newNoDocument(s,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=Eo(r).toUint8Array()}catch(c){if(c instanceof tS)return Zl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new fy(s,i,a)}catch(c){return Zl(c instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&Zv(u.target)){const c=new Ne(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Xn.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new R0(e,t,this.Ze,this.He,r);return this.He=_a(),this.Je=ld(),this.Ye=ld(),this.Ze=new Ut(Ye),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Fw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new vn(Ye),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new vn(Ye),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ld(){return new Ut(Ne.comparator)}function Uw(){return new Ut(Ne.comparator)}const W9={asc:"ASCENDING",desc:"DESCENDING"},K9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y9={and:"AND",or:"OR"};class $9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function em(n,e){return n.useProto3Json||x0(e)?e:{value:e}}function Zd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Q9(n,e){return Zd(n,e.toTimestamp())}function Di(n){return mt(!!n,49232),Fe.fromTimestamp(function(t){const r=xo(t);return new en(r.seconds,r.nanos)}(n))}function hy(n,e){return tm(n,e).canonicalString()}function tm(n,e){const t=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DS(n){const e=kt.fromString(n);return mt(kS(e),10190,{key:e.toString()}),e}function nm(n,e){return hy(n.databaseId,e.path)}function Eg(n,e){const t=DS(e);if(t.get(1)!==n.databaseId.projectId)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(PS(t))}function NS(n,e){return hy(n.databaseId,e)}function Z9(n){const e=DS(n);return e.length===4?kt.emptyPath():PS(e)}function rm(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PS(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jw(n,e,t){return{name:nm(n,e),fields:t.value.mapValue.fields}}function J9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(mt(p===void 0||typeof p=="string",58123),Fn.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Fn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?he.UNKNOWN:SS(h.code);return new be(p,h.message||"")}(s);t=new RS(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Eg(n,r.document.name),a=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):Fe.min(),u=new fr({mapValue:{fields:r.document.fields}}),c=Xn.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Rd(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Eg(n,r.document),a=r.readTime?Di(r.readTime):Fe.min(),s=Xn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Rd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Eg(n,r.document),a=r.removedTargetIds||[];t=new Rd([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new H9(i,a),u=r.targetId;t=new IS(u,s)}}return t}function eP(n,e){let t;if(e instanceof wf)t={update:jw(n,e.key,e.value)};else if(e instanceof I0)t={delete:nm(n,e.key)};else if(e instanceof Do)t={update:jw(n,e.key,e.data),updateMask:uP(e.fieldMask)};else{if(!(e instanceof U9))return Be(16599,{ft:e.type});t={verify:nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof $d)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qd)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Q9(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function tP(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Di(i.updateTime):Di(a);return s.isEqual(Fe.min())&&(s=Di(a)),new B9(s,i.transformResults||[])}(t,e))):[]}function nP(n,e){return{documents:[NS(n,e.path)]}}function rP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NS(n,i);const a=function(h){if(h.length!==0)return LS(Mi.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Fl(y.field),direction:oP(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=em(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function iP(n){let e=Z9(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const y=MS(g);return y instanceof Mi&&fS(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(y=>function(E){return new Yd(Ul(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,x0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(g){const y=!!g.before,_=g.values||[];return new Kd(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const y=!g.before,_=g.values||[];return new Kd(_,y)}(t.endAt)),A9(e,i,s,a,u,"F",c,h)}function aP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ul(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ul(t.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ul(t.unaryFilter.field);return dn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ul(t.unaryFilter.field);return dn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Ul(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mi.create(t.compositeFilter.filters.map(r=>MS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function oP(n){return W9[n]}function sP(n){return K9[n]}function lP(n){return Y9[n]}function Fl(n){return{fieldPath:n.canonicalString()}}function Ul(n){return Bn.fromServerFormat(n.fieldPath)}function LS(n){return n instanceof dn?function(t){if(t.op==="=="){if(Iw(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NAN"}};if(Sw(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Iw(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NAN"}};if(Sw(t.value))return{unaryFilter:{field:Fl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(t.field),op:sP(t.op),value:t.value}}}(n):n instanceof Mi?function(t){const r=t.getFilters().map(i=>LS(i));return r.length===1?r[0]:{compositeFilter:{op:lP(t.op),filters:r}}}(n):Be(54877,{filter:n})}function uP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r,i,a=Fe.min(),s=Fe.min(),u=Fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.wt=e}}function fP(n){const e=iP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Cn=new dP}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(_o.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class dP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class cr{static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(BS,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new nu(0)}static lr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LruGarbageCollector",pP=1048576;function Gw([n,e],[t,r]){const i=Ye(n,t);return i===0?Ye(e,r):i}class gP{constructor(e){this.Er=e,this.buffer=new vn(Gw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Gw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(Hw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pu(t)?_e(Hw,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.mr(3e5)})}}class mP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(_0.le);const r=new gP(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(zw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Bl()<=et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function yP(n,e){return new mP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qc(r.mutation,i,Cr.empty(),en.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Vc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=_a();const s=$c(),u=function(){return $c()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Do)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Qc(p.mutation,h,p.mutation.getFieldMask(),en.now())):s.set(h.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var g;return u.set(h,new xP(p,(g=s.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$c();let i=new Ut((s,u)=>s-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||Cr.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=_S();p.forEach(y=>{if(!a.has(y)){const _=CS(t.get(y),r.get(y));_!==null&&g.set(y,_),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):T9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):fe.resolve(ws());let u=nf,c=a;return s.next(h=>fe.forEach(h,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,tt())).next(p=>({batchId:u,changes:yS(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Vc();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,c=>{const h=function(g,y){return new w0(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,Xn.newInvalidDocument(p)))});let u=Vc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Qc(p.mutation,h,Cr.empty(),en.now()),C0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:fP(i.bundledQuery),readTime:Di(i.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.overlays=new Ut(Ne.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ws();return fe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=ws(),a=t.length+1,s=new Ne(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ut((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=ws(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ws(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return fe.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new z9(t,r));let a=this.Qr.get(t);a===void 0&&(a=tt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.$r=new vn(bn.Ur),this.Kr=new vn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new bn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new bn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1);let a=tt();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new bn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ne.comparator(e.key,t.key)||Ye(e.Zr,t.Zr)}static Wr(e,t){return Ye(e.Zr,t.Zr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new vn(bn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new j9(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new bn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?iy:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ye);return t.forEach(i=>{const a=new bn(i,0),s=new bn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const s=new bn(new Ne(a),0);let u=new vn(Ye);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),fe.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(t.mutations,i=>{const a=new bn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new bn(t,0),i=this.Xr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.ii=e,this.docs=function(){return new Ut(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=_a();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=_a();const s=t.path,u=new Ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||t9(e9(p),r)<=0||(i.has(p.key)||C0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Be(9500)}si(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SP(this)}getSize(e){return fe.resolve(this.size)}}class SP extends _P{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.persistence=e,this.oi=new Bs(t=>sy(t),ly),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this._i=0,this.ai=new dy,this.targetCount=0,this.ui=nu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new nu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.ci={},this.overlays={},this.li=new _0(0),this.hi=!1,this.hi=!0,this.Pi=new TP,this.referenceDelegate=e(this),this.Ti=new IP(this),this.indexManager=new hP,this.remoteDocumentCache=function(i){return new bP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cP(t),this.Ei=new wP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new CP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new RP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class RP extends r9{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Vi=new dy,this.mi=null}static fi(e){return new py(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const i=Ne.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Fe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Jd{constructor(e,t){this.persistence=e,this.yi=new Bs(r=>o9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=yP(this,t)}static fi(e,t){return new Jd(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?fe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bd(e.data.value)),t}Dr(e,t,r){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=tt(),i=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gy(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cO()?8:i9(Kn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new OP;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Bl()<=et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Bl()<=et.DEBUG&&_e("QueryEngine","Query:",Vl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Bl()<=et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):fe.resolve())}ws(e,t){if(Nw(t))return fe.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Jv(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=tt(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,Jv(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return Nw(t)||i.isEqual(Fe.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?fe.resolve(null):(Bl()<=et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vl(t)),this.Fs(e,s,t,J5(i,nf)).next(u=>u))})}vs(e,t){let r=new vn(vS(e));return t.forEach((i,a)=>{C0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Bl()<=et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.ys.getDocumentsMatchingQuery(e,t,_o.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="LocalStore",NP=3e8;class PP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ut(Ye),this.Os=new Bs(a=>sy(a),ly),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function MP(n,e,t,r){return new PP(n,e,t,r)}async function FS(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=tt();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function LP(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const g=h.batch,y=g.keys();let _=fe.resolve();return y.forEach(E=>{_=_.next(()=>p.getEntry(c,E)).next(A=>{const T=h.docVersions.get(E);mt(T!==null,48541),A.version.compareTo(T)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function US(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function kP(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,g)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Fn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(A,T,I){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=NP?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,p)&&u.push(t.Ti.updateTargetData(a,_))});let c=_a(),h=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(BP(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(Fe.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(g=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return fe.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function BP(n,e,t){let r=tt(),i=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=_a();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):_e(vy,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function VP(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FP(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,fe.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new lo(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function im(n,e,t){const r=Ue(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pu(s))throw s;_e(vy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function qw(n,e,t){const r=Ue(n);let i=Fe.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const g=Ue(c),y=g.Os.get(p);return y!==void 0?fe.resolve(g.xs.get(y)):g.Ti.getTargetData(h,p)}(r,s,Oi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Fe.min(),t?a:tt())).next(u=>(UP(r,b9(e),u),{documents:u,$s:a})))}function UP(n,e,t){let r=n.Ns.get(e)||Fe.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Xw{constructor(){this.activeTargetIds=N9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jP{constructor(){this.xo=new Xw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Xw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="ConnectivityMonitor";class Kw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function am(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="RestConnection",HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Xd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=am(),u=this.jo(e,t.toUriEncodedString());_e(wg,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=pf(h);return this.Jo(e,u,c,r,p).then(g=>(_e(wg,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Zl(wg,`RPC '${e}' ${s} failed with error: `,g,"url: ",u,"request:",r),g})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=HP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class XP extends GP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=am();return new Promise((u,c)=>{const h=new Gb;h.setWithCredentials(!0),h.listenOnce(qb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cd.NO_ERROR:const g=h.getResponseJson();_e(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),u(g);break;case Cd.TIMEOUT:_e(Hn,`RPC '${e}' ${s} timed out`),c(new be(he.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const y=h.getStatus();if(_e(Hn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN}(E.status);c(new be(A,E.message))}else c(new be(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(Hn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);_e(Hn,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=am(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kb(),u=Wb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");_e(Hn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=s.createWebChannel(p,c);let y=!1,_=!1;const E=new qP({Zo:T=>{_?_e(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(_e(Hn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),_e(Hn,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Xo:()=>g.close()}),A=(T,I,R)=>{T.listen(I,D=>{try{R(D)}catch(B){setTimeout(()=>{throw B},0)}})};return A(g,Bc.EventType.OPEN,()=>{_||(_e(Hn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),A(g,Bc.EventType.CLOSE,()=>{_||(_=!0,_e(Hn,`RPC '${e}' stream ${i} transport closed`),E.u_())}),A(g,Bc.EventType.ERROR,T=>{_||(_=!0,Zl(Hn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),E.u_(new be(he.UNAVAILABLE,"The operation could not be completed")))}),A(g,Bc.EventType.MESSAGE,T=>{var I;if(!_){const R=T.data[0];mt(!!R,16349);const D=R,B=(D==null?void 0:D.error)||((I=D[0])===null||I===void 0?void 0:I.error);if(B){_e(Hn,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let H=function(N){const V=Jt[N];if(V!==void 0)return SS(V)}(j),O=B.message;H===void 0&&(H=he.INTERNAL,O="Unknown error status: "+j+" with message "+B.message),_=!0,E.u_(new be(H,O)),g.close()}else _e(Hn,`RPC '${e}' stream ${i} received:`,R),E.c_(R)}}),A(u,Xb.STAT_EVENT,T=>{T.stat===Wv.PROXY?_e(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Wv.NOPROXY&&_e(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function Ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n){return new $9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="PersistentStream";class zS{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new jS(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ya(t.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new be(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return _e(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(_e(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WP extends zS{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=J9(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Di(s.readTime):Fe.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=rm(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=Zv(c)?{documents:nP(a,c)}:{query:rP(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=OS(a,s.resumeToken);const h=em(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Zd(a,s.snapshotVersion.toTimestamp());const h=em(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=aP(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.L_(t)}}class KP extends zS{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=tP(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=rm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eP(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{}class $P extends YP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,tm(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(he.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,tm(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(he.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class QP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ya(t),this.oa=!1):_e("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class ZP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{Vs(this)&&(_e(Os,"Restarting streams for network reachability change."),await async function(c){const h=Ue(c);h.Ta.add(4),await Tf(h),h.da.set("Unknown"),h.Ta.delete(4),await D0(h)}(this))})}),this.da=new QP(r,i)}}async function D0(n){if(Vs(n))for(const e of n.Ia)await e(!0)}async function Tf(n){for(const e of n.Ia)await e(!1)}function HS(n,e){const t=Ue(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),xy(t)?_y(t):gu(t).M_()&&yy(t,e))}function my(n,e){const t=Ue(n),r=gu(t);t.Pa.delete(e),r.M_()&&GS(t,e),t.Pa.size===0&&(r.M_()?r.N_():Vs(t)&&t.da.set("Unknown"))}function yy(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(n).H_(e)}function GS(n,e){n.Aa.Ke(e),gu(n).J_(e)}function _y(n){n.Aa=new X9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),gu(n).start(),n.da._a()}function xy(n){return Vs(n)&&!gu(n).F_()&&n.Pa.size>0}function Vs(n){return Ue(n).Ta.size===0}function qS(n){n.Aa=void 0}async function JP(n){n.da.set("Online")}async function eM(n){n.Pa.forEach((e,t)=>{yy(n,e)})}async function tM(n,e){qS(n),xy(n)?(n.da.ca(e),_y(n)):n.da.set("Unknown")}async function nM(n,e,t){if(n.da.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){_e(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e0(n,r)}else if(e instanceof Rd?n.Aa.Xe(e):e instanceof IS?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Fe.min()))try{const r=await US(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(Fn.EMPTY_BYTE_STRING,p.snapshotVersion)),GS(a,c);const g=new lo(p.target,c,h,p.sequenceNumber);yy(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){_e(Os,"Failed to raise snapshot:",r),await e0(n,r)}}async function e0(n,e,t){if(!pu(e))throw e;n.Ta.add(1),await Tf(n),n.da.set("Offline"),t||(t=()=>US(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Os,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await D0(n)})}function XS(n,e){return e().catch(t=>e0(n,t,e))}async function N0(n){const e=Ue(n),t=Ao(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:iy;for(;rM(e);)try{const i=await VP(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,iM(e,i)}catch(i){await e0(e,i)}WS(e)&&KS(e)}function rM(n){return Vs(n)&&n.ha.length<10}function iM(n,e){n.ha.push(e);const t=Ao(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function WS(n){return Vs(n)&&!Ao(n).F_()&&n.ha.length>0}function KS(n){Ao(n).start()}async function aM(n){Ao(n).ta()}async function oM(n){const e=Ao(n);for(const t of n.ha)e.Z_(t.mutations)}async function sM(n,e,t){const r=n.ha.shift(),i=cy.from(r,e,t);await XS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await N0(n)}async function lM(n,e){e&&Ao(n).Y_&&await async function(r,i){if(function(s){return G9(s)&&s!==he.ABORTED}(i.code)){const a=r.ha.shift();Ao(r).O_(),await XS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await N0(r)}}(n,e),WS(n)&&KS(n)}async function $w(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),_e(Os,"RemoteStore received new credentials");const r=Vs(t);t.Ta.add(3),await Tf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await D0(t)}async function uM(n,e){const t=Ue(n);e?(t.Ta.delete(2),await D0(t)):e||(t.Ta.add(2),await Tf(t),t.da.set("Unknown"))}function gu(n){return n.Ra||(n.Ra=function(t,r,i){const a=Ue(t);return a.ra(),new WP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:JP.bind(null,n),n_:eM.bind(null,n),i_:tM.bind(null,n),j_:nM.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),xy(n)?_y(n):n.da.set("Unknown")):(await n.Ra.stop(),qS(n))})),n.Ra}function Ao(n){return n.Va||(n.Va=function(t,r,i){const a=Ue(t);return a.ra(),new KP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:aM.bind(null,n),i_:lM.bind(null,n),X_:oM.bind(null,n),ea:sM.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await N0(n)):(await n.Va.stop(),n.ha.length>0&&(_e(Os,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new Ey(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(ya("AsyncQueue",`${e}: ${n}`),pu(n))return new be(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=Vc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.ma=new Ut(Ne.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class ru{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new ru(e,t,Xl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class fM{constructor(){this.queries=Zw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=Zw(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new be(he.ABORTED,"Firestore shutting down"))}}function Zw(){return new Bs(n=>gS(n),T0)}async function YS(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new cM,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=wy(s,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Ay(t)}async function $S(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function hM(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&Ay(t)}function dM(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function Ay(n){n.ba.forEach(e=>{e.next()})}var om,Jw;(Jw=om||(om={})).Ca="default",Jw.Cache="cache";class QS{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class pM{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=vS(e),this.Ja=new Xl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Qw,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),_=C0(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;y&&_?y.data.isEqual(_.data)?E!==A&&(r.track({type:3,doc:_}),T=!0):this.eu(y,_)||(r.track({type:2,doc:_}),T=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),T=!0):y&&!_&&(r.track({type:1,doc:y}),T=!0,(c||h)&&(u=!0)),T&&(_?(s=s.add(_),a=A?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,g)=>function(_,E){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:T})}};return A(_)-A(E)}(p.type,g.type)||this.Ha(p.doc,g.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new ru(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new JS(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new ZS(r))}),t}su(e){this.Ga=e.$s,this.ja=tt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ru.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ty="SyncEngine";class gM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vM{constructor(e){this.key=e,this._u=!1}}class mM{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Bs(u=>gS(u),T0),this.cu=new Map,this.lu=new Set,this.hu=new Ut(Ne.comparator),this.Pu=new Map,this.Tu=new dy,this.Iu={},this.Eu=new Map,this.du=nu.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function yM(n,e,t=!0){const r=a3(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await e3(r,e,t,!0),i}async function _M(n,e){const t=a3(n);await e3(t,e,!0,!1)}async function e3(n,e,t,r){const i=await FP(n.localStore,Oi(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await xM(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&HS(n.remoteStore,i),u}async function xM(n,e,t,r,i){n.Ru=(g,y,_)=>async function(A,T,I,R){let D=T.view.Za(I);D.Cs&&(D=await qw(A.localStore,T.query,!1).then(({documents:O})=>T.view.Za(O,D)));const B=R&&R.targetChanges.get(T.targetId),j=R&&R.targetMismatches.get(T.targetId)!=null,H=T.view.applyChanges(D,A.isPrimaryClient,B,j);return tA(A,T.targetId,H.ru),H.snapshot}(n,g,y,_);const a=await qw(n.localStore,e,!0),s=new pM(e,a.$s),u=s.Za(a.documents),c=Af.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);tA(n,t,h.ru);const p=new gM(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function EM(n,e,t){const r=Ue(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!T0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&my(r.remoteStore,i.targetId),sm(r,i.targetId)}).catch(du)):(sm(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function wM(n,e){const t=Ue(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),my(t.remoteStore,r.targetId))}async function AM(n,e,t){const r=OM(n);try{const i=await function(s,u){const c=Ue(s),h=en.now(),p=u.reduce((_,E)=>_.add(E.key),tt());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=_a(),A=tt();return c.Bs.getEntries(_,p).next(T=>{E=T,E.forEach((I,R)=>{R.isValidDocument()||(A=A.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(T=>{g=T;const I=[];for(const R of u){const D=F9(R,g.get(R.key).overlayedDocument);D!=null&&I.push(new Do(R.key,D,lS(D.value.mapValue),ir.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,I,u)}).next(T=>{y=T;const I=T.applyToLocalDocumentSet(g,A);return c.documentOverlayCache.saveOverlays(_,T.batchId,I)})}).then(()=>({batchId:y.batchId,changes:yS(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new Ut(Ye)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await Cf(r,i.changes),await N0(r.remoteStore)}catch(i){const a=wy(i,"Failed to persist write");t.reject(a)}}async function t3(n,e){const t=Ue(n);try{const r=await kP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?mt(s._u,14607):i.removedDocuments.size>0&&(mt(s._u,42227),s._u=!1))}),await Cf(t,r,e)}catch(r){await du(r)}}function eA(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ue(s);c.onlineState=u;let h=!1;c.queries.forEach((p,g)=>{for(const y of g.ya)y.Da(u)&&(h=!0)}),h&&Ay(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TM(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new Ut(Ne.comparator);s=s.insert(a,Xn.newNoDocument(a,Fe.min()));const u=tt().add(a),c=new R0(Fe.min(),new Map,new Ut(Ye),s,u);await t3(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),Cy(r)}else await im(r.localStore,e,!1).then(()=>sm(r,e,t)).catch(du)}async function CM(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await LP(t.localStore,e);r3(t,r,null),n3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(t,i)}catch(i){await du(i)}}async function bM(n,e,t){const r=Ue(n);try{const i=await function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(mt(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);r3(r,e,t),n3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cf(r,i)}catch(i){await du(i)}}function n3(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function r3(n,e,t){const r=Ue(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||i3(n,r)})}function i3(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(my(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Cy(n))}function tA(n,e,t){for(const r of t)r instanceof ZS?(n.Tu.addReference(r.key,e),SM(n,r)):r instanceof JS?(_e(Ty,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||i3(n,r.key)):Be(19791,{mu:r})}function SM(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(_e(Ty,"New document in limbo: "+t),n.lu.add(r),Cy(n))}function Cy(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Ne(kt.fromString(e)),r=n.du.next();n.Pu.set(r,new vM(t)),n.hu=n.hu.insert(t,r),HS(n.remoteStore,new lo(Oi(A0(t.path)),r,"TargetPurposeLimboResolution",_0.le))}}async function Cf(n,e,t){const r=Ue(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=gy.Rs(c.targetId,h);a.push(g)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=Ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(h,y=>fe.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>fe.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!pu(g))throw g;_e(vy,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const _=p.xs.get(y),E=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(y,A)}}}(r.localStore,a))}async function IM(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){_e(Ty,"User change. New user:",e.toKey());const r=await FS(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new be(he.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(t,r.ks)}}function RM(n,e){const t=Ue(n),r=t.Pu.get(e);if(r&&r._u)return tt().add(r.key);{let i=tt();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function a3(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=t3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.au.j_=hM.bind(null,e.eventManager),e.au.Vu=dM.bind(null,e.eventManager),e}function OM(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bM.bind(null,e),e}class t0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=O0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return MP(this.persistence,new DP,e.initialUser,this.serializer)}yu(e){return new VS(py.fi,this.serializer)}pu(e){return new jP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}t0.provider={build:()=>new t0};class DM extends t0{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){mt(this.persistence.referenceDelegate instanceof Jd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vP(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new VS(r=>Jd.fi(r,t),this.serializer)}}class lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fM}()}createDatastore(e){const t=O0(e.databaseInfo.databaseId),r=function(a){return new XP(a)}(e.databaseInfo);return function(a,s,u,c){return new $P(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new ZP(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>eA(this.syncEngine,t,0),function(){return Kw.C()?new Kw:new zP}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const g=new mM(i,a,s,u,c,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);_e(Os,"RemoteStore shutting down."),a.Ta.add(5),await Tf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="FirestoreClient";class NM{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=Zb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{_e(To,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(_e(To,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=wy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tg(n,e){n.asyncQueue.verifyOperationInProgress(),_e(To,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PM(n);_e(To,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$w(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$w(e.remoteStore,i)),n._onlineComponents=e}async function PM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(To,"Using user provided OfflineComponentProvider");try{await Tg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await Tg(n,new t0)}}else _e(To,"Using default OfflineComponentProvider"),await Tg(n,new DM(void 0));return n._offlineComponents}async function s3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(To,"Using user provided OnlineComponentProvider"),await nA(n,n._uninitializedComponentsProvider._online)):(_e(To,"Using default OnlineComponentProvider"),await nA(n,new lm))),n._onlineComponents}function MM(n){return s3(n).then(e=>e.syncEngine)}async function um(n){const e=await s3(n),t=e.eventManager;return t.onListen=yM.bind(null,e.syncEngine),t.onUnlisten=EM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_M.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wM.bind(null,e.syncEngine),t}function LM(n,e,t={}){const r=new po;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,h){const p=new o3({next:y=>{p.Cu(),s.enqueueAndForget(()=>$S(a,g));const _=y.docs.has(u);!_&&y.fromCache?h.reject(new be(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?h.reject(new be(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new QS(A0(u.path),p,{includeMetadataChanges:!0,La:!0});return YS(a,g)}(await um(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n,e,t){if(!t)throw new be(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kM(n,e,t,r){if(e===!0&&r===!0)throw new be(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iA(n){if(!Ne.isDocumentKey(n))throw new be(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aA(n){if(Ne.isDocumentKey(n))throw new be(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function by(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(n);throw new be(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firestore.googleapis.com",oA=!0;class sA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c3,this.ssl=oA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:oA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pP)throw new be(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G5;switch(r.type){case"firstParty":return new K5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=rA.get(t);r&&(_e("ComponentProvider","Removing Datastore"),rA.delete(t),r.terminate())}(this),Promise.resolve()}}function BM(n,e,t,r={}){var i;n=br(n,P0);const a=pf(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(nb(`https://${c}`),rb("Firestore",!0)),s.host!==c3&&s.host!==c&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!Cs(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=qn.MOCK_USER;else{p=tO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new be(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new qn(y)}n._authCredentials=new q5(new $b(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new M0(this.firestore,e,this._query)}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class go extends M0{constructor(e,t,r){super(e,t,A0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Ne(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function Cg(n,e,...t){if(n=tn(n),u3("collection","path",e),n instanceof P0){const r=kt.fromString(e,...t);return aA(r),new go(n,null,r)}{if(!(n instanceof ar||n instanceof go))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return aA(r),new go(n.firestore,null,r)}}function _s(n,e,...t){if(n=tn(n),arguments.length===1&&(e=Zb.newId()),u3("doc","path",e),n instanceof P0){const r=kt.fromString(e,...t);return iA(r),new ar(n,null,new Ne(r))}{if(!(n instanceof ar||n instanceof go))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return iA(r),new ar(n.firestore,n instanceof go?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="AsyncQueue";class uA{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new jS(this,"async_queue_retry"),this.ec=()=>{const r=Ag();r&&_e(lA,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Ag();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Ag();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new po;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!pu(e))throw e;_e(lA,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ya("INTERNAL UNHANDLED ERROR: ",cA(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=Ey.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&Be(47125,{_c:cA(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function cA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class xa extends P0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function VM(n,e){const t=typeof n=="object"?n:sb(),r=typeof n=="string"?n:Xd,i=Xm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=J6("firestore");a&&BM(i,...a)}return i}function L0(n){if(n._terminated)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FM(n),n._firestoreClient}function FM(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new u9(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,l3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new NM(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Fn.fromBase64String(e))}catch(t){throw new be(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class jM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Do(e,this.data,this.fieldMask,t,this.fieldTransforms):new wf(e,this.data,t,this.fieldTransforms)}}class f3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Do(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function h3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:n})}}class Oy{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return n0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(h3(this.hc)&&UM.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class zM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||O0(e)}gc(e,t,r,i=!1){return new Oy({hc:e,methodName:t,fc:r,path:Bn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k0(n){const e=n._freezeSettings(),t=O0(n._databaseId);return new zM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dy(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);Ny("Data must be an object, but it was:",s,r);const u=g3(r,s);let c,h;if(a.merge)c=new Cr(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=cm(e,g,t);if(!s.contains(y))throw new be(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);m3(p,y)||p.push(y)}c=new Cr(p),h=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=s.fieldTransforms;return new jM(new fr(u),c,h)}class B0 extends Sy{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof B0}}function d3(n,e,t,r){const i=n.gc(1,e,t);Ny("Data must be an object, but it was:",i,r);const a=[],s=fr.empty();Oo(r,(c,h)=>{const p=Py(e,c,t);h=tn(h);const g=i.Ac(p);if(h instanceof B0)a.push(p);else{const y=V0(h,g);y!=null&&(a.push(p),s.set(p,y))}});const u=new Cr(a);return new f3(s,u,i.fieldTransforms)}function p3(n,e,t,r,i,a){const s=n.gc(1,e,t),u=[cm(e,r,t)],c=[i];if(a.length%2!=0)throw new be(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(cm(e,a[y])),c.push(a[y+1]);const h=[],p=fr.empty();for(let y=u.length-1;y>=0;--y)if(!m3(h,u[y])){const _=u[y];let E=c[y];E=tn(E);const A=s.Ac(_);if(E instanceof B0)h.push(_);else{const T=V0(E,A);T!=null&&(h.push(_),p.set(_,T))}}const g=new Cr(h);return new f3(p,g,s.fieldTransforms)}function V0(n,e){if(v3(n=tn(n)))return Ny("Unsupported field value:",e,n),g3(n,e);if(n instanceof Sy)return function(r,i){if(!h3(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=V0(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=en.fromDate(r);return{timestampValue:Zd(i.serializer,a)}}if(r instanceof en){const a=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zd(i.serializer,a)}}if(r instanceof Iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof iu)return{bytesValue:OS(i.serializer,r._byteString)};if(r instanceof ar){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ry)return function(s,u){return{mapValue:{fields:{[oS]:{stringValue:sS},[Wd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return uy(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${by(r)}`)}(n,e)}function g3(n,e){const t={};return eS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(n,(r,i)=>{const a=V0(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function v3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof en||n instanceof Iy||n instanceof iu||n instanceof ar||n instanceof Sy||n instanceof Ry)}function Ny(n,e,t){if(!v3(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=by(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function cm(n,e,t){if((e=tn(e))instanceof bf)return e._internalPath;if(typeof e=="string")return Py(n,e);throw n0("Field path arguments must be of type string or ",n,!1,void 0,t)}const HM=new RegExp("[~\\*/\\[\\]]");function Py(n,e,t){if(e.search(HM)>=0)throw n0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bf(...e.split("."))._internalPath}catch{throw n0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function n0(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new be(he.INVALID_ARGUMENT,u+n+c)}function m3(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_3("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GM extends y3{data(){return super.data()}}function _3(n,e){return typeof e=="string"?Py(n,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XM{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Oo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Wd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Kt(s.doubleValue));return new Ry(a)}convertGeoPoint(e){return new Iy(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=E0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const t=xo(e);return new en(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);mt(kS(r),9688,{name:e});const i=new af(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return i.isEqual(t)||ya(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x3 extends y3{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Od extends x3{data(e={}){return super.data(e)}}class WM{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Od(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Uc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Uc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),p=s.indexOf(u.doc.key)),{type:KM(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){n=br(n,ar);const e=br(n.firestore,xa);return LM(L0(e),n._key).then(t=>w3(e,n,t))}class E3 extends XM{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function YM(n,e,t){n=br(n,ar);const r=br(n.firestore,xa),i=My(n.converter,e,t);return Sf(r,[Dy(k0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ir.none())])}function $M(n,e,t,...r){n=br(n,ar);const i=br(n.firestore,xa),a=k0(i);let s;return s=typeof(e=tn(e))=="string"||e instanceof bf?p3(a,"updateDoc",n._key,e,t,r):d3(a,"updateDoc",n._key,e),Sf(i,[s.toMutation(n._key,ir.exists(!0))])}function QM(n){return Sf(br(n.firestore,xa),[new I0(n._key,ir.none())])}function ZM(n,e){const t=br(n.firestore,xa),r=_s(n),i=My(n.converter,e);return Sf(t,[Dy(k0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function JM(n,...e){var t,r,i;n=tn(n);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fA(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(fA(e[s])){const g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,h,p;if(n instanceof ar)h=br(n.firestore,xa),p=A0(n._key.path),c={next:g=>{e[s]&&e[s](w3(h,n,g))},error:e[s+1],complete:e[s+2]};else{const g=br(n,M0);h=br(g.firestore,xa),p=g._query;const y=new E3(h);c={next:_=>{e[s]&&e[s](new WM(h,y,g,_))},error:e[s+1],complete:e[s+2]},qM(n._query)}return function(y,_,E,A){const T=new o3(A),I=new QS(_,T,E);return y.asyncQueue.enqueueAndForget(async()=>YS(await um(y),I)),()=>{T.Cu(),y.asyncQueue.enqueueAndForget(async()=>$S(await um(y),I))}}(L0(h),p,u,c)}function Sf(n,e){return function(r,i){const a=new po;return r.asyncQueue.enqueueAndForget(async()=>AM(await MM(r),i,a)),a.promise}(L0(n),e)}function w3(n,e,t){const r=t.docs.get(e._key),i=new E3(n);return new x3(n,i,e._key,r,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=k0(e)}set(e,t,r){this._verifyNotCommitted();const i=bg(e,this._firestore),a=My(i.converter,t,r),s=Dy(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,ir.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=bg(e,this._firestore);let s;return s=typeof(t=tn(t))=="string"||t instanceof bf?p3(this._dataReader,"WriteBatch.update",a._key,t,r,i):d3(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bg(e,this._firestore);return this._mutations=this._mutations.concat(new I0(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bg(n,e){if((n=tn(n)).firestore!==e)throw new be(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(n){return L0(n=br(n,xa)),new e7(n,e=>Sf(n,e))}(function(e,t=!0){(function(i){hu=i})(cu),Ql(new bs("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new xa(new X5(r.getProvider("auth-internal")),new Y5(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),fo(gw,vw,e),fo(gw,vw,"esm2017")})();var n7="firebase",r7="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(n7,r7,"app");const i7={apiKey:"AIzaSyCwHxUq7fezJtFU3TyNbTLXgBuuNUVpHXs",authDomain:"pantrypal-870fb.firebaseapp.com",projectId:"pantrypal-870fb",storageBucket:"pantrypal-870fb.firebasestorage.app",messagingSenderId:"658487444064",appId:"1:658487444064:web:790169c5956992a2c33905"},A3=ob(i7),Nl=z5(A3),ca=VM(A3),T3=L.createContext({userId:null,isAuthReady:!1,data:[],createData:async()=>{},createMultipleData:async()=>{},signInWithGoogle:async()=>{},signInWithEmail:async()=>{},signUpWithEmail:async()=>{},signOut:async()=>{},updateData:()=>{},upsertData:()=>{},deleteData:()=>{},getData:()=>{},getDataById:async()=>null,user:null}),gs="pantry-pal-app";function a7({children:n}){const[e,t]=L.useState(null),[r,i]=L.useState(null),[a,s]=L.useState(!1),[u,c]=L.useState([]);L.useEffect(()=>{const H=DN(Nl,async O=>{if(O){console.log("user identified");const b=_s(ca,"allowed_users",O.email),N=await hA(b);console.log("got user doc"),N.exists()?(i(O),t(O.uid)):(console.error(`Unauthorized user signed in: ${O.email}. Signing out.`),await iw(Nl),i(null),t(null))}else i(null),t(null);s(!0)});return()=>H()},[]);const h=new fa,p=async()=>{try{await QN(Nl,h)}catch(H){throw console.error("Sign-in failed:",H),H}},g=(H,O)=>IN(Nl,H,O).then(()=>{}),y=(H,O)=>SN(Nl,H,O).then(()=>{}),_=()=>iw(Nl);function E(H){if(!e)return;const O=Cg(ca,`artifacts/${gs}/users/${e}/${H}`);return JM(O,N=>{const V=N.docs.map(z=>({id:z.id,...z.data()}));c(V)},N=>{console.error("Error fetching items:",N)})}async function A(H,O){if(!e)return;const b=_s(ca,`artifacts/${gs}/users/${e}/${H}`,O),N=await hA(b);return N.exists()?N.data():(console.log("No such document!"),null)}async function T(H,O){if(!e)return;const b=Cg(ca,`artifacts/${gs}/users/${e}/${O}`);await ZM(b,{...H,createdAt:new Date})}async function I(H,O){if(!e||H.length===0)return;const b=t7(ca),N=Cg(ca,`artifacts/${gs}/users/${e}/${O}`);H.forEach(V=>{const z=_s(N);b.set(z,{...V,createdDate:new Date})}),await b.commit()}async function R(H,O,b){if(!b||!e)return;const N=_s(ca,`artifacts/${gs}/users/${e}/${O}`,b);await $M(N,{...H})}async function D(H,O,b){if(!b||!e)return;const N=_s(ca,`artifacts/${gs}/users/${e}/${O}`,b);await YM(N,{...H},{merge:!0})}async function B(H,O){if(!O||!e)return;const b=_s(ca,`artifacts/${gs}/users/${e}/${H}`,O);await QM(b)}const j={userId:e,isAuthReady:a,data:u,createData:T,createMultipleData:I,signInWithGoogle:p,signInWithEmail:g,signUpWithEmail:y,signOut:_,updateData:R,upsertData:D,deleteData:B,getData:E,getDataById:A,user:r};return M.jsx(T3.Provider,{value:j,children:n})}function vu(){const n=L.useContext(T3);if(n===null)throw new Error("useFirestore must be used within a DataProvider");return n}function C3({columns:n,data:e,openEditDialog:t,objectType:r}){const{deleteData:i}=vu(),a=async(s,u)=>{s.stopPropagation(),await i(r,u)};return M.jsxs("div",{className:"w-full",children:[M.jsx("div",{className:"hidden sm:block",children:M.jsxs(z6,{children:[M.jsx(H6,{children:M.jsxs(hg,{children:[n.map((s,u)=>{var c;return M.jsx(kE,{children:s.header},((c=s.accessorKey)==null?void 0:c.toString())||u)}),M.jsx(kE,{className:"text-right",children:"Actions"})]})}),M.jsx(G6,{children:e.length?e.map(s=>M.jsxs(hg,{onClick:()=>t(s),className:"cursor-pointer hover:bg-gray-50",children:[n.map((u,c)=>{var h;return M.jsx(dg,{children:u.accessorFn?u.accessorFn(s):String(s[u.accessorKey]??"")},((h=u.accessorKey)==null?void 0:h.toString())||c)}),M.jsx(dg,{className:"text-right",children:M.jsx(rr,{variant:"destructive",size:"sm",onClick:u=>a(u,String(s.id)),children:"Delete"})})]},s.id)):M.jsx(hg,{children:M.jsx(dg,{colSpan:n.length+1,className:"text-center",children:"No data available."})})})]})}),M.jsxs("div",{className:"block sm:hidden space-y-4",children:[e.map(s=>M.jsxs("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm",children:[M.jsx("div",{onClick:()=>t(s),className:"space-y-3 mb-4",children:n.map((u,c)=>M.jsxs("div",{className:"flex justify-between items-start text-sm",children:[M.jsx("span",{className:"font-semibold text-muted-foreground",children:u.header}),M.jsx("span",{className:"text-right break-all",children:u.accessorFn?u.accessorFn(s):String(s[u.accessorKey]??"")})]},c))}),M.jsx("div",{className:"flex justify-end border-t pt-4",children:M.jsx(rr,{variant:"destructive",size:"sm",onClick:u=>a(u,String(s.id)),children:"Delete"})})]},s.id)),e.length===0&&M.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No data available."})]})]})}function o7(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n);L.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var s7="DismissableLayer",fm="dismissableLayer.update",l7="dismissableLayer.pointerDownOutside",u7="dismissableLayer.focusOutside",dA,b3=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F0=L.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:u,...c}=n,h=L.useContext(b3),[p,g]=L.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=L.useState({}),E=Vt(e,O=>g(O)),A=Array.from(h.layers),[T]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),I=A.indexOf(T),R=p?A.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,B=R>=I,j=h7(O=>{const b=O.target,N=[...h.branches].some(V=>V.contains(b));!B||N||(i==null||i(O),s==null||s(O),O.defaultPrevented||u==null||u())},y),H=d7(O=>{const b=O.target;[...h.branches].some(V=>V.contains(b))||(a==null||a(O),s==null||s(O),O.defaultPrevented||u==null||u())},y);return o7(O=>{R===h.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},y),L.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(dA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),pA(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=dA)}},[p,y,t,h]),L.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),pA())},[p,h]),L.useEffect(()=>{const O=()=>_({});return document.addEventListener(fm,O),()=>document.removeEventListener(fm,O)},[]),M.jsx(st.div,{...c,ref:E,style:{pointerEvents:D?B?"auto":"none":void 0,...n.style},onFocusCapture:qe(n.onFocusCapture,H.onFocusCapture),onBlurCapture:qe(n.onBlurCapture,H.onBlurCapture),onPointerDownCapture:qe(n.onPointerDownCapture,j.onPointerDownCapture)})});F0.displayName=s7;var c7="DismissableLayerBranch",f7=L.forwardRef((n,e)=>{const t=L.useContext(b3),r=L.useRef(null),i=Vt(e,r);return L.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),M.jsx(st.div,{...n,ref:i})});f7.displayName=c7;function h7(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n),r=L.useRef(!1),i=L.useRef(()=>{});return L.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let c=function(){S3(l7,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function d7(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n),r=L.useRef(!1);return L.useEffect(()=>{const i=a=>{a.target&&!r.current&&S3(u7,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pA(){const n=new CustomEvent(fm);document.dispatchEvent(n)}function S3(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?N8(i,a):i.dispatchEvent(a)}var Sg="focusScope.autoFocusOnMount",Ig="focusScope.autoFocusOnUnmount",gA={bubbles:!1,cancelable:!0},p7="FocusScope",Ly=L.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=n,[u,c]=L.useState(null),h=yo(i),p=yo(a),g=L.useRef(null),y=Vt(e,A=>c(A)),_=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(r){let A=function(D){if(_.paused||!u)return;const B=D.target;u.contains(B)?g.current=B:ro(g.current,{select:!0})},T=function(D){if(_.paused||!u)return;const B=D.relatedTarget;B!==null&&(u.contains(B)||ro(g.current,{select:!0}))},I=function(D){if(document.activeElement===document.body)for(const j of D)j.removedNodes.length>0&&ro(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",T);const R=new MutationObserver(I);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",T),R.disconnect()}}},[r,u,_.paused]),L.useEffect(()=>{if(u){mA.add(_);const A=document.activeElement;if(!u.contains(A)){const I=new CustomEvent(Sg,gA);u.addEventListener(Sg,h),u.dispatchEvent(I),I.defaultPrevented||(g7(x7(I3(u)),{select:!0}),document.activeElement===A&&ro(u))}return()=>{u.removeEventListener(Sg,h),setTimeout(()=>{const I=new CustomEvent(Ig,gA);u.addEventListener(Ig,p),u.dispatchEvent(I),I.defaultPrevented||ro(A??document.body,{select:!0}),u.removeEventListener(Ig,p),mA.remove(_)},0)}}},[u,h,p,_]);const E=L.useCallback(A=>{if(!t&&!r||_.paused)return;const T=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,I=document.activeElement;if(T&&I){const R=A.currentTarget,[D,B]=v7(R);D&&B?!A.shiftKey&&I===B?(A.preventDefault(),t&&ro(D,{select:!0})):A.shiftKey&&I===D&&(A.preventDefault(),t&&ro(B,{select:!0})):I===R&&A.preventDefault()}},[t,r,_.paused]);return M.jsx(st.div,{tabIndex:-1,...s,ref:y,onKeyDown:E})});Ly.displayName=p7;function g7(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ro(r,{select:e}),document.activeElement!==t)return}function v7(n){const e=I3(n),t=vA(e,n),r=vA(e.reverse(),n);return[t,r]}function I3(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function vA(n,e){for(const t of n)if(!m7(t,{upTo:e}))return t}function m7(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function y7(n){return n instanceof HTMLInputElement&&"select"in n}function ro(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&y7(n)&&e&&n.select()}}var mA=_7();function _7(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=yA(n,e),n.unshift(e)},remove(e){var t;n=yA(n,e),(t=n[0])==null||t.resume()}}}function yA(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function x7(n){return n.filter(e=>e.tagName!=="A")}var E7="Portal",U0=L.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=L.useState(!1);Wn(()=>a(!0),[]);const s=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return s?O8.createPortal(M.jsx(st.div,{...r,ref:e}),s):null});U0.displayName=E7;var Rg=0;function R3(){L.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??_A()),document.body.insertAdjacentElement("beforeend",n[1]??_A()),Rg++,()=>{Rg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rg--}},[])}function _A(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Dd="right-scroll-bar-position",Nd="width-before-scroll-bar",w7="with-scroll-bars-hidden",A7="--removed-body-scroll-bar-size";function Og(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function T7(n,e){var t=L.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var C7=typeof window<"u"?L.useLayoutEffect:L.useEffect,xA=new WeakMap;function b7(n,e){var t=T7(null,function(r){return n.forEach(function(i){return Og(i,r)})});return C7(function(){var r=xA.get(t);if(r){var i=new Set(r),a=new Set(n),s=t.current;i.forEach(function(u){a.has(u)||Og(u,null)}),a.forEach(function(u){i.has(u)||Og(u,s)})}xA.set(t,n)},[n]),t}function S7(n){return n}function I7(n,e){e===void 0&&(e=S7);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var s=e(a,r);return t.push(s),function(){t=t.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(r=!0;t.length;){var s=t;t=[],s.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var s=[];if(t.length){var u=t;t=[],u.forEach(a),s=t}var c=function(){var p=s;s=[],p.forEach(a)},h=function(){return Promise.resolve().then(c)};h(),t={push:function(p){s.push(p),h()},filter:function(p){return s=s.filter(p),t}}}};return i}function R7(n){n===void 0&&(n={});var e=I7(null);return e.options=bi({async:!0,ssr:!1},n),e}var O3=function(n){var e=n.sideCar,t=mf(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return L.createElement(r,bi({},t))};O3.isSideCarExport=!0;function O7(n,e){return n.useMedium(e),O3}var D3=R7(),Dg=function(){},j0=L.forwardRef(function(n,e){var t=L.useRef(null),r=L.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),i=r[0],a=r[1],s=n.forwardProps,u=n.children,c=n.className,h=n.removeScrollBar,p=n.enabled,g=n.shards,y=n.sideCar,_=n.noRelative,E=n.noIsolation,A=n.inert,T=n.allowPinchZoom,I=n.as,R=I===void 0?"div":I,D=n.gapMode,B=mf(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=y,H=b7([t,e]),O=bi(bi({},B),i);return L.createElement(L.Fragment,null,p&&L.createElement(j,{sideCar:D3,removeScrollBar:h,shards:g,noRelative:_,noIsolation:E,inert:A,setCallbacks:a,allowPinchZoom:!!T,lockRef:t,gapMode:D}),s?L.cloneElement(L.Children.only(u),bi(bi({},O),{ref:H})):L.createElement(R,bi({},O,{className:c,ref:H}),u))});j0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};j0.classNames={fullWidth:Nd,zeroRight:Dd};var D7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N7(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=D7();return e&&n.setAttribute("nonce",e),n}function P7(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function M7(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var L7=function(){var n=0,e=null;return{add:function(t){n==0&&(e=N7())&&(P7(e,t),M7(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k7=function(){var n=L7();return function(e,t){L.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},N3=function(){var n=k7(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},B7={left:0,top:0,right:0,gap:0},Ng=function(n){return parseInt(n||"",10)||0},V7=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Ng(t),Ng(r),Ng(i)]},F7=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return B7;var e=V7(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},U7=N3(),Wl="data-scroll-locked",j7=function(n,e,t,r){var i=n.left,a=n.top,s=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(w7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dd,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Dd," .").concat(Dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(A7,": ").concat(u,`px;
  }
`)},EA=function(){var n=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(n)?n:0},z7=function(){L.useEffect(function(){return document.body.setAttribute(Wl,(EA()+1).toString()),function(){var n=EA()-1;n<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,n.toString())}},[])},H7=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;z7();var a=L.useMemo(function(){return F7(i)},[i]);return L.createElement(U7,{styles:j7(a,!e,i,t?"":"!important")})},hm=!1;if(typeof window<"u")try{var cd=Object.defineProperty({},"passive",{get:function(){return hm=!0,!0}});window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{hm=!1}var Pl=hm?{passive:!1}:!1,G7=function(n){return n.tagName==="TEXTAREA"},P3=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!G7(n)&&t[e]==="visible")},q7=function(n){return P3(n,"overflowY")},X7=function(n){return P3(n,"overflowX")},wA=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=M3(n,r);if(i){var a=L3(n,r),s=a[1],u=a[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},W7=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},K7=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},M3=function(n,e){return n==="v"?q7(e):X7(e)},L3=function(n,e){return n==="v"?W7(e):K7(e)},Y7=function(n,e){return n==="h"&&e==="rtl"?-1:1},$7=function(n,e,t,r,i){var a=Y7(n,window.getComputedStyle(e).direction),s=a*r,u=t.target,c=e.contains(u),h=!1,p=s>0,g=0,y=0;do{if(!u)break;var _=L3(n,u),E=_[0],A=_[1],T=_[2],I=A-T-a*E;(E||I)&&M3(n,u)&&(g+=I,y+=E);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},fd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},AA=function(n){return[n.deltaX,n.deltaY]},TA=function(n){return n&&"current"in n?n.current:n},Q7=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Z7=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},J7=0,Ml=[];function eL(n){var e=L.useRef([]),t=L.useRef([0,0]),r=L.useRef(),i=L.useState(J7++)[0],a=L.useState(N3)[0],s=L.useRef(n);L.useEffect(function(){s.current=n},[n]),L.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=ID([n.lockRef.current],(n.shards||[]).map(TA),!0).filter(Boolean);return A.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=L.useCallback(function(A,T){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!s.current.allowPinchZoom;var I=fd(A),R=t.current,D="deltaX"in A?A.deltaX:R[0]-I[0],B="deltaY"in A?A.deltaY:R[1]-I[1],j,H=A.target,O=Math.abs(D)>Math.abs(B)?"h":"v";if("touches"in A&&O==="h"&&H.type==="range")return!1;var b=wA(O,H);if(!b)return!0;if(b?j=O:(j=O==="v"?"h":"v",b=wA(O,H)),!b)return!1;if(!r.current&&"changedTouches"in A&&(D||B)&&(r.current=j),!j)return!0;var N=r.current||j;return $7(N,T,A,N==="h"?D:B)},[]),c=L.useCallback(function(A){var T=A;if(!(!Ml.length||Ml[Ml.length-1]!==a)){var I="deltaY"in T?AA(T):fd(T),R=e.current.filter(function(j){return j.name===T.type&&(j.target===T.target||T.target===j.shadowParent)&&Q7(j.delta,I)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var D=(s.current.shards||[]).map(TA).filter(Boolean).filter(function(j){return j.contains(T.target)}),B=D.length>0?u(T,D[0]):!s.current.noIsolation;B&&T.cancelable&&T.preventDefault()}}},[]),h=L.useCallback(function(A,T,I,R){var D={name:A,delta:T,target:I,should:R,shadowParent:tL(I)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(B){return B!==D})},1)},[]),p=L.useCallback(function(A){t.current=fd(A),r.current=void 0},[]),g=L.useCallback(function(A){h(A.type,AA(A),A.target,u(A,n.lockRef.current))},[]),y=L.useCallback(function(A){h(A.type,fd(A),A.target,u(A,n.lockRef.current))},[]);L.useEffect(function(){return Ml.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",c,Pl),document.addEventListener("touchmove",c,Pl),document.addEventListener("touchstart",p,Pl),function(){Ml=Ml.filter(function(A){return A!==a}),document.removeEventListener("wheel",c,Pl),document.removeEventListener("touchmove",c,Pl),document.removeEventListener("touchstart",p,Pl)}},[]);var _=n.removeScrollBar,E=n.inert;return L.createElement(L.Fragment,null,E?L.createElement(a,{styles:Z7(i)}):null,_?L.createElement(H7,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function tL(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const nL=O7(D3,eL);var ky=L.forwardRef(function(n,e){return L.createElement(j0,bi({},n,{ref:e,sideCar:nL}))});ky.classNames=j0.classNames;var rL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ll=new WeakMap,hd=new WeakMap,dd={},Pg=0,k3=function(n){return n&&(n.host||k3(n.parentNode))},iL=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=k3(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},aL=function(n,e,t,r){var i=iL(e,Array.isArray(n)?n:[n]);dd[t]||(dd[t]=new WeakMap);var a=dd[t],s=[],u=new Set,c=new Set(i),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))p(y);else try{var _=y.getAttribute(r),E=_!==null&&_!=="false",A=(Ll.get(y)||0)+1,T=(a.get(y)||0)+1;Ll.set(y,A),a.set(y,T),s.push(y),A===1&&E&&hd.set(y,!0),T===1&&y.setAttribute(t,"true"),E||y.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",y,I)}})};return p(e),u.clear(),Pg++,function(){s.forEach(function(g){var y=Ll.get(g)-1,_=a.get(g)-1;Ll.set(g,y),a.set(g,_),y||(hd.has(g)||g.removeAttribute(r),hd.delete(g)),_||g.removeAttribute(t)}),Pg--,Pg||(Ll=new WeakMap,Ll=new WeakMap,hd=new WeakMap,dd={})}},B3=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=rL(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),aL(r,i,t,"aria-hidden")):function(){return null}},z0="Dialog",[V3,gH]=Ls(z0),[oL,oi]=V3(z0),F3=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=n,u=L.useRef(null),c=L.useRef(null),[h,p]=$l({prop:r,defaultProp:i??!1,onChange:a,caller:z0});return M.jsx(oL,{scope:e,triggerRef:u,contentRef:c,contentId:pa(),titleId:pa(),descriptionId:pa(),open:h,onOpenChange:p,onOpenToggle:L.useCallback(()=>p(g=>!g),[p]),modal:s,children:t})};F3.displayName=z0;var U3="DialogTrigger",sL=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(U3,t),a=Vt(e,i.triggerRef);return M.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fy(i.open),...r,ref:a,onClick:qe(n.onClick,i.onOpenToggle)})});sL.displayName=U3;var By="DialogPortal",[lL,j3]=V3(By,{forceMount:void 0}),z3=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=oi(By,e);return M.jsx(lL,{scope:e,forceMount:t,children:L.Children.map(r,s=>M.jsx(ks,{present:t||a.open,children:M.jsx(U0,{asChild:!0,container:i,children:s})}))})};z3.displayName=By;var r0="DialogOverlay",H3=L.forwardRef((n,e)=>{const t=j3(r0,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=oi(r0,n.__scopeDialog);return a.modal?M.jsx(ks,{present:r||a.open,children:M.jsx(cL,{...i,ref:e})}):null});H3.displayName=r0;var uL=Yl("DialogOverlay.RemoveScroll"),cL=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(r0,t);return M.jsx(ky,{as:uL,allowPinchZoom:!0,shards:[i.contentRef],children:M.jsx(st.div,{"data-state":Fy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ds="DialogContent",G3=L.forwardRef((n,e)=>{const t=j3(Ds,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=oi(Ds,n.__scopeDialog);return M.jsx(ks,{present:r||a.open,children:a.modal?M.jsx(fL,{...i,ref:e}):M.jsx(hL,{...i,ref:e})})});G3.displayName=Ds;var fL=L.forwardRef((n,e)=>{const t=oi(Ds,n.__scopeDialog),r=L.useRef(null),i=Vt(e,t.contentRef,r);return L.useEffect(()=>{const a=r.current;if(a)return B3(a)},[]),M.jsx(q3,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=t.triggerRef.current)==null||s.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0;(s.button===2||u)&&a.preventDefault()}),onFocusOutside:qe(n.onFocusOutside,a=>a.preventDefault())})}),hL=L.forwardRef((n,e)=>{const t=oi(Ds,n.__scopeDialog),r=L.useRef(!1),i=L.useRef(!1);return M.jsx(q3,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,u;(s=n.onCloseAutoFocus)==null||s.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,h;(c=n.onInteractOutside)==null||c.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),q3=L.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=n,u=oi(Ds,t),c=L.useRef(null),h=Vt(e,c);return R3(),M.jsxs(M.Fragment,{children:[M.jsx(Ly,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:M.jsx(F0,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Fy(u.open),...s,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),M.jsxs(M.Fragment,{children:[M.jsx(dL,{titleId:u.titleId}),M.jsx(gL,{contentRef:c,descriptionId:u.descriptionId})]})]})}),Vy="DialogTitle",X3=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(Vy,t);return M.jsx(st.h2,{id:i.titleId,...r,ref:e})});X3.displayName=Vy;var W3="DialogDescription",K3=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(W3,t);return M.jsx(st.p,{id:i.descriptionId,...r,ref:e})});K3.displayName=W3;var Y3="DialogClose",$3=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(Y3,t);return M.jsx(st.button,{type:"button",...r,ref:e,onClick:qe(n.onClick,()=>i.onOpenChange(!1))})});$3.displayName=Y3;function Fy(n){return n?"open":"closed"}var Q3="DialogTitleWarning",[vH,Z3]=x8(Q3,{contentName:Ds,titleName:Vy,docsSlug:"dialog"}),dL=({titleId:n})=>{const e=Z3(Q3),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},pL="DialogDescriptionWarning",gL=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z3(pL).contentName}}.`;return L.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},vL=F3,mL=z3,yL=H3,_L=G3,xL=X3,EL=K3,wL=$3;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),CA=n=>{const e=TL(n);return e.charAt(0).toUpperCase()+e.slice(1)},J3=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),CL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>L.createElement("svg",{ref:c,...bL,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:J3("lucide",i),...!a&&!CL(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>L.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=(n,e)=>{const t=L.forwardRef(({className:r,...i},a)=>L.createElement(SL,{ref:a,iconNode:e,className:J3(`lucide-${AL(CA(n))}`,`lucide-${n}`,r),...i}));return t.displayName=CA(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RL=mu("check",IL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eI=mu("chevron-down",OL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NL=mu("chevron-up",DL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bA=mu("save",PL);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],LL=mu("trash-2",ML);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BL=mu("x",kL);function VL({...n}){return M.jsx(vL,{"data-slot":"dialog",...n})}function FL({...n}){return M.jsx(mL,{"data-slot":"dialog-portal",...n})}function UL({className:n,...e}){return M.jsx(yL,{"data-slot":"dialog-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function jL({className:n,children:e,showCloseButton:t=!0,...r}){return M.jsxs(FL,{"data-slot":"dialog-portal",children:[M.jsx(UL,{}),M.jsxs(_L,{"data-slot":"dialog-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[e,t&&M.jsxs(wL,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[M.jsx(BL,{}),M.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function zL({className:n,...e}){return M.jsx("div",{"data-slot":"dialog-header",className:At("flex flex-col gap-2 text-center sm:text-left",n),...e})}function HL({className:n,...e}){return M.jsx(xL,{"data-slot":"dialog-title",className:At("text-lg leading-none font-semibold",n),...e})}function GL({className:n,...e}){return M.jsx(EL,{"data-slot":"dialog-description",className:At("text-muted-foreground text-sm",n),...e})}var qL="Label",tI=L.forwardRef((n,e)=>M.jsx(st.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));tI.displayName=qL;var XL=tI;function i0({className:n,...e}){return M.jsx(XL,{"data-slot":"label",className:At("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var Mg,SA;function Uy(){if(SA)return Mg;SA=1;var n={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};return Mg=n,Mg}var Lg,IA;function H0(){if(IA)return Lg;IA=1;var n=Uy();function e(t){return!!(t&&n[typeof t])}return Lg=e,Lg}var kg,RA;function If(){if(RA)return kg;RA=1;var n=Object.prototype,e=n.toString,t=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return kg=t,kg}var Bg,OA;function WL(){if(OA)return Bg;OA=1;var n=Uy(),e=Object.prototype,t=e.hasOwnProperty,r=function(i){var a,s=i,u=[];if(!s||!n[typeof i])return u;for(a in s)t.call(s,a)&&u.push(a);return u};return Bg=r,Bg}var Vg,DA;function nI(){if(DA)return Vg;DA=1;var n=H0(),e=If(),t=WL(),r=e.test(r=Object.keys)&&r,i=r?function(a){return n(a)?r(a):[]}:t;return Vg=i,Vg}var Fg,NA;function rI(){if(NA)return Fg;NA=1;function n(){}return Fg=n,Fg}var Ug,PA;function iI(){if(PA)return Ug;PA=1;var n=H0();rI();var e=If(),t=e.test(t=Object.create)&&t;function r(i,a){return n(i)?t(i):{}}return t||(r=function(){function i(){}return function(a){if(n(a)){i.prototype=a;var s=new i;i.prototype=null}return s||vC.Object()}}()),Ug=r,Ug}var jg,MA;function jy(){if(MA)return jg;MA=1;var n=rI(),e=If(),t={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var a={},s=e.test(s=Object.defineProperty)&&s,u=s(a,a,a)&&s}catch{}return u}(),i=r?function(a,s){t.value=s,r(a,"__bindData__",t)}:n;return jg=i,jg}var zg,LA;function KL(){if(LA)return zg;LA=1;var n=iI(),e=H0(),t=jy(),r=[],i=r.push;function a(s){var u=s[0],c=s[2],h=s[4];function p(){if(c){var g=c.slice();i.apply(g,arguments)}if(this instanceof p){var y=n(u.prototype),_=u.apply(y,g||arguments);return e(_)?_:y}return u.apply(h,g||arguments)}return t(p,s),p}return zg=a,zg}var Hg,kA;function aI(){if(kA)return Hg;kA=1;function n(e,t,r){t||(t=0),typeof r>"u"&&(r=e?e.length:0);for(var i=-1,a=r-t||0,s=Array(a<0?0:a);++i<a;)s[i]=e[t+i];return s}return Hg=n,Hg}var Gg,BA;function YL(){if(BA)return Gg;BA=1;var n=iI(),e=H0(),t=jy(),r=aI(),i=[],a=i.push;function s(u){var c=u[0],h=u[1],p=u[2],g=u[3],y=u[4],_=u[5],E=h&1,A=h&2,T=h&4,I=h&8,R=c;function D(){var B=E?y:this;if(p){var j=p.slice();a.apply(j,arguments)}if((g||T)&&(j||(j=r(arguments)),g&&a.apply(j,g),T&&j.length<_))return h|=16,s([c,I?h:h&-4,j,null,y,_]);if(j||(j=arguments),A&&(c=B[R]),this instanceof D){B=n(c.prototype);var H=c.apply(B,j);return e(H)?H:B}return c.apply(B,j)}return t(D,u),D}return Gg=s,Gg}var qg,VA;function $L(){if(VA)return qg;VA=1;function n(e){return typeof e=="function"}return qg=n,qg}var Xg,FA;function QL(){if(FA)return Xg;FA=1;var n=KL(),e=YL(),t=$L(),r=[],i=r.push;function a(s,u,c,h,p,g){var y=u&1,_=u&2,E=u&4,A=u&16,T=u&32;if(!_&&!t(s))throw new TypeError;A&&!c.length&&(u&=-17,A=c=!1),T&&!h.length&&(u&=-33,T=h=!1);var I=s&&s.__bindData__;if(I&&I!==!0)return I=I.slice(),y&&!(I[1]&1)&&(I[4]=p),!y&&I[1]&1&&(u|=8),E&&!(I[1]&4)&&(I[5]=g),A&&i.apply(I[2]||(I[2]=[]),c),T&&i.apply(I[3]||(I[3]=[]),h),I[1]|=u,a.apply(null,I);var R=u==1||u===17?n:e;return R([s,u,c,h,p,g])}return Xg=a,Xg}var Wg,UA;function ZL(){if(UA)return Wg;UA=1;var n=QL();If();var e=aI();function t(r,i){return arguments.length>2?n(r,17,e(arguments,2),null,i):n(r,1,null,null,i)}return Wg=t,Wg}var Kg,jA;function JL(){if(jA)return Kg;jA=1;function n(e){return e}return Kg=n,Kg}var Yg,zA;function ek(){if(zA)return Yg;zA=1;var n=If(),e=/\bthis\b/,t={};return t.funcDecomp=!n.test(vC.WinRTError)&&e.test(function(){return this}),t.funcNames=typeof Function.name=="string",Yg=t,Yg}var $g,HA;function oI(){if(HA)return $g;HA=1;var n=ZL(),e=JL(),t=jy(),r=ek(),i=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,s=Function.prototype.toString;function u(c,h,p){if(typeof c!="function")return e;if(typeof h>"u"||!("prototype"in c))return c;var g=c.__bindData__;if(typeof g>"u"&&(r.funcNames&&(g=!c.name),g=g||!r.funcDecomp,!g)){var y=s.call(c);r.funcNames||(g=!i.test(y)),g||(g=a.test(y),t(c,g))}if(g===!1||g!==!0&&g[1]&1)return c;switch(p){case 1:return function(_){return c.call(h,_)};case 2:return function(_,E){return c.call(h,_,E)};case 3:return function(_,E,A){return c.call(h,_,E,A)};case 4:return function(_,E,A,T){return c.call(h,_,E,A,T)}}return n(c,h)}return $g=u,$g}var Qg,GA;function tk(){if(GA)return Qg;GA=1;var n=oI(),e=nI(),t=Uy(),r=function(i,a,s){var u,c=i,h=c;if(!c||!t[typeof c])return h;a=a&&typeof s>"u"?a:n(a,s,3);for(var p=-1,g=t[typeof c]&&e(c),y=g?g.length:0;++p<y;)if(u=g[p],a(c[u],u,i)===!1)return h;return h};return Qg=r,Qg}var Zg,qA;function nk(){if(qA)return Zg;qA=1;var n=oI(),e=tk();function t(r,i,a){var s=-1,u=r?r.length:0;if(i=i&&typeof a>"u"?i:n(i,a,3),typeof u=="number")for(;++s<u&&i(r[s],s,r)!==!1;);else e(r,i);return r}return Zg=t,Zg}var Jg,XA;function rk(){if(XA)return Jg;XA=1;var n,e;return n={mm:{name:{singular:"Millimeter",plural:"Millimeters"},to_anchor:1/1e3},cm:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/100},m:{name:{singular:"Meter",plural:"Meters"},to_anchor:1},km:{name:{singular:"Kilometer",plural:"Kilometers"},to_anchor:1e3}},e={in:{name:{singular:"Inch",plural:"Inches"},to_anchor:1/12},yd:{name:{singular:"Yard",plural:"Yards"},to_anchor:3},"ft-us":{name:{singular:"US Survey Foot",plural:"US Survey Feet"},to_anchor:1.000002},ft:{name:{singular:"Foot",plural:"Feet"},to_anchor:1},mi:{name:{singular:"Mile",plural:"Miles"},to_anchor:5280}},Jg={metric:n,imperial:e,_anchors:{metric:{unit:"m",ratio:3.28084},imperial:{unit:"ft",ratio:1/3.28084}}},Jg}var ev,WA;function ik(){if(WA)return ev;WA=1;var n,e;return n={mm2:{name:{singular:"Square Millimeter",plural:"Square Millimeters"},to_anchor:1/1e6},cm2:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/1e4},m2:{name:{singular:"Square Meter",plural:"Square Meters"},to_anchor:1},ha:{name:{singular:"Hectare",plural:"Hectares"},to_anchor:1e4},km2:{name:{singular:"Square Kilometer",plural:"Square Kilometers"},to_anchor:1e6}},e={in2:{name:{singular:"Square Inch",plural:"Square Inches"},to_anchor:1/144},yd2:{name:{singular:"Square Yard",plural:"Square Yards"},to_anchor:9},ft2:{name:{singular:"Square Foot",plural:"Square Feet"},to_anchor:1},ac:{name:{singular:"Acre",plural:"Acres"},to_anchor:43560},mi2:{name:{singular:"Square Mile",plural:"Square Miles"},to_anchor:27878400}},ev={metric:n,imperial:e,_anchors:{metric:{unit:"m2",ratio:10.7639},imperial:{unit:"ft2",ratio:1/10.7639}}},ev}var tv,KA;function ak(){if(KA)return tv;KA=1;var n,e;return n={mcg:{name:{singular:"Microgram",plural:"Micrograms"},to_anchor:1/1e6},mg:{name:{singular:"Milligram",plural:"Milligrams"},to_anchor:1/1e3},g:{name:{singular:"Gram",plural:"Grams"},to_anchor:1},kg:{name:{singular:"Kilogram",plural:"Kilograms"},to_anchor:1e3},mt:{name:{singular:"Metric Tonne",plural:"Metric Tonnes"},to_anchor:1e6}},e={oz:{name:{singular:"Ounce",plural:"Ounces"},to_anchor:1/16},lb:{name:{singular:"Pound",plural:"Pounds"},to_anchor:1},t:{name:{singular:"Ton",plural:"Tons"},to_anchor:2e3}},tv={metric:n,imperial:e,_anchors:{metric:{unit:"g",ratio:1/453.592},imperial:{unit:"lb",ratio:453.592}}},tv}var nv,YA;function ok(){if(YA)return nv;YA=1;var n,e;return n={mm3:{name:{singular:"Cubic Millimeter",plural:"Cubic Millimeters"},to_anchor:1/1e6},cm3:{name:{singular:"Cubic Centimeter",plural:"Cubic Centimeters"},to_anchor:1/1e3},ml:{name:{singular:"Millilitre",plural:"Millilitres"},to_anchor:1/1e3},cl:{name:{singular:"Centilitre",plural:"Centilitres"},to_anchor:1/100},dl:{name:{singular:"Decilitre",plural:"Decilitres"},to_anchor:1/10},l:{name:{singular:"Litre",plural:"Litres"},to_anchor:1},kl:{name:{singular:"Kilolitre",plural:"Kilolitres"},to_anchor:1e3},m3:{name:{singular:"Cubic meter",plural:"Cubic meters"},to_anchor:1e3},km3:{name:{singular:"Cubic kilometer",plural:"Cubic kilometers"},to_anchor:1e12},krm:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:1/1e3},tsk:{name:{singular:"Tesked",plural:"Teskedar"},to_anchor:5/1e3},msk:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:15/1e3},kkp:{name:{singular:"Kaffekopp",plural:"Kaffekoppar"},to_anchor:150/1e3},glas:{name:{singular:"Glas",plural:"Glas"},to_anchor:200/1e3},kanna:{name:{singular:"Kanna",plural:"Kannor"},to_anchor:2.617}},e={tsp:{name:{singular:"Teaspoon",plural:"Teaspoons"},to_anchor:1/6},Tbs:{name:{singular:"Tablespoon",plural:"Tablespoons"},to_anchor:1/2},in3:{name:{singular:"Cubic inch",plural:"Cubic inches"},to_anchor:.55411},"fl-oz":{name:{singular:"Fluid Ounce",plural:"Fluid Ounces"},to_anchor:1},cup:{name:{singular:"Cup",plural:"Cups"},to_anchor:8},pnt:{name:{singular:"Pint",plural:"Pints"},to_anchor:16},qt:{name:{singular:"Quart",plural:"Quarts"},to_anchor:32},gal:{name:{singular:"Gallon",plural:"Gallons"},to_anchor:128},ft3:{name:{singular:"Cubic foot",plural:"Cubic feet"},to_anchor:957.506},yd3:{name:{singular:"Cubic yard",plural:"Cubic yards"},to_anchor:25852.7}},nv={metric:n,imperial:e,_anchors:{metric:{unit:"l",ratio:33.8140226},imperial:{unit:"fl-oz",ratio:1/33.8140226}}},nv}var rv,$A;function sk(){if($A)return rv;$A=1;var n;return n={ea:{name:{singular:"Each",plural:"Each"},to_anchor:1},dz:{name:{singular:"Dozen",plural:"Dozens"},to_anchor:12}},rv={metric:n,imperial:{},_anchors:{metric:{unit:"ea",ratio:1}}},rv}var iv,QA;function lk(){if(QA)return iv;QA=1;var n,e;return n={C:{name:{singular:"degree Celsius",plural:"degrees Celsius"},to_anchor:1,anchor_shift:0},K:{name:{singular:"degree Kelvin",plural:"degrees Kelvin"},to_anchor:1,anchor_shift:273.15}},e={F:{name:{singular:"degree Fahrenheit",plural:"degrees Fahrenheit"},to_anchor:1},R:{name:{singular:"degree Rankine",plural:"degrees Rankine"},to_anchor:1,anchor_shift:459.67}},iv={metric:n,imperial:e,_anchors:{metric:{unit:"C",transform:function(t){return t/(5/9)+32}},imperial:{unit:"F",transform:function(t){return(t-32)*(5/9)}}}},iv}var av,ZA;function uk(){if(ZA)return av;ZA=1;var n,e=365.25;return n={ns:{name:{singular:"Nanosecond",plural:"Nanoseconds"},to_anchor:1/1e9},mu:{name:{singular:"Microsecond",plural:"Microseconds"},to_anchor:1/1e6},ms:{name:{singular:"Millisecond",plural:"Milliseconds"},to_anchor:1/1e3},s:{name:{singular:"Second",plural:"Seconds"},to_anchor:1},min:{name:{singular:"Minute",plural:"Minutes"},to_anchor:60},h:{name:{singular:"Hour",plural:"Hours"},to_anchor:60*60},d:{name:{singular:"Day",plural:"Days"},to_anchor:60*60*24},week:{name:{singular:"Week",plural:"Weeks"},to_anchor:60*60*24*7},month:{name:{singular:"Month",plural:"Months"},to_anchor:60*60*24*e/12},year:{name:{singular:"Year",plural:"Years"},to_anchor:60*60*24*e}},av={metric:n,_anchors:{metric:{unit:"s",ratio:1}}},av}var ov,JA;function ck(){if(JA)return ov;JA=1;var n,e;return n={b:{name:{singular:"Bit",plural:"Bits"},to_anchor:1},Kb:{name:{singular:"Kilobit",plural:"Kilobits"},to_anchor:1024},Mb:{name:{singular:"Megabit",plural:"Megabits"},to_anchor:1048576},Gb:{name:{singular:"Gigabit",plural:"Gigabits"},to_anchor:1073741824},Tb:{name:{singular:"Terabit",plural:"Terabits"},to_anchor:1099511627776}},e={B:{name:{singular:"Byte",plural:"Bytes"},to_anchor:1},KB:{name:{singular:"Kilobyte",plural:"Kilobytes"},to_anchor:1024},MB:{name:{singular:"Megabyte",plural:"Megabytes"},to_anchor:1048576},GB:{name:{singular:"Gigabyte",plural:"Gigabytes"},to_anchor:1073741824},TB:{name:{singular:"Terabyte",plural:"Terabytes"},to_anchor:1099511627776}},ov={bits:n,bytes:e,_anchors:{bits:{unit:"b",ratio:1/8},bytes:{unit:"B",ratio:8}}},ov}var sv,eT;function fk(){if(eT)return sv;eT=1;var n;return n={ppm:{name:{singular:"Part-per Million",plural:"Parts-per Million"},to_anchor:1},ppb:{name:{singular:"Part-per Billion",plural:"Parts-per Billion"},to_anchor:.001},ppt:{name:{singular:"Part-per Trillion",plural:"Parts-per Trillion"},to_anchor:1e-6},ppq:{name:{singular:"Part-per Quadrillion",plural:"Parts-per Quadrillion"},to_anchor:1e-9}},sv={metric:n,imperial:{},_anchors:{metric:{unit:"ppm",ratio:1e-6}}},sv}var lv,tT;function hk(){if(tT)return lv;tT=1;var n,e;return n={"m/s":{name:{singular:"Metre per second",plural:"Metres per second"},to_anchor:3.6},"km/h":{name:{singular:"Kilometre per hour",plural:"Kilometres per hour"},to_anchor:1}},e={"m/h":{name:{singular:"Mile per hour",plural:"Miles per hour"},to_anchor:1},knot:{name:{singular:"Knot",plural:"Knots"},to_anchor:1.150779},"ft/s":{name:{singular:"Foot per second",plural:"Feet per second"},to_anchor:.681818}},lv={metric:n,imperial:e,_anchors:{metric:{unit:"km/h",ratio:1/1.609344},imperial:{unit:"m/h",ratio:1.609344}}},lv}var uv,nT;function dk(){if(nT)return uv;nT=1;var n,e;return n={"min/km":{name:{singular:"Minute per kilometre",plural:"Minutes per kilometre"},to_anchor:.06},"s/m":{name:{singular:"Second per metre",plural:"Seconds per metre"},to_anchor:1}},e={"min/mi":{name:{singular:"Minute per mile",plural:"Minutes per mile"},to_anchor:.0113636},"s/ft":{name:{singular:"Second per foot",plural:"Seconds per foot"},to_anchor:1}},uv={metric:n,imperial:e,_anchors:{metric:{unit:"s/m",ratio:.3048},imperial:{unit:"s/ft",ratio:1/.3048}}},uv}var cv,rT;function pk(){if(rT)return cv;rT=1;var n,e;return n={Pa:{name:{singular:"pascal",plural:"pascals"},to_anchor:1/1e3},kPa:{name:{singular:"kilopascal",plural:"kilopascals"},to_anchor:1},MPa:{name:{singular:"megapascal",plural:"megapascals"},to_anchor:1e3},hPa:{name:{singular:"hectopascal",plural:"hectopascals"},to_anchor:1/10},bar:{name:{singular:"bar",plural:"bar"},to_anchor:100},torr:{name:{singular:"torr",plural:"torr"},to_anchor:101325/76e4}},e={psi:{name:{singular:"pound per square inch",plural:"pounds per square inch"},to_anchor:1/1e3},ksi:{name:{singular:"kilopound per square inch",plural:"kilopound per square inch"},to_anchor:1}},cv={metric:n,imperial:e,_anchors:{metric:{unit:"kPa",ratio:.00014503768078},imperial:{unit:"psi",ratio:1/.00014503768078}}},cv}var fv,iT;function gk(){if(iT)return fv;iT=1;var n;return n={A:{name:{singular:"Ampere",plural:"Amperes"},to_anchor:1},mA:{name:{singular:"Milliampere",plural:"Milliamperes"},to_anchor:.001},kA:{name:{singular:"Kiloampere",plural:"Kiloamperes"},to_anchor:1e3}},fv={metric:n,_anchors:{metric:{unit:"A",ratio:1}}},fv}var hv,aT;function vk(){if(aT)return hv;aT=1;var n;return n={V:{name:{singular:"Volt",plural:"Volts"},to_anchor:1},mV:{name:{singular:"Millivolt",plural:"Millivolts"},to_anchor:.001},kV:{name:{singular:"Kilovolt",plural:"Kilovolts"},to_anchor:1e3}},hv={metric:n,_anchors:{metric:{unit:"V",ratio:1}}},hv}var dv,oT;function mk(){if(oT)return dv;oT=1;var n;return n={W:{name:{singular:"Watt",plural:"Watts"},to_anchor:1},mW:{name:{singular:"Milliwatt",plural:"Milliwatts"},to_anchor:.001},kW:{name:{singular:"Kilowatt",plural:"Kilowatts"},to_anchor:1e3},MW:{name:{singular:"Megawatt",plural:"Megawatts"},to_anchor:1e6},GW:{name:{singular:"Gigawatt",plural:"Gigawatts"},to_anchor:1e9}},dv={metric:n,_anchors:{metric:{unit:"W",ratio:1}}},dv}var pv,sT;function yk(){if(sT)return pv;sT=1;var n;return n={VAR:{name:{singular:"Volt-Ampere Reactive",plural:"Volt-Amperes Reactive"},to_anchor:1},mVAR:{name:{singular:"Millivolt-Ampere Reactive",plural:"Millivolt-Amperes Reactive"},to_anchor:.001},kVAR:{name:{singular:"Kilovolt-Ampere Reactive",plural:"Kilovolt-Amperes Reactive"},to_anchor:1e3},MVAR:{name:{singular:"Megavolt-Ampere Reactive",plural:"Megavolt-Amperes Reactive"},to_anchor:1e6},GVAR:{name:{singular:"Gigavolt-Ampere Reactive",plural:"Gigavolt-Amperes Reactive"},to_anchor:1e9}},pv={metric:n,_anchors:{metric:{unit:"VAR",ratio:1}}},pv}var gv,lT;function _k(){if(lT)return gv;lT=1;var n;return n={VA:{name:{singular:"Volt-Ampere",plural:"Volt-Amperes"},to_anchor:1},mVA:{name:{singular:"Millivolt-Ampere",plural:"Millivolt-Amperes"},to_anchor:.001},kVA:{name:{singular:"Kilovolt-Ampere",plural:"Kilovolt-Amperes"},to_anchor:1e3},MVA:{name:{singular:"Megavolt-Ampere",plural:"Megavolt-Amperes"},to_anchor:1e6},GVA:{name:{singular:"Gigavolt-Ampere",plural:"Gigavolt-Amperes"},to_anchor:1e9}},gv={metric:n,_anchors:{metric:{unit:"VA",ratio:1}}},gv}var vv,uT;function xk(){if(uT)return vv;uT=1;var n;return n={Wh:{name:{singular:"Watt-hour",plural:"Watt-hours"},to_anchor:3600},mWh:{name:{singular:"Milliwatt-hour",plural:"Milliwatt-hours"},to_anchor:3.6},kWh:{name:{singular:"Kilowatt-hour",plural:"Kilowatt-hours"},to_anchor:36e5},MWh:{name:{singular:"Megawatt-hour",plural:"Megawatt-hours"},to_anchor:36e8},GWh:{name:{singular:"Gigawatt-hour",plural:"Gigawatt-hours"},to_anchor:36e11},J:{name:{singular:"Joule",plural:"Joules"},to_anchor:1},kJ:{name:{singular:"Kilojoule",plural:"Kilojoules"},to_anchor:1e3}},vv={metric:n,_anchors:{metric:{unit:"J",ratio:1}}},vv}var mv,cT;function Ek(){if(cT)return mv;cT=1;var n;return n={VARh:{name:{singular:"Volt-Ampere Reactive Hour",plural:"Volt-Amperes Reactive Hour"},to_anchor:1},mVARh:{name:{singular:"Millivolt-Ampere Reactive Hour",plural:"Millivolt-Amperes Reactive Hour"},to_anchor:.001},kVARh:{name:{singular:"Kilovolt-Ampere Reactive Hour",plural:"Kilovolt-Amperes Reactive Hour"},to_anchor:1e3},MVARh:{name:{singular:"Megavolt-Ampere Reactive Hour",plural:"Megavolt-Amperes Reactive Hour"},to_anchor:1e6},GVARh:{name:{singular:"Gigavolt-Ampere Reactive Hour",plural:"Gigavolt-Amperes Reactive Hour"},to_anchor:1e9}},mv={metric:n,_anchors:{metric:{unit:"VARh",ratio:1}}},mv}var yv,fT;function wk(){if(fT)return yv;fT=1;var n,e;return n={"mm3/s":{name:{singular:"Cubic Millimeter per second",plural:"Cubic Millimeters per second"},to_anchor:1/1e6},"cm3/s":{name:{singular:"Cubic Centimeter per second",plural:"Cubic Centimeters per second"},to_anchor:1/1e3},"ml/s":{name:{singular:"Millilitre per second",plural:"Millilitres per second"},to_anchor:1/1e3},"cl/s":{name:{singular:"Centilitre per second",plural:"Centilitres per second"},to_anchor:1/100},"dl/s":{name:{singular:"Decilitre per second",plural:"Decilitres per second"},to_anchor:1/10},"l/s":{name:{singular:"Litre per second",plural:"Litres per second"},to_anchor:1},"l/min":{name:{singular:"Litre per minute",plural:"Litres per minute"},to_anchor:1/60},"l/h":{name:{singular:"Litre per hour",plural:"Litres per hour"},to_anchor:1/3600},"kl/s":{name:{singular:"Kilolitre per second",plural:"Kilolitres per second"},to_anchor:1e3},"kl/min":{name:{singular:"Kilolitre per minute",plural:"Kilolitres per minute"},to_anchor:50/3},"kl/h":{name:{singular:"Kilolitre per hour",plural:"Kilolitres per hour"},to_anchor:5/18},"m3/s":{name:{singular:"Cubic meter per second",plural:"Cubic meters per second"},to_anchor:1e3},"m3/min":{name:{singular:"Cubic meter per minute",plural:"Cubic meters per minute"},to_anchor:50/3},"m3/h":{name:{singular:"Cubic meter per hour",plural:"Cubic meters per hour"},to_anchor:5/18},"km3/s":{name:{singular:"Cubic kilometer per second",plural:"Cubic kilometers per second"},to_anchor:1e12}},e={"tsp/s":{name:{singular:"Teaspoon per second",plural:"Teaspoons per second"},to_anchor:1/6},"Tbs/s":{name:{singular:"Tablespoon per second",plural:"Tablespoons per second"},to_anchor:1/2},"in3/s":{name:{singular:"Cubic inch per second",plural:"Cubic inches per second"},to_anchor:.55411},"in3/min":{name:{singular:"Cubic inch per minute",plural:"Cubic inches per minute"},to_anchor:.55411/60},"in3/h":{name:{singular:"Cubic inch per hour",plural:"Cubic inches per hour"},to_anchor:.55411/3600},"fl-oz/s":{name:{singular:"Fluid Ounce per second",plural:"Fluid Ounces per second"},to_anchor:1},"fl-oz/min":{name:{singular:"Fluid Ounce per minute",plural:"Fluid Ounces per minute"},to_anchor:1/60},"fl-oz/h":{name:{singular:"Fluid Ounce per hour",plural:"Fluid Ounces per hour"},to_anchor:1/3600},"cup/s":{name:{singular:"Cup per second",plural:"Cups per second"},to_anchor:8},"pnt/s":{name:{singular:"Pint per second",plural:"Pints per second"},to_anchor:16},"pnt/min":{name:{singular:"Pint per minute",plural:"Pints per minute"},to_anchor:4/15},"pnt/h":{name:{singular:"Pint per hour",plural:"Pints per hour"},to_anchor:1/225},"qt/s":{name:{singular:"Quart per second",plural:"Quarts per second"},to_anchor:32},"gal/s":{name:{singular:"Gallon per second",plural:"Gallons per second"},to_anchor:128},"gal/min":{name:{singular:"Gallon per minute",plural:"Gallons per minute"},to_anchor:32/15},"gal/h":{name:{singular:"Gallon per hour",plural:"Gallons per hour"},to_anchor:8/225},"ft3/s":{name:{singular:"Cubic foot per second",plural:"Cubic feet per second"},to_anchor:957.506},"ft3/min":{name:{singular:"Cubic foot per minute",plural:"Cubic feet per minute"},to_anchor:957.506/60},"ft3/h":{name:{singular:"Cubic foot per hour",plural:"Cubic feet per hour"},to_anchor:957.506/3600},"yd3/s":{name:{singular:"Cubic yard per second",plural:"Cubic yards per second"},to_anchor:25852.7},"yd3/min":{name:{singular:"Cubic yard per minute",plural:"Cubic yards per minute"},to_anchor:25852.7/60},"yd3/h":{name:{singular:"Cubic yard per hour",plural:"Cubic yards per hour"},to_anchor:25852.7/3600}},yv={metric:n,imperial:e,_anchors:{metric:{unit:"l/s",ratio:33.8140227},imperial:{unit:"fl-oz/s",ratio:1/33.8140227}}},yv}var _v,hT;function Ak(){if(hT)return _v;hT=1;var n,e;return n={lx:{name:{singular:"Lux",plural:"Lux"},to_anchor:1}},e={"ft-cd":{name:{singular:"Foot-candle",plural:"Foot-candles"},to_anchor:1}},_v={metric:n,imperial:e,_anchors:{metric:{unit:"lx",ratio:1/10.76391},imperial:{unit:"ft-cd",ratio:10.76391}}},_v}var xv,dT;function Tk(){if(dT)return xv;dT=1;var n;return n={mHz:{name:{singular:"millihertz",plural:"millihertz"},to_anchor:1/1e3},Hz:{name:{singular:"hertz",plural:"hertz"},to_anchor:1},kHz:{name:{singular:"kilohertz",plural:"kilohertz"},to_anchor:1e3},MHz:{name:{singular:"megahertz",plural:"megahertz"},to_anchor:1e3*1e3},GHz:{name:{singular:"gigahertz",plural:"gigahertz"},to_anchor:1e3*1e3*1e3},THz:{name:{singular:"terahertz",plural:"terahertz"},to_anchor:1e3*1e3*1e3*1e3},rpm:{name:{singular:"rotation per minute",plural:"rotations per minute"},to_anchor:1/60},"deg/s":{name:{singular:"degree per second",plural:"degrees per second"},to_anchor:1/360},"rad/s":{name:{singular:"radian per second",plural:"radians per second"},to_anchor:1/(Math.PI*2)}},xv={metric:n,_anchors:{frequency:{unit:"hz",ratio:1}}},xv}var Ev,pT;function Ck(){if(pT)return Ev;pT=1;var n;return n={rad:{name:{singular:"radian",plural:"radians"},to_anchor:180/Math.PI},deg:{name:{singular:"degree",plural:"degrees"},to_anchor:1},grad:{name:{singular:"gradian",plural:"gradians"},to_anchor:9/10},arcmin:{name:{singular:"arcminute",plural:"arcminutes"},to_anchor:1/60},arcsec:{name:{singular:"arcsecond",plural:"arcseconds"},to_anchor:1/3600}},Ev={metric:n,_anchors:{metric:{unit:"deg",ratio:1}}},Ev}var wv,gT;function bk(){if(gT)return wv;gT=1;var n,e=nI(),t=nk(),r={length:rk(),area:ik(),mass:ak(),volume:ok(),each:sk(),temperature:lk(),time:uk(),digital:ck(),partsPer:fk(),speed:hk(),pace:dk(),pressure:pk(),current:gk(),voltage:vk(),power:mk(),reactivePower:yk(),apparentPower:_k(),energy:xk(),reactiveEnergy:Ek(),volumeFlowRate:wk(),illuminance:Ak(),frequency:Tk(),angle:Ck()},i;i=function(s,u){u?this.val=s/u:this.val=s},i.prototype.from=function(s){if(this.destination)throw new Error(".from must be called before .to");return this.origin=this.getUnit(s),this.origin||this.throwUnsupportedUnitError(s),this},i.prototype.to=function(s){if(!this.origin)throw new Error(".to must be called after .from");this.destination=this.getUnit(s);var u,c;if(this.destination||this.throwUnsupportedUnitError(s),this.origin.abbr===this.destination.abbr)return this.val;if(this.destination.measure!=this.origin.measure)throw new Error("Cannot convert incompatible measures of "+this.destination.measure+" and "+this.origin.measure);return u=this.val*this.origin.unit.to_anchor,this.origin.unit.anchor_shift&&(u-=this.origin.unit.anchor_shift),this.origin.system!=this.destination.system&&(c=r[this.origin.measure]._anchors[this.origin.system].transform,typeof c=="function"?u=c(u):u*=r[this.origin.measure]._anchors[this.origin.system].ratio),this.destination.unit.anchor_shift&&(u+=this.destination.unit.anchor_shift),u/this.destination.unit.to_anchor},i.prototype.toBest=function(u){if(!this.origin)throw new Error(".toBest must be called after .from");var u=Object.assign({exclude:[],cutOffNumber:1},u),c;return t(this.possibilities(),(function(h){var p=this.describe(h),g=u.exclude.indexOf(h)===-1;if(g&&p.system===this.origin.system){var y=this.to(h);(!c||y>=u.cutOffNumber&&y<c.val)&&(c={val:y,unit:h,singular:p.singular,plural:p.plural})}}).bind(this)),c},i.prototype.getUnit=function(s){var u;return t(r,function(c,h){if(t(c,function(p,g){if(g=="_anchors"||(t(p,function(y,_){if(_==s)return u={abbr:s,measure:h,system:g,unit:y},!1}),u))return!1}),u)return!1}),u};var a=function(s){return{abbr:s.abbr,measure:s.measure,system:s.system,singular:s.unit.name.singular,plural:s.unit.name.plural}};return i.prototype.describe=function(s){var u=i.prototype.getUnit(s),c=null;try{c=a(u)}catch{this.throwUnsupportedUnitError(s)}return c},i.prototype.list=function(s){var u=[];return t(r,function(c,h){s&&s!==h||t(c,function(p,g){if(g=="_anchors")return!1;t(p,function(y,_){u=u.concat(a({abbr:_,measure:h,system:g,unit:y}))})})}),u},i.prototype.throwUnsupportedUnitError=function(s){var u=[];throw t(r,function(c,h){t(c,function(p,g){if(g=="_anchors")return!1;u=u.concat(e(p))})}),new Error("Unsupported unit "+s+", use one of: "+u.join(", "))},i.prototype.possibilities=function(s){var u=[];return!this.origin&&!s?t(e(r),function(c){t(r[c],function(h,p){if(p=="_anchors")return!1;u=u.concat(e(h))})}):(s=s||this.origin.measure,t(r[s],function(c,h){if(h=="_anchors")return!1;u=u.concat(e(c))})),u},i.prototype.measures=function(){return e(r)},n=function(s){return new i(s)},wv=n,wv}var Sk=bk();const Zc=Fm(Sk);function vT(n,e){let t=n-e;return t<0&&(t=0),t}function mT(n){const e={g:"ml",kg:"l"};if(n in e)return e[n];throw new Error(`Not implemented unit conversion ${n}`)}function sI(n,e,t){if(n===e)return{val:t,unit:e};const r=new Set(Zc().possibilities("mass")),i=new Set(Zc().possibilities("volume")),a=r.has(n),s=r.has(e),u=i.has(n),c=i.has(e);let h=n;a&&c&&(h=mT(n));let p=e;return u&&s&&(p=mT(e)),{val:Zc(t).from(h).to(p),unit:e}}function yT(n){return Math.round(n*100)/100}function Ik(n,e){if(n<1&&n>0){const{val:t,unit:r}=Zc(n).from(e).toBest();return{val:yT(t),unit:r}}return{val:yT(n),unit:e}}function Rk(n,e,t,r){if(new Set(["cup","tsp","Tbs","tbsp"]).has(e))throw new Error("You can't store ingredients as that unit!");if(r===e)return{val:vT(n,t),unit:e};if(r==="unit")throw new Error("You can't subtract units from a non unit measurement");if(e==="unit")throw new Error("You can't subtract non unit measurements from a unit measurement");const{val:a}=sI(r,e,t),s=vT(n,a);return Ik(s,e)}function zy(n,e,t){const r=new Set(["unit","pinch"]);return r.has(e)||r.has(t)?{val:"",unit:t}:sI(e,t,n)}function lI(n,e){return n.forEach(t=>{var i,a;const r=t.name;t.type==="number"?e[r]=t.min??0:t.type==="select"&&((i=t.options)!=null&&i.length)?e[r]=String(t.options[0].value):e[r]="",(a=t.extraFields)!=null&&a.length&&(e=lI(t.extraFields,e))}),e}function Ok({field:n,value:e,handleArrayOfObjectsChange:t,disabled:r=!1}){const i=e||[],a=n.extraFields||[],s=()=>{if(r)return;const g=lI(a,{});console.log(a),console.log(g),t([...i,g])},u=g=>{r||t(i.filter((y,_)=>_!==g))},c=(g,y,_,E)=>{var R,D;if(r)return;const A=[...i],T={...A[g]||{}};let I=_;if(E==="number")if(_==="")I=((R=a.find(B=>B.name===y))==null?void 0:R.min)??0;else{const B=parseFloat(_);I=isNaN(B)?((D=a.find(j=>j.name===y))==null?void 0:D.min)??0:B}T[y]=I,A[g]=T,t(A)},h=(g,y,_)=>{if(r)return;const E=[...i],A={...E[g]||{}};A[y]=_,E[g]=A,t(E)},p=(g,y,_)=>{var j;if(r)return;const E=[...i];console.log(E);const A={...E[g]||{}},T=(j=n.extraFields)==null?void 0:j[1].name;if(!T)return;console.log(T),console.log(y);const I=A[y],R=A[T];console.log(I),console.log(R),console.log(_);const{val:D,unit:B}=zy(R,I,_);A[T]=D,A[y]=B,E[g]=A,t(E)};return a.length?M.jsxs("div",{className:"space-y-3",children:[i.map((g,y)=>M.jsx("div",{className:"p-4 border border-gray-200 rounded-lg shadow-sm bg-gray-50/50",children:M.jsxs("div",{className:"flex items-end gap-3",children:[" ",a.map(_=>M.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[" ",M.jsx(i0,{htmlFor:`${n.name}-${y}-${_.name}`,className:"text-sm font-medium text-gray-700",children:_.label}),M.jsx(c0,{field:_,formData:g,handleInputChange:E=>c(y,E.target.name,E.target.value,_.type),handleUnitChange:(E,A)=>p(y,E,A),handleSelectChange:(E,A)=>h(y,E,A),handleArrayOfObjectsChange:t,disabled:r})]},_.name)),M.jsx(rr,{type:"button",variant:"destructive",size:"sm",onClick:()=>u(y),disabled:r,className:"shrink-0",children:"-"})]})},y)),M.jsx(rr,{type:"button",variant:"outline",onClick:s,className:"mt-2 border-dashed border-blue-500 text-blue-600 hover:bg-blue-50",disabled:r,children:"+"}),n.required&&i.length===0&&M.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[n.label," requires at least one item."]})]}):M.jsxs("p",{className:"text-sm text-red-600",children:["Configuration error: 'subFields' are not defined for the '",n.label,"' array."]})}function Dk({className:n,type:e,...t}){return M.jsx("input",{type:e,"data-slot":"input",className:At("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function uI({field:n,formData:e,handleInputChange:t,className:r="",disabled:i=!1}){return M.jsx(Dk,{id:n.name,name:n.name,type:n.type,value:String(e[n.name]||""),onChange:t,min:n.min,step:n.step,required:n.required,placeholder:n.placeholder,className:r,disabled:i})}function _T(n,[e,t]){return Math.min(t,Math.max(e,n))}const Nk=["top","right","bottom","left"],Co=Math.min,Ar=Math.max,a0=Math.round,pd=Math.floor,Ni=n=>({x:n,y:n}),Pk={left:"right",right:"left",bottom:"top",top:"bottom"},Mk={start:"end",end:"start"};function dm(n,e,t){return Ar(n,Co(e,t))}function Ea(n,e){return typeof n=="function"?n(e):n}function wa(n){return n.split("-")[0]}function yu(n){return n.split("-")[1]}function Hy(n){return n==="x"?"y":"x"}function Gy(n){return n==="y"?"height":"width"}const Lk=new Set(["top","bottom"]);function Si(n){return Lk.has(wa(n))?"y":"x"}function qy(n){return Hy(Si(n))}function kk(n,e,t){t===void 0&&(t=!1);const r=yu(n),i=qy(n),a=Gy(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=o0(s)),[s,o0(s)]}function Bk(n){const e=o0(n);return[pm(n),e,pm(e)]}function pm(n){return n.replace(/start|end/g,e=>Mk[e])}const xT=["left","right"],ET=["right","left"],Vk=["top","bottom"],Fk=["bottom","top"];function Uk(n,e,t){switch(n){case"top":case"bottom":return t?e?ET:xT:e?xT:ET;case"left":case"right":return e?Vk:Fk;default:return[]}}function jk(n,e,t,r){const i=yu(n);let a=Uk(wa(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(pm)))),a}function o0(n){return n.replace(/left|right|bottom|top/g,e=>Pk[e])}function zk(n){return{top:0,right:0,bottom:0,left:0,...n}}function cI(n){return typeof n!="number"?zk(n):{top:n,right:n,bottom:n,left:n}}function s0(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function wT(n,e,t){let{reference:r,floating:i}=n;const a=Si(e),s=qy(e),u=Gy(s),c=wa(e),h=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[u]/2-i[u]/2;let _;switch(c){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(yu(e)){case"start":_[s]-=y*(t&&h?-1:1);break;case"end":_[s]+=y*(t&&h?-1:1);break}return _}const Hk=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,u=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:g}=wT(h,r,c),y=r,_={},E=0;for(let A=0;A<u.length;A++){const{name:T,fn:I}=u[A],{x:R,y:D,data:B,reset:j}=await I({x:p,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:h,platform:s,elements:{reference:n,floating:e}});p=R??p,g=D??g,_={..._,[T]:{..._[T],...B}},j&&E<=50&&(E++,typeof j=="object"&&(j.placement&&(y=j.placement),j.rects&&(h=j.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):j.rects),{x:p,y:g}=wT(h,y,c)),A=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:_}};async function uf(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:u,strategy:c}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:_=0}=Ea(e,n),E=cI(_),T=u[y?g==="floating"?"reference":"floating":g],I=s0(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(T)))==null||t?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),R=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),B=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},j=s0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:D,strategy:c}):R);return{top:(I.top-j.top+E.top)/B.y,bottom:(j.bottom-I.bottom+E.bottom)/B.y,left:(I.left-j.left+E.left)/B.x,right:(j.right-I.right+E.right)/B.x}}const Gk=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=Ea(n,e)||{};if(h==null)return{};const g=cI(p),y={x:t,y:r},_=qy(i),E=Gy(_),A=await s.getDimensions(h),T=_==="y",I=T?"top":"left",R=T?"bottom":"right",D=T?"clientHeight":"clientWidth",B=a.reference[E]+a.reference[_]-y[_]-a.floating[E],j=y[_]-a.reference[_],H=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let O=H?H[D]:0;(!O||!await(s.isElement==null?void 0:s.isElement(H)))&&(O=u.floating[D]||a.floating[E]);const b=B/2-j/2,N=O/2-A[E]/2-1,V=Co(g[I],N),z=Co(g[R],N),G=V,U=O-A[E]-z,ye=O/2-A[E]/2+b,xe=dm(G,ye,U),K=!c.arrow&&yu(i)!=null&&ye!==xe&&a.reference[E]/2-(ye<G?V:z)-A[E]/2<0,ae=K?ye<G?ye-G:ye-U:0;return{[_]:y[_]+ae,data:{[_]:xe,centerOffset:ye-xe-ae,...K&&{alignmentOffset:ae}},reset:K}}}),qk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:A=!0,...T}=Ea(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=wa(i),R=Si(u),D=wa(u)===u,B=await(c.isRTL==null?void 0:c.isRTL(h.floating)),j=y||(D||!A?[o0(u)]:Bk(u)),H=E!=="none";!y&&H&&j.push(...jk(u,A,E,B));const O=[u,...j],b=await uf(e,T),N=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&N.push(b[I]),g){const ye=kk(i,s,B);N.push(b[ye[0]],b[ye[1]])}if(V=[...V,{placement:i,overflows:N}],!N.every(ye=>ye<=0)){var z,G;const ye=(((z=a.flip)==null?void 0:z.index)||0)+1,xe=O[ye];if(xe&&(!(g==="alignment"?R!==Si(xe):!1)||V.every(ee=>ee.overflows[0]>0&&Si(ee.placement)===R)))return{data:{index:ye,overflows:V},reset:{placement:xe}};let K=(G=V.filter(ae=>ae.overflows[0]<=0).sort((ae,ee)=>ae.overflows[1]-ee.overflows[1])[0])==null?void 0:G.placement;if(!K)switch(_){case"bestFit":{var U;const ae=(U=V.filter(ee=>{if(H){const Ce=Si(ee.placement);return Ce===R||Ce==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(Ce=>Ce>0).reduce((Ce,X)=>Ce+X,0)]).sort((ee,Ce)=>ee[1]-Ce[1])[0])==null?void 0:U[0];ae&&(K=ae);break}case"initialPlacement":K=u;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function AT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function TT(n){return Nk.some(e=>n[e]>=0)}const Xk=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ea(n,e);switch(r){case"referenceHidden":{const a=await uf(e,{...i,elementContext:"reference"}),s=AT(a,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:TT(s)}}}case"escaped":{const a=await uf(e,{...i,altBoundary:!0}),s=AT(a,t.floating);return{data:{escapedOffsets:s,escaped:TT(s)}}}default:return{}}}}},fI=new Set(["left","top"]);async function Wk(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=wa(t),u=yu(t),c=Si(t)==="y",h=fI.has(s)?-1:1,p=a&&c?-1:1,g=Ea(e,n);let{mainAxis:y,crossAxis:_,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof E=="number"&&(_=u==="end"?E*-1:E),c?{x:_*p,y:y*h}:{x:y*h,y:_*p}}const Kk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:s,middlewareData:u}=e,c=await Wk(e,n);return s===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},Yk=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:T=>{let{x:I,y:R}=T;return{x:I,y:R}}},...c}=Ea(n,e),h={x:t,y:r},p=await uf(e,c),g=Si(wa(i)),y=Hy(g);let _=h[y],E=h[g];if(a){const T=y==="y"?"top":"left",I=y==="y"?"bottom":"right",R=_+p[T],D=_-p[I];_=dm(R,_,D)}if(s){const T=g==="y"?"top":"left",I=g==="y"?"bottom":"right",R=E+p[T],D=E-p[I];E=dm(R,E,D)}const A=u.fn({...e,[y]:_,[g]:E});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[y]:a,[g]:s}}}}}},$k=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=Ea(n,e),p={x:t,y:r},g=Si(i),y=Hy(g);let _=p[y],E=p[g];const A=Ea(u,e),T=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(c){const D=y==="y"?"height":"width",B=a.reference[y]-a.floating[D]+T.mainAxis,j=a.reference[y]+a.reference[D]-T.mainAxis;_<B?_=B:_>j&&(_=j)}if(h){var I,R;const D=y==="y"?"width":"height",B=fI.has(wa(i)),j=a.reference[g]-a.floating[D]+(B&&((I=s.offset)==null?void 0:I[g])||0)+(B?0:T.crossAxis),H=a.reference[g]+a.reference[D]+(B?0:((R=s.offset)==null?void 0:R[g])||0)-(B?T.crossAxis:0);E<j?E=j:E>H&&(E=H)}return{[y]:_,[g]:E}}}},Qk=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:s,elements:u}=e,{apply:c=()=>{},...h}=Ea(n,e),p=await uf(e,h),g=wa(i),y=yu(i),_=Si(i)==="y",{width:E,height:A}=a.floating;let T,I;g==="top"||g==="bottom"?(T=g,I=y===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(I=g,T=y==="end"?"top":"bottom");const R=A-p.top-p.bottom,D=E-p.left-p.right,B=Co(A-p[T],R),j=Co(E-p[I],D),H=!e.middlewareData.shift;let O=B,b=j;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(b=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=R),H&&!y){const V=Ar(p.left,0),z=Ar(p.right,0),G=Ar(p.top,0),U=Ar(p.bottom,0);_?b=E-2*(V!==0||z!==0?V+z:Ar(p.left,p.right)):O=A-2*(G!==0||U!==0?G+U:Ar(p.top,p.bottom))}await c({...e,availableWidth:b,availableHeight:O});const N=await s.getDimensions(u.floating);return E!==N.width||A!==N.height?{reset:{rects:!0}}:{}}}};function G0(){return typeof window<"u"}function _u(n){return hI(n)?(n.nodeName||"").toLowerCase():"#document"}function Sr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Bi(n){var e;return(e=(hI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hI(n){return G0()?n instanceof Node||n instanceof Sr(n).Node:!1}function ii(n){return G0()?n instanceof Element||n instanceof Sr(n).Element:!1}function Li(n){return G0()?n instanceof HTMLElement||n instanceof Sr(n).HTMLElement:!1}function CT(n){return!G0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Sr(n).ShadowRoot}const Zk=new Set(["inline","contents"]);function Rf(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ai(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Zk.has(i)}const Jk=new Set(["table","td","th"]);function eB(n){return Jk.has(_u(n))}const tB=[":popover-open",":modal"];function q0(n){return tB.some(e=>{try{return n.matches(e)}catch{return!1}})}const nB=["transform","translate","scale","rotate","perspective"],rB=["transform","translate","scale","rotate","perspective","filter"],iB=["paint","layout","strict","content"];function Xy(n){const e=Wy(),t=ii(n)?ai(n):n;return nB.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||rB.some(r=>(t.willChange||"").includes(r))||iB.some(r=>(t.contain||"").includes(r))}function aB(n){let e=bo(n);for(;Li(e)&&!au(e);){if(Xy(e))return e;if(q0(e))return null;e=bo(e)}return null}function Wy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oB=new Set(["html","body","#document"]);function au(n){return oB.has(_u(n))}function ai(n){return Sr(n).getComputedStyle(n)}function X0(n){return ii(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function bo(n){if(_u(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CT(n)&&n.host||Bi(n);return CT(e)?e.host:e}function dI(n){const e=bo(n);return au(e)?n.ownerDocument?n.ownerDocument.body:n.body:Li(e)&&Rf(e)?e:dI(e)}function cf(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=dI(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),s=Sr(i);if(a){const u=gm(s);return e.concat(s,s.visualViewport||[],Rf(i)?i:[],u&&t?cf(u):[])}return e.concat(i,cf(i,[],t))}function gm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pI(n){const e=ai(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Li(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,u=a0(t)!==a||a0(r)!==s;return u&&(t=a,r=s),{width:t,height:r,$:u}}function Ky(n){return ii(n)?n:n.contextElement}function Kl(n){const e=Ky(n);if(!Li(e))return Ni(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=pI(e);let s=(a?a0(t.width):t.width)/r,u=(a?a0(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const sB=Ni(0);function gI(n){const e=Sr(n);return!Wy()||!e.visualViewport?sB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lB(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Sr(n)?!1:e}function Ns(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Ky(n);let s=Ni(1);e&&(r?ii(r)&&(s=Kl(r)):s=Kl(n));const u=lB(a,t,r)?gI(a):Ni(0);let c=(i.left+u.x)/s.x,h=(i.top+u.y)/s.y,p=i.width/s.x,g=i.height/s.y;if(a){const y=Sr(a),_=r&&ii(r)?Sr(r):r;let E=y,A=gm(E);for(;A&&r&&_!==E;){const T=Kl(A),I=A.getBoundingClientRect(),R=ai(A),D=I.left+(A.clientLeft+parseFloat(R.paddingLeft))*T.x,B=I.top+(A.clientTop+parseFloat(R.paddingTop))*T.y;c*=T.x,h*=T.y,p*=T.x,g*=T.y,c+=D,h+=B,E=Sr(A),A=gm(E)}}return s0({width:p,height:g,x:c,y:h})}function Yy(n,e){const t=X0(n).scrollLeft;return e?e.left+t:Ns(Bi(n)).left+t}function vI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Yy(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function uB(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",s=Bi(r),u=e?q0(e.floating):!1;if(r===s||u&&a)return t;let c={scrollLeft:0,scrollTop:0},h=Ni(1);const p=Ni(0),g=Li(r);if((g||!g&&!a)&&((_u(r)!=="body"||Rf(s))&&(c=X0(r)),Li(r))){const _=Ns(r);h=Kl(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const y=s&&!g&&!a?vI(s,c,!0):Ni(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-c.scrollLeft*h.x+p.x+y.x,y:t.y*h.y-c.scrollTop*h.y+p.y+y.y}}function cB(n){return Array.from(n.getClientRects())}function fB(n){const e=Bi(n),t=X0(n),r=n.ownerDocument.body,i=Ar(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ar(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+Yy(n);const u=-t.scrollTop;return ai(r).direction==="rtl"&&(s+=Ar(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:u}}function hB(n,e){const t=Sr(n),r=Bi(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const h=Wy();(!h||h&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u,y:c}}const dB=new Set(["absolute","fixed"]);function pB(n,e){const t=Ns(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Li(n)?Kl(n):Ni(1),s=n.clientWidth*a.x,u=n.clientHeight*a.y,c=i*a.x,h=r*a.y;return{width:s,height:u,x:c,y:h}}function bT(n,e,t){let r;if(e==="viewport")r=hB(n,t);else if(e==="document")r=fB(Bi(n));else if(ii(e))r=pB(e,t);else{const i=gI(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return s0(r)}function mI(n,e){const t=bo(n);return t===e||!ii(t)||au(t)?!1:ai(t).position==="fixed"||mI(t,e)}function gB(n,e){const t=e.get(n);if(t)return t;let r=cf(n,[],!1).filter(u=>ii(u)&&_u(u)!=="body"),i=null;const a=ai(n).position==="fixed";let s=a?bo(n):n;for(;ii(s)&&!au(s);){const u=ai(s),c=Xy(s);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&dB.has(i.position)||Rf(s)&&!c&&mI(n,s))?r=r.filter(p=>p!==s):i=u,s=bo(s)}return e.set(n,r),r}function vB(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?q0(e)?[]:gB(e,this._c):[].concat(t),r],u=s[0],c=s.reduce((h,p)=>{const g=bT(e,p,i);return h.top=Ar(g.top,h.top),h.right=Co(g.right,h.right),h.bottom=Co(g.bottom,h.bottom),h.left=Ar(g.left,h.left),h},bT(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mB(n){const{width:e,height:t}=pI(n);return{width:e,height:t}}function yB(n,e,t){const r=Li(e),i=Bi(e),a=t==="fixed",s=Ns(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const c=Ni(0);function h(){c.x=Yy(i)}if(r||!r&&!a)if((_u(e)!=="body"||Rf(i))&&(u=X0(e)),r){const _=Ns(e,!0,a,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else i&&h();a&&!r&&i&&h();const p=i&&!r&&!a?vI(i,u):Ni(0),g=s.left+u.scrollLeft-c.x-p.x,y=s.top+u.scrollTop-c.y-p.y;return{x:g,y,width:s.width,height:s.height}}function Av(n){return ai(n).position==="static"}function ST(n,e){if(!Li(n)||ai(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Bi(n)===t&&(t=t.ownerDocument.body),t}function yI(n,e){const t=Sr(n);if(q0(n))return t;if(!Li(n)){let i=bo(n);for(;i&&!au(i);){if(ii(i)&&!Av(i))return i;i=bo(i)}return t}let r=ST(n,e);for(;r&&eB(r)&&Av(r);)r=ST(r,e);return r&&au(r)&&Av(r)&&!Xy(r)?t:r||aB(n)||t}const _B=async function(n){const e=this.getOffsetParent||yI,t=this.getDimensions,r=await t(n.floating);return{reference:yB(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xB(n){return ai(n).direction==="rtl"}const EB={convertOffsetParentRelativeRectToViewportRelativeRect:uB,getDocumentElement:Bi,getClippingRect:vB,getOffsetParent:yI,getElementRects:_B,getClientRects:cB,getDimensions:mB,getScale:Kl,isElement:ii,isRTL:xB};function _I(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function wB(n,e){let t=null,r;const i=Bi(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const h=n.getBoundingClientRect(),{left:p,top:g,width:y,height:_}=h;if(u||e(),!y||!_)return;const E=pd(g),A=pd(i.clientWidth-(p+y)),T=pd(i.clientHeight-(g+_)),I=pd(p),D={rootMargin:-E+"px "+-A+"px "+-T+"px "+-I+"px",threshold:Ar(0,Co(1,c))||1};let B=!0;function j(H){const O=H[0].intersectionRatio;if(O!==c){if(!B)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!_I(h,n.getBoundingClientRect())&&s(),B=!1}try{t=new IntersectionObserver(j,{...D,root:i.ownerDocument})}catch{t=new IntersectionObserver(j,D)}t.observe(n)}return s(!0),a}function AB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=Ky(n),p=i||a?[...h?cf(h):[],...cf(e)]:[];p.forEach(I=>{i&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const g=h&&u?wB(h,t):null;let y=-1,_=null;s&&(_=new ResizeObserver(I=>{let[R]=I;R&&R.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var D;(D=_)==null||D.observe(e)})),t()}),h&&!c&&_.observe(h),_.observe(e));let E,A=c?Ns(n):null;c&&T();function T(){const I=Ns(n);A&&!_I(A,I)&&t(),A=I,E=requestAnimationFrame(T)}return t(),()=>{var I;p.forEach(R=>{i&&R.removeEventListener("scroll",t),a&&R.removeEventListener("resize",t)}),g==null||g(),(I=_)==null||I.disconnect(),_=null,c&&cancelAnimationFrame(E)}}const TB=Kk,CB=Yk,bB=qk,SB=Qk,IB=Xk,IT=Gk,RB=$k,OB=(n,e,t)=>{const r=new Map,i={platform:EB,...t},a={...i.platform,_c:r};return Hk(n,e,{...i,platform:a})};var DB=typeof document<"u",NB=function(){},Pd=DB?L.useLayoutEffect:NB;function l0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!l0(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!l0(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function xI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function RT(n,e){const t=xI(n);return Math.round(e*t)/t}function Tv(n){const e=L.useRef(n);return Pd(()=>{e.current=n}),e}function PB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:c,open:h}=n,[p,g]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=L.useState(r);l0(y,r)||_(r);const[E,A]=L.useState(null),[T,I]=L.useState(null),R=L.useCallback(ee=>{ee!==H.current&&(H.current=ee,A(ee))},[]),D=L.useCallback(ee=>{ee!==O.current&&(O.current=ee,I(ee))},[]),B=a||E,j=s||T,H=L.useRef(null),O=L.useRef(null),b=L.useRef(p),N=c!=null,V=Tv(c),z=Tv(i),G=Tv(h),U=L.useCallback(()=>{if(!H.current||!O.current)return;const ee={placement:e,strategy:t,middleware:y};z.current&&(ee.platform=z.current),OB(H.current,O.current,ee).then(Ce=>{const X={...Ce,isPositioned:G.current!==!1};ye.current&&!l0(b.current,X)&&(b.current=X,hf.flushSync(()=>{g(X)}))})},[y,e,t,z,G]);Pd(()=>{h===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[h]);const ye=L.useRef(!1);Pd(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Pd(()=>{if(B&&(H.current=B),j&&(O.current=j),B&&j){if(V.current)return V.current(B,j,U);U()}},[B,j,U,V,N]);const xe=L.useMemo(()=>({reference:H,floating:O,setReference:R,setFloating:D}),[R,D]),K=L.useMemo(()=>({reference:B,floating:j}),[B,j]),ae=L.useMemo(()=>{const ee={position:t,left:0,top:0};if(!K.floating)return ee;const Ce=RT(K.floating,p.x),X=RT(K.floating,p.y);return u?{...ee,transform:"translate("+Ce+"px, "+X+"px)",...xI(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ce,top:X}},[t,u,K.floating,p.x,p.y]);return L.useMemo(()=>({...p,update:U,refs:xe,elements:K,floatingStyles:ae}),[p,U,xe,K,ae])}const MB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?IT({element:r.current,padding:i}).fn(t):{}:r?IT({element:r,padding:i}).fn(t):{}}}},LB=(n,e)=>({...TB(n),options:[n,e]}),kB=(n,e)=>({...CB(n),options:[n,e]}),BB=(n,e)=>({...RB(n),options:[n,e]}),VB=(n,e)=>({...bB(n),options:[n,e]}),FB=(n,e)=>({...SB(n),options:[n,e]}),UB=(n,e)=>({...IB(n),options:[n,e]}),jB=(n,e)=>({...MB(n),options:[n,e]});var zB="Arrow",EI=L.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return M.jsx(st.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});EI.displayName=zB;var HB=EI;function GB(n){const[e,t]=L.useState(void 0);return Wn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,u;if("borderBoxSize"in a){const c=a.borderBoxSize,h=Array.isArray(c)?c[0]:c;s=h.inlineSize,u=h.blockSize}else s=n.offsetWidth,u=n.offsetHeight;t({width:s,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var $y="Popper",[wI,W0]=Ls($y),[qB,AI]=wI($y),TI=n=>{const{__scopePopper:e,children:t}=n,[r,i]=L.useState(null);return M.jsx(qB,{scope:e,anchor:r,onAnchorChange:i,children:t})};TI.displayName=$y;var CI="PopperAnchor",bI=L.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=AI(CI,t),s=L.useRef(null),u=Vt(e,s);return L.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:M.jsx(st.div,{...i,ref:u})});bI.displayName=CI;var Qy="PopperContent",[XB,WB]=wI(Qy),SI=L.forwardRef((n,e)=>{var ge,Re,ut,Ge,je,ze;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:E,...A}=n,T=AI(Qy,t),[I,R]=L.useState(null),D=Vt(e,Gt=>R(Gt)),[B,j]=L.useState(null),H=GB(B),O=(H==null?void 0:H.width)??0,b=(H==null?void 0:H.height)??0,N=r+(a!=="center"?"-"+a:""),V=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},z=Array.isArray(h)?h:[h],G=z.length>0,U={padding:V,boundary:z.filter(YB),altBoundary:G},{refs:ye,floatingStyles:xe,placement:K,isPositioned:ae,middlewareData:ee}=PB({strategy:"fixed",placement:N,whileElementsMounted:(...Gt)=>AB(...Gt,{animationFrame:_==="always"}),elements:{reference:T.anchor},middleware:[LB({mainAxis:i+b,alignmentAxis:s}),c&&kB({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?BB():void 0,...U}),c&&VB({...U}),FB({...U,apply:({elements:Gt,rects:mn,availableWidth:Gr,availableHeight:si})=>{const{width:yn,height:wu}=mn.reference,li=Gt.floating.style;li.setProperty("--radix-popper-available-width",`${Gr}px`),li.setProperty("--radix-popper-available-height",`${si}px`),li.setProperty("--radix-popper-anchor-width",`${yn}px`),li.setProperty("--radix-popper-anchor-height",`${wu}px`)}}),B&&jB({element:B,padding:u}),$B({arrowWidth:O,arrowHeight:b}),y&&UB({strategy:"referenceHidden",...U})]}),[Ce,X]=OI(K),se=yo(E);Wn(()=>{ae&&(se==null||se())},[ae,se]);const de=(ge=ee.arrow)==null?void 0:ge.x,ce=(Re=ee.arrow)==null?void 0:Re.y,me=((ut=ee.arrow)==null?void 0:ut.centerOffset)!==0,[Me,Se]=L.useState();return Wn(()=>{I&&Se(window.getComputedStyle(I).zIndex)},[I]),M.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ae?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(Ge=ee.transformOrigin)==null?void 0:Ge.x,(je=ee.transformOrigin)==null?void 0:je.y].join(" "),...((ze=ee.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:M.jsx(XB,{scope:t,placedSide:Ce,onArrowChange:j,arrowX:de,arrowY:ce,shouldHideArrow:me,children:M.jsx(st.div,{"data-side":Ce,"data-align":X,...A,ref:D,style:{...A.style,animation:ae?void 0:"none"}})})})});SI.displayName=Qy;var II="PopperArrow",KB={top:"bottom",right:"left",bottom:"top",left:"right"},RI=L.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=WB(II,r),s=KB[a.placedSide];return M.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:M.jsx(HB,{...i,ref:t,style:{...i.style,display:"block"}})})});RI.displayName=II;function YB(n){return n!==null}var $B=n=>({name:"transformOrigin",options:n,fn(e){var T,I,R;const{placement:t,rects:r,middlewareData:i}=e,s=((T=i.arrow)==null?void 0:T.centerOffset)!==0,u=s?0:n.arrowWidth,c=s?0:n.arrowHeight,[h,p]=OI(t),g={start:"0%",center:"50%",end:"100%"}[p],y=(((I=i.arrow)==null?void 0:I.x)??0)+u/2,_=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let E="",A="";return h==="bottom"?(E=s?g:`${y}px`,A=`${-c}px`):h==="top"?(E=s?g:`${y}px`,A=`${r.floating.height+c}px`):h==="right"?(E=`${-c}px`,A=s?g:`${_}px`):h==="left"&&(E=`${r.floating.width+c}px`,A=s?g:`${_}px`),{data:{x:E,y:A}}}});function OI(n){const[e,t="center"]=n.split("-");return[e,t]}var DI=TI,NI=bI,PI=SI,MI=RI;function QB(n){const e=L.useRef({value:n,previous:n});return L.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var LI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZB="VisuallyHidden",kI=L.forwardRef((n,e)=>M.jsx(st.span,{...n,ref:e,style:{...LI,...n.style}}));kI.displayName=ZB;var JB=kI,eV=[" ","Enter","ArrowUp","ArrowDown"],tV=[" ","Enter"],Ps="Select",[K0,Y0,nV]=EC(Ps),[xu,mH]=Ls(Ps,[nV,W0]),$0=W0(),[rV,No]=xu(Ps),[iV,aV]=xu(Ps),BI=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:u,onValueChange:c,dir:h,name:p,autoComplete:g,disabled:y,required:_,form:E}=n,A=$0(e),[T,I]=L.useState(null),[R,D]=L.useState(null),[B,j]=L.useState(!1),H=jm(h),[O,b]=$l({prop:r,defaultProp:i??!1,onChange:a,caller:Ps}),[N,V]=$l({prop:s,defaultProp:u,onChange:c,caller:Ps}),z=L.useRef(null),G=T?E||!!T.closest("form"):!0,[U,ye]=L.useState(new Set),xe=Array.from(U).map(K=>K.props.value).join(";");return M.jsx(DI,{...A,children:M.jsxs(rV,{required:_,scope:e,trigger:T,onTriggerChange:I,valueNode:R,onValueNodeChange:D,valueNodeHasChildren:B,onValueNodeHasChildrenChange:j,contentId:pa(),value:N,onValueChange:V,open:O,onOpenChange:b,dir:H,triggerPointerDownPosRef:z,disabled:y,children:[M.jsx(K0.Provider,{scope:e,children:M.jsx(iV,{scope:n.__scopeSelect,onNativeOptionAdd:L.useCallback(K=>{ye(ae=>new Set(ae).add(K))},[]),onNativeOptionRemove:L.useCallback(K=>{ye(ae=>{const ee=new Set(ae);return ee.delete(K),ee})},[]),children:t})}),G?M.jsxs(a4,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:N,onChange:K=>V(K.target.value),disabled:y,form:E,children:[N===void 0?M.jsx("option",{value:""}):null,Array.from(U)]},xe):null]})})};BI.displayName=Ps;var VI="SelectTrigger",FI=L.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=$0(t),s=No(VI,t),u=s.disabled||r,c=Vt(e,s.onTriggerChange),h=Y0(t),p=L.useRef("touch"),[g,y,_]=s4(A=>{const T=h().filter(D=>!D.disabled),I=T.find(D=>D.value===s.value),R=l4(T,A,I);R!==void 0&&s.onValueChange(R.value)}),E=A=>{u||(s.onOpenChange(!0),_()),A&&(s.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return M.jsx(NI,{asChild:!0,...a,children:M.jsx(st.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":o4(s.value)?"":void 0,...i,ref:c,onClick:qe(i.onClick,A=>{A.currentTarget.focus(),p.current!=="mouse"&&E(A)}),onPointerDown:qe(i.onPointerDown,A=>{p.current=A.pointerType;const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(E(A),A.preventDefault())}),onKeyDown:qe(i.onKeyDown,A=>{const T=g.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&y(A.key),!(T&&A.key===" ")&&eV.includes(A.key)&&(E(),A.preventDefault())})})})});FI.displayName=VI;var UI="SelectValue",jI=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:s="",...u}=n,c=No(UI,t),{onValueNodeHasChildrenChange:h}=c,p=a!==void 0,g=Vt(e,c.onValueNodeChange);return Wn(()=>{h(p)},[h,p]),M.jsx(st.span,{...u,ref:g,style:{pointerEvents:"none"},children:o4(c.value)?M.jsx(M.Fragment,{children:s}):a})});jI.displayName=UI;var oV="SelectIcon",zI=L.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return M.jsx(st.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});zI.displayName=oV;var sV="SelectPortal",HI=n=>M.jsx(U0,{asChild:!0,...n});HI.displayName=sV;var Ms="SelectContent",GI=L.forwardRef((n,e)=>{const t=No(Ms,n.__scopeSelect),[r,i]=L.useState();if(Wn(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?hf.createPortal(M.jsx(qI,{scope:n.__scopeSelect,children:M.jsx(K0.Slot,{scope:n.__scopeSelect,children:M.jsx("div",{children:n.children})})}),a):null}return M.jsx(XI,{...n,ref:e})});GI.displayName=Ms;var Jr=10,[qI,Po]=xu(Ms),lV="SelectContentImpl",uV=Yl("SelectContent.RemoveScroll"),XI=L.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:E,hideWhenDetached:A,avoidCollisions:T,...I}=n,R=No(Ms,t),[D,B]=L.useState(null),[j,H]=L.useState(null),O=Vt(e,ge=>B(ge)),[b,N]=L.useState(null),[V,z]=L.useState(null),G=Y0(t),[U,ye]=L.useState(!1),xe=L.useRef(!1);L.useEffect(()=>{if(D)return B3(D)},[D]),R3();const K=L.useCallback(ge=>{const[Re,...ut]=G().map(ze=>ze.ref.current),[Ge]=ut.slice(-1),je=document.activeElement;for(const ze of ge)if(ze===je||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Re&&j&&(j.scrollTop=0),ze===Ge&&j&&(j.scrollTop=j.scrollHeight),ze==null||ze.focus(),document.activeElement!==je))return},[G,j]),ae=L.useCallback(()=>K([b,D]),[K,b,D]);L.useEffect(()=>{U&&ae()},[U,ae]);const{onOpenChange:ee,triggerPointerDownPosRef:Ce}=R;L.useEffect(()=>{if(D){let ge={x:0,y:0};const Re=Ge=>{var je,ze;ge={x:Math.abs(Math.round(Ge.pageX)-(((je=Ce.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((ze=Ce.current)==null?void 0:ze.y)??0))}},ut=Ge=>{ge.x<=10&&ge.y<=10?Ge.preventDefault():D.contains(Ge.target)||ee(!1),document.removeEventListener("pointermove",Re),Ce.current=null};return Ce.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ut,{capture:!0})}}},[D,ee,Ce]),L.useEffect(()=>{const ge=()=>ee(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[ee]);const[X,se]=s4(ge=>{const Re=G().filter(je=>!je.disabled),ut=Re.find(je=>je.ref.current===document.activeElement),Ge=l4(Re,ge,ut);Ge&&setTimeout(()=>Ge.ref.current.focus())}),de=L.useCallback((ge,Re,ut)=>{const Ge=!xe.current&&!ut;(R.value!==void 0&&R.value===Re||Ge)&&(N(ge),Ge&&(xe.current=!0))},[R.value]),ce=L.useCallback(()=>D==null?void 0:D.focus(),[D]),me=L.useCallback((ge,Re,ut)=>{const Ge=!xe.current&&!ut;(R.value!==void 0&&R.value===Re||Ge)&&z(ge)},[R.value]),Me=r==="popper"?vm:WI,Se=Me===vm?{side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:E,hideWhenDetached:A,avoidCollisions:T}:{};return M.jsx(qI,{scope:t,content:D,viewport:j,onViewportChange:H,itemRefCallback:de,selectedItem:b,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:ae,selectedItemText:V,position:r,isPositioned:U,searchRef:X,children:M.jsx(ky,{as:uV,allowPinchZoom:!0,children:M.jsx(Ly,{asChild:!0,trapped:R.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:qe(i,ge=>{var Re;(Re=R.trigger)==null||Re.focus({preventScroll:!0}),ge.preventDefault()}),children:M.jsx(F0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:M.jsx(Me,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ge=>ge.preventDefault(),...I,...Se,onPlaced:()=>ye(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:qe(I.onKeyDown,ge=>{const Re=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Re&&ge.key.length===1&&se(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ge=G().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const je=ge.target,ze=Ge.indexOf(je);Ge=Ge.slice(ze+1)}setTimeout(()=>K(Ge)),ge.preventDefault()}})})})})})})});XI.displayName=lV;var cV="SelectItemAlignedPosition",WI=L.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=No(Ms,t),s=Po(Ms,t),[u,c]=L.useState(null),[h,p]=L.useState(null),g=Vt(e,O=>p(O)),y=Y0(t),_=L.useRef(!1),E=L.useRef(!0),{viewport:A,selectedItem:T,selectedItemText:I,focusSelectedItem:R}=s,D=L.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&A&&T&&I){const O=a.trigger.getBoundingClientRect(),b=h.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),V=I.getBoundingClientRect();if(a.dir!=="rtl"){const je=V.left-b.left,ze=N.left-je,Gt=O.left-ze,mn=O.width+Gt,Gr=Math.max(mn,b.width),si=window.innerWidth-Jr,yn=_T(ze,[Jr,Math.max(Jr,si-Gr)]);u.style.minWidth=mn+"px",u.style.left=yn+"px"}else{const je=b.right-V.right,ze=window.innerWidth-N.right-je,Gt=window.innerWidth-O.right-ze,mn=O.width+Gt,Gr=Math.max(mn,b.width),si=window.innerWidth-Jr,yn=_T(ze,[Jr,Math.max(Jr,si-Gr)]);u.style.minWidth=mn+"px",u.style.right=yn+"px"}const z=y(),G=window.innerHeight-Jr*2,U=A.scrollHeight,ye=window.getComputedStyle(h),xe=parseInt(ye.borderTopWidth,10),K=parseInt(ye.paddingTop,10),ae=parseInt(ye.borderBottomWidth,10),ee=parseInt(ye.paddingBottom,10),Ce=xe+K+U+ee+ae,X=Math.min(T.offsetHeight*5,Ce),se=window.getComputedStyle(A),de=parseInt(se.paddingTop,10),ce=parseInt(se.paddingBottom,10),me=O.top+O.height/2-Jr,Me=G-me,Se=T.offsetHeight/2,ge=T.offsetTop+Se,Re=xe+K+ge,ut=Ce-Re;if(Re<=me){const je=z.length>0&&T===z[z.length-1].ref.current;u.style.bottom="0px";const ze=h.clientHeight-A.offsetTop-A.offsetHeight,Gt=Math.max(Me,Se+(je?ce:0)+ze+ae),mn=Re+Gt;u.style.height=mn+"px"}else{const je=z.length>0&&T===z[0].ref.current;u.style.top="0px";const Gt=Math.max(me,xe+A.offsetTop+(je?de:0)+Se)+ut;u.style.height=Gt+"px",A.scrollTop=Re-me+A.offsetTop}u.style.margin=`${Jr}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[y,a.trigger,a.valueNode,u,h,A,T,I,a.dir,r]);Wn(()=>D(),[D]);const[B,j]=L.useState();Wn(()=>{h&&j(window.getComputedStyle(h).zIndex)},[h]);const H=L.useCallback(O=>{O&&E.current===!0&&(D(),R==null||R(),E.current=!1)},[D,R]);return M.jsx(hV,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:H,children:M.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:M.jsx(st.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});WI.displayName=cV;var fV="SelectPopperPosition",vm=L.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Jr,...a}=n,s=$0(t);return M.jsx(PI,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vm.displayName=fV;var[hV,Zy]=xu(Ms,{}),mm="SelectViewport",KI=L.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=Po(mm,t),s=Zy(mm,t),u=Vt(e,a.onViewportChange),c=L.useRef(0);return M.jsxs(M.Fragment,{children:[M.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),M.jsx(K0.Slot,{scope:t,children:M.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&g){const _=Math.abs(c.current-p.scrollTop);if(_>0){const E=window.innerHeight-Jr*2,A=parseFloat(g.style.minHeight),T=parseFloat(g.style.height),I=Math.max(A,T);if(I<E){const R=I+_,D=Math.min(E,R),B=R-D;g.style.height=D+"px",g.style.bottom==="0px"&&(p.scrollTop=B>0?B:0,g.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});KI.displayName=mm;var YI="SelectGroup",[dV,pV]=xu(YI),gV=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=pa();return M.jsx(dV,{scope:t,id:i,children:M.jsx(st.div,{role:"group","aria-labelledby":i,...r,ref:e})})});gV.displayName=YI;var $I="SelectLabel",vV=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=pV($I,t);return M.jsx(st.div,{id:i.id,...r,ref:e})});vV.displayName=$I;var u0="SelectItem",[mV,QI]=xu(u0),ZI=L.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...s}=n,u=No(u0,t),c=Po(u0,t),h=u.value===r,[p,g]=L.useState(a??""),[y,_]=L.useState(!1),E=Vt(e,R=>{var D;return(D=c.itemRefCallback)==null?void 0:D.call(c,R,r,i)}),A=pa(),T=L.useRef("touch"),I=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return M.jsx(mV,{scope:t,value:r,disabled:i,textId:A,isSelected:h,onItemTextChange:L.useCallback(R=>{g(D=>D||((R==null?void 0:R.textContent)??"").trim())},[]),children:M.jsx(K0.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:M.jsx(st.div,{role:"option","aria-labelledby":A,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:E,onFocus:qe(s.onFocus,()=>_(!0)),onBlur:qe(s.onBlur,()=>_(!1)),onClick:qe(s.onClick,()=>{T.current!=="mouse"&&I()}),onPointerUp:qe(s.onPointerUp,()=>{T.current==="mouse"&&I()}),onPointerDown:qe(s.onPointerDown,R=>{T.current=R.pointerType}),onPointerMove:qe(s.onPointerMove,R=>{var D;T.current=R.pointerType,i?(D=c.onItemLeave)==null||D.call(c):T.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(s.onPointerLeave,R=>{var D;R.currentTarget===document.activeElement&&((D=c.onItemLeave)==null||D.call(c))}),onKeyDown:qe(s.onKeyDown,R=>{var B;((B=c.searchRef)==null?void 0:B.current)!==""&&R.key===" "||(tV.includes(R.key)&&I(),R.key===" "&&R.preventDefault())})})})})});ZI.displayName=u0;var jc="SelectItemText",JI=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,s=No(jc,t),u=Po(jc,t),c=QI(jc,t),h=aV(jc,t),[p,g]=L.useState(null),y=Vt(e,I=>g(I),c.onItemTextChange,I=>{var R;return(R=u.itemTextRefCallback)==null?void 0:R.call(u,I,c.value,c.disabled)}),_=p==null?void 0:p.textContent,E=L.useMemo(()=>M.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:A,onNativeOptionRemove:T}=h;return Wn(()=>(A(E),()=>T(E)),[A,T,E]),M.jsxs(M.Fragment,{children:[M.jsx(st.span,{id:c.textId,...a,ref:y}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?hf.createPortal(a.children,s.valueNode):null]})});JI.displayName=jc;var e4="SelectItemIndicator",t4=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return QI(e4,t).isSelected?M.jsx(st.span,{"aria-hidden":!0,...r,ref:e}):null});t4.displayName=e4;var ym="SelectScrollUpButton",n4=L.forwardRef((n,e)=>{const t=Po(ym,n.__scopeSelect),r=Zy(ym,n.__scopeSelect),[i,a]=L.useState(!1),s=Vt(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollTop>0;a(h)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?M.jsx(i4,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});n4.displayName=ym;var _m="SelectScrollDownButton",r4=L.forwardRef((n,e)=>{const t=Po(_m,n.__scopeSelect),r=Zy(_m,n.__scopeSelect),[i,a]=L.useState(!1),s=Vt(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<h;a(p)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?M.jsx(i4,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});r4.displayName=_m;var i4=L.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=Po("SelectScrollButton",t),s=L.useRef(null),u=Y0(t),c=L.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return L.useEffect(()=>()=>c(),[c]),Wn(()=>{var p;const h=u().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),M.jsx(st.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{c()})})}),yV="SelectSeparator",_V=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return M.jsx(st.div,{"aria-hidden":!0,...r,ref:e})});_V.displayName=yV;var xm="SelectArrow",xV=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=$0(t),a=No(xm,t),s=Po(xm,t);return a.open&&s.position==="popper"?M.jsx(MI,{...i,...r,ref:e}):null});xV.displayName=xm;var EV="SelectBubbleInput",a4=L.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=L.useRef(null),a=Vt(r,i),s=QB(e);return L.useEffect(()=>{const u=i.current;if(!u)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[s,e]),M.jsx(st.select,{...t,style:{...LI,...t.style},ref:a,defaultValue:e})});a4.displayName=EV;function o4(n){return n===""||n===void 0}function s4(n){const e=yo(n),t=L.useRef(""),r=L.useRef(0),i=L.useCallback(s=>{const u=t.current+s;e(u),function c(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[e]),a=L.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return L.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function l4(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let s=wV(n,Math.max(a,0));i.length===1&&(s=s.filter(h=>h!==t));const c=s.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function wV(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var AV=BI,TV=FI,CV=jI,bV=zI,SV=HI,IV=GI,RV=KI,OV=ZI,DV=JI,NV=t4,PV=n4,MV=r4;function LV({...n}){return M.jsx(AV,{"data-slot":"select",...n})}function kV({...n}){return M.jsx(CV,{"data-slot":"select-value",...n})}function BV({className:n,size:e="default",children:t,...r}){return M.jsxs(TV,{"data-slot":"select-trigger","data-size":e,className:At("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,M.jsx(bV,{asChild:!0,children:M.jsx(eI,{className:"size-4 opacity-50"})})]})}function VV({className:n,children:e,position:t="popper",...r}){return M.jsx(SV,{children:M.jsxs(IV,{"data-slot":"select-content",className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[M.jsx(UV,{}),M.jsx(RV,{className:At("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),M.jsx(jV,{})]})})}function FV({className:n,children:e,...t}){return M.jsxs(OV,{"data-slot":"select-item",className:At("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[M.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:M.jsx(NV,{children:M.jsx(RL,{className:"size-4"})})}),M.jsx(DV,{children:e})]})}function UV({className:n,...e}){return M.jsx(PV,{"data-slot":"select-scroll-up-button",className:At("flex cursor-default items-center justify-center py-1",n),...e,children:M.jsx(NL,{className:"size-4"})})}function jV({className:n,...e}){return M.jsx(MV,{"data-slot":"select-scroll-down-button",className:At("flex cursor-default items-center justify-center py-1",n),...e,children:M.jsx(eI,{className:"size-4"})})}function u4({field:n,formData:e,handleSelectChange:t,className:r="",disabled:i=!1}){var a,s,u;return M.jsxs(LV,{name:n.name,value:String(e[n.name]||((s=(a=n.options)==null?void 0:a[0])==null?void 0:s.value)||""),onValueChange:c=>t(n.name,c),required:n.required,disabled:i,children:[M.jsx(BV,{className:r,children:M.jsx(kV,{placeholder:n.placeholder||`Select a ${n.label.toLowerCase()}`})}),M.jsx(VV,{children:(u=n.options)==null?void 0:u.map(c=>M.jsx(FV,{value:c.value,children:c.label},c.value))})]})}function Em({field:n,extraField:e,formData:t,handleInputChange:r,handleSelectChange:i,className:a="",disabled:s=!1}){return M.jsxs("div",{className:"flex items-end gap-2",children:[M.jsx(uI,{field:n,formData:t,handleInputChange:r,className:a,disabled:s}),M.jsx(u4,{field:e,formData:t,handleSelectChange:i,className:a})]})}function zV({field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i="",disabled:a=!1,extraFields:s}){var u;return M.jsxs("div",{className:"flex flex-col gap-2",children:[M.jsx(Em,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:s[0]}),M.jsx("span",{className:"text-2xl font-bold text-gray-700 mx-auto",children:"-"}),M.jsx(Em,{field:s[1],formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:(u=s[1].extraFields)==null?void 0:u[0]})]})}function c0({field:n,formData:e,handleInputChange:t,handleUnitChange:r,handleSelectChange:i,handleArrayOfObjectsChange:a}){function s(){var c;const u={select:M.jsx(u4,{field:n,formData:e,handleSelectChange:i,className:"w-full"},n.name),quantity:M.jsx(Em,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraField:(c=n.extraFields)==null?void 0:c[0]},n.name),reduceQuantity:M.jsx(zV,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraFields:n.extraFields||[]},n.name),arrayOfObjects:M.jsx(Ok,{field:n,value:e[n.name],handleArrayOfObjectsChange:a},n.name),default:M.jsx(uI,{field:n,formData:e,handleInputChange:t},n.name)};return n.type in u?u[n.type]:u.default}return s()}function c4({isOpen:n,showModal:e,title:t,description:r,fields:i,initialData:a,submitButtonText:s="Save",handleSave:u}){const[c,h]=L.useState(a||{}),p=L.useCallback(T=>T.type==="number"?0:T.type==="select"&&T.options&&T.options.length>0?T.options[0].value:"",[]),g=L.useCallback((T,I)=>(T.forEach(R=>{const D=a&&a[R.name];a&&D!==void 0?I[R.name]=D:I[R.name]=p(R),R.extraFields&&R.extraFields.length>0&&(I=g(R.extraFields,I))}),I),[a,p]);L.useEffect(()=>{let T={};T=g(i,T),h(T)},[n,i,g]);const y=T=>{const{name:I,value:R,type:D}=T.target;h(B=>({...B,[I]:D==="number"?parseFloat(R):R}))},_=(T,I,R,D)=>{var O;const B=(O=D.extraFields)==null?void 0:O[0].name;if(!B)return;const{val:j,unit:H}=zy(T,I,R);h(b=>({...b,[D.name]:j,[B]:H}))},E=(T,I)=>{h(R=>({...R,[T]:I}))},A=T=>{T.preventDefault(),u({...c,createdDate:new Date})};return M.jsx(VL,{open:n,onOpenChange:()=>e(!1),children:M.jsxs(jL,{className:"sm:max-w-[425px] p-6 rounded-lg shadow-xl",children:[M.jsxs(zL,{children:[M.jsx(HL,{className:"text-2xl font-bold text-indigo-700",children:t}),r&&M.jsx(GL,{className:"text-gray-600",children:r})]}),M.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 gap-4 py-4",children:[i.map(T=>M.jsxs("div",{className:"space-y-2",children:[M.jsx(i0,{htmlFor:T.name,children:T.label}),M.jsx(c0,{field:T,formData:c,handleInputChange:y,handleUnitChange:(I,R)=>_(c[T.name],c[I],R,T),handleSelectChange:E,handleArrayOfObjectsChange:I=>{h(R=>({...R,[T.name]:I}))}})]},T.name)),M.jsx(rr,{type:"submit",className:"w-full mt-4",children:s})]})]})})}const HV=()=>[{value:"Vegetable",label:"Vegetable"},{value:"Meat",label:"Meat"},{value:"Carbohydrate",label:"Carbohydrate"},{value:"Dairy",label:"Dairy"},{value:"Fruit",label:"Fruit"},{value:"Spice",label:"Spice"},{value:"Condiment",label:"Condiment"},{value:"Other",label:"Other"}],GV=()=>[{value:"Pantry",label:"Pantry"},{value:"Fridge",label:"Fridge"},{value:"Freezer",label:"Freezer"},{value:"Cupboard",label:"Cupboard"}],qV=()=>[{value:"-----",label:"-----"},{value:"Lidl",label:"Lidl"},{value:"Aldi",label:"Aldi"},{value:"Tesco",label:"Tesco"},{value:"Asda",label:"Asda"}],f0=(n=!1)=>{const e=[{value:"g",label:"g"},{value:"kg",label:"kg"},{value:"ml",label:"ml"},{value:"l",label:"L"},{value:"oz",label:"oz"},{value:"lb",label:"lb"},{value:"unit",label:"unit(s)"}];return n?e:[...e,{value:"unit",label:"unit(s)"},{value:"Tbs",label:"tbsp"},{value:"tsp",label:"tsp"},{value:"cup",label:"cup"}]},f4=[{name:"name",label:"Ingredient Name",type:"text",required:!0,placeholder:"e.g., Flour"},{name:"type",label:"Type",type:"select",required:!0,options:HV()},{name:"location",label:"Location",type:"select",required:!0,options:GV()},{name:"shop",label:"Shop",type:"select",required:!0,options:qV()}],h4={name:"quantity",label:"Quantity",type:"quantity",min:0,step:.01,required:!0,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:f0(!0)}]},XV={...h4,type:"reduceQuantity",extraFields:[{name:"unit",label:"Unit",type:"select",options:f0(!0)},{name:"reduce_quantity",label:"Quantity",type:"quantity",min:0,step:.01,required:!1,placeholder:"e.g., 500",extraFields:[{name:"reduce_unit",label:"Unit",type:"select",options:f0()}]}]},d4=[...f4,h4],WV=[...f4,XV],gd="pantry";function KV(){const[n,e]=L.useState({title:"",description:"",initialData:void 0,dialogType:"create",fields:[]}),[t,r]=L.useState(!1),{data:i,createData:a,updateData:s,deleteData:u,getData:c}=vu(),h=[{header:"Name",accessorKey:"name"},{header:"Quantity",accessorFn:E=>`${E.quantity} ${E.unit}`},{header:"Type",accessorKey:"type"},{header:"Location",accessorKey:"location"},{header:"Created Date",accessorFn:E=>{var A;return(A=E.createdDate)==null?void 0:A.toDate().toLocaleDateString()}}],p=()=>{e({title:"Add Item",dialogType:"create",fields:d4}),r(!0)},g=E=>{e({title:"Edit Item",dialogType:"update",initialData:E,fields:WV}),r(!0)},y=E=>{if(!("reduce_quantity"in E&&"reduce_unit"in E))return E;const{val:A,unit:T}=Rk(E.quantity,E.unit,E.reduce_quantity,E.reduce_unit);return delete E.reduce_quantity,delete E.reduce_unit,{...E,quantity:A,unit:T}},_=async E=>{var T,I;E=y(E);const A={...E,createdDate:en.fromDate(new Date)};try{n.dialogType==="create"&&await a(A,gd),n.dialogType==="update"&&E.quantity<=0?await u(gd,(T=n.initialData)==null?void 0:T.id):n.dialogType==="update"&&await s(A,gd,(I=n.initialData)==null?void 0:I.id),r(!1)}catch(R){console.error("Error submitting data:",R)}};return L.useEffect(()=>{const E=c(gd);return()=>E&&E()},[]),M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex justify-end mb-4",children:[" ",M.jsxs(rr,{onClick:()=>p(),className:"shadow-md",children:[" ","Add New Item"]})]}),M.jsx(c4,{isOpen:t,showModal:r,handleSave:_,...n}),i.length===0?M.jsx("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Your pantry is empty. Add some items!"}):M.jsx(C3,{columns:h,data:i,openEditDialog:g,objectType:"pantry"})]})}var[Q0,yH]=Ls("Tooltip",[W0]),Z0=W0(),p4="TooltipProvider",YV=700,wm="tooltip.open",[$V,Jy]=Q0(p4),g4=n=>{const{__scopeTooltip:e,delayDuration:t=YV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,s=L.useRef(!0),u=L.useRef(!1),c=L.useRef(0);return L.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),M.jsx($V,{scope:e,isOpenDelayedRef:s,delayDuration:t,onOpen:L.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:L.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:a})};g4.displayName=p4;var ff="Tooltip",[QV,Of]=Q0(ff),v4=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:u}=n,c=Jy(ff,n.__scopeTooltip),h=Z0(e),[p,g]=L.useState(null),y=pa(),_=L.useRef(0),E=s??c.disableHoverableContent,A=u??c.delayDuration,T=L.useRef(!1),[I,R]=$l({prop:r,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(wm))):c.onClose(),a==null||a(O)},caller:ff}),D=L.useMemo(()=>I?T.current?"delayed-open":"instant-open":"closed",[I]),B=L.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,R(!0)},[R]),j=L.useCallback(()=>{window.clearTimeout(_.current),_.current=0,R(!1)},[R]),H=L.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,R(!0),_.current=0},A)},[A,R]);return L.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),M.jsx(DI,{...h,children:M.jsx(QV,{scope:e,contentId:y,open:I,stateAttribute:D,trigger:p,onTriggerChange:g,onTriggerEnter:L.useCallback(()=>{c.isOpenDelayedRef.current?H():B()},[c.isOpenDelayedRef,H,B]),onTriggerLeave:L.useCallback(()=>{E?j():(window.clearTimeout(_.current),_.current=0)},[j,E]),onOpen:B,onClose:j,disableHoverableContent:E,children:t})})};v4.displayName=ff;var Am="TooltipTrigger",m4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Of(Am,t),a=Jy(Am,t),s=Z0(t),u=L.useRef(null),c=Vt(e,u,i.onTriggerChange),h=L.useRef(!1),p=L.useRef(!1),g=L.useCallback(()=>h.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),M.jsx(NI,{asChild:!0,...s,children:M.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:qe(n.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:qe(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:qe(n.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:qe(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:qe(n.onBlur,i.onClose),onClick:qe(n.onClick,i.onClose)})})});m4.displayName=Am;var e_="TooltipPortal",[ZV,JV]=Q0(e_,{forceMount:void 0}),y4=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,a=Of(e_,e);return M.jsx(ZV,{scope:e,forceMount:t,children:M.jsx(ks,{present:t||a.open,children:M.jsx(U0,{asChild:!0,container:i,children:r})})})};y4.displayName=e_;var ou="TooltipContent",_4=L.forwardRef((n,e)=>{const t=JV(ou,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,s=Of(ou,n.__scopeTooltip);return M.jsx(ks,{present:r||s.open,children:s.disableHoverableContent?M.jsx(x4,{side:i,...a,ref:e}):M.jsx(eF,{side:i,...a,ref:e})})}),eF=L.forwardRef((n,e)=>{const t=Of(ou,n.__scopeTooltip),r=Jy(ou,n.__scopeTooltip),i=L.useRef(null),a=Vt(e,i),[s,u]=L.useState(null),{trigger:c,onClose:h}=t,p=i.current,{onPointerInTransitChange:g}=r,y=L.useCallback(()=>{u(null),g(!1)},[g]),_=L.useCallback((E,A)=>{const T=E.currentTarget,I={x:E.clientX,y:E.clientY},R=iF(I,T.getBoundingClientRect()),D=aF(I,R),B=oF(A.getBoundingClientRect()),j=lF([...D,...B]);u(j),g(!0)},[g]);return L.useEffect(()=>()=>y(),[y]),L.useEffect(()=>{if(c&&p){const E=T=>_(T,p),A=T=>_(T,c);return c.addEventListener("pointerleave",E),p.addEventListener("pointerleave",A),()=>{c.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",A)}}},[c,p,_,y]),L.useEffect(()=>{if(s){const E=A=>{const T=A.target,I={x:A.clientX,y:A.clientY},R=(c==null?void 0:c.contains(T))||(p==null?void 0:p.contains(T)),D=!sF(I,s);R?y():D&&(y(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,p,s,h,y]),M.jsx(x4,{...n,ref:a})}),[tF,nF]=Q0(ff,{isInside:!1}),rF=T8("TooltipContent"),x4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...u}=n,c=Of(ou,t),h=Z0(t),{onClose:p}=c;return L.useEffect(()=>(document.addEventListener(wm,p),()=>document.removeEventListener(wm,p)),[p]),L.useEffect(()=>{if(c.trigger){const g=y=>{const _=y.target;_!=null&&_.contains(c.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,p]),M.jsx(F0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:M.jsxs(PI,{"data-state":c.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[M.jsx(rF,{children:r}),M.jsx(tF,{scope:t,isInside:!0,children:M.jsx(JB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});_4.displayName=ou;var E4="TooltipArrow",w4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Z0(t);return nF(E4,t).isInside?null:M.jsx(MI,{...i,...r,ref:e})});w4.displayName=E4;function iF(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aF(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function oF(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function sF(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const u=e[a],c=e[s],h=u.x,p=u.y,g=c.x,y=c.y;p>r!=y>r&&t<(g-h)*(r-p)/(y-p)+h&&(i=!i)}return i}function lF(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),uF(e)}function uF(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var cF=g4,fF=v4,hF=m4,dF=y4,pF=_4,gF=w4;function Tm({delayDuration:n=0,...e}){return M.jsx(cF,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function OT({...n}){return M.jsx(Tm,{children:M.jsx(fF,{"data-slot":"tooltip",...n})})}function DT({...n}){return M.jsx(hF,{"data-slot":"tooltip-trigger",...n})}function NT({className:n,sideOffset:e=0,children:t,...r}){return M.jsx(dF,{children:M.jsxs(pF,{"data-slot":"tooltip-content",sideOffset:e,className:At("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,M.jsx(gF,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const PT="recipe";function vF(){const[n,e]=L.useState({title:"",description:"",initialData:void 0,dialogType:"create",fields:[]}),[t,r]=L.useState(!1),{data:i,createData:a,updateData:s}=vu(),u=[{header:"Name",accessorKey:"name"},{header:"Ingredients",accessorKey:"ingredients",accessorFn:_=>{var T;const E=(T=_.ingredients)==null?void 0:T.map(I=>I.name).join(", "),A=(E==null?void 0:E.length)>40?`${E.substring(0,37)}...`:E||"N/A";return M.jsx(Tm,{children:M.jsx(OT,{children:M.jsx(DT,{asChild:!0,children:M.jsxs("span",{children:[A,_.ingredients&&_.ingredients.length>0&&M.jsxs(NT,{className:"p-2 text-left shadow-lg",children:[M.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Ingredients:"}),M.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:_.ingredients.map((I,R)=>M.jsxs("li",{children:[M.jsx("span",{className:"font-medium",children:I.name}),M.jsxs("span",{className:"ml-0.5",children:["(",I.quantity," ",I.unit,")"]})]},R))})]})]})})})})}},{header:"Instructions",accessorKey:"instructions",accessorFn:_=>{var A;const E=((A=_.instructions)==null?void 0:A.length)>40?`${_.instructions.substring(0,37)}...`:_.instructions||"N/A";return M.jsx(Tm,{children:M.jsx(OT,{children:M.jsx(DT,{asChild:!0,children:M.jsxs("span",{children:[E,_.instructions&&_.instructions.length>0&&M.jsxs(NT,{className:"p-2 text-left shadow-lg",children:[M.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Instructions"}),M.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:M.jsx("span",{className:"font-medium",children:_.instructions})})]})]})})})})}}],c=[{name:"name",label:"Name",type:"text",placeholder:"e.g., Flour",required:!0},{name:"quantity",label:"Quantity",type:"quantity",required:!0,min:0,step:.01,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:f0(!0)}]}],h=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g., Katsu Curry"},{name:"ingredients",label:"Ingredients",type:"arrayOfObjects",required:!0,relatedCollection:"pantry",extraFields:c},{name:"instructions",label:"Instructions",type:"textarea",required:!1,placeholder:"e.g., Chop carrots, chop onions...etc"}],p=()=>{e({title:"Add Recipe",dialogType:"create",fields:h}),r(!0)},g=_=>{e({title:"Edit Item",dialogType:"update",initialData:_,fields:h}),r(!0)},y=async _=>{var E;try{n.dialogType==="create"?await a(_,PT):n.dialogType==="update"&&await s(_,PT,(E=n.initialData)==null?void 0:E.id),r(!1)}catch(A){console.error("Error submitting data:",A)}};return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"flex justify-end mb-4",children:[" ",M.jsxs(rr,{onClick:()=>p(),className:"shadow-md",children:[" ","Add New Item"]})]}),M.jsx(c4,{isOpen:t,showModal:r,handleSave:y,...n}),i.length===0?M.jsx("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Your pantry is empty. Add some items!"}):M.jsx(C3,{columns:u,data:i,openEditDialog:g,objectType:"recipe"})]})}function mF(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function yF(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var _F=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xF=function(n){_F(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),mF(a,i.prototype),yF(a),a}return e}(Error),EF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dr=function(n){EF(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(xF),wF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zr=function(n){wF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(dr),AF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),De=function(n){AF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(dr),TF=function(){function n(e){if(this.binarizer=e,e===null)throw new De("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),CF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sn=function(n){CF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(dr),bF=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Dt=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),SF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),t_=function(n){SF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(dr),IF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MT=function(n){IF(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(t_),RF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new De("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new MT(t);if(r>e)throw new MT(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=RF(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Dt.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Qe=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),In=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Dt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new De;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new De;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new De("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new De("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&pn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+pn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),Cm;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Cm||(Cm={}));const Bt=Cm;var OF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ve=function(n){OF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(dr),DF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(Et||(Et={}));var hn=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var g=c[h];n.VALUES_TO_ECI.set(g,this)}try{for(var y=DF(s),_=y.next();!_.done;_=y.next()){var E=_.value;n.NAME_TO_ECI.set(E,this)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(Et.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(Et.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(Et.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(Et.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(Et.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(Et.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(Et.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(Et.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(Et.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(Et.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(Et.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(Et.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(Et.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(Et.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(Et.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(Et.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(Et.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(Et.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(Et.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(Et.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(Et.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(Et.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(Et.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(Et.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(Et.Big5,28,"Big5"),n.GB18030=new n(Et.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(Et.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),NF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Md=function(n){NF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(dr),zr=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof hn?e:hn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(hn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Md("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(hn.UTF8)||e.equals(hn.ISO8859_1)||e.equals(hn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),ot=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return zr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Bt.CHARACTER_SET)!==void 0)return t.get(Bt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,g=0,y=0,_=0,E=0,A=0,T=0,I=0,R=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,D=0;D<r&&(i||a||s);D++){var B=e[D]&255;s&&(u>0?(B&128)===0?s=!1:u--:(B&128)!==0&&((B&64)===0?s=!1:(u++,(B&32)===0?c++:(u++,(B&16)===0?h++:(u++,(B&8)===0?p++:s=!1))))),i&&(B>127&&B<160?i=!1:B>159&&(B<192||B===215||B===247)&&I++),a&&(g>0?B<64||B===127||B>252?a=!1:g--:B===128||B===160||B>239?a=!1:B>160&&B<224?(y++,E=0,_++,_>A&&(A=_)):B>127?(g++,_=0,E++,E>T&&(T=E)):(_=0,E=0))}return s&&u>0&&(s=!1),a&&g>0&&(a=!1),s&&(R||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||A>=3||T>=3)?n.SHIFT_JIS:i&&a?A===2&&y===2||I*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,g,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var _=g?parseInt(g.substr(1)):void 0,E;switch(y){case"s":E=t[i];break;case"c":E=t[i][0];break;case"f":E=parseFloat(t[i]).toFixed(u);break;case"p":E=parseFloat(t[i]).toPrecision(u);break;case"e":E=parseFloat(t[i]).toExponential(u);break;case"x":E=parseInt(t[i]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[i],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var A=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";E.length<A;)E=c!==void 0?E+T:T+E;return E}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return zr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=hn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=hn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=hn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),Ke=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ot.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),ki=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new De("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new De("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new De("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");c++}for(var p=new n(u,c),g=0;g<a;g++)i[g]&&p.set(Math.floor(g%u),Math.floor(g/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new De("input matrix dimensions do not match");for(var t=new In(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new De("Left and top must be nonnegative");if(i<1||r<1)throw new De("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new De("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,g=e;g<a;g++)c[p+Math.floor(g/32)]|=1<<(g&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new In(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Dt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new In(e),i=new In(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var g=i[h*r+p];if(g!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(g<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(g>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&pn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+pn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new Ke,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),PF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(n){PF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(dr),MF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LF=function(n){MF(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new In(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,g=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(g*4-p-y)/2<h&&r.set(c),p=g,g=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new ki(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),g=Math.floor(r/5);g<p;g++){var y=h[g]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(s),E=t.getMatrix(),u=0;u<i;u++)for(var A=u*r,g=0;g<r;g++){var y=E[A+g]&255;y<_&&a.set(g,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,g=t[u]*p*p;g>h&&(c=u,h=g)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ie;for(var _=c-1,E=-1,u=c-1;u>a;u--){var A=u-a,g=A*A*(c-u)*(i-t[u]);g>E&&(_=u,E=g)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(bF),kF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BF=function(n){kF(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new ki(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,g=0;g<i;g++){var y=g<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(g,2,i-3),E=0;E<r;E++){var A=E<<e.BLOCK_SIZE_POWER;A>p&&(A=p);for(var T=e.cap(E,2,r-3),I=0,R=-2;R<=2;R++){var D=u[_+R];I+=D[T-2]+D[T-1]+D[T]+D[T+1]+D[T+2]}var B=I/25;e.thresholdBlock(t,A,y,B,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var y=0;y<r;y++){var _=y<<e.BLOCK_SIZE_POWER;_>c&&(_=c);for(var E=0,A=255,T=0,I=0,R=g*a+_;I<e.BLOCK_SIZE;I++,R+=a){for(var D=0;D<e.BLOCK_SIZE;D++){var B=t[R+D]&255;E+=B,B<A&&(A=B),B>T&&(T=B)}if(T-A>e.MIN_DYNAMIC_RANGE)for(I++,R+=a;I<e.BLOCK_SIZE;I++,R+=a)for(var D=0;D<e.BLOCK_SIZE;D++)E+=t[R+D]&255}var j=E>>e.BLOCK_SIZE_POWER*2;if(T-A<=e.MIN_DYNAMIC_RANGE&&(j=A/2,p>0&&y>0)){var H=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;A<H&&(j=H)}h[p][y]=j}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(LF),J0=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Md("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Md("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Md("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ke,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),VF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),n_=function(n){VF(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(J0),FF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UF=function(n){FF(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=p}else for(var u=0,c=0,A=t.length;u<A;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new n_(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(J0),jF=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),er=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(g){s(g)}}function c(p){try{h(r.throw(p))}catch(g){s(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},tr=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},zF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,g,y;return tr(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=zF(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){g={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e;return tr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new jF(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return er(this,void 0,void 0,function(){var t;return tr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return er(this,void 0,void 0,function(){return tr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return er(this,void 0,void 0,function(){var i,a;return tr(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Zr("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Zr("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Zr("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Zr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Zr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Zr("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Zr("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Zr("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Zr("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Zr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ie,p=y instanceof Sn||y instanceof ve,g=p&&r;if(h||g)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof Sn||c instanceof ve,u=c instanceof ie;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new UF(r,t),a=new BF(i);return new TF(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Yn=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Dt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Dt.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Dt.arraycopy(t,0,r,0,t.length),Dt.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),bm;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bm||(bm={}));const Oe=bm;var Sm;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Sm||(Sm={}));const Vn=Sm;var e1=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),zc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),vo=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=zc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=zc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=zc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=zc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new De("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),HF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A4=function(n){HF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(dr),GF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hr=function(n){GF(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new vo(a,Int32Array.from([0])),a.one=new vo(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new vo(this,i)},e.prototype.inverse=function(t){if(t===0)throw new A4;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(zc),qF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vd=function(n){qF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(dr),XF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Df=function(n){XF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(dr),t1=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new vo(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new vo(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),g=p[0],y=p[1],_=this.findErrorLocations(g),E=this.findErrorMagnitudes(y,_),u=0;u<_.length;u++){var A=e.length-1-r.log(_[u]);if(A<0)throw new vd("Bad error location");e[A]=hr.addOrSubtract(e[A],E[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,g=c;if(s=u,c=h,s.isZero())throw new vd("r_{i-1} was zero");u=p;for(var y=a.getZero(),_=s.getCoefficient(s.getDegree()),E=a.inverse(_);u.getDegree()>=s.getDegree()&&!u.isZero();){var A=u.getDegree()-s.getDegree(),T=a.multiply(u.getCoefficient(u.getDegree()),E);y=y.addOrSubtract(a.buildMonomial(A,T)),u=u.addOrSubtract(s.multiplyByMonomial(A,T))}if(h=y.multiply(c).addOrSubtract(g),u.getDegree()>=s.getDegree())throw new Df("Division algorithm failed to reduce polynomial?")}var I=h.getCoefficient(0);if(I===0)throw new vd("sigmaTilde(0) was zero");var R=a.inverse(I),D=h.multiplyScalar(R),B=u.multiplyScalar(R);return[D,B]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new vd("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),g=(p&1)===0?p|1:p&-2;c=a.multiply(c,g)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Mn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Mn||(Mn={}));var LT=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new e1(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Mn.UPPER,i=Mn.UPPER,a="",s=0;s<t;)if(i===Mn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=ot.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Mn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var g=n.getCharacter(i,h);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(a+=g,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Mn.LOWER;case"P":return Mn.PUNCT;case"M":return Mn.MIXED;case"D":return Mn.DIGIT;case"B":return Mn.BINARY;case"U":default:return Mn.UPPER}},n.getCharacter=function(e,t){switch(e){case Mn.UPPER:return n.UPPER_TABLE[t];case Mn.LOWER:return n.LOWER_TABLE[t];case Mn.MIXED:return n.MIXED_TABLE[t];case Mn.PUNCT:return n.PUNCT_TABLE[t];case Mn.DIGIT:return n.DIGIT_TABLE[t];default:throw new Df("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=hr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=hr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=hr.AZTEC_DATA_10):(r=12,t=hr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ve;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new t1(t);h.decode(u,a-i)}catch(T){throw new ve(T)}for(var p=(1<<r)-1,g=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new ve;(y===1||y===p-1)&&g++}for(var _=new Array(i*r-g),E=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)_.fill(y>1,E,E+r-1),E+=r-1;else for(var A=r-1;A>=0;--A)_[E++]=(y&1<<A)!==0}return _},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),h=i/2,p=Qe.truncDivision(c,2),u=0;u<h;u++){var g=u+Qe.truncDivision(u,15);a[h-u-1]=p-g-1,a[h+u]=p+g+1}for(var u=0,y=0;u<r;u++){for(var _=(r-u)*4+(t?9:12),E=u*2,A=i-1-E,T=0;T<_;T++)for(var I=T*2,R=0;R<2;R++)s[y+I+R]=e.get(a[E+R],a[E+T]),s[y+2*_+I+R]=e.get(a[E+T],a[A-R]),s[y+4*_+I+R]=e.get(a[A-R],a[A-T]),s[y+6*_+I+R]=e.get(a[A-T],a[E+R]);y+=_*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ft=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),Im=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Te=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*Im.floatToIntBits(this.x)+Im.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ft.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),r_=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),WF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KF=function(n){WF(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(r_),Rm=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,g=!1,y=this.width,_=this.height;s;){s=!1;for(var E=!0;(E||!c)&&t<y;)E=this.containsBlackPoint(r,i,t,!1),E?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var A=!0;(A||!h)&&i<_;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,s=!0,h=!0):h||i++;if(i>=_){a=!0;break}for(var T=!0;(T||!p)&&e>=0;)T=this.containsBlackPoint(r,i,e,!1),T?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var I=!0;(I||!g)&&r>=0;)I=this.containsBlackPoint(e,t,r,!0),I?(r--,s=!0,g=!0):g||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var R=t-e,D=null,B=1;D===null&&B<R;B++)D=this.getBlackPointOnSegment(e,i-B,e+B,i);if(D==null)throw new ie;for(var j=null,B=1;j===null&&B<R;B++)j=this.getBlackPointOnSegment(e,r+B,e+B,r);if(j==null)throw new ie;for(var H=null,B=1;H===null&&B<R;B++)H=this.getBlackPointOnSegment(t,r+B,t-B,r);if(H==null)throw new ie;for(var O=null,B=1;O===null&&B<R;B++)O=this.getBlackPointOnSegment(t,i-B,t-B,i);if(O==null)throw new ie;return this.centerEdges(O,D,H,j)}else throw new ie},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ft.round(ft.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ft.round(e+h*s),g=ft.round(t+h*u);if(c.get(p,g))return new Te(p,g)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),g=i.getX(),y=i.getY(),_=n.CORR;return a<this.width/2?[new Te(g-_,y+_),new Te(u+_,c+_),new Te(h-_,p-_),new Te(a+_,s-_)]:[new Te(g+_,y+_),new Te(u+_,c-_),new Te(h-_,p+_),new Te(a-_,s-_)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),kT=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),T4=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,g,y,_,E,A,T){var I=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),R=n.squareToQuadrilateral(h,p,g,y,_,E,A,T);return R.times(I)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=0;y<t;y+=2){var _=e[y],E=e[y+1],A=a*_+c*E+g;e[y]=(r*_+s*E+h)/A,e[y+1]=(i*_+u*E+p)/A}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=e.length,_=0;_<y;_++){var E=e[_],A=t[_],T=a*E+c*A+g;e[_]=(r*E+s*A+h)/T,t[_]=(i*E+u*A+p)/T}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var g=r-a,y=u-a,_=i-s,E=c-s,A=g*E-y*_,T=(h*E-y*p)/A,I=(g*p-h*_)/A;return new n(r-e+T*r,u-e+I*u,e,i-t+T*i,c-t+I*c,t,T,I,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),YF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$F=function(n){YF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,g,y,_,E,A,T,I,R,D,B){var j=T4.quadrilateralToQuadrilateral(a,s,u,c,h,p,g,y,_,E,A,T,I,R,D,B);return this.sampleGridWithTransform(t,r,i,j)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ie;for(var s=new ki(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,g=0;g<h;g+=2)u[g]=g/2+.5,u[g+1]=p;a.transformPoints(u),kT.checkAndNudgePoints(t,u);try{for(var g=0;g<h;g+=2)t.get(Math.floor(u[g]),Math.floor(u[g+1]))&&s.set(g/2,c)}catch{throw new ie}}return s},e}(kT),i_=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new $F,n}(),ur=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Te(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),QF=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new KF(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new t1(hr.AZTEC_PARAM);c.decode(s,a)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var y=new Te(t.getX()+.5,t.getY()-.5),_=new Te(r.getX()+.5,r.getY()+.5),E=new Te(i.getX()-.5,i.getY()+.5),A=new Te(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,_,E,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new Rm(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new ur(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ur(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ur(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ur(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new Rm(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new ur(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ur(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ur(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new ur(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new ur(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=i_.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,g=0;g<r;g++)this.image.get(ft.round(u+g*h),ft.round(c+g*p))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new ur(e.getX()-a,e.getY()+a),t=new ur(t.getX()-a,t.getY()-a),r=new ur(r.getX()+a,r.getY()-a),i=new ur(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),g=0;g<p;g++)u+=i,c+=a,this.image.get(ft.round(u),ft.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new ur(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new Te(u+i*a,c+i*s),p=new Te(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var g=new Te(u+i*a,c+i*s),y=new Te(u-i*a,c-i*s),_=[h,g,p,y];return _},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ft.round(e.getX()),r=ft.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},n}(),Om=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new QF(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new LT().decode(u)}catch(g){r=g}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new LT().decode(u)}catch(g){throw r??g}var c=new Yn(s.getText(),s.getRawBytes(),s.getNumBits(),a,Oe.AZTEC,Dt.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(Vn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(Vn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Bt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),ZF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){ZF(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Om,t)||this}return e})(Eu);var gn=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Bt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(Vn.ORIENTATION)===!0&&(u=u+s.get(Vn.ORIENTATION)%360),a.putMetadata(Vn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new Te(h-c[p].getY()-1,c[p].getX());return a}else throw new ie}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new In(r),s=t&&t.get(Bt.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var g=Math.trunc((p+1)/2),y=(p&1)===0,_=h+u*(y?g:-g);if(_<0||_>=i)break;try{a=e.getBlackRow(_,a)}catch{continue}for(var E=function(R){if(R===1&&(a.reverse(),t&&t.get(Bt.NEED_RESULT_POINT_CALLBACK)===!0)){var D=new Map;t.forEach(function(H,O){return D.set(O,H)}),D.delete(Bt.NEED_RESULT_POINT_CALLBACK),t=D}try{var B=A.decodeRow(_,a,t);if(R===1){B.putMetadata(Vn.ORIENTATION,180);var j=B.getResultPoints();j!==null&&(j[0]=new Te(r-j[0].getX()-1,j[0].getY()),j[1]=new Te(r-j[1].getX()-1,j[1].getY()))}return{value:B}}catch{}},A=this,T=0;T<2;T++){var I=E(T);if(typeof I=="object")return I.value}}throw new ie},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ie;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ie},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ie;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return Number.POSITIVE_INFINITY;h+=_}return h/a},n}(),JF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BT=function(n){JF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var g=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var E=gn.patternMatchVariance(s,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);E<g&&(g=E,y=_)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ie},e.decodeCode=function(t,r,i){gn.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ie},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Bt.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new ve}for(var g=!1,y=!1,_="",E=s[0],A=s[1],T=Int32Array.from([0,0,0,0,0,0]),I=0,R=0,D=u,B=0,j=!0,H=!1,O=!1;!g;){var b=y;switch(y=!1,I=R,R=e.decodeCode(r,T,A),h[c++]=R,R!==e.CODE_STOP&&(j=!0),R!==e.CODE_STOP&&(B++,D+=B*R),E=A,A+=T.reduce(function(ae,ee){return ae+ee},0),R){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(p){case e.CODE_CODE_A:if(R<64)O===H?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else if(R<96)O===H?_+=String.fromCharCode(R-64):_+=String.fromCharCode(R+64),O=!1;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!H&&O?(H=!0,O=!1):H&&O?(H=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(R<96)O===H?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!H&&O?(H=!0,O=!1):H&&O?(H=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(R<100)R<10&&(_+="0"),_+=R;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}b&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=A-E;if(A=r.getNextUnset(A),!r.isRange(A,Math.min(r.getSize(),A+(A-E)/2),!1))throw new ie;if(D-=B*I,D%103!==I)throw new Sn;var V=_.length;if(V===0)throw new ie;V>0&&j&&(p===e.CODE_CODE_C?_=_.substring(0,V-2):_=_.substring(0,V-1));for(var z=(s[1]+s[0])/2,G=E+N/2,U=h.length,ye=new Uint8Array(U),xe=0;xe<U;xe++)ye[xe]=h[xe];var K=[new Te(z,t),new Te(G,t)];return new Yn(_,ye,0,K,Oe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(gn),eU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VT=function(n){eU(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),g=r.getNextSet(p[1]),y=r.getSize(),_,E;do{e.recordPattern(r,g,h);var A=e.toNarrowWidePattern(h);if(A<0)throw new ie;_=e.patternToChar(A),this.decodeRowResult+=_,E=g;try{for(var T=(a=void 0,Cv(h)),I=T.next();!I.done;I=T.next()){var R=I.value;g+=R}}catch(U){a={error:U}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}g=r.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=Cv(h),j=B.next();!j.done;j=B.next()){var R=j.value;D+=R}}catch(U){u={error:U}}finally{try{j&&!j.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}var H=g-E-D;if(g!==y&&H*2<D)throw new ie;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,b=0,N=0;N<O;N++)b+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(b%43))throw new Sn;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new ie;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var z=(p[1]+p[0])/2,G=E+D/2;return new Yn(V,null,0,[new Te(z,t),new Te(G,t)],Oe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ie},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,Cv(t)),p=h.next();!p.done;p=h.next()){var g=p.value;g<c&&g>s&&(c=g)}}catch(A){r={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,_=0,E=0;E<a;E++){var g=t[E];g>s&&(_|=1<<a-1-E,u++,y+=g)}if(u===3){for(var E=0;E<a&&u>0;E++){var g=t[E];if(g>s&&(u--,g*2>=y))return-1}return _}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ve;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(gn),tU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FT=function(n){tU(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),g=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,E;do{e.recordPattern(r,p,y);var A=this.toPattern(y);if(A<0)throw new ie;_=this.patternToChar(A),this.decodeRowResult+=_,E=p;try{for(var T=(a=void 0,bv(y)),I=T.next();!I.done;I=T.next()){var R=I.value;p+=R}}catch(N){a={error:N}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=bv(y),j=B.next();!j.done;j=B.next()){var R=j.value;D+=R}}catch(N){u={error:N}}finally{try{j&&!j.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}if(p===g||!r.get(p))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var H=this.decodeExtended(this.decodeRowResult),O=(h[1]+h[0])/2,b=E+D/2;return new Yn(H,null,0,[new Te(O,t),new Te(b,t)],Oe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=bv(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(E){r={error:E}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,g=0;g<p;g++){var y=Math.round(t[g]*9/a);if(y<1||y>4)return-1;if((g&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ie},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new ve;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new ve;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new Sn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(gn),nU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UT=function(n){nU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new Ke;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),g=null;i!=null&&(g=i.get(Bt.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,_=!1,E=0;try{for(var A=rU(g),T=A.next();!T.done;T=A.next()){var I=T.value;if(y===I){_=!0;break}I>E&&(E=I)}}catch(B){a={error:B}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}if(!_&&y>E&&(_=!0),!_)throw new ve;var R=[new Te(u[1],t),new Te(c[0],t)],D=new Yn(p,null,0,R,Oe.ITF,new Date().getTime());return D},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){gn.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var g=e.decodeDigit(u);a.append(g.toString()),g=this.decodeDigit(c),a.append(g.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ie&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var g=r;g<u;g++)if(t.get(g)!==c)s[h]++;else{if(h===a-1){if(gn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,g];p+=s[0]+s[1],Dt.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ie},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=gn.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(gn),iU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),su=function(n){iU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,g=i,y=r;y<u;y++)if(t.get(y)!==g)s[c]++;else{if(c===p-1){if(gn.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var _=s.slice(2,s.length),E=0;E<c-1;E++)s[E]=_[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new ie},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],g=gn.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(gn),aU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oU=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var g=su.decodeDigit(e,s,c,su.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,aU(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ie;var A=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==A)throw new ie;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ie},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Vn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),sU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lU=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Te((r[0]+r[1])/2,e),new Te(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var g=su.decodeDigit(e,s,c,su.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,sU(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ie;if(parseInt(r.toString())%4!==h)throw new ie;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Vn.ISSUE_NUMBER,parseInt(e)]])},n}(),uU=function(){function n(){}return n.decodeRow=function(e,t,r){var i=su.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new oU;return a.decodeRow(e,t,i)}catch{var s=new lU;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),cU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fn=function(n){cU(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Bt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new Te((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var g=new Te(h,t);s.foundPossibleResultPoint(g)}var y=e.decodeEnd(r,h);if(s!=null){var _=new Te((y[0]+y[1])/2,t);s.foundPossibleResultPoint(_)}var E=y[1],A=E+(E-y[0]);if(A>=r.getSize()||!r.isRange(E,A,!1))throw new ie;var T=p.toString();if(T.length<8)throw new ve;if(!e.checkChecksum(T))throw new Sn;var I=(a[1]+a[0])/2,R=(y[1]+y[0])/2,D=this.getBarcodeFormat(),B=[new Te(I,t),new Te(R,t)],j=new Yn(T,null,0,B,D,new Date().getTime()),H=0;try{var O=uU.decodeRow(t,r,y[1]);j.putMetadata(Vn.UPC_EAN_EXTENSION,O.getText()),j.putAllMetadata(O.getResultMetadata()),j.addResultPoints(O.getResultPoints()),H=O.getText().length}catch{}var b=i==null?null:i.get(Bt.ALLOWED_EAN_EXTENSIONS);if(b!=null){var N=!1;for(var V in b)if(H.toString()===V){N=!0;break}if(!N)throw new ie}return D===Oe.EAN_13||Oe.UPC_A,j},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(su),fU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dm=function(n){fU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0,_=0;_<6&&g<p;_++){var E=fn.decodeDigit(t,h,g,fn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);try{for(var A=(a=void 0,jT(h)),T=A.next();!T.done;T=A.next()){var I=T.value;g+=I}}catch(j){a={error:j}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}E>=10&&(y|=1<<5-_)}i=e.determineFirstDigit(i,y);var R=fn.findGuardPattern(t,g,!0,fn.MIDDLE_PATTERN,new Int32Array(fn.MIDDLE_PATTERN.length).fill(0));g=R[1];for(var _=0;_<6&&g<p;_++){var E=fn.decodeDigit(t,h,g,fn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var D=(u=void 0,jT(h)),B=D.next();!B.done;B=D.next()){var I=B.value;g+=I}}catch(O){u={error:O}}finally{try{B&&!B.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(fn),hU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HT=function(n){hU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0;y<4&&g<p;y++){var _=fn.decodeDigit(t,h,g,fn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var E=(a=void 0,zT(h)),A=E.next();!A.done;A=E.next()){var T=A.value;g+=T}}catch(B){a={error:B}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}var I=fn.findGuardPattern(t,g,!0,fn.MIDDLE_PATTERN,new Int32Array(fn.MIDDLE_PATTERN.length).fill(0));g=I[1];for(var y=0;y<4&&g<p;y++){var _=fn.decodeDigit(t,h,g,fn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var R=(u=void 0,zT(h)),D=R.next();!D.done;D=R.next()){var T=D.value;g+=T}}catch(H){u={error:H}}finally{try{D&&!D.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_8},e}(fn),dU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GT=function(n){dU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Dm,t}return e.prototype.getBarcodeFormat=function(){return Oe.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Yn(r.substring(1),null,null,t.getResultPoints(),Oe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(fn),pU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qT=function(n){pU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(T){return T});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,g=0;g<6&&h<c;g++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var _=(a=void 0,gU(u)),E=_.next();!E.done;E=_.next()){var A=E.value;h+=A}}catch(T){a={error:T}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-g)}return e.determineNumSysAndCheckDigit(new Ke(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return fn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Oe.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Ke;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(fn),vU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sv=function(n){vU(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Bt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Oe.EAN_13)>-1&&a.push(new Dm),i.indexOf(Oe.UPC_A)>-1&&a.push(new GT),i.indexOf(Oe.EAN_8)>-1&&a.push(new HT),i.indexOf(Oe.UPC_E)>-1&&a.push(new qT)),a.length===0&&(a.push(new Dm),a.push(new GT),a.push(new HT),a.push(new qT)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=XT(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),g=p.getBarcodeFormat()===Oe.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Bt.POSSIBLE_FORMATS),_=y==null||y.includes(Oe.UPC_A);if(g&&_){var E=p.getRawBytes(),A=new Yn(p.getText().substring(1),E,E?E.length:null,p.getResultPoints(),Oe.UPC_A);return A.putAllMetadata(p.getResultMetadata()),A}return p}catch{}}}catch(T){a={error:T}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var t,r;try{for(var i=XT(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(gn),mU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yU=function(n){mU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ie;return new Yn(s,null,0,[new Te(a.left,t),new Te(a.right,t)],Oe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(gn),_U=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xs=function(n){_U(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(gn.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(t){return ft.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=xU(t),g=p.next();!g.done;g=p.next()){var y=g.value;y>h&&(h=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(gn),h0=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),C4=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Te(r,a)),this.resultPoints.push(new Te(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),EU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jl=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=EU(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(R){i={error:R}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,g=0,y=e.length,_=0;_<y-1;_++){var E=void 0;for(E=1,g|=1<<_;E<e[_];E++,g&=~(1<<_)){var A=n.combins(s-E-1,y-_-2);if(r&&g===0&&s-E-(y-_-1)>=y-_-1&&(A-=n.combins(s-E-(y-_),y-_-2)),y-_-1>1){for(var T=0,I=s-E-(y-_-2);I>t;I--)T+=n.combins(s-E-I-1,y-_-3);A-=T*(y-1-_)}else s-E>t&&A--;p+=A}s-=E}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),wU=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new In(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),g=11;g>=0;--g)(p&1<<g)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),g=11;g>=0;--g)(y&1<<g)!==0&&i.set(a),a++}return i},n}(),vs=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),a_=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),AU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qr=function(n){AU(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(a_),TU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ms=function(n){TU(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(a_),CU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kl=function(n){CU(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new ve;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(a_),md=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bU=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ie;var p=e.substring(0,2);try{for(var g=md(n.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var _=y.value;if(_[0]===p)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],e):n.processFixedAI(2,_[1],e)}}catch(H){t={error:H}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new ie;var E=e.substring(0,3);try{for(var A=md(n.THREE_DIGIT_DATA_LENGTH),T=A.next();!T.done;T=A.next()){var _=T.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],e):n.processFixedAI(3,_[1],e)}}catch(H){i={error:H}}finally{try{T&&!T.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var I=md(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),R=I.next();!R.done;R=I.next()){var _=R.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(H){s={error:H}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(e.length<4)throw new ie;var D=e.substring(0,4);try{for(var B=md(n.FOUR_DIGIT_DATA_LENGTH),j=B.next();!j.done;j=B.next()){var _=j.value;if(_[0]===D)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(H){c={error:H}}finally{try{j&&!j.done&&(h=B.return)&&h.call(B)}finally{if(c)throw c.error}}throw new ie},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ie;var i=r.substring(0,e);if(r.length<e+t)throw new ie;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),Ld=function(){function n(e){this.buffer=new Ke,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=bU.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new kl(this.information.getSize(),kl.FNC1,kl.FNC1):new kl(this.information.getSize(),t-1,kl.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new kl(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new ms(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ms(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new ms(this.current.getPosition(),this.buffer.toString()):t=new ms(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new vs(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vs(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vs(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vs(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Qr(e+5,Qr.FNC1);if(t>=5&&t<15)return new Qr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Qr(e+7,""+(r+1));if(r>=90&&r<116)return new Qr(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new Qr(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Qr(e+5,Qr.FNC1);if(t>=5&&t<15)return new Qr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Qr(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Df("Decoding invalid alphanumeric value: "+r)}return new Qr(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),b4=function(){function n(e){this.information=e,this.generalDecoder=new Ld(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),SU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ei=function(n){SU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(b4),IU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RU=function(n){IU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ke;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ei),OU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DU=function(n){OU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ke;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(b4),NU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kd=function(n){NU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}(ei),PU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),S4=function(n){PU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+kd.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var t=new Ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+kd.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(kd),MU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LU=function(n){MU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(S4),kU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BU=function(n){kU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(S4),VU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FU=function(n){VU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ei.GTIN_SIZE)throw new ie;var t=new Ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ei),UU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jU=function(n){UU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ei.GTIN_SIZE)throw new ie;var t=new Ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ei),zU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eo=function(n){zU(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var t=new Ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(kd);function HU(n){try{if(n.get(1))return new RU(n);if(!n.get(2))return new DU(n);var e=Ld.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new LU(n);case 5:return new BU(n)}var t=Ld.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new FU(n);case 13:return new jU(n)}var r=Ld.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new eo(n,"310","11");case 57:return new eo(n,"320","11");case 58:return new eo(n,"310","13");case 59:return new eo(n,"320","13");case 60:return new eo(n,"310","15");case 61:return new eo(n,"320","15");case 62:return new eo(n,"310","17");case 63:return new eo(n,"320","17")}}catch(i){throw console.log(i),new Df("unknown decoder: "+n)}}var WT=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),GU=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),qU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),to=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XU=function(n){qU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ie},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,to(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(u);try{return this.checkRows(g,s+1)}catch(y){console.log(y)}}}throw new ie},e.isValidSequence=function(t){var r,i;try{for(var a=to(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new GU(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=to(r),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getPairs().length!==t.length){var _=!0;try{for(var E=(s=void 0,to(y.getPairs())),A=E.next();!A.done;A=E.next()){var T=A.value,I=!1;try{for(var R=(c=void 0,to(t)),D=R.next();!D.done;D=R.next()){var B=D.value;if(WT.equals(T,B)){I=!0;break}}}catch(j){c={error:j}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}I||(_=!1)}}catch(j){s={error:j}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}}}catch(j){i={error:j}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=to(r),g=p.next();!g.done;g=p.next()){var y=g.value,_=!0;try{for(var E=(s=void 0,to(t)),A=E.next();!A.done;A=E.next()){var T=A.value,I=!1;try{for(var R=(c=void 0,to(y.getPairs())),D=R.next();!D.done;D=R.next()){var B=D.value;if(T.equals(B)){I=!0;break}}}catch(j){c={error:j}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}if(!I){_=!1;break}}}catch(j){s={error:j}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(_)return!0}}catch(j){i={error:j}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=wU.buildBitArray(t),i=HU(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new Yn(a,null,null,c,Oe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(g){p=null,console.log(g)}return new WT(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var g=0,y=u,_=u;_<s;_++)if(t.get(_)!==p)a[g]++;else{if(g===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new ie},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Dt.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new C4(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var g=17,y=ft.sum(new Int32Array(s))/g,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new ie;for(var E=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var R=1*s[c]/y,D=R+.5;if(D<1){if(R<.3)throw new ie;D=1}else if(D>8){if(R>8.7)throw new ie;D=8}var B=c/2;(c&1)===0?(E[B]=D,T[B]=R-D):(A[B]=D,I[B]=R-D)}this.adjustOddEvenCounts(g);for(var j=4*r.getValue()+(i?0:2)+(a?0:1)-1,H=0,O=0,c=E.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var b=e.WEIGHTS[j][2*c];O+=E[c]*b}H+=E[c]}for(var N=0,c=A.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var b=e.WEIGHTS[j][2*c+1];N+=A[c]*b}var V=O+N;if((H&1)!==0||H>13||H<4)throw new ie;var z=(13-H)/2,G=e.SYMBOL_WIDEST[z],U=9-G,ye=jl.getRSSvalue(E,G,!0),xe=jl.getRSSvalue(A,U,!1),K=e.EVEN_TOTAL_SUBSET[z],ae=e.GSUM[z],ee=ye*K+xe+ae;return new h0(ee,V)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ft.sum(new Int32Array(this.getOddCounts())),i=ft.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,g=(i&1)===0;if(h===1)if(p){if(g)throw new ie;s=!0}else{if(!g)throw new ie;c=!0}else if(h===-1)if(p){if(g)throw new ie;a=!0}else{if(!g)throw new ie;u=!0}else if(h===0){if(p){if(!g)throw new ie;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(g)throw new ie}else throw new ie;if(a){if(s)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(xs),WU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),KU=function(n){WU(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(h0),YU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KT=function(n){YU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var g=Iv(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var _=y.value;if(_.getCount()>1)try{for(var E=(u=void 0,Iv(this.possibleRightPairs)),A=E.next();!A.done;A=E.next()){var T=A.value;if(T.getCount()>1&&e.checkChecksum(_,T))return e.constructResult(_,T)}}catch(I){u={error:I}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=Iv(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new Ke,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new Yn(s.toString(),null,0,[p[0],p[1],g[0],g[1]],Oe.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Bt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new Te(h,i))}var p=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new KU(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)gn.recordPatternInReverse(t,r.getStartEnd()[0],a);else{gn.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,g=ft.sum(new Int32Array(a))/p,y=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var T=a[u]/g,I=Math.floor(T+.5);I<1?I=1:I>8&&(I=8);var R=Math.floor(u/2);(u&1)===0?(y[R]=I,E[R]=T-I):(_[R]=I,A[R]=T-I)}this.adjustOddEvenCounts(i,p);for(var D=0,B=0,u=y.length-1;u>=0;u--)B*=9,B+=y[u],D+=y[u];for(var j=0,H=0,u=_.length-1;u>=0;u--)j*=9,j+=_[u],H+=_[u];var O=B+3*j;if(i){if((D&1)!==0||D>12||D<4)throw new ie;var b=(12-D)/2,N=e.OUTSIDE_ODD_WIDEST[b],V=9-N,z=jl.getRSSvalue(y,N,!1),G=jl.getRSSvalue(_,V,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[b],ye=e.OUTSIDE_GSUM[b];return new h0(z*U+G+ye,O)}else{if((H&1)!==0||H>10||H<4)throw new ie;var b=(10-H)/2,N=e.INSIDE_ODD_WIDEST[b],V=9-N,z=jl.getRSSvalue(y,N,!0),G=jl.getRSSvalue(_,V,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[b],ye=e.INSIDE_GSUM[b];return new h0(G*xe+z+ye,O)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(xs.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ie},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);Dt.arraycopy(h,0,p,1,h.length-1),p[0]=c;var g=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,_=a[1];return i&&(y=t.getSize()-1-y,_=t.getSize()-1-_),new C4(g,[u,a[1]],y,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ft.sum(new Int32Array(this.getOddCounts())),a=ft.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,g=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(g){if(y)throw new ie;u=!0}else{if(!y)throw new ie;h=!0}else if(p===-1)if(g){if(y)throw new ie;s=!0}else{if(!y)throw new ie;c=!0}else if(p===0){if(g){if(!y)throw new ie;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ie}else throw new ie;if(s){if(u)throw new ie;xs.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&xs.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ie;xs.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&xs.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(xs),$U=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hc=function(n){$U(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Bt.POSSIBLE_FORMATS):null,a=t&&t.get(Bt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Bt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Oe.EAN_13)||i.includes(Oe.UPC_A)||i.includes(Oe.EAN_8)||i.includes(Oe.UPC_E))&&r.readers.push(new Sv(t)),i.includes(Oe.CODE_39)&&r.readers.push(new VT(a,s)),i.includes(Oe.CODE_93)&&r.readers.push(new FT),i.includes(Oe.CODE_128)&&r.readers.push(new BT),i.includes(Oe.ITF)&&r.readers.push(new UT),i.includes(Oe.CODABAR)&&r.readers.push(new yU),i.includes(Oe.RSS_14)&&r.readers.push(new KT),i.includes(Oe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new XU))),r.readers.length===0&&(r.readers.push(new Sv(t)),r.readers.push(new VT),r.readers.push(new FT),r.readers.push(new Sv(t)),r.readers.push(new BT),r.readers.push(new UT),r.readers.push(new KT)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(gn),QU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){QU(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Hc(r),t,r)||this}return e})(Eu);var YT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),dt=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),ZU=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),g=s.getECBlocks();try{for(var y=YT(g),_=y.next();!_.done;_=y.next()){var E=_.value;h+=E.getCount()*(E.getDataCodewords()+p)}}catch(A){u={error:A}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new ve;try{for(var a=YT(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ve},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new vt(5,new dt(1,3))),new n(2,12,12,10,10,new vt(7,new dt(1,5))),new n(3,14,14,12,12,new vt(10,new dt(1,8))),new n(4,16,16,14,14,new vt(12,new dt(1,12))),new n(5,18,18,16,16,new vt(14,new dt(1,18))),new n(6,20,20,18,18,new vt(18,new dt(1,22))),new n(7,22,22,20,20,new vt(20,new dt(1,30))),new n(8,24,24,22,22,new vt(24,new dt(1,36))),new n(9,26,26,24,24,new vt(28,new dt(1,44))),new n(10,32,32,14,14,new vt(36,new dt(1,62))),new n(11,36,36,16,16,new vt(42,new dt(1,86))),new n(12,40,40,18,18,new vt(48,new dt(1,114))),new n(13,44,44,20,20,new vt(56,new dt(1,144))),new n(14,48,48,22,22,new vt(68,new dt(1,174))),new n(15,52,52,24,24,new vt(42,new dt(2,102))),new n(16,64,64,14,14,new vt(56,new dt(2,140))),new n(17,72,72,16,16,new vt(36,new dt(4,92))),new n(18,80,80,18,18,new vt(48,new dt(4,114))),new n(19,88,88,20,20,new vt(56,new dt(4,144))),new n(20,96,96,22,22,new vt(68,new dt(4,174))),new n(21,104,104,24,24,new vt(56,new dt(6,136))),new n(22,120,120,18,18,new vt(68,new dt(6,175))),new n(23,132,132,20,20,new vt(62,new dt(8,163))),new n(24,144,144,22,22,new vt(62,new dt(8,156),new dt(2,155))),new n(25,8,18,6,16,new vt(7,new dt(1,5))),new n(26,8,32,6,14,new vt(11,new dt(1,10))),new n(27,12,26,10,24,new vt(14,new dt(1,16))),new n(28,12,36,10,16,new vt(18,new dt(1,22))),new n(29,16,36,14,16,new vt(24,new dt(1,32))),new n(30,16,48,14,22,new vt(28,new dt(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),JU=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ve;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ki(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return ZU.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new ve;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new De("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new ki(h,c),g=0;g<s;++g)for(var y=g*i,_=0;_<u;++_)for(var E=_*a,A=0;A<i;++A)for(var T=g*(i+2)+1+A,I=y+A,R=0;R<a;++R){var D=_*(a+2)+1+R;if(e.get(D,T)){var B=E+R;p.set(B,I)}}return p},n}(),$T=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ej=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=$T(h),g=p.next();!g.done;g=p.next()){var y=g.value;c+=y.getCount()}}catch(ye){r={error:ye}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var _=new Array(c),E=0;try{for(var A=$T(h),T=A.next();!T.done;T=A.next())for(var y=T.value,I=0;I<y.getCount();I++){var R=y.getDataCodewords(),D=u.getECCodewords()+R;_[E++]=new n(R,new Uint8Array(D))}}catch(ye){a={error:ye}}finally{try{T&&!T.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}for(var B=_[0].codewords.length,j=B-u.getECCodewords(),H=j-1,O=0,I=0;I<H;I++)for(var b=0;b<E;b++)_[b].codewords[I]=e[O++];for(var N=t.getVersionNumber()===24,V=N?8:E,b=0;b<V;b++)_[b].codewords[j-1]=e[O++];for(var z=_[0].codewords.length,I=j;I<z;I++)for(var b=0;b<E;b++){var G=N?(b+8)%E:b,U=N&&G>7?I-1:I;_[G].codewords[U]=e[O++]}if(O!==e.length)throw new De;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),I4=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new De(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),un;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(un||(un={}));var tj=function(){function n(){}return n.decode=function(e){var t=new I4(e),r=new Ke,i=new Ke,a=new Array,s=un.ASCII_ENCODE;do if(s===un.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case un.C40_ENCODE:this.decodeC40Segment(t,r);break;case un.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case un.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case un.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new ve}s=un.ASCII_ENCODE}while(s!==un.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new e1(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),un.ASCII_ENCODE;if(a===129)return un.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return un.C40_ENCODE;case 231:return un.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return un.ANSIX12_ENCODE;case 239:return un.TEXT_ENCODE;case 240:return un.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return un.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new ve;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new ve;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ve;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(zr.decode(u,ot.ISO88591))}catch(h){throw new Df("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),nj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rj=function(){function n(){this.rsDecoder=new t1(hr.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new JU(e),a=i.getVersion(),s=i.readCodewords(),u=ej.getDataBlocks(s,a),c=0;try{for(var h=nj(u),p=h.next();!p.done;p=h.next()){var g=p.value;c+=g.getNumDataCodewords()}}catch(D){t={error:D}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),_=u.length,E=0;E<_;E++){var A=u[E],T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(var R=0;R<I;R++)y[R*_+E]=T[R]}return tj.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Sn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),ij=function(){function n(e){this.image=e,this.rectangleDetector=new Rm(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ie;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new r_(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Te(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Te(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,g=[a,t,r,i];return p>u&&(p=u,g[0]=t,g[1]=r,g[2]=i,g[3]=a),p>c&&(p=c,g[0]=r,g[1]=i,g[2]=a,g[3]=t),p>h&&(g[0]=i,g[1]=a,g[2]=t,g[3]=r),g},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new Te(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),g=new Te(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(g)?g:null;if(!this.isValid(g))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),_=this.transitionsBetween(c,g)+this.transitionsBetween(h,g);return y>_?p:g},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,g=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,g),r=n.moveAway(r,p,g),i=n.moveAway(i,p,g),a=n.moveAway(a,p,g);var y,_;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),_=n.shiftPoint(a,i,u*4),_=n.shiftPoint(_,t,s*4),[c,y,h,_]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=i_.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),g=-h/2,y=i<s?1:-1,_=r<a?1:-1,E=0,A=this.image.get(u?i:r,u?r:i),T=r,I=i;T!==a;T+=_){var R=this.image.get(u?I:T,u?T:I);if(R!==A&&(E++,A=R),g+=p,g>0){if(I===s)break;I+=y,g-=h}}return E},n}(),Nm=function(){function n(){this.decoder=new rj}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Bt.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new ij(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new Yn(r.getText(),u,8*u.length,i,Oe.DATA_MATRIX,Dt.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(Vn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(Vn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ie;var g=i/2;a+=g,u+=g;for(var y=new ki(h,p),_=0;_<p;_++)for(var E=a+_*i,A=0;A<h;A++)e.get(u+A*i,E)&&y.set(A,_);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ie;var s=i-e[0];if(s===0)throw new ie;return s},n.NO_POINTS=[],n}(),aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){aj(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Nm,t)||this}return e})(Eu);var zl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(zl||(zl={}));var oj=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Zr(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new De;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(zl.L,"L",1),n.M=new n(zl.M,"M",0),n.Q=new n(zl.Q,"Q",3),n.H=new n(zl.H,"H",2),n}(),sj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R4=function(){function n(e){this.errorCorrectionLevel=oj.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Qe.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=sj(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var g=n.numBitsDiffering(e,p);g<a&&(s=h[1],a=g),e!==t&&(g=n.numBitsDiffering(t,p),g<a&&(s=h[1],a=g))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),lj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=lj(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),F=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),uj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ts=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=uj(h),g=p.next();!g.done;g=p.next()){var y=g.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new De;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=R4.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ki(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new J(7,new F(1,19)),new J(10,new F(1,16)),new J(13,new F(1,13)),new J(17,new F(1,9))),new n(2,Int32Array.from([6,18]),new J(10,new F(1,34)),new J(16,new F(1,28)),new J(22,new F(1,22)),new J(28,new F(1,16))),new n(3,Int32Array.from([6,22]),new J(15,new F(1,55)),new J(26,new F(1,44)),new J(18,new F(2,17)),new J(22,new F(2,13))),new n(4,Int32Array.from([6,26]),new J(20,new F(1,80)),new J(18,new F(2,32)),new J(26,new F(2,24)),new J(16,new F(4,9))),new n(5,Int32Array.from([6,30]),new J(26,new F(1,108)),new J(24,new F(2,43)),new J(18,new F(2,15),new F(2,16)),new J(22,new F(2,11),new F(2,12))),new n(6,Int32Array.from([6,34]),new J(18,new F(2,68)),new J(16,new F(4,27)),new J(24,new F(4,19)),new J(28,new F(4,15))),new n(7,Int32Array.from([6,22,38]),new J(20,new F(2,78)),new J(18,new F(4,31)),new J(18,new F(2,14),new F(4,15)),new J(26,new F(4,13),new F(1,14))),new n(8,Int32Array.from([6,24,42]),new J(24,new F(2,97)),new J(22,new F(2,38),new F(2,39)),new J(22,new F(4,18),new F(2,19)),new J(26,new F(4,14),new F(2,15))),new n(9,Int32Array.from([6,26,46]),new J(30,new F(2,116)),new J(22,new F(3,36),new F(2,37)),new J(20,new F(4,16),new F(4,17)),new J(24,new F(4,12),new F(4,13))),new n(10,Int32Array.from([6,28,50]),new J(18,new F(2,68),new F(2,69)),new J(26,new F(4,43),new F(1,44)),new J(24,new F(6,19),new F(2,20)),new J(28,new F(6,15),new F(2,16))),new n(11,Int32Array.from([6,30,54]),new J(20,new F(4,81)),new J(30,new F(1,50),new F(4,51)),new J(28,new F(4,22),new F(4,23)),new J(24,new F(3,12),new F(8,13))),new n(12,Int32Array.from([6,32,58]),new J(24,new F(2,92),new F(2,93)),new J(22,new F(6,36),new F(2,37)),new J(26,new F(4,20),new F(6,21)),new J(28,new F(7,14),new F(4,15))),new n(13,Int32Array.from([6,34,62]),new J(26,new F(4,107)),new J(22,new F(8,37),new F(1,38)),new J(24,new F(8,20),new F(4,21)),new J(22,new F(12,11),new F(4,12))),new n(14,Int32Array.from([6,26,46,66]),new J(30,new F(3,115),new F(1,116)),new J(24,new F(4,40),new F(5,41)),new J(20,new F(11,16),new F(5,17)),new J(24,new F(11,12),new F(5,13))),new n(15,Int32Array.from([6,26,48,70]),new J(22,new F(5,87),new F(1,88)),new J(24,new F(5,41),new F(5,42)),new J(30,new F(5,24),new F(7,25)),new J(24,new F(11,12),new F(7,13))),new n(16,Int32Array.from([6,26,50,74]),new J(24,new F(5,98),new F(1,99)),new J(28,new F(7,45),new F(3,46)),new J(24,new F(15,19),new F(2,20)),new J(30,new F(3,15),new F(13,16))),new n(17,Int32Array.from([6,30,54,78]),new J(28,new F(1,107),new F(5,108)),new J(28,new F(10,46),new F(1,47)),new J(28,new F(1,22),new F(15,23)),new J(28,new F(2,14),new F(17,15))),new n(18,Int32Array.from([6,30,56,82]),new J(30,new F(5,120),new F(1,121)),new J(26,new F(9,43),new F(4,44)),new J(28,new F(17,22),new F(1,23)),new J(28,new F(2,14),new F(19,15))),new n(19,Int32Array.from([6,30,58,86]),new J(28,new F(3,113),new F(4,114)),new J(26,new F(3,44),new F(11,45)),new J(26,new F(17,21),new F(4,22)),new J(26,new F(9,13),new F(16,14))),new n(20,Int32Array.from([6,34,62,90]),new J(28,new F(3,107),new F(5,108)),new J(26,new F(3,41),new F(13,42)),new J(30,new F(15,24),new F(5,25)),new J(28,new F(15,15),new F(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new J(28,new F(4,116),new F(4,117)),new J(26,new F(17,42)),new J(28,new F(17,22),new F(6,23)),new J(30,new F(19,16),new F(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new J(28,new F(2,111),new F(7,112)),new J(28,new F(17,46)),new J(30,new F(7,24),new F(16,25)),new J(24,new F(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new J(30,new F(4,121),new F(5,122)),new J(28,new F(4,47),new F(14,48)),new J(30,new F(11,24),new F(14,25)),new J(30,new F(16,15),new F(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new J(30,new F(6,117),new F(4,118)),new J(28,new F(6,45),new F(14,46)),new J(30,new F(11,24),new F(16,25)),new J(30,new F(30,16),new F(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new J(26,new F(8,106),new F(4,107)),new J(28,new F(8,47),new F(13,48)),new J(30,new F(7,24),new F(22,25)),new J(30,new F(22,15),new F(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new J(28,new F(10,114),new F(2,115)),new J(28,new F(19,46),new F(4,47)),new J(28,new F(28,22),new F(6,23)),new J(30,new F(33,16),new F(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new J(30,new F(8,122),new F(4,123)),new J(28,new F(22,45),new F(3,46)),new J(30,new F(8,23),new F(26,24)),new J(30,new F(12,15),new F(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new F(3,117),new F(10,118)),new J(28,new F(3,45),new F(23,46)),new J(30,new F(4,24),new F(31,25)),new J(30,new F(11,15),new F(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new F(7,116),new F(7,117)),new J(28,new F(21,45),new F(7,46)),new J(30,new F(1,23),new F(37,24)),new J(30,new F(19,15),new F(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new F(5,115),new F(10,116)),new J(28,new F(19,47),new F(10,48)),new J(30,new F(15,24),new F(25,25)),new J(30,new F(23,15),new F(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new F(13,115),new F(3,116)),new J(28,new F(2,46),new F(29,47)),new J(30,new F(42,24),new F(1,25)),new J(30,new F(23,15),new F(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new F(17,115)),new J(28,new F(10,46),new F(23,47)),new J(30,new F(10,24),new F(35,25)),new J(30,new F(19,15),new F(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new F(17,115),new F(1,116)),new J(28,new F(14,46),new F(21,47)),new J(30,new F(29,24),new F(19,25)),new J(30,new F(11,15),new F(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new F(13,115),new F(6,116)),new J(28,new F(14,46),new F(23,47)),new J(30,new F(44,24),new F(7,25)),new J(30,new F(59,16),new F(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new F(12,121),new F(7,122)),new J(28,new F(12,47),new F(26,48)),new J(30,new F(39,24),new F(14,25)),new J(30,new F(22,15),new F(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new F(6,121),new F(14,122)),new J(28,new F(6,47),new F(34,48)),new J(30,new F(46,24),new F(10,25)),new J(30,new F(2,15),new F(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new F(17,122),new F(4,123)),new J(28,new F(29,46),new F(14,47)),new J(30,new F(49,24),new F(10,25)),new J(30,new F(24,15),new F(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new F(4,122),new F(18,123)),new J(28,new F(13,46),new F(32,47)),new J(30,new F(48,24),new F(14,25)),new J(30,new F(42,15),new F(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new F(20,117),new F(4,118)),new J(28,new F(40,47),new F(7,48)),new J(30,new F(43,24),new F(22,25)),new J(30,new F(10,15),new F(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new F(19,118),new F(6,119)),new J(28,new F(18,47),new F(31,48)),new J(30,new F(34,24),new F(34,25)),new J(30,new F(20,15),new F(61,16)))],n}(),Tn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(Tn||(Tn={}));var QT=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Tn.DATA_MASK_000,new n(Tn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Tn.DATA_MASK_001,new n(Tn.DATA_MASK_001,function(e,t){return(e&1)===0})],[Tn.DATA_MASK_010,new n(Tn.DATA_MASK_010,function(e,t){return t%3===0})],[Tn.DATA_MASK_011,new n(Tn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Tn.DATA_MASK_100,new n(Tn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Tn.DATA_MASK_101,new n(Tn.DATA_MASK_101,function(e,t){return e*t%6===0})],[Tn.DATA_MASK_110,new n(Tn.DATA_MASK_110,function(e,t){return e*t%6<3})],[Tn.DATA_MASK_111,new n(Tn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),cj=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ve;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=R4.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ts.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=Ts.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=Ts.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ve},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=QT.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,g=i-1;g>0;g-=2){g===6&&g--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,E=0;E<2;E++)a.get(g-E,_)||(p++,h<<=1,this.bitMatrix.get(g-E,_)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new ve;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=QT.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),ZT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new De;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var g=ZT(p),y=g.next();!y.done;y=g.next()){var _=y.value;h+=_.getCount()}}catch(U){i={error:U}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var E=new Array(h),A=0;try{for(var T=ZT(p),I=T.next();!I.done;I=T.next())for(var _=I.value,R=0;R<_.getCount();R++){var D=_.getDataCodewords(),B=c.getECCodewordsPerBlock()+D;E[A++]=new n(D,new Uint8Array(B))}}catch(U){s={error:U}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}for(var j=E[0].codewords.length,H=E.length-1;H>=0;){var O=E[H].codewords.length;if(O===j)break;H--}H++;for(var b=j-c.getECCodewordsPerBlock(),N=0,R=0;R<b;R++)for(var V=0;V<A;V++)E[V].codewords[R]=e[N++];for(var V=H;V<A;V++)E[V].codewords[b]=e[N++];for(var z=E[0].codewords.length,R=b;R<z;R++)for(var V=0;V<A;V++){var G=V<H?R:R+1;E[V].codewords[G]=e[N++]}return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Ur;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Ur||(Ur={}));var Pt=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new De;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Ur.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Ur.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Ur.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Ur.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Ur.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Ur.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Ur.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Ur.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Ur.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Ur.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),hj=function(){function n(){}return n.decode=function(e,t,r,i){var a=new I4(e),s=new Ke,u=new Array,c=-1,h=-1;try{var p=null,g=!1,y=void 0;do{if(a.available()<4)y=Pt.TERMINATOR;else{var _=a.readBits(4);y=Pt.forBits(_)}switch(y){case Pt.TERMINATOR:break;case Pt.FNC1_FIRST_POSITION:case Pt.FNC1_SECOND_POSITION:g=!0;break;case Pt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),h=a.readBits(8);break;case Pt.ECI:var E=n.parseECIValue(a);if(p=hn.getCharacterSetECIByValue(E),p===null)throw new ve;break;case Pt.HANZI:var A=a.readBits(4),T=a.readBits(y.getCharacterCountBits(t));A===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,T);break;default:var I=a.readBits(y.getCharacterCountBits(t));switch(y){case Pt.NUMERIC:n.decodeNumericSegment(a,s,I);break;case Pt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,I,g);break;case Pt.BYTE:n.decodeByteSegment(a,s,I,p,u,i);break;case Pt.KANJI:n.decodeKanjiSegment(a,s,I);break;default:throw new ve}break}}while(y!==Pt.TERMINATOR)}catch{throw new ve}return new e1(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(zr.decode(i,ot.GB2312))}catch(c){throw new ve(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(zr.decode(i,ot.SHIFT_JIS))}catch(c){throw new ve(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new ve;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=ot.guessEncoding(u,s):h=i.getName();try{t.append(zr.decode(u,h))}catch(p){throw new ve(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new ve;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new ve;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ve;var s=e.readBits(4);if(s>=10)throw new ve;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ve},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),O4=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),JT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dj=function(){function n(){this.rsDecoder=new t1(hr.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ki.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new cj(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new O4(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=fj.getDataBlocks(h,u,c),g=0;try{for(var y=JT(p),_=y.next();!_.done;_=y.next()){var E=_.value;g+=E.getNumDataCodewords()}}catch(H){r={error:H}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var A=new Uint8Array(g),T=0;try{for(var I=JT(p),R=I.next();!R.done;R=I.next()){var E=R.value,D=E.getCodewords(),B=E.getNumDataCodewords();this.correctErrors(D,B);for(var j=0;j<B;j++)A[T++]=D[j]}}catch(H){a={error:H}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}return hj.decode(A,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Sn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),pj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gj=function(n){pj(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(Te),vj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mj=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var g=0;p<i;){if(u.get(p,h))if(g===1)s[1]++;else if(g===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else g===1&&g++,s[g]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=vj(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(E){i={error:E}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new gj(u,c,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}(),yj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_j=function(n){yj(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(Te),xj=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Nc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ej=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Bt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var g=0,y=0;y<s;y++)if(i.get(y,p))(g&1)===1&&g++,h[g]++;else if((g&1)===0)if(g===4)if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,y,r);if(_===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>h[2]&&(p+=E-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;continue}g=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;else h[++g]++;else h[g]++;if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,s,r);_===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return Te.orderBestPatterns(A),new xj(A)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,g=0,y=p.length;g<y;g++){var _=p[g];if(_.aboutEquals(c,u,s)){p[g]=_.combineEstimate(u,s,c),h=!0;break}}if(!h){var E=new _j(s,u,c);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Nc(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Nc(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var g=s/u,y=0;try{for(var _=Nc(this.possibleCenters),E=_.next();!E.done;E=_.next()){var p=E.value;y+=Math.abs(p.getEstimatedModuleSize()-g)}}catch(A){r={error:A}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ie;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Nc(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value,_=y.getEstimatedModuleSize();c+=_,h+=_*_}}catch(j){e={error:j}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var E=Math.sqrt(h/a-u*u);s.sort(function(j,H){var O=Math.abs(H.getEstimatedModuleSize()-u),b=Math.abs(j.getEstimatedModuleSize()-u);return O<b?-1:O>b?1:0});for(var A=Math.max(.2*u,E),T=0;T<s.length&&s.length>3;T++){var I=s[T];Math.abs(I.getEstimatedModuleSize()-u)>A&&(s.splice(T,1),T--)}}if(s.length>3){var c=0;try{for(var R=Nc(s),D=R.next();!D.done;D=R.next()){var B=D.value;c+=B.getEstimatedModuleSize()}}catch(H){r={error:H}}finally{try{D&&!D.done&&(i=R.return)&&i.call(R)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(H,O){if(O.getCount()===H.getCount()){var b=Math.abs(O.getEstimatedModuleSize()-u),N=Math.abs(H.getEstimatedModuleSize()-u);return b<N?1:b>N?-1:0}else return O.getCount()-H.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),wj=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Bt.NEED_RESULT_POINT_CALLBACK);var t=new Ej(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ie("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=Ts.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),g=r.getY()-t.getY()+i.getY(),y=1-3/c,_=Math.floor(t.getX()+y*(p-t.getX())),E=Math.floor(t.getY()+y*(g-t.getY())),A=4;A<=16;A<<=1)try{h=this.findAlignmentInRegion(a,_,E,A);break}catch(D){if(!(D instanceof ie))throw D}var T=n.createTransform(t,r,i,h,s),I=n.sampleGrid(this.image,T,s),R;return h===null?R=[i,t,r]:R=[i,t,r,h],new r_(I,R)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),T4.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=i_.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ft.round(Te.distance(e,t)/i),s=ft.round(Te.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,g=t<i?1:-1,y=0,_=r+p,E=e,A=t;E!==_;E+=p){var T=a?A:E,I=a?E:A;if(y===1===this.image.get(T,I)){if(y===2)return ft.distance(E,A,e,t);y++}if(h+=c,h>0){if(A===i)break;A+=g,h-=u}}return y===2?ft.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ie("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var p=new mj(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),Pm=function(){function n(){this.decoder=new dj}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Bt.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new wj(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof O4&&r.getOther().applyMirroredCorrection(i);var u=new Yn(r.getText(),r.getRawBytes(),void 0,i,Oe.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(Vn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(Vn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Vn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Vn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ie;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ie;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ie;if(p!==h)throw new ie;var g=Math.floor(i/2);a+=g,u+=g;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>g)throw new ie;u-=y}var _=a+Math.floor((p-1)*i)-s;if(_>0){if(_>g)throw new ie;a-=_}for(var E=new ki(h,p),A=0;A<p;A++)for(var T=a+Math.floor(A*i),I=0;I<h;I++)e.get(u+Math.floor(I*i),T)&&E.set(I,A);return E},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ie;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),Aj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ft.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Aj(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=pn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),Tj=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Cj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bj=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new Tj(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,Cj(a)),g=p.next();!g.done;g=p.next()){var y=g.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var g=n.findGuardPattern(e,a,--i,r,!1,s,h);if(g!=null)p=g;else{i++;break}}u[0]=new Te(p[0],i),u[1]=new Te(p[1],i),c=!0;break}}var y=i+1;if(c){for(var _=0,g=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,g[0],y,r,!1,s,h);if(p!=null&&Math.abs(g[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-p[1])<n.MAX_PATTERN_DRIFT)g=p,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,u[2]=new Te(g[0],y),u[3]=new Te(g[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&pn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){pn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,g=0,y=s.length,_=a;p<i;p++){var E=e.get(p,r);if(E!==_)u[g]++;else{if(g===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],Dt.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}}return g===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return 1/0;h+=_}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),Sj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},As=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Sj(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(g){t={error:g}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new Ke,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),Ij=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new A4;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),Rj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oj=function(n){Rj(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new As(i,new Int32Array([0])),i.one=new As(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new As(this,i)},e.PDF417_GF=new e(lt.NUMBER_OF_CODEWORDS,3),e}(Ij),Dj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nj=function(){function n(){this.field=Oj.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new As(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(r!=null)try{for(var y=Dj(r),_=y.next();!_.done;_=y.next()){var E=_.value,A=this.field.exp(e.length-1-E),T=new As(this.field,new Int32Array([this.field.subtract(0,A),1]));g=g.multiply(T)}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var I=new As(this.field,u),R=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),I,t),D=R[0],B=R[1],j=this.findErrorLocations(D),H=this.findErrorMagnitudes(B,D,j),h=0;h<j.length;h++){var O=e.length-1-this.field.log(j[h]);if(O<0)throw Sn.getChecksumInstance();e[O]=this.field.subtract(e[O],H[h])}return j.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw Sn.getChecksumInstance();s=h;for(var g=this.field.getZero(),y=a.getCoefficient(a.getDegree()),_=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var E=s.getDegree()-a.getDegree(),A=this.field.multiply(s.getCoefficient(s.getDegree()),_);g=g.add(this.field.buildMonomial(E,A)),s=s.subtract(a.multiplyByMonomial(E,A))}c=g.multiply(u).subtract(p).negative()}var T=c.getCoefficient(0);if(T===0)throw Sn.getChecksumInstance();var I=this.field.inverse(T),R=c.multiply(I),D=s.multiply(I);return[R,D]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Sn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new As(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),g=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(g,y)}return h},n}(),Mm=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ie;s?(t=new Te(0,i.getY()),r=new Te(0,a.getY())):u&&(i=new Te(e.getWidth()-1,t.getY()),a=new Te(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new Te(c.getX(),h);r?i=p:s=p}if(t>0){var g=r?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new Te(g.getX(),y);r?a=_:u=_}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),Pj=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),o_=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,g){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(g){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(s);break;case"p":_=parseFloat(t[r]).toPrecision(s);break;case"e":_=parseFloat(t[r]).toExponential(s);break;case"x":_=parseInt(t[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var E=parseInt(c),A=c&&c[0]+""=="0"?"0":" ";_.length<E;)_=u!==void 0?_+A:A+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),Mj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D4=function(){function n(e){this.boundingBox=new Mm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new o_,i=0;try{for(var a=Mj(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),Lj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},Gc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(g,y){var _={getKey:function(){return g},getValue:function(){return y}};_.getValue()>r?(r=_.getValue(),i=[],i.push(_.getKey())):_.getValue()===r&&i.push(_.getKey())};try{for(var s=Lj(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=kj(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return lt.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),Bj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eC=function(n){Bj(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Rv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,g=0,y=u;y<c;y++)if(r[y]!=null){var _=r[y],E=_.getRowNumber()-h;if(E===0)g++;else if(E===1)p=Math.max(p,g),g=1,h=_.getRowNumber();else if(E<0||_.getRowNumber()>=t.getRowCount()||E>y)r[y]=null;else{var A=void 0;p>2?A=(p-2)*E:A=E;for(var T=A>=y,I=1;I<=A&&!T;I++)T=r[y-I]!=null;T?r[y]=null:(h=_.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Rv(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var g=c[p];g.setRowNumberAsRowIndicatorColumn();var y=g.getRowNumber()-h;y===0||(y===1?h=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?c[p]=null:h=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new Gc,s=new Gc,u=new Gc,c=new Gc;try{for(var h=Rv(i),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,_=g.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(A){t={error:A}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<lt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>lt.MAX_ROWS_IN_BARCODE)return null;var E=new Pj(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(D4),Vj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fj=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=lt.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=Vj(h),g=p.next();!g.done;g=p.next()){var y=g.value;if(n.adjustRowNumber(s,y))return}}catch(_){i={error:_}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new o_,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),Uj=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),jj=function(){function n(){}return n.initialize=function(){for(var e=0;e<lt.SYMBOL_TABLE.length;e++)for(var t=lt.SYMBOL_TABLE[e],r=t&1,i=0;i<lt.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(lt.BARS_IN_MODULE)),n.RATIOS_TABLE[e][lt.BARS_IN_MODULE-i-1]=Math.fround(a/lt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ft.sum(e),r=new Int32Array(lt.BARS_IN_MODULE),i=0,a=0,s=0;s<lt.MODULES_IN_CODEWORD;s++){var u=t/(2*lt.MODULES_IN_CODEWORD)+s*t/lt.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return lt.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ft.sum(e),r=new Array(lt.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=Im.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<lt.BARS_IN_MODULE;p++){var g=Math.fround(h[p]-r[p]);if(c+=Math.fround(g*g),c>=a)break}c<a&&(a=c,s=lt.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(lt.SYMBOL_TABLE.length).map(function(e){return new Array(lt.BARS_IN_MODULE)}),n}(),zj=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),tC=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),Hj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gj=function(n){Hj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(dr),qj=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new Gj;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new t_;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),Xj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wj=function(n){Xj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(dr),Kj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yj=function(n){Kj(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new De("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Wj;i=Qe.MAX_VALUE}this.buf=pn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new t_;this.ensureCapacity(this.count+i),Dt.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return pn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(qj),It;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(It||(It={}));function N4(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var yd;function io(n){if(typeof yd>"u"&&(yd=N4()),yd===null)throw new Error("BigInt is not supported!");return yd(n)}function $j(){var n=[];n[0]=io(1);var e=io(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var Qj=function(){function n(){}return n.decode=function(e,t){var r=new Ke(""),i=hn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new zj;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:hn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var c=new e1(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Qe.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Ke;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Ke;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Ke;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new Ke;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new Ke;t=n.numericCompaction(e,t+1,g),r.setSegmentCount(Qe.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Ke;t=n.numericCompaction(e,t+1,y),r.setTimestamp(tC.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new Ke;t=n.numericCompaction(e,t+1,_),r.setChecksum(Qe.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new Ke;t=n.numericCompaction(e,t+1,E),r.setFileSize(tC.parseLong(E.toString()));break;default:throw ve.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(u!==-1){var A=t-u;r.isLastSegment()&&A--,r.setOptionalData(pn.copyOfRange(e,u,u+A))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=It.ALPHA,s=It.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case It.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=It.LOWER;break;case n.ML:a=It.MIXED;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=It.ALPHA_SHIFT;break;case n.ML:a=It.MIXED;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=It.PUNCT;break;case 26:h=" ";break;case n.LL:a=It.LOWER;break;case n.AL:a=It.ALPHA;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=It.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=It.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new Yj,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),g=t[i++];i<t[0]&&!h;)switch(p[u++]=g,c=900*c+g,g=t[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(io(c)>>io(8*(5-y))));c=0,u=0}break}i===t[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=g);for(var _=0;_<u;_++)s.write(p[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var E=t[i++];if(E<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+E;else switch(E){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(io(c)>>io(8*(5-y))));c=0,u=0}}break}return a.append(zr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=io(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*io(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=N4()?$j():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Pc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zj=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new Mm(e,t,r,i,a),h=null,p=null,g,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),g=n.merge(h,p),g==null)throw ie.getNotFoundInstance();var _=g.getBoundingBox();if(y&&_!=null&&(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))c=_;else break}g.setBoundingBox(c);var E=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,h),g.setDetectionResultColumn(E,p);for(var A=h!=null,T=1;T<=E;T++){var I=A?T:E-T;if(g.getDetectionResultColumn(I)===void 0){var R=void 0;I===0||I===E?R=new eC(c,I===0):R=new D4(c),g.setDetectionResultColumn(I,R);for(var D=-1,B=D,j=c.getMinY();j<=c.getMaxY();j++){if(D=n.getStartColumn(g,I,j,A),D<0||D>c.getMaxX()){if(B===-1)continue;D=B}var H=n.detectCodeword(e,c.getMinX(),c.getMaxX(),A,D,j,s,u);H!=null&&(R.setCodeword(j,H),B=D,s=Math.min(s,H.getWidth()),u=Math.max(u,H.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Mm.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new Fj(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Pc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),g=0;s>0&&p[g]==null;g++)s--;for(var y=0,g=i.length-1;g>=0&&(y+=a-i[g],!(i[g]>0));g--);for(var g=p.length-1;y>0&&p[g]==null;g--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Pc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new eC(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,g,a,s);y!=null&&(u.setCodeword(g,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>lt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var g=new Array(a.length),y=0;y<g.length;y++)g[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,lt.toIntArray(r),lt.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof Sn;if(!h)throw p}if(s.length===0)throw Sn.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Sn.getChecksumInstance()}throw Sn.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new Gc;var h=0;try{for(var p=Pc(e.getDetectionResultColumns()),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)try{for(var _=(i=void 0,Pc(y.getCodewords())),E=_.next();!E.done;E=_.next()){var A=E.value;if(A!=null){var T=A.getRowNumber();if(T>=0){if(T>=s.length)continue;s[T][h].setValue(A.getValue())}}}}catch(I){i={error:I}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h++}}catch(I){t={error:I}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Pc(e.getDetectionResultColumn(t).getCodewords())),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(_){a={error:_}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,g=ft.sum(h);if(i)p=a+g;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}p=a,a=p-g}if(!n.checkCodewordSkew(g,u,c))return null;var E=jj.getDecodedValue(h),A=lt.getCodeword(E);return A===-1?null:new Uj(a,p,n.getCodewordBucketNumber(E),A)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,g=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===g?(c[h]++,u+=p):(h++,g=!g);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw ve.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=Qj.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Sn.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ve.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new o_,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new Nj,n}(),Jj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ie.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof ve||r instanceof Sn?ie.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=bj.detectMultiple(e,t,r);try{for(var c=Jj(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,g=Zj.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new Yn(g.getText(),g.getRawBytes(),void 0,p,Oe.PDF_417);y.putMetadata(Vn.ERROR_CORRECTION_LEVEL,g.getECLevel());var _=g.getOther();_!=null&&y.putMetadata(Vn.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(E){i={error:E}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(E){return E})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),ez=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nC=function(n){ez(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(dr),rC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tz=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Bt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Oe.UPC_A||s===Oe.UPC_E||s===Oe.EAN_13||s===Oe.EAN_8||s===Oe.CODABAR||s===Oe.CODE_39||s===Oe.CODE_93||s===Oe.CODE_128||s===Oe.ITF||s===Oe.RSS_14||s===Oe.RSS_EXPANDED});a&&!t&&i.push(new Hc(e)),r.includes(Oe.QR_CODE)&&i.push(new Pm),r.includes(Oe.DATA_MATRIX)&&i.push(new Nm),r.includes(Oe.AZTEC)&&i.push(new Om),r.includes(Oe.PDF_417)&&i.push(new Lm),a&&t&&i.push(new Hc(e))}i.length===0&&(t||i.push(new Hc(e)),i.push(new Pm),i.push(new Nm),i.push(new Om),i.push(new Lm),t&&i.push(new Hc(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=rC(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new nC("No readers where selected, nothing can be read.");try{for(var i=rC(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof nC)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},n}(),nz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rz=function(n){nz(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new tz;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(Eu),iz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){iz(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Lm,t)||this}return e})(Eu);var az=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){az(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Pm,t)||this}return e})(Eu);var km;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(km||(km={}));const _d=km;var P4=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new vo(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new vo(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new De("No error correction bytes");var r=e.length-t;if(r<=0)throw new De("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Dt.arraycopy(e,0,a,0,r);var s=new vo(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;Dt.arraycopy(c,0,e,r+h,c.length)},n}(),qc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new De("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var g=t?s[u][p]:s[p][u];g===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=g)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),oz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sz=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=oz(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;pn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new Ke,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Bm=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new Ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),lz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nt=function(n){lz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(dr),iC=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new In;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var g=r.getWidth()-a-1,y=8;r.setBoolean(g,y,u)}else{var g=8,y=r.getHeight()-7+(a-8);r.setBoolean(g,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new In;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&qc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Nt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new De("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Bm.isValidMaskPattern(t))throw new Nt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new In;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Nt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Nt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Nt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Nt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),uz=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),aC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return qc.applyMaskPenaltyRule1(e)+qc.applyMaskPenaltyRule2(e)+qc.applyMaskPenaltyRule3(e)+qc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(_d.CHARACTER_SET)!==void 0;a&&(i=r.get(_d.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new In;if(s===Pt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=hn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new In;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(_d.QR_VERSION)!==void 0){var g=Number.parseInt(r.get(_d.QR_VERSION).toString(),10);p=Ts.getVersionForNumber(g);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Nt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var _=new In;_.appendBitArray(u);var E=s===Pt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,p,s,_),_.appendBitArray(h);var A=p.getECBlocksForLevel(t),T=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(T,_);var I=this.interleaveWithECBytes(_,p.getTotalCodewords(),T,A.getNumBlocks()),R=new Bm;R.setECLevel(t),R.setMode(s),R.setVersion(p);var D=p.getDimensionForVersion(),B=new sz(D,D),j=this.chooseMaskPattern(I,t,p,B);return R.setMaskPattern(j),iC.buildMatrix(I,t,p,j,B),R.setMatrix(B),R},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Ts.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),hn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Pt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Pt.BYTE}return i?Pt.ALPHANUMERIC:r?Pt.NUMERIC:Pt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=zr.encode(e,hn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<Bm.NUM_MASK_PATTERNS;u++){iC.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Ts.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Nt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Nt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Nt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Nt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,g=Math.floor(t/r),y=g+1,_=h-g,E=p-y;if(_!==E)throw new Nt("EC bytes mismatch");if(r!==c+u)throw new Nt("RS blocks mismatch");if(e!==(g+_)*c+(y+E)*u)throw new Nt("Total bytes mismatch");i<c?(a[0]=g,s[0]=_):(a[0]=y,s[0]=E)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Nt("Number of bits and data bytes does not match");for(var h=0,p=0,g=0,y=new Array,_=0;_<i;++_){var E=new Int32Array(1),A=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,_,E,A);var T=E[0],I=new Uint8Array(T);e.toBytes(8*h,I,0,T);var R=n.generateECBytes(I,A[0]);y.push(new uz(I,R)),p=Math.max(p,T),g=Math.max(g,R.length),h+=E[0]}if(r!==h)throw new Nt("Data bytes does not match offset");for(var D=new In,_=0;_<p;++_)try{for(var B=(a=void 0,aC(y)),j=B.next();!j.done;j=B.next()){var H=j.value,I=H.getDataBytes();_<I.length&&D.appendBits(I[_],8)}}catch(V){a={error:V}}finally{try{j&&!j.done&&(s=B.return)&&s.call(B)}finally{if(a)throw a.error}}for(var _=0;_<g;++_)try{for(var O=(u=void 0,aC(y)),b=O.next();!b.done;b=O.next()){var H=b.value,R=H.getErrorCorrectionBytes();_<R.length&&D.appendBits(R[_],8)}}catch(V){u={error:V}}finally{try{b&&!b.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}if(t!==D.getSizeInBytes())throw new Nt("Interleaving error: "+t+" and "+D.getSizeInBytes()+" differ.");return D},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new P4(hr.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Nt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Pt.NUMERIC:n.appendNumericBytes(e,r);break;case Pt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Pt.BYTE:n.append8BitBytes(e,r,i);break;case Pt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Nt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Nt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Nt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=zr.encode(e,r)}catch(c){throw new Nt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=zr.encode(e,hn.SJIS)}catch(g){throw new Nt(g)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Nt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Pt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=hn.UTF8.getName(),n})();var cz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){cz(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new De("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new n_(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(J0);var fz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){fz(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,g=new Uint8ClampedArray(p),y=0;y<p;y++){var _=t[y],E=_>>16&255,A=_>>7&510,T=_&255;g[y]=(E+A+T)/4&255}h.luminances=g}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new De("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new n_(this)},e})(J0);var hz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dz=function(n){hz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(hn),pz=function(){function n(){}return n.ISO_8859_1=hn.ISO8859_1,n}(),Vm,gz=301,vz=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=gz);return{LOG:n,ALOG:e}};Vm=vz([],[]),Vm.LOG;Vm.ALOG;var oC;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(oC||(oC={}));var sC=129,M4=230,mz=231,yz=235,_z=236,xz=237,Ez=238,wz=239,Az=240,Ov=254,Tz=254,lC="[)>05",uC="[)>06",cC="",wt=0,Ln=1,nr=2,cn=3,Cn=4,Gn=5,Cz=function(){function n(){}return n.prototype.getEncodingMode=function(){return wt},n.prototype.encode=function(e){var t=ti.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Gn:e.writeCodeword(mz),e.signalEncoderChange(Gn);return;case Ln:e.writeCodeword(M4),e.signalEncoderChange(Ln);return;case cn:e.writeCodeword(Ez),e.signalEncoderChange(cn);break;case nr:e.writeCodeword(wz),e.signalEncoderChange(nr);break;case Cn:e.writeCodeword(Az),e.signalEncoderChange(Cn);break;default:throw new Error("Illegal mode: "+i)}else ti.isExtendedASCII(r)?(e.writeCodeword(yz),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(ti.isDigit(e)&&ti.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),bz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Gn},n.prototype.encode=function(e){var t=new Ke;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,ot.getCharAt(a));else if(a<=1555)t.setCharAt(0,ot.getCharAt(Math.floor(a/250)+249)),t.insert(1,ot.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),s_=function(){function n(){}return n.prototype.getEncodingMode=function(){return Ln},n.prototype.encodeMaximal=function(e){for(var t=new Ke,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(M4),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new Ke;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ov)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ov),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Ov)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(wt)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new Ke;return a.append(r),a.append(i),a.toString()},n}(),Sz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Cn},n.prototype.encode=function(e){for(var t=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}}t.append(ot.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(wt)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(ot.getCharAt(e-64)):ti.illegalCharacter(ot.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,g=new Ke;return g.append(c),t>=2&&g.append(h),t>=3&&g.append(p),g.toString()},n}(),Iz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=Rz(Dz),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),Oz=function(n){Iz(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(pt),Dz=[new pt(!1,3,5,8,8,1),new pt(!1,5,7,10,10,1),new pt(!0,5,7,16,6,1),new pt(!1,8,10,12,12,1),new pt(!0,10,11,14,6,2),new pt(!1,12,12,14,14,1),new pt(!0,16,14,24,10,1),new pt(!1,18,14,16,16,1),new pt(!1,22,18,18,18,1),new pt(!0,22,18,16,10,2),new pt(!1,30,20,20,20,1),new pt(!0,32,24,16,14,2),new pt(!1,36,24,22,22,1),new pt(!1,44,28,24,24,1),new pt(!0,49,28,22,14,2),new pt(!1,62,36,14,14,4),new pt(!1,86,42,16,16,4),new pt(!1,114,48,18,18,4),new pt(!1,144,56,20,20,4),new pt(!1,174,68,22,22,4),new pt(!1,204,84,24,24,4,102,42),new pt(!1,280,112,14,14,16,140,56),new pt(!1,368,144,16,16,16,92,36),new pt(!1,456,192,18,18,16,114,48),new pt(!1,576,224,20,20,16,144,56),new pt(!1,696,272,22,22,16,174,68),new pt(!1,816,336,24,24,16,136,56),new pt(!1,1050,408,18,18,36,175,68),new pt(!1,1304,496,20,20,36,163,62),new Oz],Nz=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new Ke,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new Ke,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=pt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),Pz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mz=function(n){Pz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return cn},e.prototype.encode=function(t){for(var r=new Ke;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=ti.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(wt);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):ti.illegalCharacter(ot.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(Tz),t.getNewEncoding()<0&&t.signalEncoderChange(wt)},e}(s_),Lz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kz=function(n){Lz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return nr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(s_),ti=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=sC+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new s_,u=[new Cz,s,new kz,new Mz,new Sz,new bz],c=new Nz(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(lC)&&e.endsWith(cC)?(c.writeCodeword(_z),c.setSkipAtEnd(2),c.pos+=lC.length):e.startsWith(uC)&&e.endsWith(cC)&&(c.writeCodeword(xz),c.setSkipAtEnd(2),c.pos+=uC.length);var h=wt;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();p<g&&h!==wt&&h!==Gn&&h!==Cn&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<g&&y.append(sC);y.length()<g;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===cn&&i===cn){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return wt}else if(r===Cn&&i===Cn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return wt}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===wt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){pn.fill(s,0),pn.fill(u,0);var c=this.findMinimums(i,u,Qe.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[wt]===c)return wt;if(h===1){if(s[Gn]>0)return Gn;if(s[Cn]>0)return Cn;if(s[nr]>0)return nr;if(s[cn]>0)return cn}return Ln}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[wt]+=.5:this.isExtendedASCII(p)?(i[wt]=Math.ceil(i[wt]),i[wt]+=2):(i[wt]=Math.ceil(i[wt]),i[wt]++),this.isNativeC40(p)?i[Ln]+=2/3:this.isExtendedASCII(p)?i[Ln]+=8/3:i[Ln]+=4/3,this.isNativeText(p)?i[nr]+=2/3:this.isExtendedASCII(p)?i[nr]+=8/3:i[nr]+=4/3,this.isNativeX12(p)?i[cn]+=2/3:this.isExtendedASCII(p)?i[cn]+=13/3:i[cn]+=10/3,this.isNativeEDIFACT(p)?i[Cn]+=3/4:this.isExtendedASCII(p)?i[Cn]+=17/4:i[Cn]+=13/4,this.isSpecialB256(p)?i[Gn]+=4:i[Gn]++,a>=4){if(pn.fill(s,0),pn.fill(u,0),this.findMinimums(i,u,Qe.MAX_VALUE,s),u[wt]<this.min(u[Gn],u[Ln],u[nr],u[cn],u[Cn]))return wt;if(u[Gn]<u[wt]||u[Gn]+1<this.min(u[Ln],u[nr],u[cn],u[Cn]))return Gn;if(u[Cn]+1<this.min(u[Gn],u[Ln],u[nr],u[cn],u[wt]))return Cn;if(u[nr]+1<this.min(u[Gn],u[Ln],u[Cn],u[cn],u[wt]))return nr;if(u[cn]+1<this.min(u[Gn],u[Ln],u[Cn],u[nr],u[wt]))return cn;if(u[Ln]+1<this.min(u[wt],u[Gn],u[Cn],u[nr])){if(u[Ln]<u[cn])return Ln;if(u[Ln]===u[cn]){for(var g=t+a+1;g<e.length;){var y=e.charCodeAt(g);if(this.isX12TermSep(y))return cn;if(!this.isNativeX12(y))break;g++}return Ln}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,pn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Qe.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),Dv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fC=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return zr.encode(e,this.charset)!=null}catch{return!1}},n}(),Bz=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new fC(dz.forName(N))}),this.encoders=[];var p=[];p.push(new fC(pz.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var E=(i=void 0,Dv(p)),A=E.next();!A.done;A=E.next()){var T=A.value,I=e.charAt(y),R=I.charCodeAt(0);if(R===r||T.canEncode(I)){_=!0;break}}}catch(N){i={error:N}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}if(!_)try{for(var D=(s=void 0,Dv(this.ENCODERS)),B=D.next();!B.done;B=D.next()){var T=B.value;if(T.canEncode(e.charAt(y))){p.push(T),_=!0;break}}}catch(N){s={error:N}}finally{try{B&&!B.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}_||(g=!0)}if(p.length===1&&!g)this.encoders=[p[0]];else{this.encoders=[];var j=0;try{for(var H=Dv(p),O=H.next();!O.done;O=H.next()){var T=O.value;this.encoders[j++]=T}}catch(N){c={error:N}}finally{try{O&&!O.done&&(h=H.return)&&h.call(H)}finally{if(c)throw c.error}}}var b=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){b=y;break}}this.priorityEncoderIndex=b}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return zr.encode(ot.getCharAt(e),this.encoders[t].name)},n}(),Vz=3,Fz=function(){function n(e,t,r){this.fnc1=r;var i=new Bz(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new Ke,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new hC(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new hC[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Qe.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],y=a[i][c];y!=null;){if(y.isFNC1())g.unshift(1e3);else for(var _=t.encode(y.c,y.encoderIndex),s=_.length-1;s>=0;s--)g.unshift(_[s]&255);var E=y.previous===null?0:y.previous.encoderIndex;E!==y.encoderIndex&&g.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var A=[],s=0;s<A.length;s++)A[s]=g[s];return A},n}(),hC=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=Vz),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),Uz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var dC;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(dC||(dC={}));(function(n){Uz(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Fz);var jz=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),pC=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),zz=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),Hz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),l_=function(n){Hz(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Qe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(zz),Gz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qz=function(n){Gz(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(l_);function Xz(n,e,t){return new qz(n,e,t)}function Mc(n,e,t){return new l_(n,e,t)}var Wz=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mo=0,d0=1,jr=2,L4=3,Ii=4,Kz=new l_(null,0,0),Nv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Yz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function $z(n){var e,t;try{for(var r=Yz(n),i=r.next();!i.done;i=r.next()){var a=i.value;pn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[mo][Ii]=0,n[d0][Ii]=0,n[d0][mo]=28,n[L4][Ii]=0,n[jr][Ii]=0,n[jr][mo]=15,n}var k4=$z(pn.createInt32Array(6,6)),Qz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zz=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Nv[this.mode][e];i=Mc(i,a&65535,a>>16),r+=a>>16}var s=e===jr?4:5;return i=Mc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===jr?4:5;return r=Mc(r,k4[this.mode][e],i),r=Mc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Ii||this.mode===jr){var a=Nv[r][mo];t=Mc(t,a&65535,a>>16),i+=a>>16,r=mo}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=Xz(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Nv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new In;try{for(var u=Qz(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return ot.format("%s bits=%d bytes=%d",Wz[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(Kz,mo,0,0),n}();function Jz(n){var e=ot.getCharCode(" "),t=ot.getCharCode("."),r=ot.getCharCode(",");n[mo][e]=1;for(var i=ot.getCharCode("Z"),a=ot.getCharCode("A"),s=a;s<=i;s++)n[mo][s]=s-a+2;n[d0][e]=1;for(var u=ot.getCharCode("z"),c=ot.getCharCode("a"),s=c;s<=u;s++)n[d0][s]=s-c+2;n[jr][e]=1;for(var h=ot.getCharCode("9"),p=ot.getCharCode("0"),s=p;s<=h;s++)n[jr][s]=s-p+2;n[jr][r]=12,n[jr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<g.length;y++)n[L4][ot.getCharCode(g[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)ot.getCharCode(_[y])>0&&(n[Ii][ot.getCharCode(_[y])]=y);return n}var Pv=Jz(pn.createInt32Array(5,256)),xd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eH=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=ot.getCharCode(" "),t=ot.getCharCode(`
`),r=pC.singletonList(Zz.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ot.getCharCode("\r"):a=s===t?2:0;break;case ot.getCharCode("."):a=s===e?3:0;break;case ot.getCharCode(","):a=s===e?4:0;break;case ot.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=pC.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=xd(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Pv[e.getMode()][i]>0,s=null,u=0;u<=Ii;u++){var c=Pv[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===jr){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&k4[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Pv[e.getMode()][i]===0){var g=e.addBinaryShiftChar(t);r.push(g)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=xd(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Ii,r)),e.getMode()!==Ii&&i.push(a.shiftAndAppend(Ii,r)),r===3||r===4){var s=a.latchAndAppend(jr,16-r).latchAndAppend(jr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=xd(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,g=function(T){if(T.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(T)&&(s=s.filter(function(I){return I!==T}))};try{for(var y=(i=void 0,xd(s)),_=y.next();!_.done;_=y.next()){var E=_.value,A=g(E);if(A==="break")break}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(T){t={error:T}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),tH=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new eH(e).encode(),a=Qe.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,g;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new De(ot.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(g=n.stuffBits(i,p),g.getSize()+a>y)throw new De("Data to large for user specified layer");if(u&&g.getSize()>p*64)throw new De("Data to large for user specified layer")}else{p=0,g=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new De("Data too large for an Aztec code");if(u=_<=3,c=u?_+1:_,h=n.totalBitsInLayer(c,u),!(s>h)){(g==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],g=n.stuffBits(i,p));var y=h-h%p;if(!(u&&g.getSize()>p*64)&&g.getSize()+a<=y)break}}}var E=n.generateCheckWords(g,h,p),A=g.getSize()/p,T=n.generateModeMessage(u,c,A),I=(u?11:14)+c*4,R=new Int32Array(I),D;if(u){D=I;for(var _=0;_<R.length;_++)R[_]=_}else{D=I+1+2*Qe.truncDivision(Qe.truncDivision(I,2)-1,15);for(var B=Qe.truncDivision(I,2),j=Qe.truncDivision(D,2),_=0;_<B;_++){var H=_+Qe.truncDivision(_,15);R[B-_-1]=j-H-1,R[B+_]=j+H+1}}for(var O=new ki(D),_=0,b=0;_<c;_++){for(var N=(c-_)*4+(u?9:12),V=0;V<N;V++)for(var z=V*2,G=0;G<2;G++)E.get(b+z+G)&&O.set(R[_*2+G],R[_*2+V]),E.get(b+N*2+z+G)&&O.set(R[_*2+V],R[I-1-_*2-G]),E.get(b+N*4+z+G)&&O.set(R[I-1-_*2-G],R[I-1-_*2-V]),E.get(b+N*6+z+G)&&O.set(R[I-1-_*2-V],R[_*2+G]);b+=N*8}if(n.drawModeMessage(O,u,D,T),u)n.drawBullsEye(O,Qe.truncDivision(D,2),5);else{n.drawBullsEye(O,Qe.truncDivision(D,2),7);for(var _=0,V=0;_<Qe.truncDivision(I,2)-1;_+=15,V+=16)for(var G=Qe.truncDivision(D,2)&1;G<D;G+=2)O.set(Qe.truncDivision(D,2)-V,G),O.set(Qe.truncDivision(D,2)+V,G),O.set(G,Qe.truncDivision(D,2)-V),O.set(G,Qe.truncDivision(D,2)+V)}var U=new jz;return U.setCompact(u),U.setSize(D),U.setLayers(c),U.setCodeWords(A),U.setMatrix(O),U},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new In;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Qe.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Qe.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new P4(n.getGF(r)),c=Qe.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,g=new In;g.appendBits(0,p);try{for(var y=tH(Array.from(h)),_=y.next();!_.done;_=y.next()){var E=_.value;g.appendBits(E,r)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return hr.AZTEC_PARAM;case 6:return hr.AZTEC_DATA_6;case 8:return hr.AZTEC_DATA_8;case 10:return hr.AZTEC_DATA_10;case 12:return hr.AZTEC_DATA_12;default:throw new De("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new In,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();function B4({className:n,...e}){return M.jsx("div",{"data-slot":"card",className:At("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function V4({className:n,...e}){return M.jsx("div",{"data-slot":"card-header",className:At("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function nH({className:n,...e}){return M.jsx("div",{"data-slot":"card-title",className:At("leading-none font-semibold",n),...e})}function F4({className:n,...e}){return M.jsx("div",{"data-slot":"card-content",className:At("px-6",n),...e})}const rH="https://world.openfoodfacts.org/api/v2/product/",iH="PantryPal/1.0 (pantrypal@gmail.com)";async function aH(n){var r;const e=`${rH}${n}`,t={"User-Agent":iH};try{const i=new AbortController,a=setTimeout(()=>i.abort(),1e4),s=await fetch(e,{headers:t,signal:i.signal});if(clearTimeout(a),!s.ok)return{success:!1};const u=await s.json();if(u.status!==1||!u.product)return{success:!1};const c=u.product,[h,p]=((r=c.quantity)==null?void 0:r.split(" "))??[void 0,void 0],g=Zc().possibilities();g.push("tbsp"),g.push("unit");let y=p;return g.includes(p)||(y="unit"),{success:!0,data:{name:c.product_name,quantity:Number(h),unit:y,type:"Other",location:"Pantry",createdDate:new Date,shop:c.stores,barcode:n}}}catch(i){return console.log(i),{success:!1,data:{name:"",quantity:0,unit:"unit",type:"Other",location:"Pantry",createdDate:new Date,shop:"",barcode:n}}}}const oH="pantry",gC="barcode";function sH(){const n=L.useRef(null),[e,t]=L.useState(!1),r=L.useRef(null),[i,a]=L.useState([]),[s,u]=L.useState(!1),{createMultipleData:c,upsertData:h,getDataById:p}=vu(),g={name:"barcode",label:"Barcode",type:"text",required:!0,placeholder:"e.g. 2202345"};L.useEffect(()=>()=>{E()},[]);const y=async H=>{if(H){E(),u(!0);const O=H.getText(),b=await aH(O);console.log(O),console.log(b);const N=await p(gC,O);N&&a(V=>[...V,N]),(b.success||!N)&&a(V=>[...V,b.data]),u(!1)}},_=()=>{if(!n.current)return;const H=new rz;r.current=H,H.decodeFromVideoDevice(null,n.current,(O,b)=>{y(O),b&&!(b instanceof ie)&&console.error(b)}).catch(O=>console.error(O)),t(!0)},E=()=>{r.current&&(r.current.reset(),r.current=null),t(!1)},A=H=>{a(O=>O.filter((b,N)=>N!==H))},T=(H,O,b,N)=>H.map((V,z)=>z===O?{...V,[b]:N}:V),I=(H,O,b)=>{const N=O.type==="number"?parseFloat(b):b,V=T(i,H,O.name,N);a(V)},R=(H,O,b,N,V)=>{var ye;const z=(ye=N.extraFields)==null?void 0:ye[0].name;if(!z)return;const{val:G,unit:U}=zy(H,O,b);a(xe=>xe.map((K,ae)=>ae===V?{...K,[N.name]:G,[z]:U}:K))},D=(H,O,b)=>{const N=T(i,H,O,b);a(N)},B=async()=>{u(!0);try{await c(i,oH),a([])}catch(H){console.error("Error saving items to Firebase:",H)}u(!1)},j=async H=>{u(!0);try{await h(i[H],gC,i[H].barcode)}catch(O){console.error("Error saving items to Firebase:",O)}u(!1)};return M.jsxs("div",{children:[M.jsx("div",{className:"mb-4 flex justify-center sm:justify-start",children:e?M.jsx(rr,{variant:"destructive",onClick:E,className:"w-full sm:w-auto",children:"Stop Camera"}):M.jsx(rr,{onClick:_,className:"w-full sm:w-auto",children:"Start Camera Scan"})}),M.jsx("video",{ref:n,className:`w-full rounded-lg border border-gray-200 ${!e&&"hidden"}`}),s&&M.jsx("p",{children:"Loading..."}),M.jsx("div",{className:"space-y-4 mt-4",children:i.map((H,O)=>M.jsxs(B4,{children:[M.jsxs(V4,{className:"flex flex-col sm:flex-row items-start sm:items-end justify-between gap-4 pb-2",children:[M.jsxs("div",{className:"space-y-2 w-full sm:w-auto",children:[M.jsx(i0,{htmlFor:g.name,children:g.label}),M.jsx(c0,{field:g,formData:H,handleInputChange:b=>I(O,g,b.target.value),handleUnitChange:(b,N)=>R(i[O][g.name],i[O][b],N,g,O),handleSelectChange:(b,N)=>D(O,b,N),handleArrayOfObjectsChange:b=>{D(O,g.name,b)}})]},g.name),M.jsxs("div",{className:"flex flex-row items-end gap-2 self-end",children:[M.jsx(rr,{size:"icon",onClick:()=>j(O),disabled:s,children:M.jsx(bA,{className:"h-4 w-4"})}),M.jsx(rr,{variant:"destructive",size:"icon",onClick:()=>A(O),children:M.jsx(LL,{className:"h-5 w-5"})})]})]}),M.jsx(F4,{className:"grid gap-2 sm:grid-cols-2",children:d4.map(b=>M.jsxs("div",{className:"space-y-2",children:[M.jsx(i0,{htmlFor:b.name,children:b.label}),M.jsx(c0,{field:b,formData:H,handleInputChange:N=>I(O,b,N.target.value),handleUnitChange:(N,V)=>R(i[O][b.name],i[O][N],V,b,O),handleSelectChange:(N,V)=>D(O,N,V),handleArrayOfObjectsChange:N=>{D(O,b.name,N)}})]},b.name))})]},O))}),i.length>0&&M.jsx("div",{className:"flex justify-center sm:justify-end mt-6",children:M.jsxs(rr,{onClick:B,disabled:s,className:"w-full sm:w-auto",children:[M.jsx(bA,{className:"mr-2 h-4 w-4"})," Save All to Pantry"]})})]})}function lH(){const{signInWithGoogle:n}=vu(),[e,t]=L.useState(null),[r,i]=L.useState(!1),a=u=>{if(u.message==="This account is not authorized to access the application."){t(u.message);return}switch(u.code){case"auth/invalid-email":t("Please enter a valid email address.");break;case"auth/user-not-found":case"auth/wrong-password":t("Invalid email or password.");break;case"auth/email-already-in-use":t("An account with this email already exists.");break;case"auth/weak-password":t("Password should be at least 6 characters.");break;default:t("An unexpected error occurred. Please try again."),console.error(u)}},s=async()=>{t(null),i(!0);try{await n()}catch(u){a(u)}i(!1)};return M.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:M.jsxs(B4,{className:"w-full max-w-sm",children:[M.jsx(V4,{children:M.jsx(nH,{className:"text-2xl",children:"Pantry Login"})}),M.jsxs(F4,{className:"grid gap-4",children:[e&&M.jsx("p",{className:"text-sm text-red-600",children:e}),M.jsx("div",{className:"flex flex-col gap-2",children:M.jsx(rr,{onClick:s,variant:"outline",className:"w-full",disabled:r,children:r?"Signing In with Google...":"Sign In with Google"})})]})]})})}function uH(){const{user:n,isAuthReady:e,signOut:t}=vu();return e?n?M.jsxs("main",{className:"bg-white p-6 sm:p-8 sm:max-w-4xl sm:mx-auto sm:rounded-xl sm:shadow-2xl sm:my-4",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",n.displayName||"User","!"]}),M.jsx(rr,{variant:"outline",onClick:t,children:"Sign Out"})]}),M.jsxs(V6,{defaultValue:"pantry",className:"w-full",children:[M.jsxs(F6,{className:"grid w-full grid-cols-3 mb-6",children:[M.jsx(cg,{value:"pantry",children:"Pantry"}),M.jsx(cg,{value:"recipes",children:"Recipe Book"}),M.jsx(cg,{value:"barcode",children:"Barcode Scanner"})]}),M.jsx(fg,{value:"pantry",children:M.jsx(KV,{})}),M.jsx(fg,{value:"recipes",children:M.jsx(vF,{})}),M.jsx(fg,{value:"barcode",children:M.jsx(sH,{})})]})]}):M.jsx(lH,{}):M.jsxs(M.Fragment,{children:[M.jsx("div",{children:"Loading..."}),M.jsx(rr,{variant:"outline",onClick:t,children:"Sign Out"})]})}function cH(){return M.jsx(a7,{children:M.jsx(uH,{})})}_8.createRoot(document.getElementById("root")).render(M.jsx(L.StrictMode,{children:M.jsx(cH,{})}));
