function a8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ng={exports:{}},Oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function o8(){if(xE)return Oc;xE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Oc.Fragment=e,Oc.jsx=t,Oc.jsxs=t,Oc}var EE;function s8(){return EE||(EE=1,ng.exports=o8()),ng.exports}var P=s8(),rg={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function l8(){if(wE)return He;wE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function C(X,se,de){this.props=X,this.context=se,this.refs=A,this.updater=de||_}C.prototype.isReactComponent={},C.prototype.setState=function(X,se){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,se,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function I(){}I.prototype=C.prototype;function R(X,se,de){this.props=X,this.context=se,this.refs=A,this.updater=de||_}var D=R.prototype=new I;D.constructor=R,E(D,C.prototype),D.isPureReactComponent=!0;var B=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function O(X,se,de,ce,me,Me){return de=Me.ref,{$$typeof:n,type:X,key:se,ref:de!==void 0?de:null,props:Me}}function S(X,se){return O(X.type,se,void 0,void 0,void 0,X.props)}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function U(X){var se={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return se[de]})}var H=/\/+/g;function z(X,se){return typeof X=="object"&&X!==null&&X.key!=null?U(""+X.key):se.toString(36)}function j(){}function ye(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(j,j):(X.status="pending",X.then(function(se){X.status==="pending"&&(X.status="fulfilled",X.value=se)},function(se){X.status==="pending"&&(X.status="rejected",X.reason=se)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function xe(X,se,de,ce,me){var Me=typeof X;(Me==="undefined"||Me==="boolean")&&(X=null);var Se=!1;if(X===null)Se=!0;else switch(Me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(X.$$typeof){case n:case e:Se=!0;break;case p:return Se=X._init,xe(Se(X._payload),se,de,ce,me)}}if(Se)return me=me(X),Se=ce===""?"."+z(X,0):ce,B(me)?(de="",Se!=null&&(de=Se.replace(H,"$&/")+"/"),xe(me,se,de,"",function(ut){return ut})):me!=null&&(M(me)&&(me=S(me,de+(me.key==null||X&&X.key===me.key?"":(""+me.key).replace(H,"$&/")+"/")+Se)),se.push(me)),1;Se=0;var ge=ce===""?".":ce+":";if(B(X))for(var Re=0;Re<X.length;Re++)ce=X[Re],Me=ge+z(ce,Re),Se+=xe(ce,se,de,Me,me);else if(Re=y(X),typeof Re=="function")for(X=Re.call(X),Re=0;!(ce=X.next()).done;)ce=ce.value,Me=ge+z(ce,Re++),Se+=xe(ce,se,de,Me,me);else if(Me==="object"){if(typeof X.then=="function")return xe(ye(X),se,de,ce,me);throw se=String(X),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(X,se,de){if(X==null)return X;var ce=[],me=0;return xe(X,ce,"","",function(Me){return se.call(de,Me,me++)}),ce}function oe(X){if(X._status===-1){var se=X._result;se=se(),se.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=se)}if(X._status===1)return X._result.default;throw X._result}var ee=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function Te(){}return He.Children={map:K,forEach:function(X,se,de){K(X,function(){se.apply(this,arguments)},de)},count:function(X){var se=0;return K(X,function(){se++}),se},toArray:function(X){return K(X,function(se){return se})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},He.Component=C,He.Fragment=t,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=c,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,He.__COMPILER_RUNTIME={__proto__:null,c:function(X){return F.H.useMemoCache(X)}},He.cache=function(X){return function(){return X.apply(null,arguments)}},He.cloneElement=function(X,se,de){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ce=E({},X.props),me=X.key,Me=void 0;if(se!=null)for(Se in se.ref!==void 0&&(Me=void 0),se.key!==void 0&&(me=""+se.key),se)!q.call(se,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&se.ref===void 0||(ce[Se]=se[Se]);var Se=arguments.length-2;if(Se===1)ce.children=de;else if(1<Se){for(var ge=Array(Se),Re=0;Re<Se;Re++)ge[Re]=arguments[Re+2];ce.children=ge}return O(X.type,me,void 0,void 0,Me,ce)},He.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},He.createElement=function(X,se,de){var ce,me={},Me=null;if(se!=null)for(ce in se.key!==void 0&&(Me=""+se.key),se)q.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=se[ce]);var Se=arguments.length-2;if(Se===1)me.children=de;else if(1<Se){for(var ge=Array(Se),Re=0;Re<Se;Re++)ge[Re]=arguments[Re+2];me.children=ge}if(X&&X.defaultProps)for(ce in Se=X.defaultProps,Se)me[ce]===void 0&&(me[ce]=Se[ce]);return O(X,Me,void 0,void 0,null,me)},He.createRef=function(){return{current:null}},He.forwardRef=function(X){return{$$typeof:u,render:X}},He.isValidElement=M,He.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:oe}},He.memo=function(X,se){return{$$typeof:h,type:X,compare:se===void 0?null:se}},He.startTransition=function(X){var se=F.T,de={};F.T=de;try{var ce=X(),me=F.S;me!==null&&me(de,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Te,ee)}catch(Me){ee(Me)}finally{F.T=se}},He.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},He.use=function(X){return F.H.use(X)},He.useActionState=function(X,se,de){return F.H.useActionState(X,se,de)},He.useCallback=function(X,se){return F.H.useCallback(X,se)},He.useContext=function(X){return F.H.useContext(X)},He.useDebugValue=function(){},He.useDeferredValue=function(X,se){return F.H.useDeferredValue(X,se)},He.useEffect=function(X,se,de){var ce=F.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(X,se)},He.useId=function(){return F.H.useId()},He.useImperativeHandle=function(X,se,de){return F.H.useImperativeHandle(X,se,de)},He.useInsertionEffect=function(X,se){return F.H.useInsertionEffect(X,se)},He.useLayoutEffect=function(X,se){return F.H.useLayoutEffect(X,se)},He.useMemo=function(X,se){return F.H.useMemo(X,se)},He.useOptimistic=function(X,se){return F.H.useOptimistic(X,se)},He.useReducer=function(X,se,de){return F.H.useReducer(X,se,de)},He.useRef=function(X){return F.H.useRef(X)},He.useState=function(X){return F.H.useState(X)},He.useSyncExternalStore=function(X,se,de){return F.H.useSyncExternalStore(X,se,de)},He.useTransition=function(){return F.H.useTransition()},He.version="19.1.0",He}var AE;function Um(){return AE||(AE=1,rg.exports=l8()),rg.exports}var L=Um();const no=Fm(L),dT=a8({__proto__:null,default:no},[L]);var ig={exports:{}},Dc={},ag={exports:{}},og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function u8(){return CE||(CE=1,function(n){function e(K,oe){var ee=K.length;K.push(oe);e:for(;0<ee;){var Te=ee-1>>>1,X=K[Te];if(0<i(X,oe))K[Te]=oe,K[ee]=X,ee=Te;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],ee=K.pop();if(ee!==oe){K[0]=ee;e:for(var Te=0,X=K.length,se=X>>>1;Te<se;){var de=2*(Te+1)-1,ce=K[de],me=de+1,Me=K[me];if(0>i(ce,ee))me<X&&0>i(Me,ce)?(K[Te]=Me,K[me]=ee,Te=me):(K[Te]=ce,K[de]=ee,Te=de);else if(me<X&&0>i(Me,ee))K[Te]=Me,K[me]=ee,Te=me;else break e}}return oe}function i(K,oe){var ee=K.sortIndex-oe.sortIndex;return ee!==0?ee:K.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,g=null,y=3,_=!1,E=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=K)r(h),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=t(h)}}function F(K){if(A=!1,B(K),!E)if(t(c)!==null)E=!0,q||(q=!0,z());else{var oe=t(h);oe!==null&&xe(F,oe.startTime-K)}}var q=!1,O=-1,S=5,M=-1;function U(){return C?!0:!(n.unstable_now()-M<S)}function H(){if(C=!1,q){var K=n.unstable_now();M=K;var oe=!0;try{e:{E=!1,A&&(A=!1,R(O),O=-1),_=!0;var ee=y;try{t:{for(B(K),g=t(c);g!==null&&!(g.expirationTime>K&&U());){var Te=g.callback;if(typeof Te=="function"){g.callback=null,y=g.priorityLevel;var X=Te(g.expirationTime<=K);if(K=n.unstable_now(),typeof X=="function"){g.callback=X,B(K),oe=!0;break t}g===t(c)&&r(c),B(K)}else r(c);g=t(c)}if(g!==null)oe=!0;else{var se=t(h);se!==null&&xe(F,se.startTime-K),oe=!1}}break e}finally{g=null,y=ee,_=!1}oe=void 0}}finally{oe?z():q=!1}}}var z;if(typeof D=="function")z=function(){D(H)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ye=j.port2;j.port1.onmessage=H,z=function(){ye.postMessage(null)}}else z=function(){I(H,0)};function xe(K,oe){O=I(function(){K(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(K){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var ee=y;y=oe;try{return K()}finally{y=ee}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ee=y;y=K;try{return oe()}finally{y=ee}},n.unstable_scheduleCallback=function(K,oe,ee){var Te=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Te+ee:Te):ee=Te,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ee+X,K={id:p++,callback:oe,priorityLevel:K,startTime:ee,expirationTime:X,sortIndex:-1},ee>Te?(K.sortIndex=ee,e(h,K),t(c)===null&&K===t(h)&&(A?(R(O),O=-1):A=!0,xe(F,ee-Te))):(K.sortIndex=X,e(c,K),E||_||(E=!0,q||(q=!0,z()))),K},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(K){var oe=y;return function(){var ee=y;y=oe;try{return K.apply(this,arguments)}finally{y=ee}}}}(og)),og}var TE;function c8(){return TE||(TE=1,ag.exports=u8()),ag.exports}var sg={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function f8(){if(bE)return zn;bE=1;var n=Um();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},zn.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},zn.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},zn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},zn.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zn.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},zn.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zn.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},zn.requestFormReset=function(c){r.d.r(c)},zn.unstable_batchedUpdates=function(c,h){return c(h)},zn.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},zn.useFormStatus=function(){return s.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var SE;function pT(){if(SE)return sg.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sg.exports=f8(),sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function h8(){if(IE)return Dc;IE=1;var n=c8(),e=Um(),t=pT();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var m=f.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){f=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===f)return u(m),o;if(x===d)return u(m),l;x=x.sibling}throw Error(r(188))}if(f.return!==d.return)f=m,d=x;else{for(var b=!1,N=m.child;N;){if(N===f){b=!0,f=m,d=x;break}if(N===d){b=!0,d=m,f=x;break}N=N.sibling}if(!b){for(N=x.child;N;){if(N===f){b=!0,f=x,d=m;break}if(N===d){b=!0,d=x,f=m;break}N=N.sibling}if(!b)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var j=Symbol.for("react.client.reference");function ye(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===j?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case D:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return l=o.displayName||null,l!==null?l:ye(o.type)||"Memo";case S:l=o._payload,o=o._init;try{return ye(o(l))}catch{}}return null}var xe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Te=[],X=-1;function se(o){return{current:o}}function de(o){0>X||(o.current=Te[X],Te[X]=null,X--)}function ce(o,l){X++,Te[X]=o.current,o.current=l}var me=se(null),Me=se(null),Se=se(null),ge=se(null);function Re(o,l){switch(ce(Se,l),ce(Me,o),ce(me,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Kx(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Kx(l),o=Yx(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}de(me),ce(me,o)}function ut(){de(me),de(Me),de(Se)}function Ge(o){o.memoizedState!==null&&ce(ge,o);var l=me.current,f=Yx(l,o.type);l!==f&&(ce(Me,o),ce(me,f))}function je(o){Me.current===o&&(de(me),de(Me)),ge.current===o&&(de(ge),Tc._currentValue=ee)}var ze=Object.prototype.hasOwnProperty,Gt=n.unstable_scheduleCallback,mn=n.unstable_cancelCallback,Gr=n.unstable_shouldYield,si=n.unstable_requestPaint,yn=n.unstable_now,Au=n.unstable_getCurrentPriorityLevel,li=n.unstable_ImmediatePriority,Fs=n.unstable_UserBlockingPriority,Mo=n.unstable_NormalPriority,r1=n.unstable_LowPriority,Us=n.unstable_IdlePriority,Cu=n.log,Pf=n.unstable_setDisableYieldValue,jt=null,yt=null;function pr(o){if(typeof Cu=="function"&&Pf(o),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(jt,o)}catch{}}var Un=Math.clz32?Math.clz32:Lo,Mf=Math.log,i1=Math.LN2;function Lo(o){return o>>>=0,o===0?32:31-(Mf(o)/i1|0)|0}var ko=256,Bo=4194304;function qr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function js(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var m=0,x=o.suspendedLanes,b=o.pingedLanes;o=o.warmLanes;var N=d&134217727;return N!==0?(d=N&~x,d!==0?m=qr(d):(b&=N,b!==0?m=qr(b):f||(f=N&~o,f!==0&&(m=qr(f))))):(N=d&~x,N!==0?m=qr(N):b!==0?m=qr(b):f||(f=d&~o,f!==0&&(m=qr(f)))),m===0?0:l!==0&&l!==m&&(l&x)===0&&(x=m&-m,f=l&-l,x>=f||x===32&&(f&4194048)!==0)?l:m}function Vo(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Tu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var o=ko;return ko<<=1,(ko&4194048)===0&&(ko=256),o}function Su(){var o=Bo;return Bo<<=1,(Bo&62914560)===0&&(Bo=4194304),o}function Vi(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Fi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Iu(o,l,f,d,m,x){var b=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var N=o.entanglements,G=o.expirationTimes,Z=o.hiddenUpdates;for(f=b&~f;0<f;){var ae=31-Un(f),ue=1<<ae;N[ae]=0,G[ae]=-1;var te=Z[ae];if(te!==null)for(Z[ae]=null,ae=0;ae<te.length;ae++){var ne=te[ae];ne!==null&&(ne.lane&=-536870913)}f&=~ue}d!==0&&ui(o,d,0),x!==0&&m===0&&o.tag!==0&&(o.suspendedLanes|=x&~(b&~l))}function ui(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-Un(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function Ru(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-Un(f),m=1<<d;m&l|o[d]&l&&(o[d]|=l),f&=~m}}function Ca(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function zs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ta(){var o=oe.p;return o!==0?o:(o=window.event,o===void 0?32:pE(o.type))}function Lf(o,l){var f=oe.p;try{return oe.p=o,l()}finally{oe.p=f}}var Mt=Math.random().toString(36).slice(2),tn="__reactFiber$"+Mt,Yt="__reactProps$"+Mt,Ir="__reactContainer$"+Mt,Ou="__reactEvents$"+Mt,a1="__reactListeners$"+Mt,ba="__reactHandles$"+Mt,kf="__reactResources$"+Mt,Fo="__reactMarker$"+Mt;function Sa(o){delete o[tn],delete o[Yt],delete o[Ou],delete o[a1],delete o[ba]}function Ui(o){var l=o[tn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Ir]||f[tn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Jx(o);o!==null;){if(f=o[tn])return f;o=Jx(o)}return l}o=f,f=o.parentNode}return null}function ci(o){if(o=o[tn]||o[Ir]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function fi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function $n(o){var l=o[kf];return l||(l=o[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qt(o){o[Fo]=!0}var Du=new Set,Hs={};function Xr(o,l){ji(o,l),ji(o+"Capture",l)}function ji(o,l){for(Hs[o]=l,o=0;o<l.length;o++)Du.add(l[o])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vf={},Uo={};function Ff(o){return ze.call(Uo,o)?!0:ze.call(Vf,o)?!1:Bf.test(o)?Uo[o]=!0:(Vf[o]=!0,!1)}function Ia(o,l,f){if(Ff(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function hi(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Rn(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var jo,Uf;function zi(o){if(jo===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);jo=l&&l[1]||"",Uf=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+o+Uf}var Gs=!1;function qs(o,l){if(!o||Gs)return"";Gs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var te=ne}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(ne){te=ne}o.call(ue.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),b=x[0],N=x[1];if(b&&N){var G=b.split(`
`),Z=N.split(`
`);for(m=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(d===G.length||m===Z.length)for(d=G.length-1,m=Z.length-1;1<=d&&0<=m&&G[d]!==Z[m];)m--;for(;1<=d&&0<=m;d--,m--)if(G[d]!==Z[m]){if(d!==1||m!==1)do if(d--,m--,0>m||G[d]!==Z[m]){var ae=`
`+G[d].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=d&&0<=m);break}}}finally{Gs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?zi(f):""}function Nu(o){switch(o.tag){case 26:case 27:case 5:return zi(o.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return qs(o.type,!1);case 11:return qs(o.type.render,!1);case 1:return qs(o.type,!0);case 31:return zi("Activity");default:return""}}function Xs(o){try{var l="";do l+=Nu(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Qn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Pu(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function o1(o){var l=Pu(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,x=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,x.call(this,b)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ws(o){o._valueTracker||(o._valueTracker=o1(o))}function Mu(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Pu(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function zo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var s1=/[\n"\\]/g;function $t(o){return o.replace(s1,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function gr(o,l,f,d,m,x,b,N){o.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?o.type=b:o.removeAttribute("type"),l!=null?b==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Qn(l)):o.value!==""+Qn(l)&&(o.value=""+Qn(l)):b!=="submit"&&b!=="reset"||o.removeAttribute("value"),l!=null?Ra(o,b,Qn(l)):f!=null?Ra(o,b,Qn(f)):d!=null&&o.removeAttribute("value"),m==null&&x!=null&&(o.defaultChecked=!!x),m!=null&&(o.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.name=""+Qn(N):o.removeAttribute("name")}function Ho(o,l,f,d,m,x,b,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(o.type=x),l!=null||f!=null){if(!(x!=="submit"&&x!=="reset"||l!=null))return;f=f!=null?""+Qn(f):"",l=l!=null?""+Qn(l):f,N||l===o.value||(o.value=l),o.defaultValue=l}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=N?o.checked:!!d,o.defaultChecked=!!d,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(o.name=b)}function Ra(o,l,f){l==="number"&&zo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Hi(o,l,f,d){if(o=o.options,l){l={};for(var m=0;m<f.length;m++)l["$"+f[m]]=!0;for(f=0;f<o.length;f++)m=l.hasOwnProperty("$"+o[f].value),o[f].selected!==m&&(o[f].selected=m),m&&d&&(o[f].defaultSelected=!0)}else{for(f=""+Qn(f),l=null,m=0;m<o.length;m++){if(o[m].value===f){o[m].selected=!0,d&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function Ct(o,l,f){if(l!=null&&(l=""+Qn(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+Qn(f):""}function Go(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(xe(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=Qn(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function Rr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||qo.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Lu(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var m in l)d=l[m],l.hasOwnProperty(m)&&f[m]!==d&&jf(o,m,d)}else for(var x in l)l.hasOwnProperty(x)&&jf(o,x,l[x])}function ku(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(o){return u1.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Gi=null;function Or(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qi=null,Xi=null;function Bu(o){var l=ci(o);if(l&&(o=l.stateNode)){var f=o[Yt]||null;e:switch(o=l.stateNode,l.type){case"input":if(gr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+$t(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var m=d[Yt]||null;if(!m)throw Error(r(90));gr(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Mu(d)}break e;case"textarea":Ct(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Hi(o,!!f.multiple,l,!1)}}}var di=!1;function zf(o,l,f){if(di)return o(l,f);di=!0;try{var d=o(l);return d}finally{if(di=!1,(qi!==null||Xi!==null)&&(Lh(),qi&&(l=qi,o=Xi,Xi=qi=null,Bu(l),o)))for(l=0;l<o.length;l++)Bu(o[l])}}function Xo(o,l){var f=o.stateNode;if(f===null)return null;var d=f[Yt]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Wr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Dr=!1}var pi=null,Oa=null,Wi=null;function Vu(){if(Wi)return Wi;var o,l=Oa,f=l.length,d,m="value"in pi?pi.value:pi.textContent,x=m.length;for(o=0;o<f&&l[o]===m[o];o++);var b=f-o;for(d=1;d<=b&&l[f-d]===m[x-d];d++);return Wi=m.slice(o,1<d?1-d:void 0)}function gi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function vi(){return!0}function Fu(){return!1}function _n(o){function l(f,d,m,x,b){this._reactName=f,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var N in o)o.hasOwnProperty(N)&&(f=o[N],this[N]=f?f(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?vi:Fu,this.isPropagationStopped=Fu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),l}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=_n(gt),Ko=p({},gt,{view:0,detail:0}),Hf=_n(Ko),$s,Qs,mi,Yo=p({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mi&&(mi&&o.type==="mousemove"?($s=o.screenX-mi.screenX,Qs=o.screenY-mi.screenY):Qs=$s=0,mi=o),$s)},movementY:function(o){return"movementY"in o?o.movementY:Qs}}),Nr=_n(Yo),Gf=p({},Yo,{dataTransfer:0}),c1=_n(Gf),$o=p({},Ko,{relatedTarget:0}),Zs=_n($o),Uu=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=_n(Uu),qf=p({},gt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),el=_n(qf),f1=p({},gt,{data:0}),ju=_n(f1),Qo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Wf[o])?!!l[o]:!1}function Zo(){return zu}var Kf=p({},Ko,{key:function(o){if(o.key){var l=Qo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=gi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(o){return o.type==="keypress"?gi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?gi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tl=_n(Kf),Yf=p({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=_n(Yf),Ki=p({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),$f=_n(Ki),Qf=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=_n(Qf),Jf=p({},Yo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),nl=_n(Jf),Zn=p({},gt,{newState:0,oldState:0}),eh=_n(Zn),th=[9,13,27,32],yi=Wr&&"CompositionEvent"in window,v=null;Wr&&"documentMode"in document&&(v=document.documentMode);var w=Wr&&"TextEvent"in window&&!v,T=Wr&&(!yi||v&&8<v&&11>=v),k=" ",$=!1;function re(o,l){switch(o){case"keyup":return th.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var nt=!1;function nn(o,l){switch(o){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:($=!0,k);case"textInput":return o=l.data,o===k&&$?null:o;default:return null}}function rt(o,l){if(nt)return o==="compositionend"||!yi&&re(o,l)?(o=Vu(),Wi=Oa=pi=null,nt=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T&&l.locale!=="ko"?null:l.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!xn[o.type]:l==="textarea"}function Yi(o,l,f,d){qi?Xi?Xi.push(d):Xi=[d]:qi=d,l=jh(l,"onChange"),0<l.length&&(f=new Ys("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var On=null,_i=null;function Gu(o){Hx(o,0)}function nh(o){var l=fi(o);if(Mu(l))return o}function c_(o,l){if(o==="change")return l}var f_=!1;if(Wr){var h1;if(Wr){var d1="oninput"in document;if(!d1){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),d1=typeof h_.oninput=="function"}h1=d1}else h1=!1;f_=h1&&(!document.documentMode||9<document.documentMode)}function d_(){On&&(On.detachEvent("onpropertychange",p_),_i=On=null)}function p_(o){if(o.propertyName==="value"&&nh(_i)){var l=[];Yi(l,_i,o,Or(o)),zf(Gu,l)}}function L4(o,l,f){o==="focusin"?(d_(),On=l,_i=f,On.attachEvent("onpropertychange",p_)):o==="focusout"&&d_()}function k4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nh(_i)}function B4(o,l){if(o==="click")return nh(l)}function V4(o,l){if(o==="input"||o==="change")return nh(l)}function F4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var vr=typeof Object.is=="function"?Object.is:F4;function qu(o,l){if(vr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var m=f[d];if(!ze.call(l,m)||!vr(o[m],l[m]))return!1}return!0}function g_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function v_(o,l){var f=g_(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=g_(f)}}function m_(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?m_(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function y_(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=zo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=zo(o.document)}return l}function p1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var U4=Wr&&"documentMode"in document&&11>=document.documentMode,rl=null,g1=null,Xu=null,v1=!1;function __(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;v1||rl==null||rl!==zo(d)||(d=rl,"selectionStart"in d&&p1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xu&&qu(Xu,d)||(Xu=d,d=jh(g1,"onSelect"),0<d.length&&(l=new Ys("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=rl)))}function Jo(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var il={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionrun:Jo("Transition","TransitionRun"),transitionstart:Jo("Transition","TransitionStart"),transitioncancel:Jo("Transition","TransitionCancel"),transitionend:Jo("Transition","TransitionEnd")},m1={},x_={};Wr&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function es(o){if(m1[o])return m1[o];if(!il[o])return o;var l=il[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in x_)return m1[o]=l[f];return o}var E_=es("animationend"),w_=es("animationiteration"),A_=es("animationstart"),j4=es("transitionrun"),z4=es("transitionstart"),H4=es("transitioncancel"),C_=es("transitionend"),T_=new Map,y1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y1.push("scrollEnd");function Kr(o,l){T_.set(o,l),Xr(l,[o])}var b_=new WeakMap;function Pr(o,l){if(typeof o=="object"&&o!==null){var f=b_.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Xs(l)},b_.set(o,l),l)}return{value:o,source:l,stack:Xs(l)}}var Mr=[],al=0,_1=0;function rh(){for(var o=al,l=_1=al=0;l<o;){var f=Mr[l];Mr[l++]=null;var d=Mr[l];Mr[l++]=null;var m=Mr[l];Mr[l++]=null;var x=Mr[l];if(Mr[l++]=null,d!==null&&m!==null){var b=d.pending;b===null?m.next=m:(m.next=b.next,b.next=m),d.pending=m}x!==0&&S_(f,m,x)}}function ih(o,l,f,d){Mr[al++]=o,Mr[al++]=l,Mr[al++]=f,Mr[al++]=d,_1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function x1(o,l,f,d){return ih(o,l,f,d),ah(o)}function ol(o,l){return ih(o,null,null,l),ah(o)}function S_(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var m=!1,x=o.return;x!==null;)x.childLanes|=f,d=x.alternate,d!==null&&(d.childLanes|=f),x.tag===22&&(o=x.stateNode,o===null||o._visibility&1||(m=!0)),o=x,x=x.return;return o.tag===3?(x=o.stateNode,m&&l!==null&&(m=31-Un(f),o=x.hiddenUpdates,d=o[m],d===null?o[m]=[l]:d.push(l),l.lane=f|536870912),x):null}function ah(o){if(50<mc)throw mc=0,bp=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var sl={};function G4(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(o,l,f,d){return new G4(o,l,f,d)}function E1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $i(o,l){var f=o.alternate;return f===null?(f=mr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function I_(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function oh(o,l,f,d,m,x){var b=0;if(d=o,typeof o=="function")E1(o)&&(b=1);else if(typeof o=="string")b=XR(o,f,me.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=mr(31,f,l,m),o.elementType=M,o.lanes=x,o;case E:return ts(f.children,m,x,l);case A:b=8,m|=24;break;case C:return o=mr(12,f,l,m|2),o.elementType=C,o.lanes=x,o;case F:return o=mr(13,f,l,m),o.elementType=F,o.lanes=x,o;case q:return o=mr(19,f,l,m),o.elementType=q,o.lanes=x,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:case D:b=10;break e;case R:b=9;break e;case B:b=11;break e;case O:b=14;break e;case S:b=16,d=null;break e}b=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=mr(b,f,l,m),l.elementType=o,l.type=d,l.lanes=x,l}function ts(o,l,f,d){return o=mr(7,o,d,l),o.lanes=f,o}function w1(o,l,f){return o=mr(6,o,null,l),o.lanes=f,o}function A1(o,l,f){return l=mr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var ll=[],ul=0,sh=null,lh=0,Lr=[],kr=0,ns=null,Qi=1,Zi="";function rs(o,l){ll[ul++]=lh,ll[ul++]=sh,sh=o,lh=l}function R_(o,l,f){Lr[kr++]=Qi,Lr[kr++]=Zi,Lr[kr++]=ns,ns=o;var d=Qi;o=Zi;var m=32-Un(d)-1;d&=~(1<<m),f+=1;var x=32-Un(l)+m;if(30<x){var b=m-m%5;x=(d&(1<<b)-1).toString(32),d>>=b,m-=b,Qi=1<<32-Un(l)+m|f<<m|d,Zi=x+o}else Qi=1<<x|f<<m|d,Zi=o}function C1(o){o.return!==null&&(rs(o,1),R_(o,1,0))}function T1(o){for(;o===sh;)sh=ll[--ul],ll[ul]=null,lh=ll[--ul],ll[ul]=null;for(;o===ns;)ns=Lr[--kr],Lr[kr]=null,Zi=Lr[--kr],Lr[kr]=null,Qi=Lr[--kr],Lr[kr]=null}var Jn=null,zt=null,ht=!1,is=null,xi=!1,b1=Error(r(519));function as(o){var l=Error(r(418,""));throw Yu(Pr(l,o)),b1}function O_(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[tn]=o,l[Yt]=d,f){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(f=0;f<_c.length;f++)Je(_c[f],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":Je("invalid",l),Ho(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ws(l);break;case"select":Je("invalid",l);break;case"textarea":Je("invalid",l),Go(l,d.value,d.defaultValue,d.children),Ws(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||Wx(l.textContent,f)?(d.popover!=null&&(Je("beforetoggle",l),Je("toggle",l)),d.onScroll!=null&&Je("scroll",l),d.onScrollEnd!=null&&Je("scrollend",l),d.onClick!=null&&(l.onclick=zh),l=!0):l=!1,l||as(o)}function D_(o){for(Jn=o.return;Jn;)switch(Jn.tag){case 5:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:Jn=Jn.return}}function Wu(o){if(o!==Jn)return!1;if(!ht)return D_(o),ht=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||zp(o.type,o.memoizedProps)),f=!f),f&&zt&&as(o),D_(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){zt=$r(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}zt=null}}else l===27?(l=zt,Xa(o.type)?(o=Xp,Xp=null,zt=o):zt=l):zt=Jn?$r(o.stateNode.nextSibling):null;return!0}function Ku(){zt=Jn=null,ht=!1}function N_(){var o=is;return o!==null&&(sr===null?sr=o:sr.push.apply(sr,o),is=null),o}function Yu(o){is===null?is=[o]:is.push(o)}var S1=se(null),os=null,Ji=null;function Da(o,l,f){ce(S1,l._currentValue),l._currentValue=f}function ea(o){o._currentValue=S1.current,de(S1)}function I1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function R1(o,l,f,d){var m=o.child;for(m!==null&&(m.return=o);m!==null;){var x=m.dependencies;if(x!==null){var b=m.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=m;for(var G=0;G<l.length;G++)if(N.context===l[G]){x.lanes|=f,N=x.alternate,N!==null&&(N.lanes|=f),I1(x.return,f,o),d||(b=null);break e}x=N.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=f,x=b.alternate,x!==null&&(x.lanes|=f),I1(b,f,o),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===o){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function $u(o,l,f,d){o=null;for(var m=l,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var N=m.type;vr(m.pendingProps.value,b.value)||(o!==null?o.push(N):o=[N])}}else if(m===ge.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(o!==null?o.push(Tc):o=[Tc])}m=m.return}o!==null&&R1(l,o,f,d),l.flags|=262144}function uh(o){for(o=o.firstContext;o!==null;){if(!vr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ss(o){os=o,Ji=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function jn(o){return P_(os,o)}function ch(o,l){return os===null&&ss(o),P_(o,l)}function P_(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Ji===null){if(o===null)throw Error(r(308));Ji=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ji=Ji.next=l;return f}var q4=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},X4=n.unstable_scheduleCallback,W4=n.unstable_NormalPriority,an={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O1(){return{controller:new q4,data:new Map,refCount:0}}function Qu(o){o.refCount--,o.refCount===0&&X4(W4,function(){o.controller.abort()})}var Zu=null,D1=0,cl=0,fl=null;function K4(o,l){if(Zu===null){var f=Zu=[];D1=0,cl=Pp(),fl={status:"pending",value:void 0,then:function(d){f.push(d)}}}return D1++,l.then(M_,M_),l}function M_(){if(--D1===0&&Zu!==null){fl!==null&&(fl.status="fulfilled");var o=Zu;Zu=null,cl=0,fl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function Y4(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(m){f.push(m)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var m=0;m<f.length;m++)(0,f[m])(l)},function(m){for(d.status="rejected",d.reason=m,m=0;m<f.length;m++)(0,f[m])(void 0)}),d}var L_=K.S;K.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&K4(o,l),L_!==null&&L_(o,l)};var ls=se(null);function N1(){var o=ls.current;return o!==null?o:Ot.pooledCache}function fh(o,l){l===null?ce(ls,ls.current):ce(ls,l.pool)}function k_(){var o=N1();return o===null?null:{parent:an._currentValue,pool:o}}var Ju=Error(r(460)),B_=Error(r(474)),hh=Error(r(542)),P1={then:function(){}};function V_(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dh(){}function F_(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(dh,dh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,j_(o),o;default:if(typeof l.status=="string")l.then(dh,dh);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=d}},function(d){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,j_(o),o}throw ec=l,Ju}}var ec=null;function U_(){if(ec===null)throw Error(r(459));var o=ec;return ec=null,o}function j_(o){if(o===Ju||o===hh)throw Error(r(483))}var Na=!1;function M1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Pa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ma(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(_t&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,l=ah(o),S_(o,null,f),l}return ih(o,d,l,f),ah(o)}function tc(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Ru(o,f)}}function k1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var m=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var b={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?m=x=b:x=x.next=b,f=f.next}while(f!==null);x===null?m=x=l:x=x.next=l}else m=x=l;f={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var B1=!1;function nc(){if(B1){var o=fl;if(o!==null)throw o}}function rc(o,l,f,d){B1=!1;var m=o.updateQueue;Na=!1;var x=m.firstBaseUpdate,b=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var G=N,Z=G.next;G.next=null,b===null?x=Z:b.next=Z,b=G;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==b&&(N===null?ae.firstBaseUpdate=Z:N.next=Z,ae.lastBaseUpdate=G))}if(x!==null){var ue=m.baseState;b=0,ae=Z=G=null,N=x;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(it&te)===te:(d&te)===te){te!==0&&te===cl&&(B1=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ve=o,Pe=N;te=l;var St=f;switch(Pe.tag){case 1:if(Ve=Pe.payload,typeof Ve=="function"){ue=Ve.call(St,ue,te);break e}ue=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Pe.payload,te=typeof Ve=="function"?Ve.call(St,ue,te):Ve,te==null)break e;ue=p({},ue,te);break e;case 2:Na=!0}}te=N.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(Z=ae=ne,G=ue):ae=ae.next=ne,b|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ae===null&&(G=ue),m.baseState=G,m.firstBaseUpdate=Z,m.lastBaseUpdate=ae,x===null&&(m.shared.lanes=0),za|=b,o.lanes=b,o.memoizedState=ue}}function z_(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function H_(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)z_(f[o],l)}var hl=se(null),ph=se(0);function G_(o,l){o=sa,ce(ph,o),ce(hl,l),sa=o|l.baseLanes}function V1(){ce(ph,sa),ce(hl,hl.current)}function F1(){sa=ph.current,de(hl),de(ph)}var La=0,Xe=null,Tt=null,Qt=null,gh=!1,dl=!1,us=!1,vh=0,ic=0,pl=null,$4=0;function Xt(){throw Error(r(321))}function U1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!vr(o[f],l[f]))return!1;return!0}function j1(o,l,f,d,m,x){return La=x,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,K.H=o===null||o.memoizedState===null?S2:I2,us=!1,x=f(d,m),us=!1,dl&&(x=X_(l,f,d,m)),q_(o),x}function q_(o){K.H=wh;var l=Tt!==null&&Tt.next!==null;if(La=0,Qt=Tt=Xe=null,gh=!1,ic=0,pl=null,l)throw Error(r(300));o===null||En||(o=o.dependencies,o!==null&&uh(o)&&(En=!0))}function X_(o,l,f,d){Xe=o;var m=0;do{if(dl&&(pl=null),ic=0,dl=!1,25<=m)throw Error(r(301));if(m+=1,Qt=Tt=null,o.updateQueue!=null){var x=o.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=rR,x=l(f,d)}while(dl);return x}function Q4(){var o=K.H,l=o.useState()[0];return l=typeof l.then=="function"?ac(l):l,o=o.useState()[0],(Tt!==null?Tt.memoizedState:null)!==o&&(Xe.flags|=1024),l}function z1(){var o=vh!==0;return vh=0,o}function H1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function G1(o){if(gh){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}gh=!1}La=0,Qt=Tt=Xe=null,dl=!1,ic=vh=0,pl=null}function ar(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o,Qt}function Zt(){if(Tt===null){var o=Xe.alternate;o=o!==null?o.memoizedState:null}else o=Tt.next;var l=Qt===null?Xe.memoizedState:Qt.next;if(l!==null)Qt=l,Tt=o;else{if(o===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));Tt=o,o={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Qt===null?Xe.memoizedState=Qt=o:Qt=Qt.next=o}return Qt}function q1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(o){var l=ic;return ic+=1,pl===null&&(pl=[]),o=F_(pl,o,l),l=Xe,(Qt===null?l.memoizedState:Qt.next)===null&&(l=l.alternate,K.H=l===null||l.memoizedState===null?S2:I2),o}function mh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ac(o);if(o.$$typeof===D)return jn(o)}throw Error(r(438,String(o)))}function X1(o){var l=null,f=Xe.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=Xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=q1(),Xe.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=U;return l.index++,f}function ta(o,l){return typeof l=="function"?l(o):l}function yh(o){var l=Zt();return W1(l,Tt,o)}function W1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var m=o.baseQueue,x=d.pending;if(x!==null){if(m!==null){var b=m.next;m.next=x.next,x.next=b}l.baseQueue=m=x,d.pending=null}if(x=o.baseState,m===null)o.memoizedState=x;else{l=m.next;var N=b=null,G=null,Z=l,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(it&ue)===ue:(La&ue)===ue){var te=Z.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===cl&&(ae=!0);else if((La&te)===te){Z=Z.next,te===cl&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(N=G=ue,b=x):G=G.next=ue,Xe.lanes|=te,za|=te;ue=Z.action,us&&f(x,ue),x=Z.hasEagerState?Z.eagerState:f(x,ue)}else te={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(N=G=te,b=x):G=G.next=te,Xe.lanes|=ue,za|=ue;Z=Z.next}while(Z!==null&&Z!==l);if(G===null?b=x:G.next=N,!vr(x,o.memoizedState)&&(En=!0,ae&&(f=fl,f!==null)))throw f;o.memoizedState=x,o.baseState=b,o.baseQueue=G,d.lastRenderedState=x}return m===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function K1(o){var l=Zt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,m=f.pending,x=l.memoizedState;if(m!==null){f.pending=null;var b=m=m.next;do x=o(x,b.action),b=b.next;while(b!==m);vr(x,l.memoizedState)||(En=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),f.lastRenderedState=x}return[x,d]}function W_(o,l,f){var d=Xe,m=Zt(),x=ht;if(x){if(f===void 0)throw Error(r(407));f=f()}else f=l();var b=!vr((Tt||m).memoizedState,f);b&&(m.memoizedState=f,En=!0),m=m.queue;var N=$_.bind(null,d,m,o);if(oc(2048,8,N,[o]),m.getSnapshot!==l||b||Qt!==null&&Qt.memoizedState.tag&1){if(d.flags|=2048,gl(9,_h(),Y_.bind(null,d,m,f,l),null),Ot===null)throw Error(r(349));x||(La&124)!==0||K_(d,l,f)}return f}function K_(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Xe.updateQueue,l===null?(l=q1(),Xe.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Y_(o,l,f,d){l.value=f,l.getSnapshot=d,Q_(l)&&Z_(o)}function $_(o,l,f){return f(function(){Q_(l)&&Z_(o)})}function Q_(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!vr(o,f)}catch{return!0}}function Z_(o){var l=ol(o,2);l!==null&&wr(l,o,2)}function Y1(o){var l=ar();if(typeof o=="function"){var f=o;if(o=f(),us){pr(!0);try{f()}finally{pr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:o},l}function J_(o,l,f,d){return o.baseState=f,W1(o,Tt,typeof d=="function"?d:ta)}function Z4(o,l,f,d,m){if(Eh(o))throw Error(r(485));if(o=l.action,o!==null){var x={payload:m,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){x.listeners.push(b)}};K.T!==null?f(!0):x.isTransition=!1,d(x),f=l.pending,f===null?(x.next=l.pending=x,e2(l,x)):(x.next=f.next,l.pending=f.next=x)}}function e2(o,l){var f=l.action,d=l.payload,m=o.state;if(l.isTransition){var x=K.T,b={};K.T=b;try{var N=f(m,d),G=K.S;G!==null&&G(b,N),t2(o,l,N)}catch(Z){$1(o,l,Z)}finally{K.T=x}}else try{x=f(m,d),t2(o,l,x)}catch(Z){$1(o,l,Z)}}function t2(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){n2(o,l,d)},function(d){return $1(o,l,d)}):n2(o,l,f)}function n2(o,l,f){l.status="fulfilled",l.value=f,r2(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,e2(o,f)))}function $1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,r2(l),l=l.next;while(l!==d)}o.action=null}function r2(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function i2(o,l){return l}function a2(o,l){if(ht){var f=Ot.formState;if(f!==null){e:{var d=Xe;if(ht){if(zt){t:{for(var m=zt,x=xi;m.nodeType!==8;){if(!x){m=null;break t}if(m=$r(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){zt=$r(m.nextSibling),d=m.data==="F!";break e}}as(d)}d=!1}d&&(l=f[0])}}return f=ar(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i2,lastRenderedState:l},f.queue=d,f=C2.bind(null,Xe,d),d.dispatch=f,d=Y1(!1),x=tp.bind(null,Xe,!1,d.queue),d=ar(),m={state:l,dispatch:null,action:o,pending:null},d.queue=m,f=Z4.bind(null,Xe,m,x,f),m.dispatch=f,d.memoizedState=o,[l,f,!1]}function o2(o){var l=Zt();return s2(l,Tt,o)}function s2(o,l,f){if(l=W1(o,l,i2)[0],o=yh(ta)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=ac(l)}catch(b){throw b===Ju?hh:b}else d=l;l=Zt();var m=l.queue,x=m.dispatch;return f!==l.memoizedState&&(Xe.flags|=2048,gl(9,_h(),J4.bind(null,m,f),null)),[d,x,o]}function J4(o,l){o.action=l}function l2(o){var l=Zt(),f=Tt;if(f!==null)return s2(l,f,o);Zt(),l=l.memoizedState,f=Zt();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function gl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=q1(),Xe.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function _h(){return{destroy:void 0,resource:void 0}}function u2(){return Zt().memoizedState}function xh(o,l,f,d){var m=ar();d=d===void 0?null:d,Xe.flags|=o,m.memoizedState=gl(1|l,_h(),f,d)}function oc(o,l,f,d){var m=Zt();d=d===void 0?null:d;var x=m.memoizedState.inst;Tt!==null&&d!==null&&U1(d,Tt.memoizedState.deps)?m.memoizedState=gl(l,x,f,d):(Xe.flags|=o,m.memoizedState=gl(1|l,x,f,d))}function c2(o,l){xh(8390656,8,o,l)}function f2(o,l){oc(2048,8,o,l)}function h2(o,l){return oc(4,2,o,l)}function d2(o,l){return oc(4,4,o,l)}function p2(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function g2(o,l,f){f=f!=null?f.concat([o]):null,oc(4,4,p2.bind(null,l,o),f)}function Q1(){}function v2(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&U1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function m2(o,l){var f=Zt();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&U1(l,d[1]))return d[0];if(d=o(),us){pr(!0);try{o()}finally{pr(!1)}}return f.memoizedState=[d,l],d}function Z1(o,l,f){return f===void 0||(La&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=xx(),Xe.lanes|=o,za|=o,f)}function y2(o,l,f,d){return vr(f,l)?f:hl.current!==null?(o=Z1(o,f,d),vr(o,l)||(En=!0),o):(La&42)===0?(En=!0,o.memoizedState=f):(o=xx(),Xe.lanes|=o,za|=o,l)}function _2(o,l,f,d,m){var x=oe.p;oe.p=x!==0&&8>x?x:8;var b=K.T,N={};K.T=N,tp(o,!1,l,f);try{var G=m(),Z=K.S;if(Z!==null&&Z(N,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ae=Y4(G,d);sc(o,l,ae,Er(o))}else sc(o,l,d,Er(o))}catch(ue){sc(o,l,{then:function(){},status:"rejected",reason:ue},Er())}finally{oe.p=x,K.T=b}}function eR(){}function J1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var m=x2(o).queue;_2(o,m,l,ee,f===null?eR:function(){return E2(o),f(d)})}function x2(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:ee},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function E2(o){var l=x2(o).next.queue;sc(o,l,{},Er())}function ep(){return jn(Tc)}function w2(){return Zt().memoizedState}function A2(){return Zt().memoizedState}function tR(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Er();o=Pa(f);var d=Ma(l,o,f);d!==null&&(wr(d,l,f),tc(d,l,f)),l={cache:O1()},o.payload=l;return}l=l.return}}function nR(o,l,f){var d=Er();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Eh(o)?T2(l,f):(f=x1(o,l,f,d),f!==null&&(wr(f,o,d),b2(f,l,d)))}function C2(o,l,f){var d=Er();sc(o,l,f,d)}function sc(o,l,f,d){var m={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Eh(o))T2(l,m);else{var x=o.alternate;if(o.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var b=l.lastRenderedState,N=x(b,f);if(m.hasEagerState=!0,m.eagerState=N,vr(N,b))return ih(o,l,m,0),Ot===null&&rh(),!1}catch{}finally{}if(f=x1(o,l,m,d),f!==null)return wr(f,o,d),b2(f,l,d),!0}return!1}function tp(o,l,f,d){if(d={lane:2,revertLane:Pp(),action:d,hasEagerState:!1,eagerState:null,next:null},Eh(o)){if(l)throw Error(r(479))}else l=x1(o,f,d,2),l!==null&&wr(l,o,2)}function Eh(o){var l=o.alternate;return o===Xe||l!==null&&l===Xe}function T2(o,l){dl=gh=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function b2(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Ru(o,f)}}var wh={readContext:jn,use:mh,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},S2={readContext:jn,use:mh,useCallback:function(o,l){return ar().memoizedState=[o,l===void 0?null:l],o},useContext:jn,useEffect:c2,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,xh(4194308,4,p2.bind(null,l,o),f)},useLayoutEffect:function(o,l){return xh(4194308,4,o,l)},useInsertionEffect:function(o,l){xh(4,2,o,l)},useMemo:function(o,l){var f=ar();l=l===void 0?null:l;var d=o();if(us){pr(!0);try{o()}finally{pr(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=ar();if(f!==void 0){var m=f(l);if(us){pr(!0);try{f(l)}finally{pr(!1)}}}else m=l;return d.memoizedState=d.baseState=m,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:m},d.queue=o,o=o.dispatch=nR.bind(null,Xe,o),[d.memoizedState,o]},useRef:function(o){var l=ar();return o={current:o},l.memoizedState=o},useState:function(o){o=Y1(o);var l=o.queue,f=C2.bind(null,Xe,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:Q1,useDeferredValue:function(o,l){var f=ar();return Z1(f,o,l)},useTransition:function(){var o=Y1(!1);return o=_2.bind(null,Xe,o.queue,!0,!1),ar().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=Xe,m=ar();if(ht){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ot===null)throw Error(r(349));(it&124)!==0||K_(d,l,f)}m.memoizedState=f;var x={value:f,getSnapshot:l};return m.queue=x,c2($_.bind(null,d,x,o),[o]),d.flags|=2048,gl(9,_h(),Y_.bind(null,d,x,f,l),null),f},useId:function(){var o=ar(),l=Ot.identifierPrefix;if(ht){var f=Zi,d=Qi;f=(d&~(1<<32-Un(d)-1)).toString(32)+f,l=""+l+"R"+f,f=vh++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=$4++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:ep,useFormState:a2,useActionState:a2,useOptimistic:function(o){var l=ar();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=tp.bind(null,Xe,!0,f),f.dispatch=l,[o,l]},useMemoCache:X1,useCacheRefresh:function(){return ar().memoizedState=tR.bind(null,Xe)}},I2={readContext:jn,use:mh,useCallback:v2,useContext:jn,useEffect:f2,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:d2,useMemo:m2,useReducer:yh,useRef:u2,useState:function(){return yh(ta)},useDebugValue:Q1,useDeferredValue:function(o,l){var f=Zt();return y2(f,Tt.memoizedState,o,l)},useTransition:function(){var o=yh(ta)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:ac(o),l]},useSyncExternalStore:W_,useId:w2,useHostTransitionStatus:ep,useFormState:o2,useActionState:o2,useOptimistic:function(o,l){var f=Zt();return J_(f,Tt,o,l)},useMemoCache:X1,useCacheRefresh:A2},rR={readContext:jn,use:mh,useCallback:v2,useContext:jn,useEffect:f2,useImperativeHandle:g2,useInsertionEffect:h2,useLayoutEffect:d2,useMemo:m2,useReducer:K1,useRef:u2,useState:function(){return K1(ta)},useDebugValue:Q1,useDeferredValue:function(o,l){var f=Zt();return Tt===null?Z1(f,o,l):y2(f,Tt.memoizedState,o,l)},useTransition:function(){var o=K1(ta)[0],l=Zt().memoizedState;return[typeof o=="boolean"?o:ac(o),l]},useSyncExternalStore:W_,useId:w2,useHostTransitionStatus:ep,useFormState:l2,useActionState:l2,useOptimistic:function(o,l){var f=Zt();return Tt!==null?J_(f,Tt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:X1,useCacheRefresh:A2},vl=null,lc=0;function Ah(o){var l=lc;return lc+=1,vl===null&&(vl=[]),F_(vl,o,l)}function uc(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Ch(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function R2(o){var l=o._init;return l(o._payload)}function O2(o){function l(Y,W){if(o){var Q=Y.deletions;Q===null?(Y.deletions=[W],Y.flags|=16):Q.push(W)}}function f(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function m(Y,W){return Y=$i(Y,W),Y.index=0,Y.sibling=null,Y}function x(Y,W,Q){return Y.index=Q,o?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<W?(Y.flags|=67108866,W):Q):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function b(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,W,Q,le){return W===null||W.tag!==6?(W=w1(Q,Y.mode,le),W.return=Y,W):(W=m(W,Q),W.return=Y,W)}function G(Y,W,Q,le){var Ee=Q.type;return Ee===E?ae(Y,W,Q.props.children,le,Q.key):W!==null&&(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&R2(Ee)===W.type)?(W=m(W,Q.props),uc(W,Q),W.return=Y,W):(W=oh(Q.type,Q.key,Q.props,null,Y.mode,le),uc(W,Q),W.return=Y,W)}function Z(Y,W,Q,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=A1(Q,Y.mode,le),W.return=Y,W):(W=m(W,Q.children||[]),W.return=Y,W)}function ae(Y,W,Q,le,Ee){return W===null||W.tag!==7?(W=ts(Q,Y.mode,le,Ee),W.return=Y,W):(W=m(W,Q),W.return=Y,W)}function ue(Y,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=w1(""+W,Y.mode,Q),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return Q=oh(W.type,W.key,W.props,null,Y.mode,Q),uc(Q,W),Q.return=Y,Q;case _:return W=A1(W,Y.mode,Q),W.return=Y,W;case S:var le=W._init;return W=le(W._payload),ue(Y,W,Q)}if(xe(W)||z(W))return W=ts(W,Y.mode,Q,null),W.return=Y,W;if(typeof W.then=="function")return ue(Y,Ah(W),Q);if(W.$$typeof===D)return ue(Y,ch(Y,W),Q);Ch(Y,W)}return null}function te(Y,W,Q,le){var Ee=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:N(Y,W,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===Ee?G(Y,W,Q,le):null;case _:return Q.key===Ee?Z(Y,W,Q,le):null;case S:return Ee=Q._init,Q=Ee(Q._payload),te(Y,W,Q,le)}if(xe(Q)||z(Q))return Ee!==null?null:ae(Y,W,Q,le,null);if(typeof Q.then=="function")return te(Y,W,Ah(Q),le);if(Q.$$typeof===D)return te(Y,W,ch(Y,Q),le);Ch(Y,Q)}return null}function ne(Y,W,Q,le,Ee){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Q)||null,N(W,Y,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return Y=Y.get(le.key===null?Q:le.key)||null,G(W,Y,le,Ee);case _:return Y=Y.get(le.key===null?Q:le.key)||null,Z(W,Y,le,Ee);case S:var $e=le._init;return le=$e(le._payload),ne(Y,W,Q,le,Ee)}if(xe(le)||z(le))return Y=Y.get(Q)||null,ae(W,Y,le,Ee,null);if(typeof le.then=="function")return ne(Y,W,Q,Ah(le),Ee);if(le.$$typeof===D)return ne(Y,W,Q,ch(W,le),Ee);Ch(W,le)}return null}function Ve(Y,W,Q,le){for(var Ee=null,$e=null,Ie=W,Le=W=0,An=null;Ie!==null&&Le<Q.length;Le++){Ie.index>Le?(An=Ie,Ie=null):An=Ie.sibling;var ct=te(Y,Ie,Q[Le],le);if(ct===null){Ie===null&&(Ie=An);break}o&&Ie&&ct.alternate===null&&l(Y,Ie),W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct,Ie=An}if(Le===Q.length)return f(Y,Ie),ht&&rs(Y,Le),Ee;if(Ie===null){for(;Le<Q.length;Le++)Ie=ue(Y,Q[Le],le),Ie!==null&&(W=x(Ie,W,Le),$e===null?Ee=Ie:$e.sibling=Ie,$e=Ie);return ht&&rs(Y,Le),Ee}for(Ie=d(Ie);Le<Q.length;Le++)An=ne(Ie,Y,Le,Q[Le],le),An!==null&&(o&&An.alternate!==null&&Ie.delete(An.key===null?Le:An.key),W=x(An,W,Le),$e===null?Ee=An:$e.sibling=An,$e=An);return o&&Ie.forEach(function(Qa){return l(Y,Qa)}),ht&&rs(Y,Le),Ee}function Pe(Y,W,Q,le){if(Q==null)throw Error(r(151));for(var Ee=null,$e=null,Ie=W,Le=W=0,An=null,ct=Q.next();Ie!==null&&!ct.done;Le++,ct=Q.next()){Ie.index>Le?(An=Ie,Ie=null):An=Ie.sibling;var Qa=te(Y,Ie,ct.value,le);if(Qa===null){Ie===null&&(Ie=An);break}o&&Ie&&Qa.alternate===null&&l(Y,Ie),W=x(Qa,W,Le),$e===null?Ee=Qa:$e.sibling=Qa,$e=Qa,Ie=An}if(ct.done)return f(Y,Ie),ht&&rs(Y,Le),Ee;if(Ie===null){for(;!ct.done;Le++,ct=Q.next())ct=ue(Y,ct.value,le),ct!==null&&(W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct);return ht&&rs(Y,Le),Ee}for(Ie=d(Ie);!ct.done;Le++,ct=Q.next())ct=ne(Ie,Y,Le,ct.value,le),ct!==null&&(o&&ct.alternate!==null&&Ie.delete(ct.key===null?Le:ct.key),W=x(ct,W,Le),$e===null?Ee=ct:$e.sibling=ct,$e=ct);return o&&Ie.forEach(function(i8){return l(Y,i8)}),ht&&rs(Y,Le),Ee}function St(Y,W,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var Ee=Q.key;W!==null;){if(W.key===Ee){if(Ee=Q.type,Ee===E){if(W.tag===7){f(Y,W.sibling),le=m(W,Q.props.children),le.return=Y,Y=le;break e}}else if(W.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&R2(Ee)===W.type){f(Y,W.sibling),le=m(W,Q.props),uc(le,Q),le.return=Y,Y=le;break e}f(Y,W);break}else l(Y,W);W=W.sibling}Q.type===E?(le=ts(Q.props.children,Y.mode,le,Q.key),le.return=Y,Y=le):(le=oh(Q.type,Q.key,Q.props,null,Y.mode,le),uc(le,Q),le.return=Y,Y=le)}return b(Y);case _:e:{for(Ee=Q.key;W!==null;){if(W.key===Ee)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){f(Y,W.sibling),le=m(W,Q.children||[]),le.return=Y,Y=le;break e}else{f(Y,W);break}else l(Y,W);W=W.sibling}le=A1(Q,Y.mode,le),le.return=Y,Y=le}return b(Y);case S:return Ee=Q._init,Q=Ee(Q._payload),St(Y,W,Q,le)}if(xe(Q))return Ve(Y,W,Q,le);if(z(Q)){if(Ee=z(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),Pe(Y,W,Q,le)}if(typeof Q.then=="function")return St(Y,W,Ah(Q),le);if(Q.$$typeof===D)return St(Y,W,ch(Y,Q),le);Ch(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,W!==null&&W.tag===6?(f(Y,W.sibling),le=m(W,Q),le.return=Y,Y=le):(f(Y,W),le=w1(Q,Y.mode,le),le.return=Y,Y=le),b(Y)):f(Y,W)}return function(Y,W,Q,le){try{lc=0;var Ee=St(Y,W,Q,le);return vl=null,Ee}catch(Ie){if(Ie===Ju||Ie===hh)throw Ie;var $e=mr(29,Ie,null,Y.mode);return $e.lanes=le,$e.return=Y,$e}finally{}}}var ml=O2(!0),D2=O2(!1),Br=se(null),Ei=null;function ka(o){var l=o.alternate;ce(on,on.current&1),ce(Br,o),Ei===null&&(l===null||hl.current!==null||l.memoizedState!==null)&&(Ei=o)}function N2(o){if(o.tag===22){if(ce(on,on.current),ce(Br,o),Ei===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ei=o)}}else Ba()}function Ba(){ce(on,on.current),ce(Br,Br.current)}function na(o){de(Br),Ei===o&&(Ei=null),de(on)}var on=se(0);function Th(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||qp(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function np(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var rp={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=Er(),m=Pa(d);m.payload=l,f!=null&&(m.callback=f),l=Ma(o,m,d),l!==null&&(wr(l,o,d),tc(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=Er(),m=Pa(d);m.tag=1,m.payload=l,f!=null&&(m.callback=f),l=Ma(o,m,d),l!==null&&(wr(l,o,d),tc(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Er(),d=Pa(f);d.tag=2,l!=null&&(d.callback=l),l=Ma(o,d,f),l!==null&&(wr(l,o,f),tc(l,o,f))}};function P2(o,l,f,d,m,x,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,x,b):l.prototype&&l.prototype.isPureReactComponent?!qu(f,d)||!qu(m,x):!0}function M2(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&rp.enqueueReplaceState(l,l.state,null)}function cs(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var m in o)f[m]===void 0&&(f[m]=o[m])}return f}var bh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function L2(o){bh(o)}function k2(o){console.error(o)}function B2(o){bh(o)}function Sh(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function V2(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ip(o,l,f){return f=Pa(f),f.tag=3,f.payload={element:null},f.callback=function(){Sh(o,l)},f}function F2(o){return o=Pa(o),o.tag=3,o}function U2(o,l,f,d){var m=f.type.getDerivedStateFromError;if(typeof m=="function"){var x=d.value;o.payload=function(){return m(x)},o.callback=function(){V2(l,f,d)}}var b=f.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(o.callback=function(){V2(l,f,d),typeof m!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function iR(o,l,f,d,m){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&$u(l,f,m,!0),f=Br.current,f!==null){switch(f.tag){case 13:return Ei===null?Ip():f.alternate===null&&Ht===0&&(Ht=3),f.flags&=-257,f.flags|=65536,f.lanes=m,d===P1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),Op(o,d,m)),!1;case 22:return f.flags|=65536,d===P1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),Op(o,d,m)),!1}throw Error(r(435,f.tag))}return Op(o,d,m),Ip(),!1}if(ht)return l=Br.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,d!==b1&&(o=Error(r(422),{cause:d}),Yu(Pr(o,f)))):(d!==b1&&(l=Error(r(423),{cause:d}),Yu(Pr(l,f))),o=o.current.alternate,o.flags|=65536,m&=-m,o.lanes|=m,d=Pr(d,f),m=ip(o.stateNode,d,m),k1(o,m),Ht!==4&&(Ht=2)),!1;var x=Error(r(520),{cause:d});if(x=Pr(x,f),vc===null?vc=[x]:vc.push(x),Ht!==4&&(Ht=2),l===null)return!0;d=Pr(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=m&-m,f.lanes|=o,o=ip(f.stateNode,d,o),k1(f,o),!1;case 1:if(l=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x))))return f.flags|=65536,m&=-m,f.lanes|=m,m=F2(m),U2(m,o,f,d),k1(f,m),!1}f=f.return}while(f!==null);return!1}var j2=Error(r(461)),En=!1;function Dn(o,l,f,d){l.child=o===null?D2(l,null,f,d):ml(l,o.child,f,d)}function z2(o,l,f,d,m){f=f.render;var x=l.ref;if("ref"in d){var b={};for(var N in d)N!=="ref"&&(b[N]=d[N])}else b=d;return ss(l),d=j1(o,l,f,b,x,m),N=z1(),o!==null&&!En?(H1(o,l,m),ra(o,l,m)):(ht&&N&&C1(l),l.flags|=1,Dn(o,l,d,m),l.child)}function H2(o,l,f,d,m){if(o===null){var x=f.type;return typeof x=="function"&&!E1(x)&&x.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=x,G2(o,l,x,d,m)):(o=oh(f.type,null,d,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(x=o.child,!hp(o,m)){var b=x.memoizedProps;if(f=f.compare,f=f!==null?f:qu,f(b,d)&&o.ref===l.ref)return ra(o,l,m)}return l.flags|=1,o=$i(x,d),o.ref=l.ref,o.return=l,l.child=o}function G2(o,l,f,d,m){if(o!==null){var x=o.memoizedProps;if(qu(x,d)&&o.ref===l.ref)if(En=!1,l.pendingProps=d=x,hp(o,m))(o.flags&131072)!==0&&(En=!0);else return l.lanes=o.lanes,ra(o,l,m)}return ap(o,l,f,d,m)}function q2(o,l,f){var d=l.pendingProps,m=d.children,x=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=x!==null?x.baseLanes|f:f,o!==null){for(m=l.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;l.childLanes=x&~d}else l.childLanes=0,l.child=null;return X2(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&fh(l,x!==null?x.cachePool:null),x!==null?G_(l,x):V1(),N2(l);else return l.lanes=l.childLanes=536870912,X2(o,l,x!==null?x.baseLanes|f:f,f)}else x!==null?(fh(l,x.cachePool),G_(l,x),Ba(),l.memoizedState=null):(o!==null&&fh(l,null),V1(),Ba());return Dn(o,l,m,f),l.child}function X2(o,l,f,d){var m=N1();return m=m===null?null:{parent:an._currentValue,pool:m},l.memoizedState={baseLanes:f,cachePool:m},o!==null&&fh(l,null),V1(),N2(l),o!==null&&$u(o,l,d,!0),null}function Ih(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function ap(o,l,f,d,m){return ss(l),f=j1(o,l,f,d,void 0,m),d=z1(),o!==null&&!En?(H1(o,l,m),ra(o,l,m)):(ht&&d&&C1(l),l.flags|=1,Dn(o,l,f,m),l.child)}function W2(o,l,f,d,m,x){return ss(l),l.updateQueue=null,f=X_(l,d,f,m),q_(o),d=z1(),o!==null&&!En?(H1(o,l,x),ra(o,l,x)):(ht&&d&&C1(l),l.flags|=1,Dn(o,l,f,x),l.child)}function K2(o,l,f,d,m){if(ss(l),l.stateNode===null){var x=sl,b=f.contextType;typeof b=="object"&&b!==null&&(x=jn(b)),x=new f(d,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=rp,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=d,x.state=l.memoizedState,x.refs={},M1(l),b=f.contextType,x.context=typeof b=="object"&&b!==null?jn(b):sl,x.state=l.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(np(l,f,b,d),x.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(b=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),b!==x.state&&rp.enqueueReplaceState(x,x.state,null),rc(l,d,x,m),nc(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){x=l.stateNode;var N=l.memoizedProps,G=cs(f,N);x.props=G;var Z=x.context,ae=f.contextType;b=sl,typeof ae=="object"&&ae!==null&&(b=jn(ae));var ue=f.getDerivedStateFromProps;ae=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||Z!==b)&&M2(l,x,d,b),Na=!1;var te=l.memoizedState;x.state=te,rc(l,d,x,m),nc(),Z=l.memoizedState,N||te!==Z||Na?(typeof ue=="function"&&(np(l,f,ue,d),Z=l.memoizedState),(G=Na||P2(l,f,G,d,te,Z,b))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Z),x.props=d,x.state=Z,x.context=b,d=G):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{x=l.stateNode,L1(o,l),b=l.memoizedProps,ae=cs(f,b),x.props=ae,ue=l.pendingProps,te=x.context,Z=f.contextType,G=sl,typeof Z=="object"&&Z!==null&&(G=jn(Z)),N=f.getDerivedStateFromProps,(Z=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==ue||te!==G)&&M2(l,x,d,G),Na=!1,te=l.memoizedState,x.state=te,rc(l,d,x,m),nc();var ne=l.memoizedState;b!==ue||te!==ne||Na||o!==null&&o.dependencies!==null&&uh(o.dependencies)?(typeof N=="function"&&(np(l,f,N,d),ne=l.memoizedState),(ae=Na||P2(l,f,ae,d,te,ne,G)||o!==null&&o.dependencies!==null&&uh(o.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ne,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ne,G)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ne),x.props=d,x.state=ne,x.context=G,d=ae):(typeof x.componentDidUpdate!="function"||b===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),d=!1)}return x=d,Ih(o,l),d=(l.flags&128)!==0,x||d?(x=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,o!==null&&d?(l.child=ml(l,o.child,null,m),l.child=ml(l,null,f,m)):Dn(o,l,f,m),l.memoizedState=x.state,o=l.child):o=ra(o,l,m),o}function Y2(o,l,f,d){return Ku(),l.flags|=256,Dn(o,l,f,d),l.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(o){return{baseLanes:o,cachePool:k_()}}function lp(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Vr),o}function $2(o,l,f){var d=l.pendingProps,m=!1,x=(l.flags&128)!==0,b;if((b=x)||(b=o!==null&&o.memoizedState===null?!1:(on.current&2)!==0),b&&(m=!0,l.flags&=-129),b=(l.flags&32)!==0,l.flags&=-33,o===null){if(ht){if(m?ka(l):Ba(),ht){var N=zt,G;if(G=N){e:{for(G=N,N=xi;G.nodeType!==8;){if(!N){N=null;break e}if(G=$r(G.nextSibling),G===null){N=null;break e}}N=G}N!==null?(l.memoizedState={dehydrated:N,treeContext:ns!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},G=mr(18,null,null,0),G.stateNode=N,G.return=l,l.child=G,Jn=l,zt=null,G=!0):G=!1}G||as(l)}if(N=l.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return qp(N)?l.lanes=32:l.lanes=536870912,null;na(l)}return N=d.children,d=d.fallback,m?(Ba(),m=l.mode,N=Rh({mode:"hidden",children:N},m),d=ts(d,m,f,null),N.return=l,d.return=l,N.sibling=d,l.child=N,m=l.child,m.memoizedState=sp(f),m.childLanes=lp(o,b,f),l.memoizedState=op,d):(ka(l),up(l,N))}if(G=o.memoizedState,G!==null&&(N=G.dehydrated,N!==null)){if(x)l.flags&256?(ka(l),l.flags&=-257,l=cp(o,l,f)):l.memoizedState!==null?(Ba(),l.child=o.child,l.flags|=128,l=null):(Ba(),m=d.fallback,N=l.mode,d=Rh({mode:"visible",children:d.children},N),m=ts(m,N,f,null),m.flags|=2,d.return=l,m.return=l,d.sibling=m,l.child=d,ml(l,o.child,null,f),d=l.child,d.memoizedState=sp(f),d.childLanes=lp(o,b,f),l.memoizedState=op,l=m);else if(ka(l),qp(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var Z=b.dgst;b=Z,d=Error(r(419)),d.stack="",d.digest=b,Yu({value:d,source:null,stack:null}),l=cp(o,l,f)}else if(En||$u(o,l,f,!1),b=(f&o.childLanes)!==0,En||b){if(b=Ot,b!==null&&(d=f&-f,d=(d&42)!==0?1:Ca(d),d=(d&(b.suspendedLanes|f))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,ol(o,d),wr(b,o,d),j2;N.data==="$?"||Ip(),l=cp(o,l,f)}else N.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=G.treeContext,zt=$r(N.nextSibling),Jn=l,ht=!0,is=null,xi=!1,o!==null&&(Lr[kr++]=Qi,Lr[kr++]=Zi,Lr[kr++]=ns,Qi=o.id,Zi=o.overflow,ns=l),l=up(l,d.children),l.flags|=4096);return l}return m?(Ba(),m=d.fallback,N=l.mode,G=o.child,Z=G.sibling,d=$i(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,Z!==null?m=$i(Z,m):(m=ts(m,N,f,null),m.flags|=2),m.return=l,d.return=l,d.sibling=m,l.child=d,d=m,m=l.child,N=o.child.memoizedState,N===null?N=sp(f):(G=N.cachePool,G!==null?(Z=an._currentValue,G=G.parent!==Z?{parent:Z,pool:Z}:G):G=k_(),N={baseLanes:N.baseLanes|f,cachePool:G}),m.memoizedState=N,m.childLanes=lp(o,b,f),l.memoizedState=op,d):(ka(l),f=o.child,o=f.sibling,f=$i(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(b=l.deletions,b===null?(l.deletions=[o],l.flags|=16):b.push(o)),l.child=f,l.memoizedState=null,f)}function up(o,l){return l=Rh({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Rh(o,l){return o=mr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function cp(o,l,f){return ml(l,o.child,null,f),o=up(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Q2(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),I1(o.return,l,f)}function fp(o,l,f,d,m){var x=o.memoizedState;x===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:m}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=f,x.tailMode=m)}function Z2(o,l,f){var d=l.pendingProps,m=d.revealOrder,x=d.tail;if(Dn(o,l,d.children,f),d=on.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Q2(o,f,l);else if(o.tag===19)Q2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(ce(on,d),m){case"forwards":for(f=l.child,m=null;f!==null;)o=f.alternate,o!==null&&Th(o)===null&&(m=f),f=f.sibling;f=m,f===null?(m=l.child,l.child=null):(m=f.sibling,f.sibling=null),fp(l,!1,m,f,x);break;case"backwards":for(f=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&Th(o)===null){l.child=m;break}o=m.sibling,m.sibling=f,f=m,m=o}fp(l,!0,f,null,x);break;case"together":fp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ra(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),za|=l.lanes,(f&l.childLanes)===0)if(o!==null){if($u(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=$i(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=$i(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function hp(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&uh(o)))}function aR(o,l,f){switch(l.tag){case 3:Re(l,l.stateNode.containerInfo),Da(l,an,o.memoizedState.cache),Ku();break;case 27:case 5:Ge(l);break;case 4:Re(l,l.stateNode.containerInfo);break;case 10:Da(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(ka(l),l.flags|=128,null):(f&l.child.childLanes)!==0?$2(o,l,f):(ka(l),o=ra(o,l,f),o!==null?o.sibling:null);ka(l);break;case 19:var m=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||($u(o,l,f,!1),d=(f&l.childLanes)!==0),m){if(d)return Z2(o,l,f);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(on,on.current),d)break;return null;case 22:case 23:return l.lanes=0,q2(o,l,f);case 24:Da(l,an,o.memoizedState.cache)}return ra(o,l,f)}function J2(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)En=!0;else{if(!hp(o,f)&&(l.flags&128)===0)return En=!1,aR(o,l,f);En=(o.flags&131072)!==0}else En=!1,ht&&(l.flags&1048576)!==0&&R_(l,lh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,m=d._init;if(d=m(d._payload),l.type=d,typeof d=="function")E1(d)?(o=cs(d,o),l.tag=1,l=K2(null,l,d,o,f)):(l.tag=0,l=ap(null,l,d,o,f));else{if(d!=null){if(m=d.$$typeof,m===B){l.tag=11,l=z2(null,l,d,o,f);break e}else if(m===O){l.tag=14,l=H2(null,l,d,o,f);break e}}throw l=ye(d)||d,Error(r(306,l,""))}}return l;case 0:return ap(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,m=cs(d,l.pendingProps),K2(o,l,d,m,f);case 3:e:{if(Re(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var x=l.memoizedState;m=x.element,L1(o,l),rc(l,d,null,f);var b=l.memoizedState;if(d=b.cache,Da(l,an,d),d!==x.cache&&R1(l,[an],f,!0),nc(),d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=Y2(o,l,d,f);break e}else if(d!==m){m=Pr(Error(r(424)),l),Yu(m),l=Y2(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(zt=$r(o.firstChild),Jn=l,ht=!0,is=null,xi=!0,f=D2(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ku(),d===m){l=ra(o,l,f);break e}Dn(o,l,d,f)}l=l.child}return l;case 26:return Ih(o,l),o===null?(f=rE(l.type,null,l.pendingProps,null))?l.memoizedState=f:ht||(f=l.type,o=l.pendingProps,d=Hh(Se.current).createElement(f),d[tn]=l,d[Yt]=o,Pn(d,f,o),qt(d),l.stateNode=d):l.memoizedState=rE(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ge(l),o===null&&ht&&(d=l.stateNode=eE(l.type,l.pendingProps,Se.current),Jn=l,xi=!0,m=zt,Xa(l.type)?(Xp=m,zt=$r(d.firstChild)):zt=m),Dn(o,l,l.pendingProps.children,f),Ih(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&ht&&((m=d=zt)&&(d=PR(d,l.type,l.pendingProps,xi),d!==null?(l.stateNode=d,Jn=l,zt=$r(d.firstChild),xi=!1,m=!0):m=!1),m||as(l)),Ge(l),m=l.type,x=l.pendingProps,b=o!==null?o.memoizedProps:null,d=x.children,zp(m,x)?d=null:b!==null&&zp(m,b)&&(l.flags|=32),l.memoizedState!==null&&(m=j1(o,l,Q4,null,null,f),Tc._currentValue=m),Ih(o,l),Dn(o,l,d,f),l.child;case 6:return o===null&&ht&&((o=f=zt)&&(f=MR(f,l.pendingProps,xi),f!==null?(l.stateNode=f,Jn=l,zt=null,o=!0):o=!1),o||as(l)),null;case 13:return $2(o,l,f);case 4:return Re(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=ml(l,null,d,f):Dn(o,l,d,f),l.child;case 11:return z2(o,l,l.type,l.pendingProps,f);case 7:return Dn(o,l,l.pendingProps,f),l.child;case 8:return Dn(o,l,l.pendingProps.children,f),l.child;case 12:return Dn(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Da(l,l.type,d.value),Dn(o,l,d.children,f),l.child;case 9:return m=l.type._context,d=l.pendingProps.children,ss(l),m=jn(m),d=d(m),l.flags|=1,Dn(o,l,d,f),l.child;case 14:return H2(o,l,l.type,l.pendingProps,f);case 15:return G2(o,l,l.type,l.pendingProps,f);case 19:return Z2(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=Rh(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=$i(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return q2(o,l,f);case 24:return ss(l),d=jn(an),o===null?(m=N1(),m===null&&(m=Ot,x=O1(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=f),m=x),l.memoizedState={parent:d,cache:m},M1(l),Da(l,an,m)):((o.lanes&f)!==0&&(L1(o,l),rc(l,null,null,f),nc()),m=o.memoizedState,x=l.memoizedState,m.parent!==d?(m={parent:d,cache:d},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Da(l,an,d)):(d=x.cache,Da(l,an,d),d!==m.cache&&R1(l,[an],f,!0))),Dn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ia(o){o.flags|=4}function ex(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!lE(l)){if(l=Br.current,l!==null&&((it&4194048)===it?Ei!==null:(it&62914560)!==it&&(it&536870912)===0||l!==Ei))throw ec=P1,B_;o.flags|=8192}}function Oh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Su():536870912,o.lanes|=l,El|=l)}function cc(o,l){if(!ht)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Ft(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)f|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function oR(o,l,f){var d=l.pendingProps;switch(T1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Ft(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ea(an),ut(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Wu(l)?ia(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,N_())),Ft(l),null;case 26:return f=l.memoizedState,o===null?(ia(l),f!==null?(Ft(l),ex(l,f)):(Ft(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ia(l),Ft(l),ex(l,f)):(Ft(l),l.flags&=-16777217):(o.memoizedProps!==d&&ia(l),Ft(l),l.flags&=-16777217),null;case 27:je(l),f=Se.current;var m=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}o=me.current,Wu(l)?O_(l):(o=eE(m,d,f),l.stateNode=o,ia(l))}return Ft(l),null;case 5:if(je(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return Ft(l),null}if(o=me.current,Wu(l))O_(l);else{switch(m=Hh(Se.current),o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?m.createElement(f,{is:d.is}):m.createElement(f)}}o[tn]=l,o[Yt]=d;e:for(m=l.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break e;for(;m.sibling===null;){if(m.return===null||m.return===l)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l.stateNode=o;e:switch(Pn(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ia(l)}}return Ft(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&ia(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=Se.current,Wu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,m=Jn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}o[tn]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||Wx(o.nodeValue,f)),o||as(l)}else o=Hh(o).createTextNode(d),o[tn]=l,l.stateNode=o}return Ft(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(m=Wu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!m)throw Error(r(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[tn]=l}else Ku(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),m=!1}else m=N_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(na(l),l):(na(l),null)}if(na(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Oh(l,l.updateQueue),Ft(l),null;case 4:return ut(),o===null&&Bp(l.stateNode.containerInfo),Ft(l),null;case 10:return ea(l.type),Ft(l),null;case 19:if(de(on),m=l.memoizedState,m===null)return Ft(l),null;if(d=(l.flags&128)!==0,x=m.rendering,x===null)if(d)cc(m,!1);else{if(Ht!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(x=Th(o),x!==null){for(l.flags|=128,cc(m,!1),o=x.updateQueue,l.updateQueue=o,Oh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)I_(f,o),f=f.sibling;return ce(on,on.current&1|2),l.child}o=o.sibling}m.tail!==null&&yn()>Ph&&(l.flags|=128,d=!0,cc(m,!1),l.lanes=4194304)}else{if(!d)if(o=Th(x),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Oh(l,o),cc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ht)return Ft(l),null}else 2*yn()-m.renderingStartTime>Ph&&f!==536870912&&(l.flags|=128,d=!0,cc(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(o=m.last,o!==null?o.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=yn(),l.sibling=null,o=on.current,ce(on,d?o&1|2:o&1),l):(Ft(l),null);case 22:case 23:return na(l),F1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),f=l.updateQueue,f!==null&&Oh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&de(ls),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ea(an),Ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function sR(o,l){switch(T1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ea(an),ut(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 13:if(na(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ku()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return de(on),null;case 4:return ut(),null;case 10:return ea(l.type),null;case 22:case 23:return na(l),F1(),o!==null&&de(ls),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ea(an),null;case 25:return null;default:return null}}function tx(o,l){switch(T1(l),l.tag){case 3:ea(an),ut();break;case 26:case 27:case 5:je(l);break;case 4:ut();break;case 13:na(l);break;case 19:de(on);break;case 10:ea(l.type);break;case 22:case 23:na(l),F1(),o!==null&&de(ls);break;case 24:ea(an)}}function fc(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var m=d.next;f=m;do{if((f.tag&o)===o){d=void 0;var x=f.create,b=f.inst;d=x(),b.destroy=d}f=f.next}while(f!==m)}}catch(N){Rt(l,l.return,N)}}function Va(o,l,f){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&o)===o){var b=d.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,m=l;var G=f,Z=N;try{Z()}catch(ae){Rt(m,G,ae)}}}d=d.next}while(d!==x)}}catch(ae){Rt(l,l.return,ae)}}function nx(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{H_(l,f)}catch(d){Rt(o,o.return,d)}}}function rx(o,l,f){f.props=cs(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Rt(o,l,d)}}function hc(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(m){Rt(o,l,m)}}function wi(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(m){Rt(o,l,m)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(m){Rt(o,l,m)}else f.current=null}function ix(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(m){Rt(o,o.return,m)}}function dp(o,l,f){try{var d=o.stateNode;IR(d,o.type,f,l),d[Yt]=l}catch(m){Rt(o,o.return,m)}}function ax(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Xa(o.type)||o.tag===4}function pp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ax(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gp(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=zh));else if(d!==4&&(d===27&&Xa(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(gp(o,l,f),o=o.sibling;o!==null;)gp(o,l,f),o=o.sibling}function Dh(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&Xa(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Dh(o,l,f),o=o.sibling;o!==null;)Dh(o,l,f),o=o.sibling}function ox(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);Pn(l,d,f),l[tn]=o,l[Yt]=f}catch(x){Rt(o,o.return,x)}}var aa=!1,Wt=!1,vp=!1,sx=typeof WeakSet=="function"?WeakSet:Set,wn=null;function lR(o,l){if(o=o.containerInfo,Up=Yh,o=y_(o),p1(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{f.nodeType,x.nodeType}catch{f=null;break e}var b=0,N=-1,G=-1,Z=0,ae=0,ue=o,te=null;t:for(;;){for(var ne;ue!==f||m!==0&&ue.nodeType!==3||(N=b+m),ue!==x||d!==0&&ue.nodeType!==3||(G=b+d),ue.nodeType===3&&(b+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)te=ue,ue=ne;for(;;){if(ue===o)break t;if(te===f&&++Z===m&&(N=b),te===x&&++ae===d&&(G=b),(ne=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ne}f=N===-1||G===-1?null:{start:N,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(jp={focusedElem:o,selectionRange:f},Yh=!1,wn=l;wn!==null;)if(l=wn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,wn=o;else for(;wn!==null;){switch(l=wn,x=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&x!==null){o=void 0,f=l,m=x.memoizedProps,x=x.memoizedState,d=f.stateNode;try{var Ve=cs(f.type,m,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Ve,x),d.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){Rt(f,f.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Gp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Gp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,wn=o;break}wn=l.return}}function lx(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:Fa(o,f),d&4&&fc(5,f);break;case 1:if(Fa(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(b){Rt(f,f.return,b)}else{var m=cs(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(m,l,o.__reactInternalSnapshotBeforeUpdate)}catch(b){Rt(f,f.return,b)}}d&64&&nx(f),d&512&&hc(f,f.return);break;case 3:if(Fa(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{H_(o,l)}catch(b){Rt(f,f.return,b)}}break;case 27:l===null&&d&4&&ox(f);case 26:case 5:Fa(o,f),l===null&&d&4&&ix(f),d&512&&hc(f,f.return);break;case 12:Fa(o,f);break;case 13:Fa(o,f),d&4&&fx(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=mR.bind(null,f),LR(o,f))));break;case 22:if(d=f.memoizedState!==null||aa,!d){l=l!==null&&l.memoizedState!==null||Wt,m=aa;var x=Wt;aa=d,(Wt=l)&&!x?Ua(o,f,(f.subtreeFlags&8772)!==0):Fa(o,f),aa=m,Wt=x}break;case 30:break;default:Fa(o,f)}}function ux(o){var l=o.alternate;l!==null&&(o.alternate=null,ux(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Sa(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Lt=null,or=!1;function oa(o,l,f){for(f=f.child;f!==null;)cx(o,l,f),f=f.sibling}function cx(o,l,f){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(jt,f)}catch{}switch(f.tag){case 26:Wt||wi(f,l),oa(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Wt||wi(f,l);var d=Lt,m=or;Xa(f.type)&&(Lt=f.stateNode,or=!1),oa(o,l,f),Ec(f.stateNode),Lt=d,or=m;break;case 5:Wt||wi(f,l);case 6:if(d=Lt,m=or,Lt=null,oa(o,l,f),Lt=d,or=m,Lt!==null)if(or)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(f.stateNode)}catch(x){Rt(f,l,x)}else try{Lt.removeChild(f.stateNode)}catch(x){Rt(f,l,x)}break;case 18:Lt!==null&&(or?(o=Lt,Zx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Rc(o)):Zx(Lt,f.stateNode));break;case 4:d=Lt,m=or,Lt=f.stateNode.containerInfo,or=!0,oa(o,l,f),Lt=d,or=m;break;case 0:case 11:case 14:case 15:Wt||Va(2,f,l),Wt||Va(4,f,l),oa(o,l,f);break;case 1:Wt||(wi(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&rx(f,l,d)),oa(o,l,f);break;case 21:oa(o,l,f);break;case 22:Wt=(d=Wt)||f.memoizedState!==null,oa(o,l,f),Wt=d;break;default:oa(o,l,f)}}function fx(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Rc(o)}catch(f){Rt(l,l.return,f)}}function uR(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new sx),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new sx),l;default:throw Error(r(435,o.tag))}}function mp(o,l){var f=uR(o);l.forEach(function(d){var m=yR.bind(null,o,d);f.has(d)||(f.add(d),d.then(m,m))})}function yr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var m=f[d],x=o,b=l,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(Xa(N.type)){Lt=N.stateNode,or=!1;break e}break;case 5:Lt=N.stateNode,or=!1;break e;case 3:case 4:Lt=N.stateNode.containerInfo,or=!0;break e}N=N.return}if(Lt===null)throw Error(r(160));cx(x,b,m),Lt=null,or=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)hx(l,o),l=l.sibling}var Yr=null;function hx(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:yr(l,o),_r(o),d&4&&(Va(3,o,o.return),fc(3,o),Va(5,o,o.return));break;case 1:yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),d&64&&aa&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var m=Yr;if(yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),d&4){var x=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Fo]||x[tn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(d),m.head.insertBefore(x,m.querySelector("head > title"))),Pn(x,d,f),x[tn]=o,qt(x),d=x;break e;case"link":var b=oE("link","href",m).get(d+(f.href||""));if(b){for(var N=0;N<b.length;N++)if(x=b[N],x.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&x.getAttribute("rel")===(f.rel==null?null:f.rel)&&x.getAttribute("title")===(f.title==null?null:f.title)&&x.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){b.splice(N,1);break t}}x=m.createElement(d),Pn(x,d,f),m.head.appendChild(x);break;case"meta":if(b=oE("meta","content",m).get(d+(f.content||""))){for(N=0;N<b.length;N++)if(x=b[N],x.getAttribute("content")===(f.content==null?null:""+f.content)&&x.getAttribute("name")===(f.name==null?null:f.name)&&x.getAttribute("property")===(f.property==null?null:f.property)&&x.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&x.getAttribute("charset")===(f.charSet==null?null:f.charSet)){b.splice(N,1);break t}}x=m.createElement(d),Pn(x,d,f),m.head.appendChild(x);break;default:throw Error(r(468,d))}x[tn]=o,qt(x),d=x}o.stateNode=d}else sE(m,o.type,o.stateNode);else o.stateNode=aE(m,d,o.memoizedProps);else x!==d?(x===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):x.count--,d===null?sE(m,o.type,o.stateNode):aE(m,d,o.memoizedProps)):d===null&&o.stateNode!==null&&dp(o,o.memoizedProps,f.memoizedProps)}break;case 27:yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),f!==null&&d&4&&dp(o,o.memoizedProps,f.memoizedProps);break;case 5:if(yr(l,o),_r(o),d&512&&(Wt||f===null||wi(f,f.return)),o.flags&32){m=o.stateNode;try{Rr(m,"")}catch(ne){Rt(o,o.return,ne)}}d&4&&o.stateNode!=null&&(m=o.memoizedProps,dp(o,m,f!==null?f.memoizedProps:m)),d&1024&&(vp=!0);break;case 6:if(yr(l,o),_r(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(ne){Rt(o,o.return,ne)}}break;case 3:if(Xh=null,m=Yr,Yr=Gh(l.containerInfo),yr(l,o),Yr=m,_r(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{Rc(l.containerInfo)}catch(ne){Rt(o,o.return,ne)}vp&&(vp=!1,dx(o));break;case 4:d=Yr,Yr=Gh(o.stateNode.containerInfo),yr(l,o),_r(o),Yr=d;break;case 12:yr(l,o),_r(o);break;case 13:yr(l,o),_r(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Ap=yn()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,mp(o,d)));break;case 22:m=o.memoizedState!==null;var G=f!==null&&f.memoizedState!==null,Z=aa,ae=Wt;if(aa=Z||m,Wt=ae||G,yr(l,o),Wt=ae,aa=Z,_r(o),d&8192)e:for(l=o.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(f===null||G||aa||Wt||fs(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){G=f=l;try{if(x=G.stateNode,m)b=x.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=G.stateNode;var ue=G.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Rt(G,G.return,ne)}}}else if(l.tag===6){if(f===null){G=l;try{G.stateNode.nodeValue=m?"":G.memoizedProps}catch(ne){Rt(G,G.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,mp(o,f))));break;case 19:yr(l,o),_r(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,mp(o,d)));break;case 30:break;case 21:break;default:yr(l,o),_r(o)}}function _r(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(ax(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var m=f.stateNode,x=pp(o);Dh(o,x,m);break;case 5:var b=f.stateNode;f.flags&32&&(Rr(b,""),f.flags&=-33);var N=pp(o);Dh(o,N,b);break;case 3:case 4:var G=f.stateNode.containerInfo,Z=pp(o);gp(o,Z,G);break;default:throw Error(r(161))}}catch(ae){Rt(o,o.return,ae)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function dx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;dx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Fa(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)lx(o,l.alternate,l),l=l.sibling}function fs(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Va(4,l,l.return),fs(l);break;case 1:wi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&rx(l,l.return,f),fs(l);break;case 27:Ec(l.stateNode);case 26:case 5:wi(l,l.return),fs(l);break;case 22:l.memoizedState===null&&fs(l);break;case 30:fs(l);break;default:fs(l)}o=o.sibling}}function Ua(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,m=o,x=l,b=x.flags;switch(x.tag){case 0:case 11:case 15:Ua(m,x,f),fc(4,x);break;case 1:if(Ua(m,x,f),d=x,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){Rt(d,d.return,Z)}if(d=x,m=d.updateQueue,m!==null){var N=d.stateNode;try{var G=m.shared.hiddenCallbacks;if(G!==null)for(m.shared.hiddenCallbacks=null,m=0;m<G.length;m++)z_(G[m],N)}catch(Z){Rt(d,d.return,Z)}}f&&b&64&&nx(x),hc(x,x.return);break;case 27:ox(x);case 26:case 5:Ua(m,x,f),f&&d===null&&b&4&&ix(x),hc(x,x.return);break;case 12:Ua(m,x,f);break;case 13:Ua(m,x,f),f&&b&4&&fx(m,x);break;case 22:x.memoizedState===null&&Ua(m,x,f),hc(x,x.return);break;case 30:break;default:Ua(m,x,f)}l=l.sibling}}function yp(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Qu(f))}function _p(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Qu(o))}function Ai(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)px(o,l,f,d),l=l.sibling}function px(o,l,f,d){var m=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(o,l,f,d),m&2048&&fc(9,l);break;case 1:Ai(o,l,f,d);break;case 3:Ai(o,l,f,d),m&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Qu(o)));break;case 12:if(m&2048){Ai(o,l,f,d),o=l.stateNode;try{var x=l.memoizedProps,b=x.id,N=x.onPostCommit;typeof N=="function"&&N(b,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){Rt(l,l.return,G)}}else Ai(o,l,f,d);break;case 13:Ai(o,l,f,d);break;case 23:break;case 22:x=l.stateNode,b=l.alternate,l.memoizedState!==null?x._visibility&2?Ai(o,l,f,d):dc(o,l):x._visibility&2?Ai(o,l,f,d):(x._visibility|=2,yl(o,l,f,d,(l.subtreeFlags&10256)!==0)),m&2048&&yp(b,l);break;case 24:Ai(o,l,f,d),m&2048&&_p(l.alternate,l);break;default:Ai(o,l,f,d)}}function yl(o,l,f,d,m){for(m=m&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var x=o,b=l,N=f,G=d,Z=b.flags;switch(b.tag){case 0:case 11:case 15:yl(x,b,N,G,m),fc(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?yl(x,b,N,G,m):dc(x,b):(ae._visibility|=2,yl(x,b,N,G,m)),m&&Z&2048&&yp(b.alternate,b);break;case 24:yl(x,b,N,G,m),m&&Z&2048&&_p(b.alternate,b);break;default:yl(x,b,N,G,m)}l=l.sibling}}function dc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,m=d.flags;switch(d.tag){case 22:dc(f,d),m&2048&&yp(d.alternate,d);break;case 24:dc(f,d),m&2048&&_p(d.alternate,d);break;default:dc(f,d)}l=l.sibling}}var pc=8192;function _l(o){if(o.subtreeFlags&pc)for(o=o.child;o!==null;)gx(o),o=o.sibling}function gx(o){switch(o.tag){case 26:_l(o),o.flags&pc&&o.memoizedState!==null&&KR(Yr,o.memoizedState,o.memoizedProps);break;case 5:_l(o);break;case 3:case 4:var l=Yr;Yr=Gh(o.stateNode.containerInfo),_l(o),Yr=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=pc,pc=16777216,_l(o),pc=l):_l(o));break;default:_l(o)}}function vx(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function gc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,yx(d,o)}vx(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mx(o),o=o.sibling}function mx(o){switch(o.tag){case 0:case 11:case 15:gc(o),o.flags&2048&&Va(9,o,o.return);break;case 3:gc(o);break;case 12:gc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Nh(o)):gc(o);break;default:gc(o)}}function Nh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];wn=d,yx(d,o)}vx(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Va(8,l,l.return),Nh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Nh(l));break;default:Nh(l)}o=o.sibling}}function yx(o,l){for(;wn!==null;){var f=wn;switch(f.tag){case 0:case 11:case 15:Va(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Qu(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,wn=d;else e:for(f=o;wn!==null;){d=wn;var m=d.sibling,x=d.return;if(ux(d),d===f){wn=null;break e}if(m!==null){m.return=x,wn=m;break e}wn=x}}}var cR={getCacheForType:function(o){var l=jn(an),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},fR=typeof WeakMap=="function"?WeakMap:Map,_t=0,Ot=null,Ze=null,it=0,xt=0,xr=null,ja=!1,xl=!1,xp=!1,sa=0,Ht=0,za=0,hs=0,Ep=0,Vr=0,El=0,vc=null,sr=null,wp=!1,Ap=0,Ph=1/0,Mh=null,Ha=null,Nn=0,Ga=null,wl=null,Al=0,Cp=0,Tp=null,_x=null,mc=0,bp=null;function Er(){if((_t&2)!==0&&it!==0)return it&-it;if(K.T!==null){var o=cl;return o!==0?o:Pp()}return Ta()}function xx(){Vr===0&&(Vr=(it&536870912)===0||ht?bu():536870912);var o=Br.current;return o!==null&&(o.flags|=32),Vr}function wr(o,l,f){(o===Ot&&(xt===2||xt===9)||o.cancelPendingCommit!==null)&&(Cl(o,0),qa(o,it,Vr,!1)),Fi(o,f),((_t&2)===0||o!==Ot)&&(o===Ot&&((_t&2)===0&&(hs|=f),Ht===4&&qa(o,it,Vr,!1)),Ci(o))}function Ex(o,l,f){if((_t&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Vo(o,l),m=d?pR(o,l):Rp(o,l,!0),x=d;do{if(m===0){xl&&!d&&qa(o,l,0,!1);break}else{if(f=o.current.alternate,x&&!hR(f)){m=Rp(o,l,!1),x=!1;continue}if(m===2){if(x=l,o.errorRecoveryDisabledLanes&x)var b=0;else b=o.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){l=b;e:{var N=o;m=vc;var G=N.current.memoizedState.isDehydrated;if(G&&(Cl(N,b).flags|=256),b=Rp(N,b,!1),b!==2){if(xp&&!G){N.errorRecoveryDisabledLanes|=x,hs|=x,m=4;break e}x=sr,sr=m,x!==null&&(sr===null?sr=x:sr.push.apply(sr,x))}m=b}if(x=!1,m!==2)continue}}if(m===1){Cl(o,0),qa(o,l,0,!0);break}e:{switch(d=o,x=m,x){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:qa(d,l,Vr,!ja);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(m=Ap+300-yn(),10<m)){if(qa(d,l,Vr,!ja),js(d,0,!0)!==0)break e;d.timeoutHandle=$x(wx.bind(null,d,f,sr,Mh,wp,l,Vr,hs,El,ja,x,2,-0,0),m);break e}wx(d,f,sr,Mh,wp,l,Vr,hs,El,ja,x,0,-0,0)}}break}while(!0);Ci(o)}function wx(o,l,f,d,m,x,b,N,G,Z,ae,ue,te,ne){if(o.timeoutHandle=-1,ue=l.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Cc={stylesheets:null,count:0,unsuspend:WR},gx(l),ue=YR(),ue!==null)){o.cancelPendingCommit=ue(Rx.bind(null,o,l,x,f,d,m,b,N,G,ae,1,te,ne)),qa(o,x,b,!Z);return}Rx(o,l,x,f,d,m,b,N,G)}function hR(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var m=f[d],x=m.getSnapshot;m=m.value;try{if(!vr(x(),m))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function qa(o,l,f,d){l&=~Ep,l&=~hs,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var m=l;0<m;){var x=31-Un(m),b=1<<x;d[x]=-1,m&=~b}f!==0&&ui(o,f,l)}function Lh(){return(_t&6)===0?(yc(0),!1):!0}function Sp(){if(Ze!==null){if(xt===0)var o=Ze.return;else o=Ze,Ji=os=null,G1(o),vl=null,lc=0,o=Ze;for(;o!==null;)tx(o.alternate,o),o=o.return;Ze=null}}function Cl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,OR(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Sp(),Ot=o,Ze=f=$i(o.current,null),it=l,xt=0,xr=null,ja=!1,xl=Vo(o,l),xp=!1,El=Vr=Ep=hs=za=Ht=0,sr=vc=null,wp=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var m=31-Un(d),x=1<<m;l|=o[m],d&=~x}return sa=l,rh(),f}function Ax(o,l){Xe=null,K.H=wh,l===Ju||l===hh?(l=U_(),xt=3):l===B_?(l=U_(),xt=4):xt=l===j2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xr=l,Ze===null&&(Ht=1,Sh(o,Pr(l,o.current)))}function Cx(){var o=K.H;return K.H=wh,o===null?wh:o}function Tx(){var o=K.A;return K.A=cR,o}function Ip(){Ht=4,ja||(it&4194048)!==it&&Br.current!==null||(xl=!0),(za&134217727)===0&&(hs&134217727)===0||Ot===null||qa(Ot,it,Vr,!1)}function Rp(o,l,f){var d=_t;_t|=2;var m=Cx(),x=Tx();(Ot!==o||it!==l)&&(Mh=null,Cl(o,l)),l=!1;var b=Ht;e:do try{if(xt!==0&&Ze!==null){var N=Ze,G=xr;switch(xt){case 8:Sp(),b=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(l=!0);var Z=xt;if(xt=0,xr=null,Tl(o,N,G,Z),f&&xl){b=0;break e}break;default:Z=xt,xt=0,xr=null,Tl(o,N,G,Z)}}dR(),b=Ht;break}catch(ae){Ax(o,ae)}while(!0);return l&&o.shellSuspendCounter++,Ji=os=null,_t=d,K.H=m,K.A=x,Ze===null&&(Ot=null,it=0,rh()),b}function dR(){for(;Ze!==null;)bx(Ze)}function pR(o,l){var f=_t;_t|=2;var d=Cx(),m=Tx();Ot!==o||it!==l?(Mh=null,Ph=yn()+500,Cl(o,l)):xl=Vo(o,l);e:do try{if(xt!==0&&Ze!==null){l=Ze;var x=xr;t:switch(xt){case 1:xt=0,xr=null,Tl(o,l,x,1);break;case 2:case 9:if(V_(x)){xt=0,xr=null,Sx(l);break}l=function(){xt!==2&&xt!==9||Ot!==o||(xt=7),Ci(o)},x.then(l,l);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:V_(x)?(xt=0,xr=null,Sx(l)):(xt=0,xr=null,Tl(o,l,x,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var N=Ze;if(!b||lE(b)){xt=0,xr=null;var G=N.sibling;if(G!==null)Ze=G;else{var Z=N.return;Z!==null?(Ze=Z,kh(Z)):Ze=null}break t}}xt=0,xr=null,Tl(o,l,x,5);break;case 6:xt=0,xr=null,Tl(o,l,x,6);break;case 8:Sp(),Ht=6;break e;default:throw Error(r(462))}}gR();break}catch(ae){Ax(o,ae)}while(!0);return Ji=os=null,K.H=d,K.A=m,_t=f,Ze!==null?0:(Ot=null,it=0,rh(),Ht)}function gR(){for(;Ze!==null&&!Gr();)bx(Ze)}function bx(o){var l=J2(o.alternate,o,sa);o.memoizedProps=o.pendingProps,l===null?kh(o):Ze=l}function Sx(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=W2(f,l,l.pendingProps,l.type,void 0,it);break;case 11:l=W2(f,l,l.pendingProps,l.type.render,l.ref,it);break;case 5:G1(l);default:tx(f,l),l=Ze=I_(l,sa),l=J2(f,l,sa)}o.memoizedProps=o.pendingProps,l===null?kh(o):Ze=l}function Tl(o,l,f,d){Ji=os=null,G1(l),vl=null,lc=0;var m=l.return;try{if(iR(o,m,l,f,it)){Ht=1,Sh(o,Pr(f,o.current)),Ze=null;return}}catch(x){if(m!==null)throw Ze=m,x;Ht=1,Sh(o,Pr(f,o.current)),Ze=null;return}l.flags&32768?(ht||d===1?o=!0:xl||(it&536870912)!==0?o=!1:(ja=o=!0,(d===2||d===9||d===3||d===6)&&(d=Br.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ix(l,o)):kh(l)}function kh(o){var l=o;do{if((l.flags&32768)!==0){Ix(l,ja);return}o=l.return;var f=oR(l.alternate,l,sa);if(f!==null){Ze=f;return}if(l=l.sibling,l!==null){Ze=l;return}Ze=l=o}while(l!==null);Ht===0&&(Ht=5)}function Ix(o,l){do{var f=sR(o.alternate,o);if(f!==null){f.flags&=32767,Ze=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Ze=o;return}Ze=o=f}while(o!==null);Ht=6,Ze=null}function Rx(o,l,f,d,m,x,b,N,G){o.cancelPendingCommit=null;do Bh();while(Nn!==0);if((_t&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(x=l.lanes|l.childLanes,x|=_1,Iu(o,f,x,b,N,G),o===Ot&&(Ze=Ot=null,it=0),wl=l,Ga=o,Al=f,Cp=x,Tp=m,_x=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,_R(Mo,function(){return Mx(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,m=oe.p,oe.p=2,b=_t,_t|=4;try{lR(o,l,f)}finally{_t=b,oe.p=m,K.T=d}}Nn=1,Ox(),Dx(),Nx()}}function Ox(){if(Nn===1){Nn=0;var o=Ga,l=wl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=K.T,K.T=null;var d=oe.p;oe.p=2;var m=_t;_t|=4;try{hx(l,o);var x=jp,b=y_(o.containerInfo),N=x.focusedElem,G=x.selectionRange;if(b!==N&&N&&N.ownerDocument&&m_(N.ownerDocument.documentElement,N)){if(G!==null&&p1(N)){var Z=G.start,ae=G.end;if(ae===void 0&&(ae=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ae,N.value.length);else{var ue=N.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ve=N.textContent.length,Pe=Math.min(G.start,Ve),St=G.end===void 0?Pe:Math.min(G.end,Ve);!ne.extend&&Pe>St&&(b=St,St=Pe,Pe=b);var Y=v_(N,Pe),W=v_(N,St);if(Y&&W&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var Q=ue.createRange();Q.setStart(Y.node,Y.offset),ne.removeAllRanges(),Pe>St?(ne.addRange(Q),ne.extend(W.node,W.offset)):(Q.setEnd(W.node,W.offset),ne.addRange(Q))}}}}for(ue=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ue.length;N++){var le=ue[N];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Yh=!!Up,jp=Up=null}finally{_t=m,oe.p=d,K.T=f}}o.current=l,Nn=2}}function Dx(){if(Nn===2){Nn=0;var o=Ga,l=wl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=K.T,K.T=null;var d=oe.p;oe.p=2;var m=_t;_t|=4;try{lx(o,l.alternate,l)}finally{_t=m,oe.p=d,K.T=f}}Nn=3}}function Nx(){if(Nn===4||Nn===3){Nn=0,si();var o=Ga,l=wl,f=Al,d=_x;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Nn=5:(Nn=0,wl=Ga=null,Px(o,o.pendingLanes));var m=o.pendingLanes;if(m===0&&(Ha=null),zs(f),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(jt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=K.T,m=oe.p,oe.p=2,K.T=null;try{for(var x=o.onRecoverableError,b=0;b<d.length;b++){var N=d[b];x(N.value,{componentStack:N.stack})}}finally{K.T=l,oe.p=m}}(Al&3)!==0&&Bh(),Ci(o),m=o.pendingLanes,(f&4194090)!==0&&(m&42)!==0?o===bp?mc++:(mc=0,bp=o):mc=0,yc(0)}}function Px(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Qu(l)))}function Bh(o){return Ox(),Dx(),Nx(),Mx()}function Mx(){if(Nn!==5)return!1;var o=Ga,l=Cp;Cp=0;var f=zs(Al),d=K.T,m=oe.p;try{oe.p=32>f?32:f,K.T=null,f=Tp,Tp=null;var x=Ga,b=Al;if(Nn=0,wl=Ga=null,Al=0,(_t&6)!==0)throw Error(r(331));var N=_t;if(_t|=4,mx(x.current),px(x,x.current,b,f),_t=N,yc(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(jt,x)}catch{}return!0}finally{oe.p=m,K.T=d,Px(o,l)}}function Lx(o,l,f){l=Pr(f,l),l=ip(o.stateNode,l,2),o=Ma(o,l,2),o!==null&&(Fi(o,2),Ci(o))}function Rt(o,l,f){if(o.tag===3)Lx(o,o,f);else for(;l!==null;){if(l.tag===3){Lx(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))){o=Pr(f,o),f=F2(2),d=Ma(l,f,2),d!==null&&(U2(f,d,l,o),Fi(d,2),Ci(d));break}}l=l.return}}function Op(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new fR;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(f)||(xp=!0,m.add(f),o=vR.bind(null,o,l,f),l.then(o,o))}function vR(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ot===o&&(it&f)===f&&(Ht===4||Ht===3&&(it&62914560)===it&&300>yn()-Ap?(_t&2)===0&&Cl(o,0):Ep|=f,El===it&&(El=0)),Ci(o)}function kx(o,l){l===0&&(l=Su()),o=ol(o,l),o!==null&&(Fi(o,l),Ci(o))}function mR(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),kx(o,f)}function yR(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(f=m.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),kx(o,f)}function _R(o,l){return Gt(o,l)}var Vh=null,bl=null,Dp=!1,Fh=!1,Np=!1,ds=0;function Ci(o){o!==bl&&o.next===null&&(bl===null?Vh=bl=o:bl=bl.next=o),Fh=!0,Dp||(Dp=!0,ER())}function yc(o,l){if(!Np&&Fh){Np=!0;do for(var f=!1,d=Vh;d!==null;){if(o!==0){var m=d.pendingLanes;if(m===0)var x=0;else{var b=d.suspendedLanes,N=d.pingedLanes;x=(1<<31-Un(42|o)+1)-1,x&=m&~(b&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,Ux(d,x))}else x=it,x=js(d,d===Ot?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Vo(d,x)||(f=!0,Ux(d,x));d=d.next}while(f);Np=!1}}function xR(){Bx()}function Bx(){Fh=Dp=!1;var o=0;ds!==0&&(RR()&&(o=ds),ds=0);for(var l=yn(),f=null,d=Vh;d!==null;){var m=d.next,x=Vx(d,l);x===0?(d.next=null,f===null?Vh=m:f.next=m,m===null&&(bl=f)):(f=d,(o!==0||(x&3)!==0)&&(Fh=!0)),d=m}yc(o)}function Vx(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,x=o.pendingLanes&-62914561;0<x;){var b=31-Un(x),N=1<<b,G=m[b];G===-1?((N&f)===0||(N&d)!==0)&&(m[b]=Tu(N,l)):G<=l&&(o.expiredLanes|=N),x&=~N}if(l=Ot,f=it,f=js(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(xt===2||xt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&mn(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Vo(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&mn(d),zs(f)){case 2:case 8:f=Fs;break;case 32:f=Mo;break;case 268435456:f=Us;break;default:f=Mo}return d=Fx.bind(null,o),f=Gt(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&mn(d),o.callbackPriority=2,o.callbackNode=null,2}function Fx(o,l){if(Nn!==0&&Nn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Bh()&&o.callbackNode!==f)return null;var d=it;return d=js(o,o===Ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(Ex(o,d,l),Vx(o,yn()),o.callbackNode!=null&&o.callbackNode===f?Fx.bind(null,o):null)}function Ux(o,l){if(Bh())return null;Ex(o,l,!0)}function ER(){DR(function(){(_t&6)!==0?Gt(li,xR):Bx()})}function Pp(){return ds===0&&(ds=bu()),ds}function jx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ks(""+o)}function zx(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function wR(o,l,f,d,m){if(l==="submit"&&f&&f.stateNode===m){var x=jx((m[Yt]||null).action),b=d.submitter;b&&(l=(l=b[Yt]||null)?jx(l.formAction):b.getAttribute("formAction"),l!==null&&(x=l,b=null));var N=new Ys("action","action",null,d,m);o.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ds!==0){var G=b?zx(m,b):new FormData(m);J1(f,{pending:!0,data:G,method:m.method,action:x},null,G)}}else typeof x=="function"&&(N.preventDefault(),G=b?zx(m,b):new FormData(m),J1(f,{pending:!0,data:G,method:m.method,action:x},x,G))},currentTarget:m}]})}}for(var Mp=0;Mp<y1.length;Mp++){var Lp=y1[Mp],AR=Lp.toLowerCase(),CR=Lp[0].toUpperCase()+Lp.slice(1);Kr(AR,"on"+CR)}Kr(E_,"onAnimationEnd"),Kr(w_,"onAnimationIteration"),Kr(A_,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(j4,"onTransitionRun"),Kr(z4,"onTransitionStart"),Kr(H4,"onTransitionCancel"),Kr(C_,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function Hx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],m=d.event;d=d.listeners;e:{var x=void 0;if(l)for(var b=d.length-1;0<=b;b--){var N=d[b],G=N.instance,Z=N.currentTarget;if(N=N.listener,G!==x&&m.isPropagationStopped())break e;x=N,m.currentTarget=Z;try{x(m)}catch(ae){bh(ae)}m.currentTarget=null,x=G}else for(b=0;b<d.length;b++){if(N=d[b],G=N.instance,Z=N.currentTarget,N=N.listener,G!==x&&m.isPropagationStopped())break e;x=N,m.currentTarget=Z;try{x(m)}catch(ae){bh(ae)}m.currentTarget=null,x=G}}}}function Je(o,l){var f=l[Ou];f===void 0&&(f=l[Ou]=new Set);var d=o+"__bubble";f.has(d)||(Gx(l,o,2,!1),f.add(d))}function kp(o,l,f){var d=0;l&&(d|=4),Gx(f,o,d,l)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Bp(o){if(!o[Uh]){o[Uh]=!0,Du.forEach(function(f){f!=="selectionchange"&&(TR.has(f)||kp(f,!1,o),kp(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Uh]||(l[Uh]=!0,kp("selectionchange",!1,l))}}function Gx(o,l,f,d){switch(pE(l)){case 2:var m=ZR;break;case 8:m=JR;break;default:m=Qp}f=m.bind(null,l,f,o),m=void 0,!Dr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?o.addEventListener(l,f,{capture:!0,passive:m}):o.addEventListener(l,f,!0):m!==void 0?o.addEventListener(l,f,{passive:m}):o.addEventListener(l,f,!1)}function Vp(o,l,f,d,m){var x=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var N=d.stateNode.containerInfo;if(N===m)break;if(b===4)for(b=d.return;b!==null;){var G=b.tag;if((G===3||G===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;N!==null;){if(b=Ui(N),b===null)return;if(G=b.tag,G===5||G===6||G===26||G===27){d=x=b;continue e}N=N.parentNode}}d=d.return}zf(function(){var Z=x,ae=Or(f),ue=[];e:{var te=T_.get(o);if(te!==void 0){var ne=Ys,Ve=o;switch(o){case"keypress":if(gi(f)===0)break e;case"keydown":case"keyup":ne=tl;break;case"focusin":Ve="focus",ne=Zs;break;case"focusout":Ve="blur",ne=Zs;break;case"beforeblur":case"afterblur":ne=Zs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=c1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=$f;break;case E_:case w_:case A_:ne=Js;break;case C_:ne=Zf;break;case"scroll":case"scrollend":ne=Hf;break;case"wheel":ne=nl;break;case"copy":case"cut":case"paste":ne=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Hu;break;case"toggle":case"beforetoggle":ne=eh}var Pe=(l&4)!==0,St=!Pe&&(o==="scroll"||o==="scrollend"),Y=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var W=Z,Q;W!==null;){var le=W;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||Y===null||(le=Xo(W,Y),le!=null&&Pe.push(xc(W,le,Q))),St)break;W=W.return}0<Pe.length&&(te=new ne(te,Ve,null,f,ae),ue.push({event:te,listeners:Pe}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&f!==Gi&&(Ve=f.relatedTarget||f.fromElement)&&(Ui(Ve)||Ve[Ir]))break e;if((ne||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ve=f.relatedTarget||f.toElement,ne=Z,Ve=Ve?Ui(Ve):null,Ve!==null&&(St=a(Ve),Pe=Ve.tag,Ve!==St||Pe!==5&&Pe!==27&&Pe!==6)&&(Ve=null)):(ne=null,Ve=Z),ne!==Ve)){if(Pe=Nr,le="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=Hu,le="onPointerLeave",Y="onPointerEnter",W="pointer"),St=ne==null?te:fi(ne),Q=Ve==null?te:fi(Ve),te=new Pe(le,W+"leave",ne,f,ae),te.target=St,te.relatedTarget=Q,le=null,Ui(ae)===Z&&(Pe=new Pe(Y,W+"enter",Ve,f,ae),Pe.target=Q,Pe.relatedTarget=St,le=Pe),St=le,ne&&Ve)t:{for(Pe=ne,Y=Ve,W=0,Q=Pe;Q;Q=Sl(Q))W++;for(Q=0,le=Y;le;le=Sl(le))Q++;for(;0<W-Q;)Pe=Sl(Pe),W--;for(;0<Q-W;)Y=Sl(Y),Q--;for(;W--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=Sl(Pe),Y=Sl(Y)}Pe=null}else Pe=null;ne!==null&&qx(ue,te,ne,Pe,!1),Ve!==null&&St!==null&&qx(ue,St,Ve,Pe,!0)}}e:{if(te=Z?fi(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ee=c_;else if(rn(te))if(f_)Ee=V4;else{Ee=k4;var $e=L4}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&ku(Z.elementType)&&(Ee=c_):Ee=B4;if(Ee&&(Ee=Ee(o,Z))){Yi(ue,Ee,f,ae);break e}$e&&$e(o,te,Z),o==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Ra(te,"number",te.value)}switch($e=Z?fi(Z):window,o){case"focusin":(rn($e)||$e.contentEditable==="true")&&(rl=$e,g1=Z,Xu=null);break;case"focusout":Xu=g1=rl=null;break;case"mousedown":v1=!0;break;case"contextmenu":case"mouseup":case"dragend":v1=!1,__(ue,f,ae);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":__(ue,f,ae)}var Ie;if(yi)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else nt?re(o,f)&&(Le="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Le="onCompositionStart");Le&&(T&&f.locale!=="ko"&&(nt||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&nt&&(Ie=Vu()):(pi=ae,Oa="value"in pi?pi.value:pi.textContent,nt=!0)),$e=jh(Z,Le),0<$e.length&&(Le=new ju(Le,o,null,f,ae),ue.push({event:Le,listeners:$e}),Ie?Le.data=Ie:(Ie=pe(f),Ie!==null&&(Le.data=Ie)))),(Ie=w?nn(o,f):rt(o,f))&&(Le=jh(Z,"onBeforeInput"),0<Le.length&&($e=new ju("onBeforeInput","beforeinput",null,f,ae),ue.push({event:$e,listeners:Le}),$e.data=Ie)),wR(ue,o,Z,f,ae)}Hx(ue,l)})}function xc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function jh(o,l){for(var f=l+"Capture",d=[];o!==null;){var m=o,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Xo(o,f),m!=null&&d.unshift(xc(o,m,x)),m=Xo(o,l),m!=null&&d.push(xc(o,m,x))),o.tag===3)return d;o=o.return}return[]}function Sl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function qx(o,l,f,d,m){for(var x=l._reactName,b=[];f!==null&&f!==d;){var N=f,G=N.alternate,Z=N.stateNode;if(N=N.tag,G!==null&&G===d)break;N!==5&&N!==26&&N!==27||Z===null||(G=Z,m?(Z=Xo(f,x),Z!=null&&b.unshift(xc(f,Z,G))):m||(Z=Xo(f,x),Z!=null&&b.push(xc(f,Z,G)))),f=f.return}b.length!==0&&o.push({event:l,listeners:b})}var bR=/\r\n?/g,SR=/\u0000|\uFFFD/g;function Xx(o){return(typeof o=="string"?o:""+o).replace(bR,`
`).replace(SR,"")}function Wx(o,l){return l=Xx(l),Xx(o)===l}function zh(){}function bt(o,l,f,d,m,x){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Rr(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Rr(o,""+d);break;case"className":hi(o,"class",d);break;case"tabIndex":hi(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(o,f,d);break;case"style":Lu(o,d,x);break;case"data":if(l!=="object"){hi(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ks(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(f==="formAction"?(l!=="input"&&bt(o,l,"name",m.name,m,null),bt(o,l,"formEncType",m.formEncType,m,null),bt(o,l,"formMethod",m.formMethod,m,null),bt(o,l,"formTarget",m.formTarget,m,null)):(bt(o,l,"encType",m.encType,m,null),bt(o,l,"method",m.method,m,null),bt(o,l,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ks(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=zh);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Ks(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Je("beforetoggle",o),Je("toggle",o),Ia(o,"popover",d);break;case"xlinkActuate":Rn(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rn(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rn(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rn(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rn(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rn(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ia(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=l1.get(f)||f,Ia(o,f,d))}}function Fp(o,l,f,d,m,x){switch(f){case"style":Lu(o,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(m.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?Rr(o,d):(typeof d=="number"||typeof d=="bigint")&&Rr(o,""+d);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"onClick":d!=null&&(o.onclick=zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(m=f.endsWith("Capture"),l=f.slice(2,m?f.length-7:void 0),x=o[Yt]||null,x=x!=null?x[f]:null,typeof x=="function"&&o.removeEventListener(l,x,m),typeof d=="function")){typeof x!="function"&&x!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,m);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Ia(o,f,d)}}}function Pn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",o),Je("load",o);var d=!1,m=!1,x;for(x in f)if(f.hasOwnProperty(x)){var b=f[x];if(b!=null)switch(x){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,x,b,f,null)}}m&&bt(o,l,"srcSet",f.srcSet,f,null),d&&bt(o,l,"src",f.src,f,null);return;case"input":Je("invalid",o);var N=x=b=m=null,G=null,Z=null;for(d in f)if(f.hasOwnProperty(d)){var ae=f[d];if(ae!=null)switch(d){case"name":m=ae;break;case"type":b=ae;break;case"checked":G=ae;break;case"defaultChecked":Z=ae;break;case"value":x=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:bt(o,l,d,ae,f,null)}}Ho(o,x,N,G,Z,b,m,!1),Ws(o);return;case"select":Je("invalid",o),d=b=x=null;for(m in f)if(f.hasOwnProperty(m)&&(N=f[m],N!=null))switch(m){case"value":x=N;break;case"defaultValue":b=N;break;case"multiple":d=N;default:bt(o,l,m,N,f,null)}l=x,f=b,o.multiple=!!d,l!=null?Hi(o,!!d,l,!1):f!=null&&Hi(o,!!d,f,!0);return;case"textarea":Je("invalid",o),x=m=d=null;for(b in f)if(f.hasOwnProperty(b)&&(N=f[b],N!=null))switch(b){case"value":d=N;break;case"defaultValue":m=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:bt(o,l,b,N,f,null)}Go(o,d,m,x),Ws(o);return;case"option":for(G in f)if(f.hasOwnProperty(G)&&(d=f[G],d!=null))switch(G){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:bt(o,l,G,d,f,null)}return;case"dialog":Je("beforetoggle",o),Je("toggle",o),Je("cancel",o),Je("close",o);break;case"iframe":case"object":Je("load",o);break;case"video":case"audio":for(d=0;d<_c.length;d++)Je(_c[d],o);break;case"image":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"embed":case"source":case"link":Je("error",o),Je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in f)if(f.hasOwnProperty(Z)&&(d=f[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bt(o,l,Z,d,f,null)}return;default:if(ku(l)){for(ae in f)f.hasOwnProperty(ae)&&(d=f[ae],d!==void 0&&Fp(o,l,ae,d,f,void 0));return}}for(N in f)f.hasOwnProperty(N)&&(d=f[N],d!=null&&bt(o,l,N,d,f,null))}function IR(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,b=null,N=null,G=null,Z=null,ae=null;for(ne in f){var ue=f[ne];if(f.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":G=ue;default:d.hasOwnProperty(ne)||bt(o,l,ne,null,d,ue)}}for(var te in d){var ne=d[te];if(ue=f[te],d.hasOwnProperty(te)&&(ne!=null||ue!=null))switch(te){case"type":x=ne;break;case"name":m=ne;break;case"checked":Z=ne;break;case"defaultChecked":ae=ne;break;case"value":b=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,l));break;default:ne!==ue&&bt(o,l,te,ne,d,ue)}}gr(o,b,N,G,Z,ae,x,m);return;case"select":ne=b=N=te=null;for(x in f)if(G=f[x],f.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":ne=G;default:d.hasOwnProperty(x)||bt(o,l,x,null,d,G)}for(m in d)if(x=d[m],G=f[m],d.hasOwnProperty(m)&&(x!=null||G!=null))switch(m){case"value":te=x;break;case"defaultValue":N=x;break;case"multiple":b=x;default:x!==G&&bt(o,l,m,x,d,G)}l=N,f=b,d=ne,te!=null?Hi(o,!!f,te,!1):!!d!=!!f&&(l!=null?Hi(o,!!f,l,!0):Hi(o,!!f,f?[]:"",!1));return;case"textarea":ne=te=null;for(N in f)if(m=f[N],f.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:bt(o,l,N,null,d,m)}for(b in d)if(m=d[b],x=f[b],d.hasOwnProperty(b)&&(m!=null||x!=null))switch(b){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==x&&bt(o,l,b,m,d,x)}Ct(o,te,ne);return;case"option":for(var Ve in f)if(te=f[Ve],f.hasOwnProperty(Ve)&&te!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":o.selected=!1;break;default:bt(o,l,Ve,null,d,te)}for(G in d)if(te=d[G],ne=f[G],d.hasOwnProperty(G)&&te!==ne&&(te!=null||ne!=null))switch(G){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:bt(o,l,G,te,d,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in f)te=f[Pe],f.hasOwnProperty(Pe)&&te!=null&&!d.hasOwnProperty(Pe)&&bt(o,l,Pe,null,d,te);for(Z in d)if(te=d[Z],ne=f[Z],d.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:bt(o,l,Z,te,d,ne)}return;default:if(ku(l)){for(var St in f)te=f[St],f.hasOwnProperty(St)&&te!==void 0&&!d.hasOwnProperty(St)&&Fp(o,l,St,void 0,d,te);for(ae in d)te=d[ae],ne=f[ae],!d.hasOwnProperty(ae)||te===ne||te===void 0&&ne===void 0||Fp(o,l,ae,te,d,ne);return}}for(var Y in f)te=f[Y],f.hasOwnProperty(Y)&&te!=null&&!d.hasOwnProperty(Y)&&bt(o,l,Y,null,d,te);for(ue in d)te=d[ue],ne=f[ue],!d.hasOwnProperty(ue)||te===ne||te==null&&ne==null||bt(o,l,ue,te,d,ne)}var Up=null,jp=null;function Hh(o){return o.nodeType===9?o:o.ownerDocument}function Kx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yx(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function zp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hp=null;function RR(){var o=window.event;return o&&o.type==="popstate"?o===Hp?!1:(Hp=o,!0):(Hp=null,!1)}var $x=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(o){return Qx.resolve(null).then(o).catch(NR)}:$x;function NR(o){setTimeout(function(){throw o})}function Xa(o){return o==="head"}function Zx(o,l){var f=l,d=0,m=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(0<d&&8>d){f=d;var b=o.ownerDocument;if(f&1&&Ec(b.documentElement),f&2&&Ec(b.body),f&4)for(f=b.head,Ec(f),b=f.firstChild;b;){var N=b.nextSibling,G=b.nodeName;b[Fo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||f.removeChild(b),b=N}}if(m===0){o.removeChild(x),Rc(l);return}m--}else f==="$"||f==="$?"||f==="$!"?m++:d=f.charCodeAt(0)-48;else d=0;f=x}while(f);Rc(l)}function Gp(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Gp(f),Sa(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function PR(o,l,f,d){for(;o.nodeType===1;){var m=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Fo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(x=o.getAttribute("rel"),x==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(x!==m.rel||o.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||o.getAttribute("title")!==(m.title==null?null:m.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(x=o.getAttribute("src"),(x!==(m.src==null?null:m.src)||o.getAttribute("type")!==(m.type==null?null:m.type)||o.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&o.getAttribute("name")===x)return o}else return o;if(o=$r(o.nextSibling),o===null)break}return null}function MR(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=$r(o.nextSibling),o===null))return null;return o}function qp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function LR(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function $r(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Xp=null;function Jx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function eE(o,l,f){switch(l=Hh(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ec(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Sa(o)}var Fr=new Map,tE=new Set;function Gh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var la=oe.d;oe.d={f:kR,r:BR,D:VR,C:FR,L:UR,m:jR,X:HR,S:zR,M:GR};function kR(){var o=la.f(),l=Lh();return o||l}function BR(o){var l=ci(o);l!==null&&l.tag===5&&l.type==="form"?E2(l):la.r(o)}var Il=typeof document>"u"?null:document;function nE(o,l,f){var d=Il;if(d&&typeof l=="string"&&l){var m=$t(l);m='link[rel="'+o+'"][href="'+m+'"]',typeof f=="string"&&(m+='[crossorigin="'+f+'"]'),tE.has(m)||(tE.add(m),o={rel:o,crossOrigin:f,href:l},d.querySelector(m)===null&&(l=d.createElement("link"),Pn(l,"link",o),qt(l),d.head.appendChild(l)))}}function VR(o){la.D(o),nE("dns-prefetch",o,null)}function FR(o,l){la.C(o,l),nE("preconnect",o,l)}function UR(o,l,f){la.L(o,l,f);var d=Il;if(d&&o&&l){var m='link[rel="preload"][as="'+$t(l)+'"]';l==="image"&&f&&f.imageSrcSet?(m+='[imagesrcset="'+$t(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(m+='[imagesizes="'+$t(f.imageSizes)+'"]')):m+='[href="'+$t(o)+'"]';var x=m;switch(l){case"style":x=Rl(o);break;case"script":x=Ol(o)}Fr.has(x)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Fr.set(x,o),d.querySelector(m)!==null||l==="style"&&d.querySelector(wc(x))||l==="script"&&d.querySelector(Ac(x))||(l=d.createElement("link"),Pn(l,"link",o),qt(l),d.head.appendChild(l)))}}function jR(o,l){la.m(o,l);var f=Il;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+$t(d)+'"][href="'+$t(o)+'"]',x=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ol(o)}if(!Fr.has(x)&&(o=p({rel:"modulepreload",href:o},l),Fr.set(x,o),f.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Ac(x)))return}d=f.createElement("link"),Pn(d,"link",o),qt(d),f.head.appendChild(d)}}}function zR(o,l,f){la.S(o,l,f);var d=Il;if(d&&o){var m=$n(d).hoistableStyles,x=Rl(o);l=l||"default";var b=m.get(x);if(!b){var N={loading:0,preload:null};if(b=d.querySelector(wc(x)))N.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Fr.get(x))&&Wp(o,f);var G=b=d.createElement("link");qt(G),Pn(G,"link",o),G._p=new Promise(function(Z,ae){G.onload=Z,G.onerror=ae}),G.addEventListener("load",function(){N.loading|=1}),G.addEventListener("error",function(){N.loading|=2}),N.loading|=4,qh(b,l,d)}b={type:"stylesheet",instance:b,count:1,state:N},m.set(x,b)}}}function HR(o,l){la.X(o,l);var f=Il;if(f&&o){var d=$n(f).hoistableScripts,m=Ol(o),x=d.get(m);x||(x=f.querySelector(Ac(m)),x||(o=p({src:o,async:!0},l),(l=Fr.get(m))&&Kp(o,l),x=f.createElement("script"),qt(x),Pn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function GR(o,l){la.M(o,l);var f=Il;if(f&&o){var d=$n(f).hoistableScripts,m=Ol(o),x=d.get(m);x||(x=f.querySelector(Ac(m)),x||(o=p({src:o,async:!0,type:"module"},l),(l=Fr.get(m))&&Kp(o,l),x=f.createElement("script"),qt(x),Pn(x,"link",o),f.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function rE(o,l,f,d){var m=(m=Se.current)?Gh(m):null;if(!m)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Rl(f.href),f=$n(m).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Rl(f.href);var x=$n(m).hoistableStyles,b=x.get(o);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(o,b),(x=m.querySelector(wc(o)))&&!x._p&&(b.instance=x,b.state.loading=5),Fr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Fr.set(o,f),x||qR(m,o,f,b.state))),l&&d===null)throw Error(r(528,""));return b}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ol(f),f=$n(m).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Rl(o){return'href="'+$t(o)+'"'}function wc(o){return'link[rel="stylesheet"]['+o+"]"}function iE(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qR(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Pn(l,"link",f),qt(l),o.head.appendChild(l))}function Ol(o){return'[src="'+$t(o)+'"]'}function Ac(o){return"script[async]"+o}function aE(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+$t(f.href)+'"]');if(d)return l.instance=d,qt(d),d;var m=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),qt(d),Pn(d,"style",m),qh(d,f.precedence,o),l.instance=d;case"stylesheet":m=Rl(f.href);var x=o.querySelector(wc(m));if(x)return l.state.loading|=4,l.instance=x,qt(x),x;d=iE(f),(m=Fr.get(m))&&Wp(d,m),x=(o.ownerDocument||o).createElement("link"),qt(x);var b=x;return b._p=new Promise(function(N,G){b.onload=N,b.onerror=G}),Pn(x,"link",d),l.state.loading|=4,qh(x,f.precedence,o),l.instance=x;case"script":return x=Ol(f.src),(m=o.querySelector(Ac(x)))?(l.instance=m,qt(m),m):(d=f,(m=Fr.get(x))&&(d=p({},f),Kp(d,m)),o=o.ownerDocument||o,m=o.createElement("script"),qt(m),Pn(m,"link",d),o.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,qh(d,f.precedence,o));return l.instance}function qh(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,x=m,b=0;b<d.length;b++){var N=d[b];if(N.dataset.precedence===l)x=N;else if(x!==m)break}x?x.parentNode.insertBefore(o,x.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Wp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Kp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Xh=null;function oE(o,l,f){if(Xh===null){var d=new Map,m=Xh=new Map;m.set(f,d)}else m=Xh,d=m.get(f),d||(d=new Map,m.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),m=0;m<f.length;m++){var x=f[m];if(!(x[Fo]||x[tn]||o==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var b=x.getAttribute(l)||"";b=o+b;var N=d.get(b);N?N.push(x):d.set(b,[x])}}return d}function sE(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function XR(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function lE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Cc=null;function WR(){}function KR(o,l,f){if(Cc===null)throw Error(r(475));var d=Cc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Rl(f.href),x=o.querySelector(wc(m));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Wh.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=x,qt(x);return}x=o.ownerDocument||o,f=iE(f),(m=Fr.get(m))&&Wp(f,m),x=x.createElement("link"),qt(x);var b=x;b._p=new Promise(function(N,G){b.onload=N,b.onerror=G}),Pn(x,"link",f),l.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Wh.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function YR(){if(Cc===null)throw Error(r(475));var o=Cc;return o.stylesheets&&o.count===0&&Yp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Yp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)Yp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Kh=null;function Yp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Kh=new Map,l.forEach($R,o),Kh=null,Wh.call(o))}function $R(o,l){if(!(l.state.loading&4)){var f=Kh.get(o);if(f)var d=f.get(null);else{f=new Map,Kh.set(o,f);for(var m=o.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var b=m[x];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(f.set(b.dataset.precedence,b),d=b)}d&&f.set(null,d)}m=l.instance,b=m.getAttribute("data-precedence"),x=f.get(b)||d,x===d&&f.set(null,m),f.set(b,m),this.count++,d=Wh.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),x?x.parentNode.insertBefore(m,x.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(m,o.firstChild)),l.state.loading|=4}}var Tc={$$typeof:D,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function QR(o,l,f,d,m,x,b,N){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function uE(o,l,f,d,m,x,b,N,G,Z,ae,ue){return o=new QR(o,l,f,b,N,G,Z,ue),l=1,x===!0&&(l|=24),x=mr(3,null,null,l),o.current=x,x.stateNode=o,l=O1(),l.refCount++,o.pooledCache=l,l.refCount++,x.memoizedState={element:d,isDehydrated:f,cache:l},M1(x),o}function cE(o){return o?(o=sl,o):sl}function fE(o,l,f,d,m,x){m=cE(m),d.context===null?d.context=m:d.pendingContext=m,d=Pa(l),d.payload={element:f},x=x===void 0?null:x,x!==null&&(d.callback=x),f=Ma(o,d,l),f!==null&&(wr(f,o,l),tc(f,o,l))}function hE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function $p(o,l){hE(o,l),(o=o.alternate)&&hE(o,l)}function dE(o){if(o.tag===13){var l=ol(o,67108864);l!==null&&wr(l,o,67108864),$p(o,67108864)}}var Yh=!0;function ZR(o,l,f,d){var m=K.T;K.T=null;var x=oe.p;try{oe.p=2,Qp(o,l,f,d)}finally{oe.p=x,K.T=m}}function JR(o,l,f,d){var m=K.T;K.T=null;var x=oe.p;try{oe.p=8,Qp(o,l,f,d)}finally{oe.p=x,K.T=m}}function Qp(o,l,f,d){if(Yh){var m=Zp(d);if(m===null)Vp(o,l,d,$h,f),gE(o,d);else if(t8(m,o,l,f,d))d.stopPropagation();else if(gE(o,d),l&4&&-1<e8.indexOf(o)){for(;m!==null;){var x=ci(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var b=qr(x.pendingLanes);if(b!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var G=1<<31-Un(b);N.entanglements[1]|=G,b&=~G}Ci(x),(_t&6)===0&&(Ph=yn()+500,yc(0))}}break;case 13:N=ol(x,2),N!==null&&wr(N,x,2),Lh(),$p(x,2)}if(x=Zp(d),x===null&&Vp(o,l,d,$h,f),x===m)break;m=x}m!==null&&d.stopPropagation()}else Vp(o,l,d,null,f)}}function Zp(o){return o=Or(o),Jp(o)}var $h=null;function Jp(o){if($h=null,o=Ui(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return $h=o,null}function pE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Au()){case li:return 2;case Fs:return 8;case Mo:case r1:return 32;case Us:return 268435456;default:return 32}default:return 32}}var eg=!1,Wa=null,Ka=null,Ya=null,bc=new Map,Sc=new Map,$a=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gE(o,l){switch(o){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":bc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(l.pointerId)}}function Ic(o,l,f,d,m,x){return o===null||o.nativeEvent!==x?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},l!==null&&(l=ci(l),l!==null&&dE(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function t8(o,l,f,d,m){switch(l){case"focusin":return Wa=Ic(Wa,o,l,f,d,m),!0;case"dragenter":return Ka=Ic(Ka,o,l,f,d,m),!0;case"mouseover":return Ya=Ic(Ya,o,l,f,d,m),!0;case"pointerover":var x=m.pointerId;return bc.set(x,Ic(bc.get(x)||null,o,l,f,d,m)),!0;case"gotpointercapture":return x=m.pointerId,Sc.set(x,Ic(Sc.get(x)||null,o,l,f,d,m)),!0}return!1}function vE(o){var l=Ui(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Lf(o.priority,function(){if(f.tag===13){var d=Er();d=Ca(d);var m=ol(f,d);m!==null&&wr(m,f,d),$p(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qh(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Zp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);Gi=d,f.target.dispatchEvent(d),Gi=null}else return l=ci(f),l!==null&&dE(l),o.blockedOn=f,!1;l.shift()}return!0}function mE(o,l,f){Qh(o)&&f.delete(l)}function n8(){eg=!1,Wa!==null&&Qh(Wa)&&(Wa=null),Ka!==null&&Qh(Ka)&&(Ka=null),Ya!==null&&Qh(Ya)&&(Ya=null),bc.forEach(mE),Sc.forEach(mE)}function Zh(o,l){o.blockedOn===l&&(o.blockedOn=null,eg||(eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,n8)))}var Jh=null;function yE(o){Jh!==o&&(Jh=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jh===o&&(Jh=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],m=o[l+2];if(typeof d!="function"){if(Jp(d||f)===null)continue;break}var x=ci(f);x!==null&&(o.splice(l,3),l-=3,J1(x,{pending:!0,data:m,method:f.method,action:d},d,m))}}))}function Rc(o){function l(G){return Zh(G,o)}Wa!==null&&Zh(Wa,o),Ka!==null&&Zh(Ka,o),Ya!==null&&Zh(Ya,o),bc.forEach(l),Sc.forEach(l);for(var f=0;f<$a.length;f++){var d=$a[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<$a.length&&(f=$a[0],f.blockedOn===null);)vE(f),f.blockedOn===null&&$a.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var m=f[d],x=f[d+1],b=m[Yt]||null;if(typeof x=="function")b||yE(f);else if(b){var N=null;if(x&&x.hasAttribute("formAction")){if(m=x,b=x[Yt]||null)N=b.formAction;else if(Jp(m)!==null)continue}else N=b.action;typeof N=="function"?f[d+1]=N:(f.splice(d,3),d-=3),yE(f)}}}function tg(o){this._internalRoot=o}ed.prototype.render=tg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=Er();fE(f,d,o,l,null,null)},ed.prototype.unmount=tg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;fE(o.current,2,null,o,null,null),Lh(),l[Ir]=null}};function ed(o){this._internalRoot=o}ed.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ta();o={blockedOn:null,target:o,priority:l};for(var f=0;f<$a.length&&l!==0&&l<$a[f].priority;f++);$a.splice(f,0,o),f===0&&vE(o)}};var _E=e.version;if(_E!=="19.1.0")throw Error(r(527,_E,"19.1.0"));oe.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var r8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{jt=td.inject(r8),yt=td}catch{}}return Dc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",m=L2,x=k2,b=B2,N=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks)),l=uE(o,1,!1,null,null,f,d,m,x,b,N,null),o[Ir]=l.current,Bp(o),new tg(l)},Dc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,m="",x=L2,b=k2,N=B2,G=null,Z=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(m=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(b=f.onCaughtError),f.onRecoverableError!==void 0&&(N=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(G=f.unstable_transitionCallbacks),f.formState!==void 0&&(Z=f.formState)),l=uE(o,1,!0,l,f??null,d,m,x,b,N,G,Z),l.context=cE(null),f=l.current,d=Er(),d=Ca(d),m=Pa(d),m.callback=null,Ma(f,m,d),f=d,l.current.lanes=f,Fi(l,f),Ci(l),o[Ir]=l.current,Bp(o),new ed(l)},Dc.version="19.1.0",Dc}var RE;function d8(){if(RE)return ig.exports;RE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=h8(),ig.exports}var p8=d8();function qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function g8(n,e){const t=L.createContext(e),r=a=>{const{children:s,...u}=a,c=L.useMemo(()=>u,Object.values(u));return P.jsx(t.Provider,{value:c,children:s})};r.displayName=n+"Provider";function i(a){const s=L.useContext(t);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function Ls(n,e=[]){let t=[];function r(a,s){const u=L.createContext(s),c=t.length;t=[...t,s];const h=g=>{var I;const{scope:y,children:_,...E}=g,A=((I=y==null?void 0:y[n])==null?void 0:I[c])||u,C=L.useMemo(()=>E,Object.values(E));return P.jsx(A.Provider,{value:C,children:_})};h.displayName=a+"Provider";function p(g,y){var A;const _=((A=y==null?void 0:y[n])==null?void 0:A[c])||u,E=L.useContext(_);if(E)return E;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,p]}const i=()=>{const a=t.map(s=>L.createContext(s));return function(u){const c=(u==null?void 0:u[n])||a;return L.useMemo(()=>({[`__scope${n}`]:{...u,[n]:c}}),[u,c])}};return i.scopeName=n,[r,v8(i,...e)]}function v8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((u,{useScope:c,scopeName:h})=>{const g=c(a)[`__scope${h}`];return{...u,...g}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function OE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function gT(...n){return e=>{let t=!1;const r=n.map(i=>{const a=OE(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():OE(n[i],null)}}}}function Vt(...n){return L.useCallback(gT(...n),n)}function Ql(n){const e=y8(n),t=L.forwardRef((r,i)=>{const{children:a,...s}=r,u=L.Children.toArray(a),c=u.find(x8);if(c){const h=c.props.children,p=u.map(g=>g===c?L.Children.count(h)>1?L.Children.only(null):L.isValidElement(h)?h.props.children:null:g);return P.jsx(e,{...s,ref:i,children:L.isValidElement(h)?L.cloneElement(h,void 0,p):null})}return P.jsx(e,{...s,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var m8=Ql("Slot");function y8(n){const e=L.forwardRef((t,r)=>{const{children:i,...a}=t;if(L.isValidElement(i)){const s=w8(i),u=E8(a,i.props);return i.type!==L.Fragment&&(u.ref=r?gT(r,s):s),L.cloneElement(i,u)}return L.Children.count(i)>1?L.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var vT=Symbol("radix.slottable");function _8(n){const e=({children:t})=>P.jsx(P.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=vT,e}function x8(n){return L.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===vT}function E8(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{const c=a(...u);return i(...u),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function w8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function mT(n){const e=n+"CollectionProvider",[t,r]=Ls(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),s=A=>{const{scope:C,children:I}=A,R=no.useRef(null),D=no.useRef(new Map).current;return P.jsx(i,{scope:C,itemMap:D,collectionRef:R,children:I})};s.displayName=e;const u=n+"CollectionSlot",c=Ql(u),h=no.forwardRef((A,C)=>{const{scope:I,children:R}=A,D=a(u,I),B=Vt(C,D.collectionRef);return P.jsx(c,{ref:B,children:R})});h.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",y=Ql(p),_=no.forwardRef((A,C)=>{const{scope:I,children:R,...D}=A,B=no.useRef(null),F=Vt(C,B),q=a(p,I);return no.useEffect(()=>(q.itemMap.set(B,{ref:B,...D}),()=>void q.itemMap.delete(B))),P.jsx(y,{[g]:"",ref:F,children:R})});_.displayName=p;function E(A){const C=a(n+"CollectionConsumer",A);return no.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const D=Array.from(R.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((q,O)=>D.indexOf(q.ref.current)-D.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:s,Slot:h,ItemSlot:_},E,r]}var Wn=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},A8=dT[" useId ".trim().toString()]||(()=>{}),C8=0;function pa(n){const[e,t]=L.useState(A8());return Wn(()=>{t(r=>r??String(C8++))},[n]),n||(e?`radix-${e}`:"")}var hf=pT();const T8=Fm(hf);var b8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=b8.reduce((n,e)=>{const t=Ql(`Primitive.${e}`),r=L.forwardRef((i,a)=>{const{asChild:s,...u}=i,c=s?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(c,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function S8(n,e){n&&hf.flushSync(()=>n.dispatchEvent(e))}function yo(n){const e=L.useRef(n);return L.useEffect(()=>{e.current=n}),L.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var I8=dT[" useInsertionEffect ".trim().toString()]||Wn;function Zl({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,s]=R8({defaultProp:e,onChange:t}),u=n!==void 0,c=u?n:i;{const p=L.useRef(n!==void 0);L.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=L.useCallback(p=>{var g;if(u){const y=O8(p)?p(n):p;y!==n&&((g=s.current)==null||g.call(s,y))}else a(p)},[u,n,a,s]);return[c,h]}function R8({defaultProp:n,onChange:e}){const[t,r]=L.useState(n),i=L.useRef(t),a=L.useRef(e);return I8(()=>{a.current=e},[e]),L.useEffect(()=>{var s;i.current!==t&&((s=a.current)==null||s.call(a,t),i.current=t)},[t,i]),[t,r,a]}function O8(n){return typeof n=="function"}var D8=L.createContext(void 0);function jm(n){const e=L.useContext(D8);return n||e||"ltr"}var lg="rovingFocusGroup.onEntryFocus",N8={bubbles:!1,cancelable:!0},df="RovingFocusGroup",[Pv,yT,P8]=mT(df),[M8,_T]=Ls(df,[P8]),[L8,k8]=M8(df),xT=L.forwardRef((n,e)=>P.jsx(Pv.Provider,{scope:n.__scopeRovingFocusGroup,children:P.jsx(Pv.Slot,{scope:n.__scopeRovingFocusGroup,children:P.jsx(B8,{...n,ref:e})})}));xT.displayName=df;var B8=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=n,y=L.useRef(null),_=Vt(e,y),E=jm(a),[A,C]=Zl({prop:s,defaultProp:u??null,onChange:c,caller:df}),[I,R]=L.useState(!1),D=yo(h),B=yT(t),F=L.useRef(!1),[q,O]=L.useState(0);return L.useEffect(()=>{const S=y.current;if(S)return S.addEventListener(lg,D),()=>S.removeEventListener(lg,D)},[D]),P.jsx(L8,{scope:t,orientation:r,dir:E,loop:i,currentTabStopId:A,onItemFocus:L.useCallback(S=>C(S),[C]),onItemShiftTab:L.useCallback(()=>R(!0),[]),onFocusableItemAdd:L.useCallback(()=>O(S=>S+1),[]),onFocusableItemRemove:L.useCallback(()=>O(S=>S-1),[]),children:P.jsx(st.div,{tabIndex:I||q===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...n.style},onMouseDown:qe(n.onMouseDown,()=>{F.current=!0}),onFocus:qe(n.onFocus,S=>{const M=!F.current;if(S.target===S.currentTarget&&M&&!I){const U=new CustomEvent(lg,N8);if(S.currentTarget.dispatchEvent(U),!U.defaultPrevented){const H=B().filter(K=>K.focusable),z=H.find(K=>K.active),j=H.find(K=>K.id===A),xe=[z,j,...H].filter(Boolean).map(K=>K.ref.current);AT(xe,p)}}F.current=!1}),onBlur:qe(n.onBlur,()=>R(!1))})})}),ET="RovingFocusGroupItem",wT=L.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:s,...u}=n,c=pa(),h=a||c,p=k8(ET,t),g=p.currentTabStopId===h,y=yT(t),{onFocusableItemAdd:_,onFocusableItemRemove:E,currentTabStopId:A}=p;return L.useEffect(()=>{if(r)return _(),()=>E()},[r,_,E]),P.jsx(Pv.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:P.jsx(st.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:qe(n.onMouseDown,C=>{r?p.onItemFocus(h):C.preventDefault()}),onFocus:qe(n.onFocus,()=>p.onItemFocus(h)),onKeyDown:qe(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const I=U8(C,p.orientation,p.dir);if(I!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let D=y().filter(B=>B.focusable).map(B=>B.ref.current);if(I==="last")D.reverse();else if(I==="prev"||I==="next"){I==="prev"&&D.reverse();const B=D.indexOf(C.currentTarget);D=p.loop?j8(D,B+1):D.slice(B+1)}setTimeout(()=>AT(D))}}),children:typeof s=="function"?s({isCurrentTabStop:g,hasTabStop:A!=null}):s})})});wT.displayName=ET;var V8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function U8(n,e,t){const r=F8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return V8[r]}function AT(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function j8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var z8=xT,H8=wT;function G8(n,e){return L.useReducer((t,r)=>e[t][r]??t,n)}var ks=n=>{const{present:e,children:t}=n,r=q8(e),i=typeof t=="function"?t({present:r.isPresent}):L.Children.only(t),a=Vt(r.ref,X8(i));return typeof t=="function"||r.isPresent?L.cloneElement(i,{ref:a}):null};ks.displayName="Presence";function q8(n){const[e,t]=L.useState(),r=L.useRef(null),i=L.useRef(n),a=L.useRef("none"),s=n?"mounted":"unmounted",[u,c]=G8(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const h=nd(r.current);a.current=u==="mounted"?h:"none"},[u]),Wn(()=>{const h=r.current,p=i.current;if(p!==n){const y=a.current,_=nd(h);n?c("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),Wn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=_=>{const A=nd(r.current).includes(_.animationName);if(_.target===e&&A&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},y=_=>{_.target===e&&(a.current=nd(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:L.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function nd(n){return(n==null?void 0:n.animationName)||"none"}function X8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var g0="Tabs",[W8,hH]=Ls(g0,[_T]),CT=_T(),[K8,zm]=W8(g0),TT=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:u,activationMode:c="automatic",...h}=n,p=jm(u),[g,y]=Zl({prop:r,onChange:i,defaultProp:a??"",caller:g0});return P.jsx(K8,{scope:t,baseId:pa(),value:g,onValueChange:y,orientation:s,dir:p,activationMode:c,children:P.jsx(st.div,{dir:p,"data-orientation":s,...h,ref:e})})});TT.displayName=g0;var bT="TabsList",ST=L.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=zm(bT,t),s=CT(t);return P.jsx(z8,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:P.jsx(st.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});ST.displayName=bT;var IT="TabsTrigger",RT=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,s=zm(IT,t),u=CT(t),c=NT(s.baseId,r),h=PT(s.baseId,r),p=r===s.value;return P.jsx(H8,{asChild:!0,...u,focusable:!i,active:p,children:P.jsx(st.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:qe(n.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?s.onValueChange(r):g.preventDefault()}),onKeyDown:qe(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&s.onValueChange(r)}),onFocus:qe(n.onFocus,()=>{const g=s.activationMode!=="manual";!p&&!i&&g&&s.onValueChange(r)})})})});RT.displayName=IT;var OT="TabsContent",DT=L.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...s}=n,u=zm(OT,t),c=NT(u.baseId,r),h=PT(u.baseId,r),p=r===u.value,g=L.useRef(p);return L.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),P.jsx(ks,{present:i||p,children:({present:y})=>P.jsx(st.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:h,tabIndex:0,...s,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:y&&a})})});DT.displayName=OT;function NT(n,e){return`${n}-trigger-${e}`}function PT(n,e){return`${n}-content-${e}`}var Y8=TT,$8=ST,Q8=RT,Z8=DT;function MT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=MT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function LT(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=MT(n))&&(r&&(r+=" "),r+=e);return r}const Hm="-",J8=n=>{const e=t6(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:s=>{const u=s.split(Hm);return u[0]===""&&u.length!==1&&u.shift(),kT(u,e)||e6(s)},getConflictingClassGroupIds:(s,u)=>{const c=t[s]||[];return u&&r[s]?[...c,...r[s]]:c}}},kT=(n,e)=>{var s;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?kT(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Hm);return(s=e.validators.find(({validator:u})=>u(a)))==null?void 0:s.classGroupId},DE=/^\[(.+)\]$/,e6=n=>{if(DE.test(n)){const e=DE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},t6=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Mv(t[i],r,i,e);return r},Mv=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:NE(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(n6(i)){Mv(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,s])=>{Mv(s,NE(e,a),t,r)})})},NE=(n,e)=>{let t=n;return e.split(Hm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},n6=n=>n.isThemeGetter,r6=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,s)=>{t.set(a,s),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){t.has(a)?t.set(a,s):i(a,s)}}},Lv="!",kv=":",i6=kv.length,a6=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let s=0,u=0,c=0,h;for(let E=0;E<i.length;E++){let A=i[E];if(s===0&&u===0){if(A===kv){a.push(i.slice(c,E)),c=E+i6;continue}if(A==="/"){h=E;continue}}A==="["?s++:A==="]"?s--:A==="("?u++:A===")"&&u--}const p=a.length===0?i:i.substring(c),g=o6(p),y=g!==p,_=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:y,baseClassName:g,maybePostfixModifierPosition:_}};if(e){const i=e+kv,a=r;r=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},o6=n=>n.endsWith(Lv)?n.substring(0,n.length-1):n.startsWith(Lv)?n.substring(1):n,s6=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},l6=n=>({cache:r6(n.cacheSize),parseClassName:a6(n),sortModifiers:s6(n),...J8(n)}),u6=/\s+/,c6=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,s=[],u=n.trim().split(u6);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:y,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:A}=t(p);if(g){c=p+(c.length>0?" "+c:c);continue}let C=!!A,I=r(C?E.substring(0,A):E);if(!I){if(!C){c=p+(c.length>0?" "+c:c);continue}if(I=r(E),!I){c=p+(c.length>0?" "+c:c);continue}C=!1}const R=a(y).join(":"),D=_?R+Lv:R,B=D+I;if(s.includes(B))continue;s.push(B);const F=i(I,C);for(let q=0;q<F.length;++q){const O=F[q];s.push(D+O)}c=p+(c.length>0?" "+c:c)}return c};function f6(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=BT(e))&&(r&&(r+=" "),r+=t);return r}const BT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=BT(n[r]))&&(t&&(t+=" "),t+=e);return t};function h6(n,...e){let t,r,i,a=s;function s(c){const h=e.reduce((p,g)=>g(p),n());return t=l6(h),r=t.cache.get,i=t.cache.set,a=u,u(c)}function u(c){const h=r(c);if(h)return h;const p=c6(c,t);return i(c,p),p}return function(){return a(f6.apply(null,arguments))}}const sn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},VT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,d6=/^\d+\/\d+$/,p6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=n=>d6.test(n),We=n=>!!n&&!Number.isNaN(Number(n)),Za=n=>!!n&&Number.isInteger(Number(n)),ug=n=>n.endsWith("%")&&We(n.slice(0,-1)),ua=n=>p6.test(n),_6=()=>!0,x6=n=>g6.test(n)&&!v6.test(n),UT=()=>!1,E6=n=>m6.test(n),w6=n=>y6.test(n),A6=n=>!we(n)&&!Ae(n),C6=n=>cu(n,HT,UT),we=n=>VT.test(n),ps=n=>cu(n,GT,x6),cg=n=>cu(n,R6,We),PE=n=>cu(n,jT,UT),T6=n=>cu(n,zT,w6),rd=n=>cu(n,qT,E6),Ae=n=>FT.test(n),Nc=n=>fu(n,GT),b6=n=>fu(n,O6),ME=n=>fu(n,jT),S6=n=>fu(n,HT),I6=n=>fu(n,zT),id=n=>fu(n,qT,!0),cu=(n,e,t)=>{const r=VT.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},fu=(n,e,t=!1)=>{const r=FT.exec(n);return r?r[1]?e(r[1]):t:!1},jT=n=>n==="position"||n==="percentage",zT=n=>n==="image"||n==="url",HT=n=>n==="length"||n==="size"||n==="bg-size",GT=n=>n==="length",R6=n=>n==="number",O6=n=>n==="family-name",qT=n=>n==="shadow",D6=()=>{const n=sn("color"),e=sn("font"),t=sn("text"),r=sn("font-weight"),i=sn("tracking"),a=sn("leading"),s=sn("breakpoint"),u=sn("container"),c=sn("spacing"),h=sn("radius"),p=sn("shadow"),g=sn("inset-shadow"),y=sn("text-shadow"),_=sn("drop-shadow"),E=sn("blur"),A=sn("perspective"),C=sn("aspect"),I=sn("ease"),R=sn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...B(),Ae,we],q=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],S=()=>[Ae,we,c],M=()=>[Dl,"full","auto",...S()],U=()=>[Za,"none","subgrid",Ae,we],H=()=>["auto",{span:["full",Za,Ae,we]},Za,Ae,we],z=()=>[Za,"auto",Ae,we],j=()=>["auto","min","max","fr",Ae,we],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...S()],oe=()=>[Dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ee=()=>[n,Ae,we],Te=()=>[...B(),ME,PE,{position:[Ae,we]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",S6,C6,{size:[Ae,we]}],de=()=>[ug,Nc,ps],ce=()=>["","none","full",h,Ae,we],me=()=>["",We,Nc,ps],Me=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[We,ug,ME,PE],Re=()=>["","none",E,Ae,we],ut=()=>["none",We,Ae,we],Ge=()=>["none",We,Ae,we],je=()=>[We,Ae,we],ze=()=>[Dl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ua],breakpoint:[ua],color:[_6],container:[ua],"drop-shadow":[ua],ease:["in","out","in-out"],font:[A6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ua],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ua],shadow:[ua],spacing:["px",We],text:[ua],"text-shadow":[ua],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dl,we,Ae,C]}],container:["container"],columns:[{columns:[We,we,Ae,u]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Za,"auto",Ae,we]}],basis:[{basis:[Dl,"full","auto",u,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,Dl,"auto","initial","none",we]}],grow:[{grow:["",We,Ae,we]}],shrink:[{shrink:["",We,Ae,we]}],order:[{order:[Za,"first","last","none",Ae,we]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[u,"screen",...oe()]}],"min-w":[{"min-w":[u,"screen","none",...oe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[s]},...oe()]}],h:[{h:["screen","lh",...oe()]}],"min-h":[{"min-h":["screen","lh","none",...oe()]}],"max-h":[{"max-h":["screen","lh",...oe()]}],"font-size":[{text:["base",t,Nc,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ug,we]}],"font-family":[{font:[b6,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ae,we]}],"line-clamp":[{"line-clamp":[We,"none",Ae,cg]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Ae,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ae,ps]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[We,"auto",Ae,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Te()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Za,Ae,we],radial:["",Ae,we],conic:[Za,Ae,we]},I6,T6]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ae,we]}],"outline-w":[{outline:["",We,Nc,ps]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,id,rd]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,id,rd]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[We,ps]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",y,id,rd]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[We,Ae,we]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Ae,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Te()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,we]}],filter:[{filter:["","none",Ae,we]}],blur:[{blur:Re()}],brightness:[{brightness:[We,Ae,we]}],contrast:[{contrast:[We,Ae,we]}],"drop-shadow":[{"drop-shadow":["","none",_,id,rd]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",We,Ae,we]}],"hue-rotate":[{"hue-rotate":[We,Ae,we]}],invert:[{invert:["",We,Ae,we]}],saturate:[{saturate:[We,Ae,we]}],sepia:[{sepia:["",We,Ae,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,we]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ae,we]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ae,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ae,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ae,we]}],"backdrop-invert":[{"backdrop-invert":["",We,Ae,we]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ae,we]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ae,we]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ae,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ae,we]}],ease:[{ease:["linear","initial",I,Ae,we]}],delay:[{delay:[We,Ae,we]}],animate:[{animate:["none",R,Ae,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ae,we]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:ut()}],"rotate-x":[{"rotate-x":ut()}],"rotate-y":[{"rotate-y":ut()}],"rotate-z":[{"rotate-z":ut()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[Ae,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,we]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[We,Nc,ps,cg]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},N6=h6(D6);function At(...n){return N6(LT(n))}function P6({className:n,...e}){return P.jsx(Y8,{"data-slot":"tabs",className:At("flex flex-col gap-2",n),...e})}function M6({className:n,...e}){return P.jsx($8,{"data-slot":"tabs-list",className:At("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function Nl({className:n,...e}){return P.jsx(Q8,{"data-slot":"tabs-trigger",className:At("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Pl({className:n,...e}){return P.jsx(Z8,{"data-slot":"tabs-content",className:At("flex-1 outline-none",n),...e})}const LE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,kE=LT,L6=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return kE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,s=Object.keys(i).map(h=>{const p=t==null?void 0:t[h],g=a==null?void 0:a[h];if(p===null)return null;const y=LE(p)||LE(g);return i[h][y]}),u=t&&Object.entries(t).reduce((h,p)=>{let[g,y]=p;return y===void 0||(h[g]=y),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:g,className:y,..._}=p;return Object.entries(_).every(E=>{let[A,C]=E;return Array.isArray(C)?C.includes({...a,...u}[A]):{...a,...u}[A]===C})?[...h,g,y]:h},[]);return kE(n,s,c,t==null?void 0:t.class,t==null?void 0:t.className)},k6=L6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function cr({className:n,variant:e,size:t,asChild:r=!1,...i}){const a=r?m8:"button";return P.jsx(a,{"data-slot":"button",className:At(k6({variant:e,size:t,className:n})),...i})}function B6({className:n,...e}){return P.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:P.jsx("table",{"data-slot":"table",className:At("w-full caption-bottom text-sm",n),...e})})}function V6({className:n,...e}){return P.jsx("thead",{"data-slot":"table-header",className:At("[&_tr]:border-b",n),...e})}function F6({className:n,...e}){return P.jsx("tbody",{"data-slot":"table-body",className:At("[&_tr:last-child]:border-0",n),...e})}function fg({className:n,...e}){return P.jsx("tr",{"data-slot":"table-row",className:At("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function BE({className:n,...e}){return P.jsx("th",{"data-slot":"table-head",className:At("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function hg({className:n,...e}){return P.jsx("td",{"data-slot":"table-cell",className:At("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function XT(n){return{...n,createdDate:n.createdDate.toDate()}}function U6({columns:n,data:e,openEditDialog:t,deleteData:r}){const i=async(s,u)=>{s.stopPropagation(),await r(u)};function a(s,u=!1){const c=XT(s);return u?P.jsxs("div",{className:"border rounded-lg p-4 bg-card text-card-foreground shadow-sm",children:[P.jsx("div",{onClick:()=>t(c),className:"space-y-3 mb-4",children:n.map((h,p)=>P.jsxs("div",{className:"flex justify-between items-start text-sm",children:[P.jsx("span",{className:"font-semibold text-muted-foreground",children:h.header}),P.jsx("span",{className:"text-right break-all",children:h.accessorFn?h.accessorFn(c):String(c[h.accessorKey]??"")})]},p))}),P.jsx("div",{className:"flex justify-end border-t pt-4",children:P.jsx(cr,{variant:"destructive",size:"sm",onClick:h=>i(h,String(c.id)),children:"Delete"})})]},s.id):P.jsxs(fg,{onClick:()=>t(c),className:"cursor-pointer hover:bg-gray-50",children:[n.map((h,p)=>{var g;return P.jsx(hg,{children:h.accessorFn?h.accessorFn(c):String(c[h.accessorKey]??"")},((g=h.accessorKey)==null?void 0:g.toString())||p)}),P.jsx(hg,{className:"text-right",children:P.jsx(cr,{variant:"destructive",size:"sm",onClick:h=>i(h,String(s.id)),children:"Delete"})})]},s.id)}return P.jsxs("div",{className:"w-full",children:[P.jsx("div",{className:"hidden sm:block",children:P.jsxs(B6,{children:[P.jsx(V6,{children:P.jsxs(fg,{children:[n.map((s,u)=>{var c;return P.jsx(BE,{children:s.header},((c=s.accessorKey)==null?void 0:c.toString())||u)}),P.jsx(BE,{className:"text-right",children:"Actions"})]})}),P.jsx(F6,{children:e.length?e.map(s=>a(s)):P.jsx(fg,{children:P.jsx(hg,{colSpan:n.length+1,className:"text-center",children:"No data available."})})})]})}),P.jsxs("div",{className:"block sm:hidden space-y-4",children:[e.map(s=>a(s,!0)),e.length===0&&P.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No data available."})]})]})}const WT=(n=!1)=>{const e=[{value:"g",label:"g"},{value:"kg",label:"kg"},{value:"ml",label:"ml"},{value:"l",label:"L"},{value:"oz",label:"oz"},{value:"lb",label:"lb"},{value:"unit",label:"unit(s)"}];return n?e:[...e,{value:"unit",label:"unit(s)"},{value:"Tbs",label:"tbsp"},{value:"tsp",label:"tsp"},{value:"cup",label:"cup"}]},KT=[{name:"name",label:"Ingredient Name",type:"text",required:!0,placeholder:"e.g., Flour"},{name:"type",label:"Type",type:"select",required:!0,relatedCollection:"ingredientType"},{name:"location",label:"Location",type:"select-firebase",required:!0,relatedCollection:"location"},{name:"shop",label:"Shop",type:"select",required:!0,relatedCollection:"shop"}],YT={name:"quantity",label:"Quantity",type:"quantity",min:0,step:.01,required:!0,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:WT(!0)}]},$T=[...KT,YT],j6=[...KT,YT];function z6(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n);L.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var H6="DismissableLayer",Bv="dismissableLayer.update",G6="dismissableLayer.pointerDownOutside",q6="dismissableLayer.focusOutside",VE,QT=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v0=L.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:u,...c}=n,h=L.useContext(QT),[p,g]=L.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=L.useState({}),E=Vt(e,O=>g(O)),A=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),I=A.indexOf(C),R=p?A.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,B=R>=I,F=K6(O=>{const S=O.target,M=[...h.branches].some(U=>U.contains(S));!B||M||(i==null||i(O),s==null||s(O),O.defaultPrevented||u==null||u())},y),q=Y6(O=>{const S=O.target;[...h.branches].some(U=>U.contains(S))||(a==null||a(O),s==null||s(O),O.defaultPrevented||u==null||u())},y);return z6(O=>{R===h.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},y),L.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(VE=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),FE(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=VE)}},[p,y,t,h]),L.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),FE())},[p,h]),L.useEffect(()=>{const O=()=>_({});return document.addEventListener(Bv,O),()=>document.removeEventListener(Bv,O)},[]),P.jsx(st.div,{...c,ref:E,style:{pointerEvents:D?B?"auto":"none":void 0,...n.style},onFocusCapture:qe(n.onFocusCapture,q.onFocusCapture),onBlurCapture:qe(n.onBlurCapture,q.onBlurCapture),onPointerDownCapture:qe(n.onPointerDownCapture,F.onPointerDownCapture)})});v0.displayName=H6;var X6="DismissableLayerBranch",W6=L.forwardRef((n,e)=>{const t=L.useContext(QT),r=L.useRef(null),i=Vt(e,r);return L.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),P.jsx(st.div,{...n,ref:i})});W6.displayName=X6;function K6(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n),r=L.useRef(!1),i=L.useRef(()=>{});return L.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let c=function(){ZT(G6,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Y6(n,e=globalThis==null?void 0:globalThis.document){const t=yo(n),r=L.useRef(!1);return L.useEffect(()=>{const i=a=>{a.target&&!r.current&&ZT(q6,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FE(){const n=new CustomEvent(Bv);document.dispatchEvent(n)}function ZT(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?S8(i,a):i.dispatchEvent(a)}var dg="focusScope.autoFocusOnMount",pg="focusScope.autoFocusOnUnmount",UE={bubbles:!1,cancelable:!0},$6="FocusScope",Gm=L.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=n,[u,c]=L.useState(null),h=yo(i),p=yo(a),g=L.useRef(null),y=Vt(e,A=>c(A)),_=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(r){let A=function(D){if(_.paused||!u)return;const B=D.target;u.contains(B)?g.current=B:ro(g.current,{select:!0})},C=function(D){if(_.paused||!u)return;const B=D.relatedTarget;B!==null&&(u.contains(B)||ro(g.current,{select:!0}))},I=function(D){if(document.activeElement===document.body)for(const F of D)F.removedNodes.length>0&&ro(u)};document.addEventListener("focusin",A),document.addEventListener("focusout",C);const R=new MutationObserver(I);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",C),R.disconnect()}}},[r,u,_.paused]),L.useEffect(()=>{if(u){zE.add(_);const A=document.activeElement;if(!u.contains(A)){const I=new CustomEvent(dg,UE);u.addEventListener(dg,h),u.dispatchEvent(I),I.defaultPrevented||(Q6(nO(JT(u)),{select:!0}),document.activeElement===A&&ro(u))}return()=>{u.removeEventListener(dg,h),setTimeout(()=>{const I=new CustomEvent(pg,UE);u.addEventListener(pg,p),u.dispatchEvent(I),I.defaultPrevented||ro(A??document.body,{select:!0}),u.removeEventListener(pg,p),zE.remove(_)},0)}}},[u,h,p,_]);const E=L.useCallback(A=>{if(!t&&!r||_.paused)return;const C=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,I=document.activeElement;if(C&&I){const R=A.currentTarget,[D,B]=Z6(R);D&&B?!A.shiftKey&&I===B?(A.preventDefault(),t&&ro(D,{select:!0})):A.shiftKey&&I===D&&(A.preventDefault(),t&&ro(B,{select:!0})):I===R&&A.preventDefault()}},[t,r,_.paused]);return P.jsx(st.div,{tabIndex:-1,...s,ref:y,onKeyDown:E})});Gm.displayName=$6;function Q6(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ro(r,{select:e}),document.activeElement!==t)return}function Z6(n){const e=JT(n),t=jE(e,n),r=jE(e.reverse(),n);return[t,r]}function JT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function jE(n,e){for(const t of n)if(!J6(t,{upTo:e}))return t}function J6(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function eO(n){return n instanceof HTMLInputElement&&"select"in n}function ro(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&eO(n)&&e&&n.select()}}var zE=tO();function tO(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=HE(n,e),n.unshift(e)},remove(e){var t;n=HE(n,e),(t=n[0])==null||t.resume()}}}function HE(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function nO(n){return n.filter(e=>e.tagName!=="A")}var rO="Portal",m0=L.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=L.useState(!1);Wn(()=>a(!0),[]);const s=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return s?T8.createPortal(P.jsx(st.div,{...r,ref:e}),s):null});m0.displayName=rO;var gg=0;function eb(){L.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??GE()),document.body.insertAdjacentElement("beforeend",n[1]??GE()),gg++,()=>{gg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gg--}},[])}function GE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var bi=function(){return bi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},bi.apply(this,arguments)};function pf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function iO(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Ed="right-scroll-bar-position",wd="width-before-scroll-bar",aO="with-scroll-bars-hidden",oO="--removed-body-scroll-bar-size";function vg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function sO(n,e){var t=L.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var lO=typeof window<"u"?L.useLayoutEffect:L.useEffect,qE=new WeakMap;function uO(n,e){var t=sO(null,function(r){return n.forEach(function(i){return vg(i,r)})});return lO(function(){var r=qE.get(t);if(r){var i=new Set(r),a=new Set(n),s=t.current;i.forEach(function(u){a.has(u)||vg(u,null)}),a.forEach(function(u){i.has(u)||vg(u,s)})}qE.set(t,n)},[n]),t}function cO(n){return n}function fO(n,e){e===void 0&&(e=cO);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var s=e(a,r);return t.push(s),function(){t=t.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(r=!0;t.length;){var s=t;t=[],s.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var s=[];if(t.length){var u=t;t=[],u.forEach(a),s=t}var c=function(){var p=s;s=[],p.forEach(a)},h=function(){return Promise.resolve().then(c)};h(),t={push:function(p){s.push(p),h()},filter:function(p){return s=s.filter(p),t}}}};return i}function hO(n){n===void 0&&(n={});var e=fO(null);return e.options=bi({async:!0,ssr:!1},n),e}var tb=function(n){var e=n.sideCar,t=pf(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return L.createElement(r,bi({},t))};tb.isSideCarExport=!0;function dO(n,e){return n.useMedium(e),tb}var nb=hO(),mg=function(){},y0=L.forwardRef(function(n,e){var t=L.useRef(null),r=L.useState({onScrollCapture:mg,onWheelCapture:mg,onTouchMoveCapture:mg}),i=r[0],a=r[1],s=n.forwardProps,u=n.children,c=n.className,h=n.removeScrollBar,p=n.enabled,g=n.shards,y=n.sideCar,_=n.noRelative,E=n.noIsolation,A=n.inert,C=n.allowPinchZoom,I=n.as,R=I===void 0?"div":I,D=n.gapMode,B=pf(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=y,q=uO([t,e]),O=bi(bi({},B),i);return L.createElement(L.Fragment,null,p&&L.createElement(F,{sideCar:nb,removeScrollBar:h,shards:g,noRelative:_,noIsolation:E,inert:A,setCallbacks:a,allowPinchZoom:!!C,lockRef:t,gapMode:D}),s?L.cloneElement(L.Children.only(u),bi(bi({},O),{ref:q})):L.createElement(R,bi({},O,{className:c,ref:q}),u))});y0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};y0.classNames={fullWidth:wd,zeroRight:Ed};var pO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=pO();return e&&n.setAttribute("nonce",e),n}function vO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function mO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var yO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=gO())&&(vO(e,t),mO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_O=function(){var n=yO();return function(e,t){L.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},rb=function(){var n=_O(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},xO={left:0,top:0,right:0,gap:0},yg=function(n){return parseInt(n||"",10)||0},EO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[yg(t),yg(r),yg(i)]},wO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return xO;var e=EO(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},AO=rb(),ql="data-scroll-locked",CO=function(n,e,t,r){var i=n.left,a=n.top,s=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(aO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(wd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ql,`] {
    `).concat(oO,": ").concat(u,`px;
  }
`)},XE=function(){var n=parseInt(document.body.getAttribute(ql)||"0",10);return isFinite(n)?n:0},TO=function(){L.useEffect(function(){return document.body.setAttribute(ql,(XE()+1).toString()),function(){var n=XE()-1;n<=0?document.body.removeAttribute(ql):document.body.setAttribute(ql,n.toString())}},[])},bO=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;TO();var a=L.useMemo(function(){return wO(i)},[i]);return L.createElement(AO,{styles:CO(a,!e,i,t?"":"!important")})},Vv=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return Vv=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{Vv=!1}var Ml=Vv?{passive:!1}:!1,SO=function(n){return n.tagName==="TEXTAREA"},ib=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!SO(n)&&t[e]==="visible")},IO=function(n){return ib(n,"overflowY")},RO=function(n){return ib(n,"overflowX")},WE=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ab(n,r);if(i){var a=ob(n,r),s=a[1],u=a[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},OO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},DO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},ab=function(n,e){return n==="v"?IO(e):RO(e)},ob=function(n,e){return n==="v"?OO(e):DO(e)},NO=function(n,e){return n==="h"&&e==="rtl"?-1:1},PO=function(n,e,t,r,i){var a=NO(n,window.getComputedStyle(e).direction),s=a*r,u=t.target,c=e.contains(u),h=!1,p=s>0,g=0,y=0;do{if(!u)break;var _=ob(n,u),E=_[0],A=_[1],C=_[2],I=A-C-a*E;(E||I)&&ab(n,u)&&(g+=I,y+=E);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(h=!0),h},od=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},KE=function(n){return[n.deltaX,n.deltaY]},YE=function(n){return n&&"current"in n?n.current:n},MO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},LO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},kO=0,Ll=[];function BO(n){var e=L.useRef([]),t=L.useRef([0,0]),r=L.useRef(),i=L.useState(kO++)[0],a=L.useState(rb)[0],s=L.useRef(n);L.useEffect(function(){s.current=n},[n]),L.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=iO([n.lockRef.current],(n.shards||[]).map(YE),!0).filter(Boolean);return A.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=L.useCallback(function(A,C){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!s.current.allowPinchZoom;var I=od(A),R=t.current,D="deltaX"in A?A.deltaX:R[0]-I[0],B="deltaY"in A?A.deltaY:R[1]-I[1],F,q=A.target,O=Math.abs(D)>Math.abs(B)?"h":"v";if("touches"in A&&O==="h"&&q.type==="range")return!1;var S=WE(O,q);if(!S)return!0;if(S?F=O:(F=O==="v"?"h":"v",S=WE(O,q)),!S)return!1;if(!r.current&&"changedTouches"in A&&(D||B)&&(r.current=F),!F)return!0;var M=r.current||F;return PO(M,C,A,M==="h"?D:B)},[]),c=L.useCallback(function(A){var C=A;if(!(!Ll.length||Ll[Ll.length-1]!==a)){var I="deltaY"in C?KE(C):od(C),R=e.current.filter(function(F){return F.name===C.type&&(F.target===C.target||C.target===F.shadowParent)&&MO(F.delta,I)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var D=(s.current.shards||[]).map(YE).filter(Boolean).filter(function(F){return F.contains(C.target)}),B=D.length>0?u(C,D[0]):!s.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),h=L.useCallback(function(A,C,I,R){var D={name:A,delta:C,target:I,should:R,shadowParent:VO(I)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(B){return B!==D})},1)},[]),p=L.useCallback(function(A){t.current=od(A),r.current=void 0},[]),g=L.useCallback(function(A){h(A.type,KE(A),A.target,u(A,n.lockRef.current))},[]),y=L.useCallback(function(A){h(A.type,od(A),A.target,u(A,n.lockRef.current))},[]);L.useEffect(function(){return Ll.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",c,Ml),document.addEventListener("touchmove",c,Ml),document.addEventListener("touchstart",p,Ml),function(){Ll=Ll.filter(function(A){return A!==a}),document.removeEventListener("wheel",c,Ml),document.removeEventListener("touchmove",c,Ml),document.removeEventListener("touchstart",p,Ml)}},[]);var _=n.removeScrollBar,E=n.inert;return L.createElement(L.Fragment,null,E?L.createElement(a,{styles:LO(i)}):null,_?L.createElement(bO,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function VO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const FO=dO(nb,BO);var qm=L.forwardRef(function(n,e){return L.createElement(y0,bi({},n,{ref:e,sideCar:FO}))});qm.classNames=y0.classNames;var UO=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},kl=new WeakMap,sd=new WeakMap,ld={},_g=0,sb=function(n){return n&&(n.host||sb(n.parentNode))},jO=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=sb(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},zO=function(n,e,t,r){var i=jO(e,Array.isArray(n)?n:[n]);ld[t]||(ld[t]=new WeakMap);var a=ld[t],s=[],u=new Set,c=new Set(i),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(y){if(u.has(y))p(y);else try{var _=y.getAttribute(r),E=_!==null&&_!=="false",A=(kl.get(y)||0)+1,C=(a.get(y)||0)+1;kl.set(y,A),a.set(y,C),s.push(y),A===1&&E&&sd.set(y,!0),C===1&&y.setAttribute(t,"true"),E||y.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",y,I)}})};return p(e),u.clear(),_g++,function(){s.forEach(function(g){var y=kl.get(g)-1,_=a.get(g)-1;kl.set(g,y),a.set(g,_),y||(sd.has(g)||g.removeAttribute(r),sd.delete(g)),_||g.removeAttribute(t)}),_g--,_g||(kl=new WeakMap,kl=new WeakMap,sd=new WeakMap,ld={})}},lb=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=UO(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),zO(r,i,t,"aria-hidden")):function(){return null}},_0="Dialog",[ub,dH]=Ls(_0),[HO,oi]=ub(_0),cb=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=n,u=L.useRef(null),c=L.useRef(null),[h,p]=Zl({prop:r,defaultProp:i??!1,onChange:a,caller:_0});return P.jsx(HO,{scope:e,triggerRef:u,contentRef:c,contentId:pa(),titleId:pa(),descriptionId:pa(),open:h,onOpenChange:p,onOpenToggle:L.useCallback(()=>p(g=>!g),[p]),modal:s,children:t})};cb.displayName=_0;var fb="DialogTrigger",GO=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(fb,t),a=Vt(e,i.triggerRef);return P.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Km(i.open),...r,ref:a,onClick:qe(n.onClick,i.onOpenToggle)})});GO.displayName=fb;var Xm="DialogPortal",[qO,hb]=ub(Xm,{forceMount:void 0}),db=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=oi(Xm,e);return P.jsx(qO,{scope:e,forceMount:t,children:L.Children.map(r,s=>P.jsx(ks,{present:t||a.open,children:P.jsx(m0,{asChild:!0,container:i,children:s})}))})};db.displayName=Xm;var Vd="DialogOverlay",pb=L.forwardRef((n,e)=>{const t=hb(Vd,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=oi(Vd,n.__scopeDialog);return a.modal?P.jsx(ks,{present:r||a.open,children:P.jsx(WO,{...i,ref:e})}):null});pb.displayName=Vd;var XO=Ql("DialogOverlay.RemoveScroll"),WO=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(Vd,t);return P.jsx(qm,{as:XO,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(st.div,{"data-state":Km(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ts="DialogContent",gb=L.forwardRef((n,e)=>{const t=hb(Ts,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=oi(Ts,n.__scopeDialog);return P.jsx(ks,{present:r||a.open,children:a.modal?P.jsx(KO,{...i,ref:e}):P.jsx(YO,{...i,ref:e})})});gb.displayName=Ts;var KO=L.forwardRef((n,e)=>{const t=oi(Ts,n.__scopeDialog),r=L.useRef(null),i=Vt(e,t.contentRef,r);return L.useEffect(()=>{const a=r.current;if(a)return lb(a)},[]),P.jsx(vb,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(n.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=t.triggerRef.current)==null||s.focus()}),onPointerDownOutside:qe(n.onPointerDownOutside,a=>{const s=a.detail.originalEvent,u=s.button===0&&s.ctrlKey===!0;(s.button===2||u)&&a.preventDefault()}),onFocusOutside:qe(n.onFocusOutside,a=>a.preventDefault())})}),YO=L.forwardRef((n,e)=>{const t=oi(Ts,n.__scopeDialog),r=L.useRef(!1),i=L.useRef(!1);return P.jsx(vb,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,u;(s=n.onCloseAutoFocus)==null||s.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,h;(c=n.onInteractOutside)==null||c.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),vb=L.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=n,u=oi(Ts,t),c=L.useRef(null),h=Vt(e,c);return eb(),P.jsxs(P.Fragment,{children:[P.jsx(Gm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:P.jsx(v0,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Km(u.open),...s,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx($O,{titleId:u.titleId}),P.jsx(ZO,{contentRef:c,descriptionId:u.descriptionId})]})]})}),Wm="DialogTitle",mb=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(Wm,t);return P.jsx(st.h2,{id:i.titleId,...r,ref:e})});mb.displayName=Wm;var yb="DialogDescription",_b=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(yb,t);return P.jsx(st.p,{id:i.descriptionId,...r,ref:e})});_b.displayName=yb;var xb="DialogClose",Eb=L.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=oi(xb,t);return P.jsx(st.button,{type:"button",...r,ref:e,onClick:qe(n.onClick,()=>i.onOpenChange(!1))})});Eb.displayName=xb;function Km(n){return n?"open":"closed"}var wb="DialogTitleWarning",[pH,Ab]=g8(wb,{contentName:Ts,titleName:Wm,docsSlug:"dialog"}),$O=({titleId:n})=>{const e=Ab(wb),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},QO="DialogDescriptionWarning",ZO=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ab(QO).contentName}}.`;return L.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},JO=cb,eD=db,tD=pb,nD=gb,rD=mb,iD=_b,aD=Eb;/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),$E=n=>{const e=sD(n);return e.charAt(0).toUpperCase()+e.slice(1)},Cb=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),lD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>L.createElement("svg",{ref:c,...uD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Cb("lucide",i),...!a&&!lD(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>L.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=(n,e)=>{const t=L.forwardRef(({className:r,...i},a)=>L.createElement(cD,{ref:a,iconNode:e,className:Cb(`lucide-${oD($E(n))}`,`lucide-${n}`,r),...i}));return t.displayName=$E(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hD=hu("check",fD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tb=hu("chevron-down",dD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gD=hu("chevron-up",pD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QE=hu("save",vD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],yD=hu("trash-2",mD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xD=hu("x",_D);function ED({...n}){return P.jsx(JO,{"data-slot":"dialog",...n})}function wD({...n}){return P.jsx(eD,{"data-slot":"dialog-portal",...n})}function AD({className:n,...e}){return P.jsx(tD,{"data-slot":"dialog-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function CD({className:n,children:e,showCloseButton:t=!0,...r}){return P.jsxs(wD,{"data-slot":"dialog-portal",children:[P.jsx(AD,{}),P.jsxs(nD,{"data-slot":"dialog-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[e,t&&P.jsxs(aD,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[P.jsx(xD,{}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function TD({className:n,...e}){return P.jsx("div",{"data-slot":"dialog-header",className:At("flex flex-col gap-2 text-center sm:text-left",n),...e})}function bD({className:n,...e}){return P.jsx(rD,{"data-slot":"dialog-title",className:At("text-lg leading-none font-semibold",n),...e})}function SD({className:n,...e}){return P.jsx(iD,{"data-slot":"dialog-description",className:At("text-muted-foreground text-sm",n),...e})}var ID="Label",bb=L.forwardRef((n,e)=>P.jsx(st.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));bb.displayName=ID;var RD=bb;function Fd({className:n,...e}){return P.jsx(RD,{"data-slot":"label",className:At("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}var xg,ZE;function Ym(){if(ZE)return xg;ZE=1;var n={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};return xg=n,xg}var Eg,JE;function x0(){if(JE)return Eg;JE=1;var n=Ym();function e(t){return!!(t&&n[typeof t])}return Eg=e,Eg}var wg,ew;function gf(){if(ew)return wg;ew=1;var n=Object.prototype,e=n.toString,t=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return wg=t,wg}var Ag,tw;function OD(){if(tw)return Ag;tw=1;var n=Ym(),e=Object.prototype,t=e.hasOwnProperty,r=function(i){var a,s=i,u=[];if(!s||!n[typeof i])return u;for(a in s)t.call(s,a)&&u.push(a);return u};return Ag=r,Ag}var Cg,nw;function Sb(){if(nw)return Cg;nw=1;var n=x0(),e=gf(),t=OD(),r=e.test(r=Object.keys)&&r,i=r?function(a){return n(a)?r(a):[]}:t;return Cg=i,Cg}var Tg,rw;function Ib(){if(rw)return Tg;rw=1;function n(){}return Tg=n,Tg}var bg,iw;function Rb(){if(iw)return bg;iw=1;var n=x0();Ib();var e=gf(),t=e.test(t=Object.create)&&t;function r(i,a){return n(i)?t(i):{}}return t||(r=function(){function i(){}return function(a){if(n(a)){i.prototype=a;var s=new i;i.prototype=null}return s||hT.Object()}}()),bg=r,bg}var Sg,aw;function $m(){if(aw)return Sg;aw=1;var n=Ib(),e=gf(),t={configurable:!1,enumerable:!1,value:null,writable:!1},r=function(){try{var a={},s=e.test(s=Object.defineProperty)&&s,u=s(a,a,a)&&s}catch{}return u}(),i=r?function(a,s){t.value=s,r(a,"__bindData__",t)}:n;return Sg=i,Sg}var Ig,ow;function DD(){if(ow)return Ig;ow=1;var n=Rb(),e=x0(),t=$m(),r=[],i=r.push;function a(s){var u=s[0],c=s[2],h=s[4];function p(){if(c){var g=c.slice();i.apply(g,arguments)}if(this instanceof p){var y=n(u.prototype),_=u.apply(y,g||arguments);return e(_)?_:y}return u.apply(h,g||arguments)}return t(p,s),p}return Ig=a,Ig}var Rg,sw;function Ob(){if(sw)return Rg;sw=1;function n(e,t,r){t||(t=0),typeof r>"u"&&(r=e?e.length:0);for(var i=-1,a=r-t||0,s=Array(a<0?0:a);++i<a;)s[i]=e[t+i];return s}return Rg=n,Rg}var Og,lw;function ND(){if(lw)return Og;lw=1;var n=Rb(),e=x0(),t=$m(),r=Ob(),i=[],a=i.push;function s(u){var c=u[0],h=u[1],p=u[2],g=u[3],y=u[4],_=u[5],E=h&1,A=h&2,C=h&4,I=h&8,R=c;function D(){var B=E?y:this;if(p){var F=p.slice();a.apply(F,arguments)}if((g||C)&&(F||(F=r(arguments)),g&&a.apply(F,g),C&&F.length<_))return h|=16,s([c,I?h:h&-4,F,null,y,_]);if(F||(F=arguments),A&&(c=B[R]),this instanceof D){B=n(c.prototype);var q=c.apply(B,F);return e(q)?q:B}return c.apply(B,F)}return t(D,u),D}return Og=s,Og}var Dg,uw;function PD(){if(uw)return Dg;uw=1;function n(e){return typeof e=="function"}return Dg=n,Dg}var Ng,cw;function MD(){if(cw)return Ng;cw=1;var n=DD(),e=ND(),t=PD(),r=[],i=r.push;function a(s,u,c,h,p,g){var y=u&1,_=u&2,E=u&4,A=u&16,C=u&32;if(!_&&!t(s))throw new TypeError;A&&!c.length&&(u&=-17,A=c=!1),C&&!h.length&&(u&=-33,C=h=!1);var I=s&&s.__bindData__;if(I&&I!==!0)return I=I.slice(),y&&!(I[1]&1)&&(I[4]=p),!y&&I[1]&1&&(u|=8),E&&!(I[1]&4)&&(I[5]=g),A&&i.apply(I[2]||(I[2]=[]),c),C&&i.apply(I[3]||(I[3]=[]),h),I[1]|=u,a.apply(null,I);var R=u==1||u===17?n:e;return R([s,u,c,h,p,g])}return Ng=a,Ng}var Pg,fw;function LD(){if(fw)return Pg;fw=1;var n=MD();gf();var e=Ob();function t(r,i){return arguments.length>2?n(r,17,e(arguments,2),null,i):n(r,1,null,null,i)}return Pg=t,Pg}var Mg,hw;function kD(){if(hw)return Mg;hw=1;function n(e){return e}return Mg=n,Mg}var Lg,dw;function BD(){if(dw)return Lg;dw=1;var n=gf(),e=/\bthis\b/,t={};return t.funcDecomp=!n.test(hT.WinRTError)&&e.test(function(){return this}),t.funcNames=typeof Function.name=="string",Lg=t,Lg}var kg,pw;function Db(){if(pw)return kg;pw=1;var n=LD(),e=kD(),t=$m(),r=BD(),i=/^\s*function[ \n\r\t]+\w/,a=/\bthis\b/,s=Function.prototype.toString;function u(c,h,p){if(typeof c!="function")return e;if(typeof h>"u"||!("prototype"in c))return c;var g=c.__bindData__;if(typeof g>"u"&&(r.funcNames&&(g=!c.name),g=g||!r.funcDecomp,!g)){var y=s.call(c);r.funcNames||(g=!i.test(y)),g||(g=a.test(y),t(c,g))}if(g===!1||g!==!0&&g[1]&1)return c;switch(p){case 1:return function(_){return c.call(h,_)};case 2:return function(_,E){return c.call(h,_,E)};case 3:return function(_,E,A){return c.call(h,_,E,A)};case 4:return function(_,E,A,C){return c.call(h,_,E,A,C)}}return n(c,h)}return kg=u,kg}var Bg,gw;function VD(){if(gw)return Bg;gw=1;var n=Db(),e=Sb(),t=Ym(),r=function(i,a,s){var u,c=i,h=c;if(!c||!t[typeof c])return h;a=a&&typeof s>"u"?a:n(a,s,3);for(var p=-1,g=t[typeof c]&&e(c),y=g?g.length:0;++p<y;)if(u=g[p],a(c[u],u,i)===!1)return h;return h};return Bg=r,Bg}var Vg,vw;function FD(){if(vw)return Vg;vw=1;var n=Db(),e=VD();function t(r,i,a){var s=-1,u=r?r.length:0;if(i=i&&typeof a>"u"?i:n(i,a,3),typeof u=="number")for(;++s<u&&i(r[s],s,r)!==!1;);else e(r,i);return r}return Vg=t,Vg}var Fg,mw;function UD(){if(mw)return Fg;mw=1;var n,e;return n={mm:{name:{singular:"Millimeter",plural:"Millimeters"},to_anchor:1/1e3},cm:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/100},m:{name:{singular:"Meter",plural:"Meters"},to_anchor:1},km:{name:{singular:"Kilometer",plural:"Kilometers"},to_anchor:1e3}},e={in:{name:{singular:"Inch",plural:"Inches"},to_anchor:1/12},yd:{name:{singular:"Yard",plural:"Yards"},to_anchor:3},"ft-us":{name:{singular:"US Survey Foot",plural:"US Survey Feet"},to_anchor:1.000002},ft:{name:{singular:"Foot",plural:"Feet"},to_anchor:1},mi:{name:{singular:"Mile",plural:"Miles"},to_anchor:5280}},Fg={metric:n,imperial:e,_anchors:{metric:{unit:"m",ratio:3.28084},imperial:{unit:"ft",ratio:1/3.28084}}},Fg}var Ug,yw;function jD(){if(yw)return Ug;yw=1;var n,e;return n={mm2:{name:{singular:"Square Millimeter",plural:"Square Millimeters"},to_anchor:1/1e6},cm2:{name:{singular:"Centimeter",plural:"Centimeters"},to_anchor:1/1e4},m2:{name:{singular:"Square Meter",plural:"Square Meters"},to_anchor:1},ha:{name:{singular:"Hectare",plural:"Hectares"},to_anchor:1e4},km2:{name:{singular:"Square Kilometer",plural:"Square Kilometers"},to_anchor:1e6}},e={in2:{name:{singular:"Square Inch",plural:"Square Inches"},to_anchor:1/144},yd2:{name:{singular:"Square Yard",plural:"Square Yards"},to_anchor:9},ft2:{name:{singular:"Square Foot",plural:"Square Feet"},to_anchor:1},ac:{name:{singular:"Acre",plural:"Acres"},to_anchor:43560},mi2:{name:{singular:"Square Mile",plural:"Square Miles"},to_anchor:27878400}},Ug={metric:n,imperial:e,_anchors:{metric:{unit:"m2",ratio:10.7639},imperial:{unit:"ft2",ratio:1/10.7639}}},Ug}var jg,_w;function zD(){if(_w)return jg;_w=1;var n,e;return n={mcg:{name:{singular:"Microgram",plural:"Micrograms"},to_anchor:1/1e6},mg:{name:{singular:"Milligram",plural:"Milligrams"},to_anchor:1/1e3},g:{name:{singular:"Gram",plural:"Grams"},to_anchor:1},kg:{name:{singular:"Kilogram",plural:"Kilograms"},to_anchor:1e3},mt:{name:{singular:"Metric Tonne",plural:"Metric Tonnes"},to_anchor:1e6}},e={oz:{name:{singular:"Ounce",plural:"Ounces"},to_anchor:1/16},lb:{name:{singular:"Pound",plural:"Pounds"},to_anchor:1},t:{name:{singular:"Ton",plural:"Tons"},to_anchor:2e3}},jg={metric:n,imperial:e,_anchors:{metric:{unit:"g",ratio:1/453.592},imperial:{unit:"lb",ratio:453.592}}},jg}var zg,xw;function HD(){if(xw)return zg;xw=1;var n,e;return n={mm3:{name:{singular:"Cubic Millimeter",plural:"Cubic Millimeters"},to_anchor:1/1e6},cm3:{name:{singular:"Cubic Centimeter",plural:"Cubic Centimeters"},to_anchor:1/1e3},ml:{name:{singular:"Millilitre",plural:"Millilitres"},to_anchor:1/1e3},cl:{name:{singular:"Centilitre",plural:"Centilitres"},to_anchor:1/100},dl:{name:{singular:"Decilitre",plural:"Decilitres"},to_anchor:1/10},l:{name:{singular:"Litre",plural:"Litres"},to_anchor:1},kl:{name:{singular:"Kilolitre",plural:"Kilolitres"},to_anchor:1e3},m3:{name:{singular:"Cubic meter",plural:"Cubic meters"},to_anchor:1e3},km3:{name:{singular:"Cubic kilometer",plural:"Cubic kilometers"},to_anchor:1e12},krm:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:1/1e3},tsk:{name:{singular:"Tesked",plural:"Teskedar"},to_anchor:5/1e3},msk:{name:{singular:"Matsked",plural:"Matskedar"},to_anchor:15/1e3},kkp:{name:{singular:"Kaffekopp",plural:"Kaffekoppar"},to_anchor:150/1e3},glas:{name:{singular:"Glas",plural:"Glas"},to_anchor:200/1e3},kanna:{name:{singular:"Kanna",plural:"Kannor"},to_anchor:2.617}},e={tsp:{name:{singular:"Teaspoon",plural:"Teaspoons"},to_anchor:1/6},Tbs:{name:{singular:"Tablespoon",plural:"Tablespoons"},to_anchor:1/2},in3:{name:{singular:"Cubic inch",plural:"Cubic inches"},to_anchor:.55411},"fl-oz":{name:{singular:"Fluid Ounce",plural:"Fluid Ounces"},to_anchor:1},cup:{name:{singular:"Cup",plural:"Cups"},to_anchor:8},pnt:{name:{singular:"Pint",plural:"Pints"},to_anchor:16},qt:{name:{singular:"Quart",plural:"Quarts"},to_anchor:32},gal:{name:{singular:"Gallon",plural:"Gallons"},to_anchor:128},ft3:{name:{singular:"Cubic foot",plural:"Cubic feet"},to_anchor:957.506},yd3:{name:{singular:"Cubic yard",plural:"Cubic yards"},to_anchor:25852.7}},zg={metric:n,imperial:e,_anchors:{metric:{unit:"l",ratio:33.8140226},imperial:{unit:"fl-oz",ratio:1/33.8140226}}},zg}var Hg,Ew;function GD(){if(Ew)return Hg;Ew=1;var n;return n={ea:{name:{singular:"Each",plural:"Each"},to_anchor:1},dz:{name:{singular:"Dozen",plural:"Dozens"},to_anchor:12}},Hg={metric:n,imperial:{},_anchors:{metric:{unit:"ea",ratio:1}}},Hg}var Gg,ww;function qD(){if(ww)return Gg;ww=1;var n,e;return n={C:{name:{singular:"degree Celsius",plural:"degrees Celsius"},to_anchor:1,anchor_shift:0},K:{name:{singular:"degree Kelvin",plural:"degrees Kelvin"},to_anchor:1,anchor_shift:273.15}},e={F:{name:{singular:"degree Fahrenheit",plural:"degrees Fahrenheit"},to_anchor:1},R:{name:{singular:"degree Rankine",plural:"degrees Rankine"},to_anchor:1,anchor_shift:459.67}},Gg={metric:n,imperial:e,_anchors:{metric:{unit:"C",transform:function(t){return t/(5/9)+32}},imperial:{unit:"F",transform:function(t){return(t-32)*(5/9)}}}},Gg}var qg,Aw;function XD(){if(Aw)return qg;Aw=1;var n,e=365.25;return n={ns:{name:{singular:"Nanosecond",plural:"Nanoseconds"},to_anchor:1/1e9},mu:{name:{singular:"Microsecond",plural:"Microseconds"},to_anchor:1/1e6},ms:{name:{singular:"Millisecond",plural:"Milliseconds"},to_anchor:1/1e3},s:{name:{singular:"Second",plural:"Seconds"},to_anchor:1},min:{name:{singular:"Minute",plural:"Minutes"},to_anchor:60},h:{name:{singular:"Hour",plural:"Hours"},to_anchor:60*60},d:{name:{singular:"Day",plural:"Days"},to_anchor:60*60*24},week:{name:{singular:"Week",plural:"Weeks"},to_anchor:60*60*24*7},month:{name:{singular:"Month",plural:"Months"},to_anchor:60*60*24*e/12},year:{name:{singular:"Year",plural:"Years"},to_anchor:60*60*24*e}},qg={metric:n,_anchors:{metric:{unit:"s",ratio:1}}},qg}var Xg,Cw;function WD(){if(Cw)return Xg;Cw=1;var n,e;return n={b:{name:{singular:"Bit",plural:"Bits"},to_anchor:1},Kb:{name:{singular:"Kilobit",plural:"Kilobits"},to_anchor:1024},Mb:{name:{singular:"Megabit",plural:"Megabits"},to_anchor:1048576},Gb:{name:{singular:"Gigabit",plural:"Gigabits"},to_anchor:1073741824},Tb:{name:{singular:"Terabit",plural:"Terabits"},to_anchor:1099511627776}},e={B:{name:{singular:"Byte",plural:"Bytes"},to_anchor:1},KB:{name:{singular:"Kilobyte",plural:"Kilobytes"},to_anchor:1024},MB:{name:{singular:"Megabyte",plural:"Megabytes"},to_anchor:1048576},GB:{name:{singular:"Gigabyte",plural:"Gigabytes"},to_anchor:1073741824},TB:{name:{singular:"Terabyte",plural:"Terabytes"},to_anchor:1099511627776}},Xg={bits:n,bytes:e,_anchors:{bits:{unit:"b",ratio:1/8},bytes:{unit:"B",ratio:8}}},Xg}var Wg,Tw;function KD(){if(Tw)return Wg;Tw=1;var n;return n={ppm:{name:{singular:"Part-per Million",plural:"Parts-per Million"},to_anchor:1},ppb:{name:{singular:"Part-per Billion",plural:"Parts-per Billion"},to_anchor:.001},ppt:{name:{singular:"Part-per Trillion",plural:"Parts-per Trillion"},to_anchor:1e-6},ppq:{name:{singular:"Part-per Quadrillion",plural:"Parts-per Quadrillion"},to_anchor:1e-9}},Wg={metric:n,imperial:{},_anchors:{metric:{unit:"ppm",ratio:1e-6}}},Wg}var Kg,bw;function YD(){if(bw)return Kg;bw=1;var n,e;return n={"m/s":{name:{singular:"Metre per second",plural:"Metres per second"},to_anchor:3.6},"km/h":{name:{singular:"Kilometre per hour",plural:"Kilometres per hour"},to_anchor:1}},e={"m/h":{name:{singular:"Mile per hour",plural:"Miles per hour"},to_anchor:1},knot:{name:{singular:"Knot",plural:"Knots"},to_anchor:1.150779},"ft/s":{name:{singular:"Foot per second",plural:"Feet per second"},to_anchor:.681818}},Kg={metric:n,imperial:e,_anchors:{metric:{unit:"km/h",ratio:1/1.609344},imperial:{unit:"m/h",ratio:1.609344}}},Kg}var Yg,Sw;function $D(){if(Sw)return Yg;Sw=1;var n,e;return n={"min/km":{name:{singular:"Minute per kilometre",plural:"Minutes per kilometre"},to_anchor:.06},"s/m":{name:{singular:"Second per metre",plural:"Seconds per metre"},to_anchor:1}},e={"min/mi":{name:{singular:"Minute per mile",plural:"Minutes per mile"},to_anchor:.0113636},"s/ft":{name:{singular:"Second per foot",plural:"Seconds per foot"},to_anchor:1}},Yg={metric:n,imperial:e,_anchors:{metric:{unit:"s/m",ratio:.3048},imperial:{unit:"s/ft",ratio:1/.3048}}},Yg}var $g,Iw;function QD(){if(Iw)return $g;Iw=1;var n,e;return n={Pa:{name:{singular:"pascal",plural:"pascals"},to_anchor:1/1e3},kPa:{name:{singular:"kilopascal",plural:"kilopascals"},to_anchor:1},MPa:{name:{singular:"megapascal",plural:"megapascals"},to_anchor:1e3},hPa:{name:{singular:"hectopascal",plural:"hectopascals"},to_anchor:1/10},bar:{name:{singular:"bar",plural:"bar"},to_anchor:100},torr:{name:{singular:"torr",plural:"torr"},to_anchor:101325/76e4}},e={psi:{name:{singular:"pound per square inch",plural:"pounds per square inch"},to_anchor:1/1e3},ksi:{name:{singular:"kilopound per square inch",plural:"kilopound per square inch"},to_anchor:1}},$g={metric:n,imperial:e,_anchors:{metric:{unit:"kPa",ratio:.00014503768078},imperial:{unit:"psi",ratio:1/.00014503768078}}},$g}var Qg,Rw;function ZD(){if(Rw)return Qg;Rw=1;var n;return n={A:{name:{singular:"Ampere",plural:"Amperes"},to_anchor:1},mA:{name:{singular:"Milliampere",plural:"Milliamperes"},to_anchor:.001},kA:{name:{singular:"Kiloampere",plural:"Kiloamperes"},to_anchor:1e3}},Qg={metric:n,_anchors:{metric:{unit:"A",ratio:1}}},Qg}var Zg,Ow;function JD(){if(Ow)return Zg;Ow=1;var n;return n={V:{name:{singular:"Volt",plural:"Volts"},to_anchor:1},mV:{name:{singular:"Millivolt",plural:"Millivolts"},to_anchor:.001},kV:{name:{singular:"Kilovolt",plural:"Kilovolts"},to_anchor:1e3}},Zg={metric:n,_anchors:{metric:{unit:"V",ratio:1}}},Zg}var Jg,Dw;function eN(){if(Dw)return Jg;Dw=1;var n;return n={W:{name:{singular:"Watt",plural:"Watts"},to_anchor:1},mW:{name:{singular:"Milliwatt",plural:"Milliwatts"},to_anchor:.001},kW:{name:{singular:"Kilowatt",plural:"Kilowatts"},to_anchor:1e3},MW:{name:{singular:"Megawatt",plural:"Megawatts"},to_anchor:1e6},GW:{name:{singular:"Gigawatt",plural:"Gigawatts"},to_anchor:1e9}},Jg={metric:n,_anchors:{metric:{unit:"W",ratio:1}}},Jg}var ev,Nw;function tN(){if(Nw)return ev;Nw=1;var n;return n={VAR:{name:{singular:"Volt-Ampere Reactive",plural:"Volt-Amperes Reactive"},to_anchor:1},mVAR:{name:{singular:"Millivolt-Ampere Reactive",plural:"Millivolt-Amperes Reactive"},to_anchor:.001},kVAR:{name:{singular:"Kilovolt-Ampere Reactive",plural:"Kilovolt-Amperes Reactive"},to_anchor:1e3},MVAR:{name:{singular:"Megavolt-Ampere Reactive",plural:"Megavolt-Amperes Reactive"},to_anchor:1e6},GVAR:{name:{singular:"Gigavolt-Ampere Reactive",plural:"Gigavolt-Amperes Reactive"},to_anchor:1e9}},ev={metric:n,_anchors:{metric:{unit:"VAR",ratio:1}}},ev}var tv,Pw;function nN(){if(Pw)return tv;Pw=1;var n;return n={VA:{name:{singular:"Volt-Ampere",plural:"Volt-Amperes"},to_anchor:1},mVA:{name:{singular:"Millivolt-Ampere",plural:"Millivolt-Amperes"},to_anchor:.001},kVA:{name:{singular:"Kilovolt-Ampere",plural:"Kilovolt-Amperes"},to_anchor:1e3},MVA:{name:{singular:"Megavolt-Ampere",plural:"Megavolt-Amperes"},to_anchor:1e6},GVA:{name:{singular:"Gigavolt-Ampere",plural:"Gigavolt-Amperes"},to_anchor:1e9}},tv={metric:n,_anchors:{metric:{unit:"VA",ratio:1}}},tv}var nv,Mw;function rN(){if(Mw)return nv;Mw=1;var n;return n={Wh:{name:{singular:"Watt-hour",plural:"Watt-hours"},to_anchor:3600},mWh:{name:{singular:"Milliwatt-hour",plural:"Milliwatt-hours"},to_anchor:3.6},kWh:{name:{singular:"Kilowatt-hour",plural:"Kilowatt-hours"},to_anchor:36e5},MWh:{name:{singular:"Megawatt-hour",plural:"Megawatt-hours"},to_anchor:36e8},GWh:{name:{singular:"Gigawatt-hour",plural:"Gigawatt-hours"},to_anchor:36e11},J:{name:{singular:"Joule",plural:"Joules"},to_anchor:1},kJ:{name:{singular:"Kilojoule",plural:"Kilojoules"},to_anchor:1e3}},nv={metric:n,_anchors:{metric:{unit:"J",ratio:1}}},nv}var rv,Lw;function iN(){if(Lw)return rv;Lw=1;var n;return n={VARh:{name:{singular:"Volt-Ampere Reactive Hour",plural:"Volt-Amperes Reactive Hour"},to_anchor:1},mVARh:{name:{singular:"Millivolt-Ampere Reactive Hour",plural:"Millivolt-Amperes Reactive Hour"},to_anchor:.001},kVARh:{name:{singular:"Kilovolt-Ampere Reactive Hour",plural:"Kilovolt-Amperes Reactive Hour"},to_anchor:1e3},MVARh:{name:{singular:"Megavolt-Ampere Reactive Hour",plural:"Megavolt-Amperes Reactive Hour"},to_anchor:1e6},GVARh:{name:{singular:"Gigavolt-Ampere Reactive Hour",plural:"Gigavolt-Amperes Reactive Hour"},to_anchor:1e9}},rv={metric:n,_anchors:{metric:{unit:"VARh",ratio:1}}},rv}var iv,kw;function aN(){if(kw)return iv;kw=1;var n,e;return n={"mm3/s":{name:{singular:"Cubic Millimeter per second",plural:"Cubic Millimeters per second"},to_anchor:1/1e6},"cm3/s":{name:{singular:"Cubic Centimeter per second",plural:"Cubic Centimeters per second"},to_anchor:1/1e3},"ml/s":{name:{singular:"Millilitre per second",plural:"Millilitres per second"},to_anchor:1/1e3},"cl/s":{name:{singular:"Centilitre per second",plural:"Centilitres per second"},to_anchor:1/100},"dl/s":{name:{singular:"Decilitre per second",plural:"Decilitres per second"},to_anchor:1/10},"l/s":{name:{singular:"Litre per second",plural:"Litres per second"},to_anchor:1},"l/min":{name:{singular:"Litre per minute",plural:"Litres per minute"},to_anchor:1/60},"l/h":{name:{singular:"Litre per hour",plural:"Litres per hour"},to_anchor:1/3600},"kl/s":{name:{singular:"Kilolitre per second",plural:"Kilolitres per second"},to_anchor:1e3},"kl/min":{name:{singular:"Kilolitre per minute",plural:"Kilolitres per minute"},to_anchor:50/3},"kl/h":{name:{singular:"Kilolitre per hour",plural:"Kilolitres per hour"},to_anchor:5/18},"m3/s":{name:{singular:"Cubic meter per second",plural:"Cubic meters per second"},to_anchor:1e3},"m3/min":{name:{singular:"Cubic meter per minute",plural:"Cubic meters per minute"},to_anchor:50/3},"m3/h":{name:{singular:"Cubic meter per hour",plural:"Cubic meters per hour"},to_anchor:5/18},"km3/s":{name:{singular:"Cubic kilometer per second",plural:"Cubic kilometers per second"},to_anchor:1e12}},e={"tsp/s":{name:{singular:"Teaspoon per second",plural:"Teaspoons per second"},to_anchor:1/6},"Tbs/s":{name:{singular:"Tablespoon per second",plural:"Tablespoons per second"},to_anchor:1/2},"in3/s":{name:{singular:"Cubic inch per second",plural:"Cubic inches per second"},to_anchor:.55411},"in3/min":{name:{singular:"Cubic inch per minute",plural:"Cubic inches per minute"},to_anchor:.55411/60},"in3/h":{name:{singular:"Cubic inch per hour",plural:"Cubic inches per hour"},to_anchor:.55411/3600},"fl-oz/s":{name:{singular:"Fluid Ounce per second",plural:"Fluid Ounces per second"},to_anchor:1},"fl-oz/min":{name:{singular:"Fluid Ounce per minute",plural:"Fluid Ounces per minute"},to_anchor:1/60},"fl-oz/h":{name:{singular:"Fluid Ounce per hour",plural:"Fluid Ounces per hour"},to_anchor:1/3600},"cup/s":{name:{singular:"Cup per second",plural:"Cups per second"},to_anchor:8},"pnt/s":{name:{singular:"Pint per second",plural:"Pints per second"},to_anchor:16},"pnt/min":{name:{singular:"Pint per minute",plural:"Pints per minute"},to_anchor:4/15},"pnt/h":{name:{singular:"Pint per hour",plural:"Pints per hour"},to_anchor:1/225},"qt/s":{name:{singular:"Quart per second",plural:"Quarts per second"},to_anchor:32},"gal/s":{name:{singular:"Gallon per second",plural:"Gallons per second"},to_anchor:128},"gal/min":{name:{singular:"Gallon per minute",plural:"Gallons per minute"},to_anchor:32/15},"gal/h":{name:{singular:"Gallon per hour",plural:"Gallons per hour"},to_anchor:8/225},"ft3/s":{name:{singular:"Cubic foot per second",plural:"Cubic feet per second"},to_anchor:957.506},"ft3/min":{name:{singular:"Cubic foot per minute",plural:"Cubic feet per minute"},to_anchor:957.506/60},"ft3/h":{name:{singular:"Cubic foot per hour",plural:"Cubic feet per hour"},to_anchor:957.506/3600},"yd3/s":{name:{singular:"Cubic yard per second",plural:"Cubic yards per second"},to_anchor:25852.7},"yd3/min":{name:{singular:"Cubic yard per minute",plural:"Cubic yards per minute"},to_anchor:25852.7/60},"yd3/h":{name:{singular:"Cubic yard per hour",plural:"Cubic yards per hour"},to_anchor:25852.7/3600}},iv={metric:n,imperial:e,_anchors:{metric:{unit:"l/s",ratio:33.8140227},imperial:{unit:"fl-oz/s",ratio:1/33.8140227}}},iv}var av,Bw;function oN(){if(Bw)return av;Bw=1;var n,e;return n={lx:{name:{singular:"Lux",plural:"Lux"},to_anchor:1}},e={"ft-cd":{name:{singular:"Foot-candle",plural:"Foot-candles"},to_anchor:1}},av={metric:n,imperial:e,_anchors:{metric:{unit:"lx",ratio:1/10.76391},imperial:{unit:"ft-cd",ratio:10.76391}}},av}var ov,Vw;function sN(){if(Vw)return ov;Vw=1;var n;return n={mHz:{name:{singular:"millihertz",plural:"millihertz"},to_anchor:1/1e3},Hz:{name:{singular:"hertz",plural:"hertz"},to_anchor:1},kHz:{name:{singular:"kilohertz",plural:"kilohertz"},to_anchor:1e3},MHz:{name:{singular:"megahertz",plural:"megahertz"},to_anchor:1e3*1e3},GHz:{name:{singular:"gigahertz",plural:"gigahertz"},to_anchor:1e3*1e3*1e3},THz:{name:{singular:"terahertz",plural:"terahertz"},to_anchor:1e3*1e3*1e3*1e3},rpm:{name:{singular:"rotation per minute",plural:"rotations per minute"},to_anchor:1/60},"deg/s":{name:{singular:"degree per second",plural:"degrees per second"},to_anchor:1/360},"rad/s":{name:{singular:"radian per second",plural:"radians per second"},to_anchor:1/(Math.PI*2)}},ov={metric:n,_anchors:{frequency:{unit:"hz",ratio:1}}},ov}var sv,Fw;function lN(){if(Fw)return sv;Fw=1;var n;return n={rad:{name:{singular:"radian",plural:"radians"},to_anchor:180/Math.PI},deg:{name:{singular:"degree",plural:"degrees"},to_anchor:1},grad:{name:{singular:"gradian",plural:"gradians"},to_anchor:9/10},arcmin:{name:{singular:"arcminute",plural:"arcminutes"},to_anchor:1/60},arcsec:{name:{singular:"arcsecond",plural:"arcseconds"},to_anchor:1/3600}},sv={metric:n,_anchors:{metric:{unit:"deg",ratio:1}}},sv}var lv,Uw;function uN(){if(Uw)return lv;Uw=1;var n,e=Sb(),t=FD(),r={length:UD(),area:jD(),mass:zD(),volume:HD(),each:GD(),temperature:qD(),time:XD(),digital:WD(),partsPer:KD(),speed:YD(),pace:$D(),pressure:QD(),current:ZD(),voltage:JD(),power:eN(),reactivePower:tN(),apparentPower:nN(),energy:rN(),reactiveEnergy:iN(),volumeFlowRate:aN(),illuminance:oN(),frequency:sN(),angle:lN()},i;i=function(s,u){u?this.val=s/u:this.val=s},i.prototype.from=function(s){if(this.destination)throw new Error(".from must be called before .to");return this.origin=this.getUnit(s),this.origin||this.throwUnsupportedUnitError(s),this},i.prototype.to=function(s){if(!this.origin)throw new Error(".to must be called after .from");this.destination=this.getUnit(s);var u,c;if(this.destination||this.throwUnsupportedUnitError(s),this.origin.abbr===this.destination.abbr)return this.val;if(this.destination.measure!=this.origin.measure)throw new Error("Cannot convert incompatible measures of "+this.destination.measure+" and "+this.origin.measure);return u=this.val*this.origin.unit.to_anchor,this.origin.unit.anchor_shift&&(u-=this.origin.unit.anchor_shift),this.origin.system!=this.destination.system&&(c=r[this.origin.measure]._anchors[this.origin.system].transform,typeof c=="function"?u=c(u):u*=r[this.origin.measure]._anchors[this.origin.system].ratio),this.destination.unit.anchor_shift&&(u+=this.destination.unit.anchor_shift),u/this.destination.unit.to_anchor},i.prototype.toBest=function(u){if(!this.origin)throw new Error(".toBest must be called after .from");var u=Object.assign({exclude:[],cutOffNumber:1},u),c;return t(this.possibilities(),(function(h){var p=this.describe(h),g=u.exclude.indexOf(h)===-1;if(g&&p.system===this.origin.system){var y=this.to(h);(!c||y>=u.cutOffNumber&&y<c.val)&&(c={val:y,unit:h,singular:p.singular,plural:p.plural})}}).bind(this)),c},i.prototype.getUnit=function(s){var u;return t(r,function(c,h){if(t(c,function(p,g){if(g=="_anchors"||(t(p,function(y,_){if(_==s)return u={abbr:s,measure:h,system:g,unit:y},!1}),u))return!1}),u)return!1}),u};var a=function(s){return{abbr:s.abbr,measure:s.measure,system:s.system,singular:s.unit.name.singular,plural:s.unit.name.plural}};return i.prototype.describe=function(s){var u=i.prototype.getUnit(s),c=null;try{c=a(u)}catch{this.throwUnsupportedUnitError(s)}return c},i.prototype.list=function(s){var u=[];return t(r,function(c,h){s&&s!==h||t(c,function(p,g){if(g=="_anchors")return!1;t(p,function(y,_){u=u.concat(a({abbr:_,measure:h,system:g,unit:y}))})})}),u},i.prototype.throwUnsupportedUnitError=function(s){var u=[];throw t(r,function(c,h){t(c,function(p,g){if(g=="_anchors")return!1;u=u.concat(e(p))})}),new Error("Unsupported unit "+s+", use one of: "+u.join(", "))},i.prototype.possibilities=function(s){var u=[];return!this.origin&&!s?t(e(r),function(c){t(r[c],function(h,p){if(p=="_anchors")return!1;u=u.concat(e(h))})}):(s=s||this.origin.measure,t(r[s],function(c,h){if(h=="_anchors")return!1;u=u.concat(e(c))})),u},i.prototype.measures=function(){return e(r)},n=function(s){return new i(s)},lv=n,lv}var cN=uN();const Ad=Fm(cN);function jw(n){const e={g:"ml",kg:"l"};if(n in e)return e[n];throw new Error(`Not implemented unit conversion ${n}`)}function fN(n,e,t){if(n===e)return{val:t,unit:e};const r=new Set(Ad().possibilities("mass")),i=new Set(Ad().possibilities("volume")),a=r.has(n),s=r.has(e),u=i.has(n),c=i.has(e);let h=n;a&&c&&(h=jw(n));let p=e;return u&&s&&(p=jw(e)),{val:Ad(t).from(h).to(p),unit:e}}function Qm(n,e,t){const r=new Set(["unit","pinch"]);return r.has(e)||r.has(t)?{val:"",unit:t}:fN(e,t,n)}function Nb(n,e){return n.forEach(t=>{var i,a;const r=t.name;t.type==="number"?e[r]=t.min??0:t.type==="select"&&((i=t.options)!=null&&i.length)?e[r]=String(t.options[0].value):e[r]="",(a=t.extraFields)!=null&&a.length&&(e=Nb(t.extraFields,e))}),e}function hN({field:n,value:e,handleArrayOfObjectsChange:t,disabled:r=!1}){const i=e||[],a=n.extraFields||[],s=()=>{if(r)return;const g=Nb(a,{});console.log(a),console.log(g),t([...i,g])},u=g=>{r||t(i.filter((y,_)=>_!==g))},c=(g,y,_,E)=>{var R,D;if(r)return;const A=[...i],C={...A[g]||{}};let I=_;if(E==="number")if(_==="")I=((R=a.find(B=>B.name===y))==null?void 0:R.min)??0;else{const B=parseFloat(_);I=isNaN(B)?((D=a.find(F=>F.name===y))==null?void 0:D.min)??0:B}C[y]=I,A[g]=C,t(A)},h=(g,y,_)=>{if(r)return;const E=[...i],A={...E[g]||{}};A[y]=_,E[g]=A,t(E)},p=(g,y,_)=>{var F;if(r)return;const E=[...i];console.log(E);const A={...E[g]||{}},C=(F=n.extraFields)==null?void 0:F[1].name;if(!C)return;console.log(C),console.log(y);const I=A[y],R=A[C];console.log(I),console.log(R),console.log(_);const{val:D,unit:B}=Qm(R,I,_);A[C]=D,A[y]=B,E[g]=A,t(E)};return a.length?P.jsxs("div",{className:"space-y-3",children:[i.map((g,y)=>P.jsx("div",{className:"p-4 border border-gray-200 rounded-lg shadow-sm bg-gray-50/50",children:P.jsxs("div",{className:"flex items-end gap-3",children:[" ",a.map(_=>P.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[" ",P.jsx(Fd,{htmlFor:`${n.name}-${y}-${_.name}`,className:"text-sm font-medium text-gray-700",children:_.label}),P.jsx(h0,{field:_,formData:g,handleInputChange:E=>c(y,E.target.name,E.target.value,_.type),handleUnitChange:(E,A)=>p(y,E,A),handleSelectChange:(E,A)=>h(y,E,A),handleArrayOfObjectsChange:t,disabled:r})]},_.name)),P.jsx(cr,{type:"button",variant:"destructive",size:"sm",onClick:()=>u(y),disabled:r,className:"shrink-0",children:"-"})]})},y)),P.jsx(cr,{type:"button",variant:"outline",onClick:s,className:"mt-2 border-dashed border-blue-500 text-blue-600 hover:bg-blue-50",disabled:r,children:"+"}),n.required&&i.length===0&&P.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[n.label," requires at least one item."]})]}):P.jsxs("p",{className:"text-sm text-red-600",children:["Configuration error: 'subFields' are not defined for the '",n.label,"' array."]})}function dN({className:n,type:e,...t}){return P.jsx("input",{type:e,"data-slot":"input",className:At("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function Pb({field:n,formData:e,handleInputChange:t,className:r="",disabled:i=!1}){return P.jsx(dN,{id:n.name,name:n.name,type:n.type,value:String(e[n.name]||""),onChange:t,min:n.min,step:n.step,required:n.required,placeholder:n.placeholder,className:r,disabled:i})}function zw(n,[e,t]){return Math.min(t,Math.max(e,n))}const pN=["top","right","bottom","left"],_o=Math.min,Ar=Math.max,Ud=Math.round,ud=Math.floor,Ri=n=>({x:n,y:n}),gN={left:"right",right:"left",bottom:"top",top:"bottom"},vN={start:"end",end:"start"};function Fv(n,e,t){return Ar(n,_o(e,t))}function va(n,e){return typeof n=="function"?n(e):n}function ma(n){return n.split("-")[0]}function du(n){return n.split("-")[1]}function Zm(n){return n==="x"?"y":"x"}function Jm(n){return n==="y"?"height":"width"}const mN=new Set(["top","bottom"]);function Si(n){return mN.has(ma(n))?"y":"x"}function ey(n){return Zm(Si(n))}function yN(n,e,t){t===void 0&&(t=!1);const r=du(n),i=ey(n),a=Jm(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=jd(s)),[s,jd(s)]}function _N(n){const e=jd(n);return[Uv(n),e,Uv(e)]}function Uv(n){return n.replace(/start|end/g,e=>vN[e])}const Hw=["left","right"],Gw=["right","left"],xN=["top","bottom"],EN=["bottom","top"];function wN(n,e,t){switch(n){case"top":case"bottom":return t?e?Gw:Hw:e?Hw:Gw;case"left":case"right":return e?xN:EN;default:return[]}}function AN(n,e,t,r){const i=du(n);let a=wN(ma(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(Uv)))),a}function jd(n){return n.replace(/left|right|bottom|top/g,e=>gN[e])}function CN(n){return{top:0,right:0,bottom:0,left:0,...n}}function Mb(n){return typeof n!="number"?CN(n):{top:n,right:n,bottom:n,left:n}}function zd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function qw(n,e,t){let{reference:r,floating:i}=n;const a=Si(e),s=ey(e),u=Jm(s),c=ma(e),h=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,y=r[u]/2-i[u]/2;let _;switch(c){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(du(e)){case"start":_[s]-=y*(t&&h?-1:1);break;case"end":_[s]+=y*(t&&h?-1:1);break}return _}const TN=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,u=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:g}=qw(h,r,c),y=r,_={},E=0;for(let A=0;A<u.length;A++){const{name:C,fn:I}=u[A],{x:R,y:D,data:B,reset:F}=await I({x:p,y:g,initialPlacement:r,placement:y,strategy:i,middlewareData:_,rects:h,platform:s,elements:{reference:n,floating:e}});p=R??p,g=D??g,_={..._,[C]:{..._[C],...B}},F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(h=F.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):F.rects),{x:p,y:g}=qw(h,y,c)),A=-1)}return{x:p,y:g,placement:y,strategy:i,middlewareData:_}};async function Jc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:u,strategy:c}=n,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:_=0}=va(e,n),E=Mb(_),C=u[y?g==="floating"?"reference":"floating":g],I=zd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:c})),R=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),B=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},F=zd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:D,strategy:c}):R);return{top:(I.top-F.top+E.top)/B.y,bottom:(F.bottom-I.bottom+E.bottom)/B.y,left:(I.left-F.left+E.left)/B.x,right:(F.right-I.right+E.right)/B.x}}const bN=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:u,middlewareData:c}=e,{element:h,padding:p=0}=va(n,e)||{};if(h==null)return{};const g=Mb(p),y={x:t,y:r},_=ey(i),E=Jm(_),A=await s.getDimensions(h),C=_==="y",I=C?"top":"left",R=C?"bottom":"right",D=C?"clientHeight":"clientWidth",B=a.reference[E]+a.reference[_]-y[_]-a.floating[E],F=y[_]-a.reference[_],q=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let O=q?q[D]:0;(!O||!await(s.isElement==null?void 0:s.isElement(q)))&&(O=u.floating[D]||a.floating[E]);const S=B/2-F/2,M=O/2-A[E]/2-1,U=_o(g[I],M),H=_o(g[R],M),z=U,j=O-A[E]-H,ye=O/2-A[E]/2+S,xe=Fv(z,ye,j),K=!c.arrow&&du(i)!=null&&ye!==xe&&a.reference[E]/2-(ye<z?U:H)-A[E]/2<0,oe=K?ye<z?ye-z:ye-j:0;return{[_]:y[_]+oe,data:{[_]:xe,centerOffset:ye-xe-oe,...K&&{alignmentOffset:oe}},reset:K}}}),SN=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:u,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:A=!0,...C}=va(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const I=ma(i),R=Si(u),D=ma(u)===u,B=await(c.isRTL==null?void 0:c.isRTL(h.floating)),F=y||(D||!A?[jd(u)]:_N(u)),q=E!=="none";!y&&q&&F.push(...AN(u,A,E,B));const O=[u,...F],S=await Jc(e,C),M=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&M.push(S[I]),g){const ye=yN(i,s,B);M.push(S[ye[0]],S[ye[1]])}if(U=[...U,{placement:i,overflows:M}],!M.every(ye=>ye<=0)){var H,z;const ye=(((H=a.flip)==null?void 0:H.index)||0)+1,xe=O[ye];if(xe&&(!(g==="alignment"?R!==Si(xe):!1)||U.every(ee=>ee.overflows[0]>0&&Si(ee.placement)===R)))return{data:{index:ye,overflows:U},reset:{placement:xe}};let K=(z=U.filter(oe=>oe.overflows[0]<=0).sort((oe,ee)=>oe.overflows[1]-ee.overflows[1])[0])==null?void 0:z.placement;if(!K)switch(_){case"bestFit":{var j;const oe=(j=U.filter(ee=>{if(q){const Te=Si(ee.placement);return Te===R||Te==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(Te=>Te>0).reduce((Te,X)=>Te+X,0)]).sort((ee,Te)=>ee[1]-Te[1])[0])==null?void 0:j[0];oe&&(K=oe);break}case"initialPlacement":K=u;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function Xw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Ww(n){return pN.some(e=>n[e]>=0)}const IN=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=va(n,e);switch(r){case"referenceHidden":{const a=await Jc(e,{...i,elementContext:"reference"}),s=Xw(a,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ww(s)}}}case"escaped":{const a=await Jc(e,{...i,altBoundary:!0}),s=Xw(a,t.floating);return{data:{escapedOffsets:s,escaped:Ww(s)}}}default:return{}}}}},Lb=new Set(["left","top"]);async function RN(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ma(t),u=du(t),c=Si(t)==="y",h=Lb.has(s)?-1:1,p=a&&c?-1:1,g=va(e,n);let{mainAxis:y,crossAxis:_,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof E=="number"&&(_=u==="end"?E*-1:E),c?{x:_*p,y:y*h}:{x:y*h,y:_*p}}const ON=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:s,middlewareData:u}=e,c=await RN(e,n);return s===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},DN=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:C=>{let{x:I,y:R}=C;return{x:I,y:R}}},...c}=va(n,e),h={x:t,y:r},p=await Jc(e,c),g=Si(ma(i)),y=Zm(g);let _=h[y],E=h[g];if(a){const C=y==="y"?"top":"left",I=y==="y"?"bottom":"right",R=_+p[C],D=_-p[I];_=Fv(R,_,D)}if(s){const C=g==="y"?"top":"left",I=g==="y"?"bottom":"right",R=E+p[C],D=E-p[I];E=Fv(R,E,D)}const A=u.fn({...e,[y]:_,[g]:E});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[y]:a,[g]:s}}}}}},NN=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:u=0,mainAxis:c=!0,crossAxis:h=!0}=va(n,e),p={x:t,y:r},g=Si(i),y=Zm(g);let _=p[y],E=p[g];const A=va(u,e),C=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(c){const D=y==="y"?"height":"width",B=a.reference[y]-a.floating[D]+C.mainAxis,F=a.reference[y]+a.reference[D]-C.mainAxis;_<B?_=B:_>F&&(_=F)}if(h){var I,R;const D=y==="y"?"width":"height",B=Lb.has(ma(i)),F=a.reference[g]-a.floating[D]+(B&&((I=s.offset)==null?void 0:I[g])||0)+(B?0:C.crossAxis),q=a.reference[g]+a.reference[D]+(B?0:((R=s.offset)==null?void 0:R[g])||0)-(B?C.crossAxis:0);E<F?E=F:E>q&&(E=q)}return{[y]:_,[g]:E}}}},PN=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:s,elements:u}=e,{apply:c=()=>{},...h}=va(n,e),p=await Jc(e,h),g=ma(i),y=du(i),_=Si(i)==="y",{width:E,height:A}=a.floating;let C,I;g==="top"||g==="bottom"?(C=g,I=y===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(I=g,C=y==="end"?"top":"bottom");const R=A-p.top-p.bottom,D=E-p.left-p.right,B=_o(A-p[C],R),F=_o(E-p[I],D),q=!e.middlewareData.shift;let O=B,S=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=R),q&&!y){const U=Ar(p.left,0),H=Ar(p.right,0),z=Ar(p.top,0),j=Ar(p.bottom,0);_?S=E-2*(U!==0||H!==0?U+H:Ar(p.left,p.right)):O=A-2*(z!==0||j!==0?z+j:Ar(p.top,p.bottom))}await c({...e,availableWidth:S,availableHeight:O});const M=await s.getDimensions(u.floating);return E!==M.width||A!==M.height?{reset:{rects:!0}}:{}}}};function E0(){return typeof window<"u"}function pu(n){return kb(n)?(n.nodeName||"").toLowerCase():"#document"}function br(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Bi(n){var e;return(e=(kb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function kb(n){return E0()?n instanceof Node||n instanceof br(n).Node:!1}function ii(n){return E0()?n instanceof Element||n instanceof br(n).Element:!1}function Pi(n){return E0()?n instanceof HTMLElement||n instanceof br(n).HTMLElement:!1}function Kw(n){return!E0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof br(n).ShadowRoot}const MN=new Set(["inline","contents"]);function vf(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ai(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!MN.has(i)}const LN=new Set(["table","td","th"]);function kN(n){return LN.has(pu(n))}const BN=[":popover-open",":modal"];function w0(n){return BN.some(e=>{try{return n.matches(e)}catch{return!1}})}const VN=["transform","translate","scale","rotate","perspective"],FN=["transform","translate","scale","rotate","perspective","filter"],UN=["paint","layout","strict","content"];function ty(n){const e=ny(),t=ii(n)?ai(n):n;return VN.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||FN.some(r=>(t.willChange||"").includes(r))||UN.some(r=>(t.contain||"").includes(r))}function jN(n){let e=xo(n);for(;Pi(e)&&!Jl(e);){if(ty(e))return e;if(w0(e))return null;e=xo(e)}return null}function ny(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zN=new Set(["html","body","#document"]);function Jl(n){return zN.has(pu(n))}function ai(n){return br(n).getComputedStyle(n)}function A0(n){return ii(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function xo(n){if(pu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Kw(n)&&n.host||Bi(n);return Kw(e)?e.host:e}function Bb(n){const e=xo(n);return Jl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Pi(e)&&vf(e)?e:Bb(e)}function ef(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Bb(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),s=br(i);if(a){const u=jv(s);return e.concat(s,s.visualViewport||[],vf(i)?i:[],u&&t?ef(u):[])}return e.concat(i,ef(i,[],t))}function jv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Vb(n){const e=ai(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Pi(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,u=Ud(t)!==a||Ud(r)!==s;return u&&(t=a,r=s),{width:t,height:r,$:u}}function ry(n){return ii(n)?n:n.contextElement}function Xl(n){const e=ry(n);if(!Pi(e))return Ri(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=Vb(e);let s=(a?Ud(t.width):t.width)/r,u=(a?Ud(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const HN=Ri(0);function Fb(n){const e=br(n);return!ny()||!e.visualViewport?HN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GN(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==br(n)?!1:e}function bs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=ry(n);let s=Ri(1);e&&(r?ii(r)&&(s=Xl(r)):s=Xl(n));const u=GN(a,t,r)?Fb(a):Ri(0);let c=(i.left+u.x)/s.x,h=(i.top+u.y)/s.y,p=i.width/s.x,g=i.height/s.y;if(a){const y=br(a),_=r&&ii(r)?br(r):r;let E=y,A=jv(E);for(;A&&r&&_!==E;){const C=Xl(A),I=A.getBoundingClientRect(),R=ai(A),D=I.left+(A.clientLeft+parseFloat(R.paddingLeft))*C.x,B=I.top+(A.clientTop+parseFloat(R.paddingTop))*C.y;c*=C.x,h*=C.y,p*=C.x,g*=C.y,c+=D,h+=B,E=br(A),A=jv(E)}}return zd({width:p,height:g,x:c,y:h})}function iy(n,e){const t=A0(n).scrollLeft;return e?e.left+t:bs(Bi(n)).left+t}function Ub(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:iy(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function qN(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",s=Bi(r),u=e?w0(e.floating):!1;if(r===s||u&&a)return t;let c={scrollLeft:0,scrollTop:0},h=Ri(1);const p=Ri(0),g=Pi(r);if((g||!g&&!a)&&((pu(r)!=="body"||vf(s))&&(c=A0(r)),Pi(r))){const _=bs(r);h=Xl(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const y=s&&!g&&!a?Ub(s,c,!0):Ri(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-c.scrollLeft*h.x+p.x+y.x,y:t.y*h.y-c.scrollTop*h.y+p.y+y.y}}function XN(n){return Array.from(n.getClientRects())}function WN(n){const e=Bi(n),t=A0(n),r=n.ownerDocument.body,i=Ar(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ar(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+iy(n);const u=-t.scrollTop;return ai(r).direction==="rtl"&&(s+=Ar(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:u}}function KN(n,e){const t=br(n),r=Bi(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;const h=ny();(!h||h&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u,y:c}}const YN=new Set(["absolute","fixed"]);function $N(n,e){const t=bs(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=Pi(n)?Xl(n):Ri(1),s=n.clientWidth*a.x,u=n.clientHeight*a.y,c=i*a.x,h=r*a.y;return{width:s,height:u,x:c,y:h}}function Yw(n,e,t){let r;if(e==="viewport")r=KN(n,t);else if(e==="document")r=WN(Bi(n));else if(ii(e))r=$N(e,t);else{const i=Fb(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zd(r)}function jb(n,e){const t=xo(n);return t===e||!ii(t)||Jl(t)?!1:ai(t).position==="fixed"||jb(t,e)}function QN(n,e){const t=e.get(n);if(t)return t;let r=ef(n,[],!1).filter(u=>ii(u)&&pu(u)!=="body"),i=null;const a=ai(n).position==="fixed";let s=a?xo(n):n;for(;ii(s)&&!Jl(s);){const u=ai(s),c=ty(s);!c&&u.position==="fixed"&&(i=null),(a?!c&&!i:!c&&u.position==="static"&&!!i&&YN.has(i.position)||vf(s)&&!c&&jb(n,s))?r=r.filter(p=>p!==s):i=u,s=xo(s)}return e.set(n,r),r}function ZN(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?w0(e)?[]:QN(e,this._c):[].concat(t),r],u=s[0],c=s.reduce((h,p)=>{const g=Yw(e,p,i);return h.top=Ar(g.top,h.top),h.right=_o(g.right,h.right),h.bottom=_o(g.bottom,h.bottom),h.left=Ar(g.left,h.left),h},Yw(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JN(n){const{width:e,height:t}=Vb(n);return{width:e,height:t}}function e5(n,e,t){const r=Pi(e),i=Bi(e),a=t==="fixed",s=bs(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const c=Ri(0);function h(){c.x=iy(i)}if(r||!r&&!a)if((pu(e)!=="body"||vf(i))&&(u=A0(e)),r){const _=bs(e,!0,a,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else i&&h();a&&!r&&i&&h();const p=i&&!r&&!a?Ub(i,u):Ri(0),g=s.left+u.scrollLeft-c.x-p.x,y=s.top+u.scrollTop-c.y-p.y;return{x:g,y,width:s.width,height:s.height}}function uv(n){return ai(n).position==="static"}function $w(n,e){if(!Pi(n)||ai(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Bi(n)===t&&(t=t.ownerDocument.body),t}function zb(n,e){const t=br(n);if(w0(n))return t;if(!Pi(n)){let i=xo(n);for(;i&&!Jl(i);){if(ii(i)&&!uv(i))return i;i=xo(i)}return t}let r=$w(n,e);for(;r&&kN(r)&&uv(r);)r=$w(r,e);return r&&Jl(r)&&uv(r)&&!ty(r)?t:r||jN(n)||t}const t5=async function(n){const e=this.getOffsetParent||zb,t=this.getDimensions,r=await t(n.floating);return{reference:e5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n5(n){return ai(n).direction==="rtl"}const r5={convertOffsetParentRelativeRectToViewportRelativeRect:qN,getDocumentElement:Bi,getClippingRect:ZN,getOffsetParent:zb,getElementRects:t5,getClientRects:XN,getDimensions:JN,getScale:Xl,isElement:ii,isRTL:n5};function Hb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function i5(n,e){let t=null,r;const i=Bi(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),a();const h=n.getBoundingClientRect(),{left:p,top:g,width:y,height:_}=h;if(u||e(),!y||!_)return;const E=ud(g),A=ud(i.clientWidth-(p+y)),C=ud(i.clientHeight-(g+_)),I=ud(p),D={rootMargin:-E+"px "+-A+"px "+-C+"px "+-I+"px",threshold:Ar(0,_o(1,c))||1};let B=!0;function F(q){const O=q[0].intersectionRatio;if(O!==c){if(!B)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}O===1&&!Hb(h,n.getBoundingClientRect())&&s(),B=!1}try{t=new IntersectionObserver(F,{...D,root:i.ownerDocument})}catch{t=new IntersectionObserver(F,D)}t.observe(n)}return s(!0),a}function a5(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=ry(n),p=i||a?[...h?ef(h):[],...ef(e)]:[];p.forEach(I=>{i&&I.addEventListener("scroll",t,{passive:!0}),a&&I.addEventListener("resize",t)});const g=h&&u?i5(h,t):null;let y=-1,_=null;s&&(_=new ResizeObserver(I=>{let[R]=I;R&&R.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var D;(D=_)==null||D.observe(e)})),t()}),h&&!c&&_.observe(h),_.observe(e));let E,A=c?bs(n):null;c&&C();function C(){const I=bs(n);A&&!Hb(A,I)&&t(),A=I,E=requestAnimationFrame(C)}return t(),()=>{var I;p.forEach(R=>{i&&R.removeEventListener("scroll",t),a&&R.removeEventListener("resize",t)}),g==null||g(),(I=_)==null||I.disconnect(),_=null,c&&cancelAnimationFrame(E)}}const o5=ON,s5=DN,l5=SN,u5=PN,c5=IN,Qw=bN,f5=NN,h5=(n,e,t)=>{const r=new Map,i={platform:r5,...t},a={...i.platform,_c:r};return TN(n,e,{...i,platform:a})};var d5=typeof document<"u",p5=function(){},Cd=d5?L.useLayoutEffect:p5;function Hd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Hd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Hd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function Gb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Zw(n,e){const t=Gb(n);return Math.round(e*t)/t}function cv(n){const e=L.useRef(n);return Cd(()=>{e.current=n}),e}function g5(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:c,open:h}=n,[p,g]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=L.useState(r);Hd(y,r)||_(r);const[E,A]=L.useState(null),[C,I]=L.useState(null),R=L.useCallback(ee=>{ee!==q.current&&(q.current=ee,A(ee))},[]),D=L.useCallback(ee=>{ee!==O.current&&(O.current=ee,I(ee))},[]),B=a||E,F=s||C,q=L.useRef(null),O=L.useRef(null),S=L.useRef(p),M=c!=null,U=cv(c),H=cv(i),z=cv(h),j=L.useCallback(()=>{if(!q.current||!O.current)return;const ee={placement:e,strategy:t,middleware:y};H.current&&(ee.platform=H.current),h5(q.current,O.current,ee).then(Te=>{const X={...Te,isPositioned:z.current!==!1};ye.current&&!Hd(S.current,X)&&(S.current=X,hf.flushSync(()=>{g(X)}))})},[y,e,t,H,z]);Cd(()=>{h===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[h]);const ye=L.useRef(!1);Cd(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Cd(()=>{if(B&&(q.current=B),F&&(O.current=F),B&&F){if(U.current)return U.current(B,F,j);j()}},[B,F,j,U,M]);const xe=L.useMemo(()=>({reference:q,floating:O,setReference:R,setFloating:D}),[R,D]),K=L.useMemo(()=>({reference:B,floating:F}),[B,F]),oe=L.useMemo(()=>{const ee={position:t,left:0,top:0};if(!K.floating)return ee;const Te=Zw(K.floating,p.x),X=Zw(K.floating,p.y);return u?{...ee,transform:"translate("+Te+"px, "+X+"px)",...Gb(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Te,top:X}},[t,u,K.floating,p.x,p.y]);return L.useMemo(()=>({...p,update:j,refs:xe,elements:K,floatingStyles:oe}),[p,j,xe,K,oe])}const v5=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Qw({element:r.current,padding:i}).fn(t):{}:r?Qw({element:r,padding:i}).fn(t):{}}}},m5=(n,e)=>({...o5(n),options:[n,e]}),y5=(n,e)=>({...s5(n),options:[n,e]}),_5=(n,e)=>({...f5(n),options:[n,e]}),x5=(n,e)=>({...l5(n),options:[n,e]}),E5=(n,e)=>({...u5(n),options:[n,e]}),w5=(n,e)=>({...c5(n),options:[n,e]}),A5=(n,e)=>({...v5(n),options:[n,e]});var C5="Arrow",qb=L.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return P.jsx(st.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});qb.displayName=C5;var T5=qb;function b5(n){const[e,t]=L.useState(void 0);return Wn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,u;if("borderBoxSize"in a){const c=a.borderBoxSize,h=Array.isArray(c)?c[0]:c;s=h.inlineSize,u=h.blockSize}else s=n.offsetWidth,u=n.offsetHeight;t({width:s,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var ay="Popper",[Xb,C0]=Ls(ay),[S5,Wb]=Xb(ay),Kb=n=>{const{__scopePopper:e,children:t}=n,[r,i]=L.useState(null);return P.jsx(S5,{scope:e,anchor:r,onAnchorChange:i,children:t})};Kb.displayName=ay;var Yb="PopperAnchor",$b=L.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=Wb(Yb,t),s=L.useRef(null),u=Vt(e,s);return L.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:P.jsx(st.div,{...i,ref:u})});$b.displayName=Yb;var oy="PopperContent",[I5,R5]=Xb(oy),Qb=L.forwardRef((n,e)=>{var ge,Re,ut,Ge,je,ze;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:E,...A}=n,C=Wb(oy,t),[I,R]=L.useState(null),D=Vt(e,Gt=>R(Gt)),[B,F]=L.useState(null),q=b5(B),O=(q==null?void 0:q.width)??0,S=(q==null?void 0:q.height)??0,M=r+(a!=="center"?"-"+a:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},H=Array.isArray(h)?h:[h],z=H.length>0,j={padding:U,boundary:H.filter(D5),altBoundary:z},{refs:ye,floatingStyles:xe,placement:K,isPositioned:oe,middlewareData:ee}=g5({strategy:"fixed",placement:M,whileElementsMounted:(...Gt)=>a5(...Gt,{animationFrame:_==="always"}),elements:{reference:C.anchor},middleware:[m5({mainAxis:i+S,alignmentAxis:s}),c&&y5({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?_5():void 0,...j}),c&&x5({...j}),E5({...j,apply:({elements:Gt,rects:mn,availableWidth:Gr,availableHeight:si})=>{const{width:yn,height:Au}=mn.reference,li=Gt.floating.style;li.setProperty("--radix-popper-available-width",`${Gr}px`),li.setProperty("--radix-popper-available-height",`${si}px`),li.setProperty("--radix-popper-anchor-width",`${yn}px`),li.setProperty("--radix-popper-anchor-height",`${Au}px`)}}),B&&A5({element:B,padding:u}),N5({arrowWidth:O,arrowHeight:S}),y&&w5({strategy:"referenceHidden",...j})]}),[Te,X]=eS(K),se=yo(E);Wn(()=>{oe&&(se==null||se())},[oe,se]);const de=(ge=ee.arrow)==null?void 0:ge.x,ce=(Re=ee.arrow)==null?void 0:Re.y,me=((ut=ee.arrow)==null?void 0:ut.centerOffset)!==0,[Me,Se]=L.useState();return Wn(()=>{I&&Se(window.getComputedStyle(I).zIndex)},[I]),P.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:oe?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(Ge=ee.transformOrigin)==null?void 0:Ge.x,(je=ee.transformOrigin)==null?void 0:je.y].join(" "),...((ze=ee.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:P.jsx(I5,{scope:t,placedSide:Te,onArrowChange:F,arrowX:de,arrowY:ce,shouldHideArrow:me,children:P.jsx(st.div,{"data-side":Te,"data-align":X,...A,ref:D,style:{...A.style,animation:oe?void 0:"none"}})})})});Qb.displayName=oy;var Zb="PopperArrow",O5={top:"bottom",right:"left",bottom:"top",left:"right"},Jb=L.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=R5(Zb,r),s=O5[a.placedSide];return P.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:P.jsx(T5,{...i,ref:t,style:{...i.style,display:"block"}})})});Jb.displayName=Zb;function D5(n){return n!==null}var N5=n=>({name:"transformOrigin",options:n,fn(e){var C,I,R;const{placement:t,rects:r,middlewareData:i}=e,s=((C=i.arrow)==null?void 0:C.centerOffset)!==0,u=s?0:n.arrowWidth,c=s?0:n.arrowHeight,[h,p]=eS(t),g={start:"0%",center:"50%",end:"100%"}[p],y=(((I=i.arrow)==null?void 0:I.x)??0)+u/2,_=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let E="",A="";return h==="bottom"?(E=s?g:`${y}px`,A=`${-c}px`):h==="top"?(E=s?g:`${y}px`,A=`${r.floating.height+c}px`):h==="right"?(E=`${-c}px`,A=s?g:`${_}px`):h==="left"&&(E=`${r.floating.width+c}px`,A=s?g:`${_}px`),{data:{x:E,y:A}}}});function eS(n){const[e,t="center"]=n.split("-");return[e,t]}var tS=Kb,nS=$b,rS=Qb,iS=Jb;function P5(n){const e=L.useRef({value:n,previous:n});return L.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var aS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M5="VisuallyHidden",oS=L.forwardRef((n,e)=>P.jsx(st.span,{...n,ref:e,style:{...aS,...n.style}}));oS.displayName=M5;var L5=oS,k5=[" ","Enter","ArrowUp","ArrowDown"],B5=[" ","Enter"],Ss="Select",[T0,b0,V5]=mT(Ss),[gu,gH]=Ls(Ss,[V5,C0]),S0=C0(),[F5,So]=gu(Ss),[U5,j5]=gu(Ss),sS=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:u,onValueChange:c,dir:h,name:p,autoComplete:g,disabled:y,required:_,form:E}=n,A=S0(e),[C,I]=L.useState(null),[R,D]=L.useState(null),[B,F]=L.useState(!1),q=jm(h),[O,S]=Zl({prop:r,defaultProp:i??!1,onChange:a,caller:Ss}),[M,U]=Zl({prop:s,defaultProp:u,onChange:c,caller:Ss}),H=L.useRef(null),z=C?E||!!C.closest("form"):!0,[j,ye]=L.useState(new Set),xe=Array.from(j).map(K=>K.props.value).join(";");return P.jsx(tS,{...A,children:P.jsxs(F5,{required:_,scope:e,trigger:C,onTriggerChange:I,valueNode:R,onValueNodeChange:D,valueNodeHasChildren:B,onValueNodeHasChildrenChange:F,contentId:pa(),value:M,onValueChange:U,open:O,onOpenChange:S,dir:q,triggerPointerDownPosRef:H,disabled:y,children:[P.jsx(T0.Provider,{scope:e,children:P.jsx(U5,{scope:n.__scopeSelect,onNativeOptionAdd:L.useCallback(K=>{ye(oe=>new Set(oe).add(K))},[]),onNativeOptionRemove:L.useCallback(K=>{ye(oe=>{const ee=new Set(oe);return ee.delete(K),ee})},[]),children:t})}),z?P.jsxs(RS,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:M,onChange:K=>U(K.target.value),disabled:y,form:E,children:[M===void 0?P.jsx("option",{value:""}):null,Array.from(j)]},xe):null]})})};sS.displayName=Ss;var lS="SelectTrigger",uS=L.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=S0(t),s=So(lS,t),u=s.disabled||r,c=Vt(e,s.onTriggerChange),h=b0(t),p=L.useRef("touch"),[g,y,_]=DS(A=>{const C=h().filter(D=>!D.disabled),I=C.find(D=>D.value===s.value),R=NS(C,A,I);R!==void 0&&s.onValueChange(R.value)}),E=A=>{u||(s.onOpenChange(!0),_()),A&&(s.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return P.jsx(nS,{asChild:!0,...a,children:P.jsx(st.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":OS(s.value)?"":void 0,...i,ref:c,onClick:qe(i.onClick,A=>{A.currentTarget.focus(),p.current!=="mouse"&&E(A)}),onPointerDown:qe(i.onPointerDown,A=>{p.current=A.pointerType;const C=A.target;C.hasPointerCapture(A.pointerId)&&C.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(E(A),A.preventDefault())}),onKeyDown:qe(i.onKeyDown,A=>{const C=g.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&y(A.key),!(C&&A.key===" ")&&k5.includes(A.key)&&(E(),A.preventDefault())})})})});uS.displayName=lS;var cS="SelectValue",fS=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:s="",...u}=n,c=So(cS,t),{onValueNodeHasChildrenChange:h}=c,p=a!==void 0,g=Vt(e,c.onValueNodeChange);return Wn(()=>{h(p)},[h,p]),P.jsx(st.span,{...u,ref:g,style:{pointerEvents:"none"},children:OS(c.value)?P.jsx(P.Fragment,{children:s}):a})});fS.displayName=cS;var z5="SelectIcon",hS=L.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return P.jsx(st.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});hS.displayName=z5;var H5="SelectPortal",dS=n=>P.jsx(m0,{asChild:!0,...n});dS.displayName=H5;var Is="SelectContent",pS=L.forwardRef((n,e)=>{const t=So(Is,n.__scopeSelect),[r,i]=L.useState();if(Wn(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?hf.createPortal(P.jsx(gS,{scope:n.__scopeSelect,children:P.jsx(T0.Slot,{scope:n.__scopeSelect,children:P.jsx("div",{children:n.children})})}),a):null}return P.jsx(vS,{...n,ref:e})});pS.displayName=Is;var Jr=10,[gS,Io]=gu(Is),G5="SelectContentImpl",q5=Ql("SelectContent.RemoveScroll"),vS=L.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:E,hideWhenDetached:A,avoidCollisions:C,...I}=n,R=So(Is,t),[D,B]=L.useState(null),[F,q]=L.useState(null),O=Vt(e,ge=>B(ge)),[S,M]=L.useState(null),[U,H]=L.useState(null),z=b0(t),[j,ye]=L.useState(!1),xe=L.useRef(!1);L.useEffect(()=>{if(D)return lb(D)},[D]),eb();const K=L.useCallback(ge=>{const[Re,...ut]=z().map(ze=>ze.ref.current),[Ge]=ut.slice(-1),je=document.activeElement;for(const ze of ge)if(ze===je||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Re&&F&&(F.scrollTop=0),ze===Ge&&F&&(F.scrollTop=F.scrollHeight),ze==null||ze.focus(),document.activeElement!==je))return},[z,F]),oe=L.useCallback(()=>K([S,D]),[K,S,D]);L.useEffect(()=>{j&&oe()},[j,oe]);const{onOpenChange:ee,triggerPointerDownPosRef:Te}=R;L.useEffect(()=>{if(D){let ge={x:0,y:0};const Re=Ge=>{var je,ze;ge={x:Math.abs(Math.round(Ge.pageX)-(((je=Te.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((ze=Te.current)==null?void 0:ze.y)??0))}},ut=Ge=>{ge.x<=10&&ge.y<=10?Ge.preventDefault():D.contains(Ge.target)||ee(!1),document.removeEventListener("pointermove",Re),Te.current=null};return Te.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ut,{capture:!0})}}},[D,ee,Te]),L.useEffect(()=>{const ge=()=>ee(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[ee]);const[X,se]=DS(ge=>{const Re=z().filter(je=>!je.disabled),ut=Re.find(je=>je.ref.current===document.activeElement),Ge=NS(Re,ge,ut);Ge&&setTimeout(()=>Ge.ref.current.focus())}),de=L.useCallback((ge,Re,ut)=>{const Ge=!xe.current&&!ut;(R.value!==void 0&&R.value===Re||Ge)&&(M(ge),Ge&&(xe.current=!0))},[R.value]),ce=L.useCallback(()=>D==null?void 0:D.focus(),[D]),me=L.useCallback((ge,Re,ut)=>{const Ge=!xe.current&&!ut;(R.value!==void 0&&R.value===Re||Ge)&&H(ge)},[R.value]),Me=r==="popper"?zv:mS,Se=Me===zv?{side:u,sideOffset:c,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:E,hideWhenDetached:A,avoidCollisions:C}:{};return P.jsx(gS,{scope:t,content:D,viewport:F,onViewportChange:q,itemRefCallback:de,selectedItem:S,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:oe,selectedItemText:U,position:r,isPositioned:j,searchRef:X,children:P.jsx(qm,{as:q5,allowPinchZoom:!0,children:P.jsx(Gm,{asChild:!0,trapped:R.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:qe(i,ge=>{var Re;(Re=R.trigger)==null||Re.focus({preventScroll:!0}),ge.preventDefault()}),children:P.jsx(v0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:P.jsx(Me,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ge=>ge.preventDefault(),...I,...Se,onPlaced:()=>ye(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:qe(I.onKeyDown,ge=>{const Re=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Re&&ge.key.length===1&&se(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ge=z().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const je=ge.target,ze=Ge.indexOf(je);Ge=Ge.slice(ze+1)}setTimeout(()=>K(Ge)),ge.preventDefault()}})})})})})})});vS.displayName=G5;var X5="SelectItemAlignedPosition",mS=L.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=So(Is,t),s=Io(Is,t),[u,c]=L.useState(null),[h,p]=L.useState(null),g=Vt(e,O=>p(O)),y=b0(t),_=L.useRef(!1),E=L.useRef(!0),{viewport:A,selectedItem:C,selectedItemText:I,focusSelectedItem:R}=s,D=L.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&A&&C&&I){const O=a.trigger.getBoundingClientRect(),S=h.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),U=I.getBoundingClientRect();if(a.dir!=="rtl"){const je=U.left-S.left,ze=M.left-je,Gt=O.left-ze,mn=O.width+Gt,Gr=Math.max(mn,S.width),si=window.innerWidth-Jr,yn=zw(ze,[Jr,Math.max(Jr,si-Gr)]);u.style.minWidth=mn+"px",u.style.left=yn+"px"}else{const je=S.right-U.right,ze=window.innerWidth-M.right-je,Gt=window.innerWidth-O.right-ze,mn=O.width+Gt,Gr=Math.max(mn,S.width),si=window.innerWidth-Jr,yn=zw(ze,[Jr,Math.max(Jr,si-Gr)]);u.style.minWidth=mn+"px",u.style.right=yn+"px"}const H=y(),z=window.innerHeight-Jr*2,j=A.scrollHeight,ye=window.getComputedStyle(h),xe=parseInt(ye.borderTopWidth,10),K=parseInt(ye.paddingTop,10),oe=parseInt(ye.borderBottomWidth,10),ee=parseInt(ye.paddingBottom,10),Te=xe+K+j+ee+oe,X=Math.min(C.offsetHeight*5,Te),se=window.getComputedStyle(A),de=parseInt(se.paddingTop,10),ce=parseInt(se.paddingBottom,10),me=O.top+O.height/2-Jr,Me=z-me,Se=C.offsetHeight/2,ge=C.offsetTop+Se,Re=xe+K+ge,ut=Te-Re;if(Re<=me){const je=H.length>0&&C===H[H.length-1].ref.current;u.style.bottom="0px";const ze=h.clientHeight-A.offsetTop-A.offsetHeight,Gt=Math.max(Me,Se+(je?ce:0)+ze+oe),mn=Re+Gt;u.style.height=mn+"px"}else{const je=H.length>0&&C===H[0].ref.current;u.style.top="0px";const Gt=Math.max(me,xe+A.offsetTop+(je?de:0)+Se)+ut;u.style.height=Gt+"px",A.scrollTop=Re-me+A.offsetTop}u.style.margin=`${Jr}px 0`,u.style.minHeight=X+"px",u.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[y,a.trigger,a.valueNode,u,h,A,C,I,a.dir,r]);Wn(()=>D(),[D]);const[B,F]=L.useState();Wn(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const q=L.useCallback(O=>{O&&E.current===!0&&(D(),R==null||R(),E.current=!1)},[D,R]);return P.jsx(K5,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:q,children:P.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:P.jsx(st.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mS.displayName=X5;var W5="SelectPopperPosition",zv=L.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Jr,...a}=n,s=S0(t);return P.jsx(rS,{...s,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zv.displayName=W5;var[K5,sy]=gu(Is,{}),Hv="SelectViewport",yS=L.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=Io(Hv,t),s=sy(Hv,t),u=Vt(e,a.onViewportChange),c=L.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(T0.Slot,{scope:t,children:P.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:qe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=s;if(y!=null&&y.current&&g){const _=Math.abs(c.current-p.scrollTop);if(_>0){const E=window.innerHeight-Jr*2,A=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),I=Math.max(A,C);if(I<E){const R=I+_,D=Math.min(E,R),B=R-D;g.style.height=D+"px",g.style.bottom==="0px"&&(p.scrollTop=B>0?B:0,g.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});yS.displayName=Hv;var _S="SelectGroup",[Y5,$5]=gu(_S),Q5=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=pa();return P.jsx(Y5,{scope:t,id:i,children:P.jsx(st.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Q5.displayName=_S;var xS="SelectLabel",Z5=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=$5(xS,t);return P.jsx(st.div,{id:i.id,...r,ref:e})});Z5.displayName=xS;var Gd="SelectItem",[J5,ES]=gu(Gd),wS=L.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...s}=n,u=So(Gd,t),c=Io(Gd,t),h=u.value===r,[p,g]=L.useState(a??""),[y,_]=L.useState(!1),E=Vt(e,R=>{var D;return(D=c.itemRefCallback)==null?void 0:D.call(c,R,r,i)}),A=pa(),C=L.useRef("touch"),I=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(J5,{scope:t,value:r,disabled:i,textId:A,isSelected:h,onItemTextChange:L.useCallback(R=>{g(D=>D||((R==null?void 0:R.textContent)??"").trim())},[]),children:P.jsx(T0.ItemSlot,{scope:t,value:r,disabled:i,textValue:p,children:P.jsx(st.div,{role:"option","aria-labelledby":A,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:E,onFocus:qe(s.onFocus,()=>_(!0)),onBlur:qe(s.onBlur,()=>_(!1)),onClick:qe(s.onClick,()=>{C.current!=="mouse"&&I()}),onPointerUp:qe(s.onPointerUp,()=>{C.current==="mouse"&&I()}),onPointerDown:qe(s.onPointerDown,R=>{C.current=R.pointerType}),onPointerMove:qe(s.onPointerMove,R=>{var D;C.current=R.pointerType,i?(D=c.onItemLeave)==null||D.call(c):C.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(s.onPointerLeave,R=>{var D;R.currentTarget===document.activeElement&&((D=c.onItemLeave)==null||D.call(c))}),onKeyDown:qe(s.onKeyDown,R=>{var B;((B=c.searchRef)==null?void 0:B.current)!==""&&R.key===" "||(B5.includes(R.key)&&I(),R.key===" "&&R.preventDefault())})})})})});wS.displayName=Gd;var kc="SelectItemText",AS=L.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,s=So(kc,t),u=Io(kc,t),c=ES(kc,t),h=j5(kc,t),[p,g]=L.useState(null),y=Vt(e,I=>g(I),c.onItemTextChange,I=>{var R;return(R=u.itemTextRefCallback)==null?void 0:R.call(u,I,c.value,c.disabled)}),_=p==null?void 0:p.textContent,E=L.useMemo(()=>P.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:A,onNativeOptionRemove:C}=h;return Wn(()=>(A(E),()=>C(E)),[A,C,E]),P.jsxs(P.Fragment,{children:[P.jsx(st.span,{id:c.textId,...a,ref:y}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?hf.createPortal(a.children,s.valueNode):null]})});AS.displayName=kc;var CS="SelectItemIndicator",TS=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return ES(CS,t).isSelected?P.jsx(st.span,{"aria-hidden":!0,...r,ref:e}):null});TS.displayName=CS;var Gv="SelectScrollUpButton",bS=L.forwardRef((n,e)=>{const t=Io(Gv,n.__scopeSelect),r=sy(Gv,n.__scopeSelect),[i,a]=L.useState(!1),s=Vt(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollTop>0;a(h)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?P.jsx(IS,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});bS.displayName=Gv;var qv="SelectScrollDownButton",SS=L.forwardRef((n,e)=>{const t=Io(qv,n.__scopeSelect),r=sy(qv,n.__scopeSelect),[i,a]=L.useState(!1),s=Vt(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<h;a(p)};const c=t.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?P.jsx(IS,{...n,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=t;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});SS.displayName=qv;var IS=L.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=Io("SelectScrollButton",t),s=L.useRef(null),u=b0(t),c=L.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return L.useEffect(()=>()=>c(),[c]),Wn(()=>{var p;const h=u().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),P.jsx(st.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{c()})})}),e9="SelectSeparator",t9=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return P.jsx(st.div,{"aria-hidden":!0,...r,ref:e})});t9.displayName=e9;var Xv="SelectArrow",n9=L.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=S0(t),a=So(Xv,t),s=Io(Xv,t);return a.open&&s.position==="popper"?P.jsx(iS,{...i,...r,ref:e}):null});n9.displayName=Xv;var r9="SelectBubbleInput",RS=L.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=L.useRef(null),a=Vt(r,i),s=P5(e);return L.useEffect(()=>{const u=i.current;if(!u)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[s,e]),P.jsx(st.select,{...t,style:{...aS,...t.style},ref:a,defaultValue:e})});RS.displayName=r9;function OS(n){return n===""||n===void 0}function DS(n){const e=yo(n),t=L.useRef(""),r=L.useRef(0),i=L.useCallback(s=>{const u=t.current+s;e(u),function c(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[e]),a=L.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return L.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function NS(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let s=i9(n,Math.max(a,0));i.length===1&&(s=s.filter(h=>h!==t));const c=s.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function i9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var a9=sS,o9=uS,s9=fS,l9=hS,u9=dS,c9=pS,f9=yS,h9=wS,d9=AS,p9=TS,g9=bS,v9=SS;function m9({...n}){return P.jsx(a9,{"data-slot":"select",...n})}function y9({...n}){return P.jsx(s9,{"data-slot":"select-value",...n})}function _9({className:n,size:e="default",children:t,...r}){return P.jsxs(o9,{"data-slot":"select-trigger","data-size":e,className:At("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,P.jsx(l9,{asChild:!0,children:P.jsx(Tb,{className:"size-4 opacity-50"})})]})}function x9({className:n,children:e,position:t="popper",...r}){return P.jsx(u9,{children:P.jsxs(c9,{"data-slot":"select-content",className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[P.jsx(w9,{}),P.jsx(f9,{className:At("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),P.jsx(A9,{})]})})}function E9({className:n,children:e,...t}){return P.jsxs(h9,{"data-slot":"select-item",className:At("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[P.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:P.jsx(p9,{children:P.jsx(hD,{className:"size-4"})})}),P.jsx(d9,{children:e})]})}function w9({className:n,...e}){return P.jsx(g9,{"data-slot":"select-scroll-up-button",className:At("flex cursor-default items-center justify-center py-1",n),...e,children:P.jsx(gD,{className:"size-4"})})}function A9({className:n,...e}){return P.jsx(v9,{"data-slot":"select-scroll-down-button",className:At("flex cursor-default items-center justify-center py-1",n),...e,children:P.jsx(Tb,{className:"size-4"})})}const C9=()=>{};var Jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},T9=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;c||(_=64,s||(y=64)),r.push(t[p],t[g],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T9(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new b9;const y=a<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class b9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S9=function(n){const e=PS(n);return MS.encodeByteArray(e,!0)},qd=function(n){return S9(n).replace(/\./g,"")},LS=function(n){try{return MS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=()=>I9().__FIREBASE_DEFAULTS__,O9=()=>{if(typeof process>"u"||typeof Jw>"u")return;const n=Jw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},D9=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&LS(n[1]);return e&&JSON.parse(e)},I0=()=>{try{return C9()||R9()||O9()||D9()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kS=n=>{var e,t;return(t=(e=I0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},N9=n=>{const e=kS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},BS=()=>{var n;return(n=I0())===null||n===void 0?void 0:n.config},VS=n=>{var e;return(e=I0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){return n.endsWith(".cloudworkstations.dev")}async function FS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qd(JSON.stringify(t)),qd(JSON.stringify(s)),""].join(".")}const Wc={};function L9(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wc))Wc[e]?n.emulator.push(e):n.prod.push(e);return n}function k9(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let eA=!1;function US(n,e){if(typeof window>"u"||typeof document>"u"||!mf(window.location.host)||Wc[n]===e||Wc[n]||eA)return;Wc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=L9().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{eA=!0,s()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=k9(r),_=t("text"),E=document.getElementById(_)||document.createElement("span"),A=t("learnmore"),C=document.getElementById(A)||document.createElement("a"),I=t("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;u(D),p(C,A);const B=h();c(R,I),D.append(R,E,C,B),document.body.appendChild(D)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function V9(){var n;const e=(n=I0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U9(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function j9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z9(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function H9(){return!V9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G9(){try{return typeof indexedDB=="object"}catch{return!1}}function q9(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="FirebaseError";class Aa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=X9,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yf.prototype.create)}}class yf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?W9(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Aa(i,u,r)}}function W9(n,e){return n.replace(K9,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K9=/\{\$([^}]+)}/g;function Y9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(tA(a)&&tA(s)){if(!Rs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function tA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Vc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $9(n,e){const t=new Q9(n,e);return t.subscribe.bind(t)}class Q9{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Z9(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=fv),i.error===void 0&&(i.error=fv),i.complete===void 0&&(i.complete=fv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z9(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J9=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new P9;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tP(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eP(n){return n===ys?void 0:n}function tP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new J9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const rP={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},iP=et.INFO,aP={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},oP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=aP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=iP,this._logHandler=oP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const sP=(n,e)=>e.some(t=>n instanceof t);let nA,rA;function lP(){return nA||(nA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return rA||(rA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,Wv=new WeakMap,zS=new WeakMap,hv=new WeakMap,uy=new WeakMap;function cP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(uo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&jS.set(t,n)}).catch(()=>{}),uy.set(e,n),e}function fP(n){if(Wv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});Wv.set(n,e)}let Kv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hP(n){Kv=n(Kv)}function dP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dv(this),e,...t);return zS.set(r,e.sort?e.sort():[e]),uo(r)}:uP().includes(n)?function(...e){return n.apply(dv(this),e),uo(jS.get(this))}:function(...e){return uo(n.apply(dv(this),e))}}function pP(n){return typeof n=="function"?dP(n):(n instanceof IDBTransaction&&fP(n),sP(n,lP())?new Proxy(n,Kv):n)}function uo(n){if(n instanceof IDBRequest)return cP(n);if(hv.has(n))return hv.get(n);const e=pP(n);return e!==n&&(hv.set(n,e),uy.set(e,n)),e}const dv=n=>uy.get(n);function gP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=uo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(uo(s.result),c.oldVersion,c.newVersion,uo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const vP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],pv=new Map;function iA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vP.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return pv.set(e,a),a}hP(n=>({...n,get:(e,t,r)=>iA(e,t)||n.get(e,t,r),has:(e,t)=>!!iA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_P(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function _P(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yv="@firebase/app",aA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new ly("@firebase/app"),xP="@firebase/app-compat",EP="@firebase/analytics-compat",wP="@firebase/analytics",AP="@firebase/app-check-compat",CP="@firebase/app-check",TP="@firebase/auth",bP="@firebase/auth-compat",SP="@firebase/database",IP="@firebase/data-connect",RP="@firebase/database-compat",OP="@firebase/functions",DP="@firebase/functions-compat",NP="@firebase/installations",PP="@firebase/installations-compat",MP="@firebase/messaging",LP="@firebase/messaging-compat",kP="@firebase/performance",BP="@firebase/performance-compat",VP="@firebase/remote-config",FP="@firebase/remote-config-compat",UP="@firebase/storage",jP="@firebase/storage-compat",zP="@firebase/firestore",HP="@firebase/ai",GP="@firebase/firestore-compat",qP="firebase",XP="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="[DEFAULT]",WP={[Yv]:"fire-core",[xP]:"fire-core-compat",[wP]:"fire-analytics",[EP]:"fire-analytics-compat",[CP]:"fire-app-check",[AP]:"fire-app-check-compat",[TP]:"fire-auth",[bP]:"fire-auth-compat",[SP]:"fire-rtdb",[IP]:"fire-data-connect",[RP]:"fire-rtdb-compat",[OP]:"fire-fn",[DP]:"fire-fn-compat",[NP]:"fire-iid",[PP]:"fire-iid-compat",[MP]:"fire-fcm",[LP]:"fire-fcm-compat",[kP]:"fire-perf",[BP]:"fire-perf-compat",[VP]:"fire-rc",[FP]:"fire-rc-compat",[UP]:"fire-gcs",[jP]:"fire-gcs-compat",[zP]:"fire-fst",[GP]:"fire-fst-compat",[HP]:"fire-vertex","fire-js":"fire-js",[qP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,KP=new Map,Qv=new Map;function oA(n,e){try{n.container.addComponent(e)}catch(t){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eu(n){const e=n.name;if(Qv.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,n);for(const t of Xd.values())oA(t,n);for(const t of KP.values())oA(t,n);return!0}function cy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new yf("app","Firebase",YP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=XP;function HS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$v,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(t||(t=BS()),!t)throw co.create("no-options");const a=Xd.get(i);if(a){if(Rs(t,a.options)&&Rs(r,a.config))return a;throw co.create("duplicate-app",{appName:i})}const s=new nP(i);for(const c of Qv.values())s.addComponent(c);const u=new $P(t,r,s);return Xd.set(i,u),u}function GS(n=$v){const e=Xd.get(n);if(!e&&n===$v&&BS())return HS();if(!e)throw co.create("no-app",{appName:n});return e}function fo(n,e,t){var r;let i=(r=WP[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}eu(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebase-heartbeat-database",ZP=1,tf="firebase-heartbeat-store";let gv=null;function qS(){return gv||(gv=gP(QP,ZP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tf)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),gv}async function JP(n){try{const t=(await qS()).transaction(tf),r=await t.objectStore(tf).get(XS(n));return await t.done,r}catch(e){if(e instanceof Aa)ya.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(t.message)}}}async function sA(n,e){try{const r=(await qS()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,XS(n)),await r.done}catch(t){if(t instanceof Aa)ya.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ya.warn(r.message)}}}function XS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1024,tM=30;class nM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tM){const s=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lA(),{heartbeatsToSend:r,unsentEntries:i}=rM(this._heartbeatsCache.heartbeats),a=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ya.warn(t),""}}}function lA(){return new Date().toISOString().substring(0,10)}function rM(n,e=eM){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),uA(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G9()?q9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return sA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return sA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uA(n){return qd(JSON.stringify({version:2,heartbeats:n})).length}function aM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(n){eu(new Os("platform-logger",e=>new yP(e),"PRIVATE")),eu(new Os("heartbeat",e=>new nM(e),"PRIVATE")),fo(Yv,aA,n),fo(Yv,aA,"esm2017"),fo("fire-js","")}oM("");var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,WS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function M(){}M.prototype=S.prototype,O.D=S.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(U,H,z){for(var j=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)j[ye-2]=arguments[ye];return S.prototype[H].apply(U,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,S,M){M||(M=0);var U=Array(16);if(typeof S=="string")for(var H=0;16>H;++H)U[H]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(H=0;16>H;++H)U[H]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=O.g[0],M=O.g[1],H=O.g[2];var z=O.g[3],j=S+(z^M&(H^z))+U[0]+3614090360&4294967295;S=M+(j<<7&4294967295|j>>>25),j=z+(H^S&(M^H))+U[1]+3905402710&4294967295,z=S+(j<<12&4294967295|j>>>20),j=H+(M^z&(S^M))+U[2]+606105819&4294967295,H=z+(j<<17&4294967295|j>>>15),j=M+(S^H&(z^S))+U[3]+3250441966&4294967295,M=H+(j<<22&4294967295|j>>>10),j=S+(z^M&(H^z))+U[4]+4118548399&4294967295,S=M+(j<<7&4294967295|j>>>25),j=z+(H^S&(M^H))+U[5]+1200080426&4294967295,z=S+(j<<12&4294967295|j>>>20),j=H+(M^z&(S^M))+U[6]+2821735955&4294967295,H=z+(j<<17&4294967295|j>>>15),j=M+(S^H&(z^S))+U[7]+4249261313&4294967295,M=H+(j<<22&4294967295|j>>>10),j=S+(z^M&(H^z))+U[8]+1770035416&4294967295,S=M+(j<<7&4294967295|j>>>25),j=z+(H^S&(M^H))+U[9]+2336552879&4294967295,z=S+(j<<12&4294967295|j>>>20),j=H+(M^z&(S^M))+U[10]+4294925233&4294967295,H=z+(j<<17&4294967295|j>>>15),j=M+(S^H&(z^S))+U[11]+2304563134&4294967295,M=H+(j<<22&4294967295|j>>>10),j=S+(z^M&(H^z))+U[12]+1804603682&4294967295,S=M+(j<<7&4294967295|j>>>25),j=z+(H^S&(M^H))+U[13]+4254626195&4294967295,z=S+(j<<12&4294967295|j>>>20),j=H+(M^z&(S^M))+U[14]+2792965006&4294967295,H=z+(j<<17&4294967295|j>>>15),j=M+(S^H&(z^S))+U[15]+1236535329&4294967295,M=H+(j<<22&4294967295|j>>>10),j=S+(H^z&(M^H))+U[1]+4129170786&4294967295,S=M+(j<<5&4294967295|j>>>27),j=z+(M^H&(S^M))+U[6]+3225465664&4294967295,z=S+(j<<9&4294967295|j>>>23),j=H+(S^M&(z^S))+U[11]+643717713&4294967295,H=z+(j<<14&4294967295|j>>>18),j=M+(z^S&(H^z))+U[0]+3921069994&4294967295,M=H+(j<<20&4294967295|j>>>12),j=S+(H^z&(M^H))+U[5]+3593408605&4294967295,S=M+(j<<5&4294967295|j>>>27),j=z+(M^H&(S^M))+U[10]+38016083&4294967295,z=S+(j<<9&4294967295|j>>>23),j=H+(S^M&(z^S))+U[15]+3634488961&4294967295,H=z+(j<<14&4294967295|j>>>18),j=M+(z^S&(H^z))+U[4]+3889429448&4294967295,M=H+(j<<20&4294967295|j>>>12),j=S+(H^z&(M^H))+U[9]+568446438&4294967295,S=M+(j<<5&4294967295|j>>>27),j=z+(M^H&(S^M))+U[14]+3275163606&4294967295,z=S+(j<<9&4294967295|j>>>23),j=H+(S^M&(z^S))+U[3]+4107603335&4294967295,H=z+(j<<14&4294967295|j>>>18),j=M+(z^S&(H^z))+U[8]+1163531501&4294967295,M=H+(j<<20&4294967295|j>>>12),j=S+(H^z&(M^H))+U[13]+2850285829&4294967295,S=M+(j<<5&4294967295|j>>>27),j=z+(M^H&(S^M))+U[2]+4243563512&4294967295,z=S+(j<<9&4294967295|j>>>23),j=H+(S^M&(z^S))+U[7]+1735328473&4294967295,H=z+(j<<14&4294967295|j>>>18),j=M+(z^S&(H^z))+U[12]+2368359562&4294967295,M=H+(j<<20&4294967295|j>>>12),j=S+(M^H^z)+U[5]+4294588738&4294967295,S=M+(j<<4&4294967295|j>>>28),j=z+(S^M^H)+U[8]+2272392833&4294967295,z=S+(j<<11&4294967295|j>>>21),j=H+(z^S^M)+U[11]+1839030562&4294967295,H=z+(j<<16&4294967295|j>>>16),j=M+(H^z^S)+U[14]+4259657740&4294967295,M=H+(j<<23&4294967295|j>>>9),j=S+(M^H^z)+U[1]+2763975236&4294967295,S=M+(j<<4&4294967295|j>>>28),j=z+(S^M^H)+U[4]+1272893353&4294967295,z=S+(j<<11&4294967295|j>>>21),j=H+(z^S^M)+U[7]+4139469664&4294967295,H=z+(j<<16&4294967295|j>>>16),j=M+(H^z^S)+U[10]+3200236656&4294967295,M=H+(j<<23&4294967295|j>>>9),j=S+(M^H^z)+U[13]+681279174&4294967295,S=M+(j<<4&4294967295|j>>>28),j=z+(S^M^H)+U[0]+3936430074&4294967295,z=S+(j<<11&4294967295|j>>>21),j=H+(z^S^M)+U[3]+3572445317&4294967295,H=z+(j<<16&4294967295|j>>>16),j=M+(H^z^S)+U[6]+76029189&4294967295,M=H+(j<<23&4294967295|j>>>9),j=S+(M^H^z)+U[9]+3654602809&4294967295,S=M+(j<<4&4294967295|j>>>28),j=z+(S^M^H)+U[12]+3873151461&4294967295,z=S+(j<<11&4294967295|j>>>21),j=H+(z^S^M)+U[15]+530742520&4294967295,H=z+(j<<16&4294967295|j>>>16),j=M+(H^z^S)+U[2]+3299628645&4294967295,M=H+(j<<23&4294967295|j>>>9),j=S+(H^(M|~z))+U[0]+4096336452&4294967295,S=M+(j<<6&4294967295|j>>>26),j=z+(M^(S|~H))+U[7]+1126891415&4294967295,z=S+(j<<10&4294967295|j>>>22),j=H+(S^(z|~M))+U[14]+2878612391&4294967295,H=z+(j<<15&4294967295|j>>>17),j=M+(z^(H|~S))+U[5]+4237533241&4294967295,M=H+(j<<21&4294967295|j>>>11),j=S+(H^(M|~z))+U[12]+1700485571&4294967295,S=M+(j<<6&4294967295|j>>>26),j=z+(M^(S|~H))+U[3]+2399980690&4294967295,z=S+(j<<10&4294967295|j>>>22),j=H+(S^(z|~M))+U[10]+4293915773&4294967295,H=z+(j<<15&4294967295|j>>>17),j=M+(z^(H|~S))+U[1]+2240044497&4294967295,M=H+(j<<21&4294967295|j>>>11),j=S+(H^(M|~z))+U[8]+1873313359&4294967295,S=M+(j<<6&4294967295|j>>>26),j=z+(M^(S|~H))+U[15]+4264355552&4294967295,z=S+(j<<10&4294967295|j>>>22),j=H+(S^(z|~M))+U[6]+2734768916&4294967295,H=z+(j<<15&4294967295|j>>>17),j=M+(z^(H|~S))+U[13]+1309151649&4294967295,M=H+(j<<21&4294967295|j>>>11),j=S+(H^(M|~z))+U[4]+4149444226&4294967295,S=M+(j<<6&4294967295|j>>>26),j=z+(M^(S|~H))+U[11]+3174756917&4294967295,z=S+(j<<10&4294967295|j>>>22),j=H+(S^(z|~M))+U[2]+718787259&4294967295,H=z+(j<<15&4294967295|j>>>17),j=M+(z^(H|~S))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(H+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+H&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var M=S-this.blockSize,U=this.B,H=this.h,z=0;z<S;){if(H==0)for(;z<=M;)i(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<S;)if(U[H++]=O.charCodeAt(z++),H==this.blockSize){i(this,U),H=0;break}}else for(;z<S;)if(U[H++]=O[z++],H==this.blockSize){i(this,U),H=0;break}}this.h=H,this.o+=S},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var M=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=M&255,M/=256;for(this.u(O),O=Array(16),S=M=0;4>S;++S)for(var U=0;32>U;U+=8)O[M++]=this.g[S]>>>U&255;return O};function a(O,S){var M=u;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=S(O)}function s(O,S){this.h=S;for(var M=[],U=!0,H=O.length-1;0<=H;H--){var z=O[H]|0;U&&z==S||(M[H]=z,U=!1)}this.g=M}var u={};function c(O){return-128<=O&&128>O?a(O,function(S){return new s([S|0],0>S?-1:0)}):new s([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return C(h(-O));for(var S=[],M=1,U=0;O>=M;U++)S[U]=O/M|0,M*=4294967296;return new s(S,0)}function p(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return C(p(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(S,8)),U=g,H=0;H<O.length;H+=8){var z=Math.min(8,O.length-H),j=parseInt(O.substring(H,H+z),S);8>z?(z=h(Math.pow(S,z)),U=U.j(z).add(h(j))):(U=U.j(M),U=U.add(h(j)))}return U}var g=c(0),y=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-C(this).m();for(var O=0,S=1,M=0;M<this.g.length;M++){var U=this.i(M);O+=(0<=U?U:4294967296+U)*S,S*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(A(this))return"-"+C(this).toString(O);for(var S=h(Math.pow(O,6)),M=this,U="";;){var H=B(M,S).g;M=I(M,H.j(S));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=H,E(M))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function A(O){return O.h==-1}n.l=function(O){return O=I(this,O),A(O)?-1:E(O)?0:1};function C(O){for(var S=O.g.length,M=[],U=0;U<S;U++)M[U]=~O.g[U];return new s(M,~O.h).add(y)}n.abs=function(){return A(this)?C(this):this},n.add=function(O){for(var S=Math.max(this.g.length,O.g.length),M=[],U=0,H=0;H<=S;H++){var z=U+(this.i(H)&65535)+(O.i(H)&65535),j=(z>>>16)+(this.i(H)>>>16)+(O.i(H)>>>16);U=j>>>16,z&=65535,j&=65535,M[H]=j<<16|z}return new s(M,M[M.length-1]&-2147483648?-1:0)};function I(O,S){return O.add(C(S))}n.j=function(O){if(E(this)||E(O))return g;if(A(this))return A(O)?C(this).j(C(O)):C(C(this).j(O));if(A(O))return C(this.j(C(O)));if(0>this.l(_)&&0>O.l(_))return h(this.m()*O.m());for(var S=this.g.length+O.g.length,M=[],U=0;U<2*S;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var H=0;H<O.g.length;H++){var z=this.i(U)>>>16,j=this.i(U)&65535,ye=O.i(H)>>>16,xe=O.i(H)&65535;M[2*U+2*H]+=j*xe,R(M,2*U+2*H),M[2*U+2*H+1]+=z*xe,R(M,2*U+2*H+1),M[2*U+2*H+1]+=j*ye,R(M,2*U+2*H+1),M[2*U+2*H+2]+=z*ye,R(M,2*U+2*H+2)}for(U=0;U<S;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=S;U<2*S;U++)M[U]=0;return new s(M,0)};function R(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function D(O,S){this.g=O,this.h=S}function B(O,S){if(E(S))throw Error("division by zero");if(E(O))return new D(g,g);if(A(O))return S=B(C(O),S),new D(C(S.g),C(S.h));if(A(S))return S=B(O,C(S)),new D(C(S.g),S.h);if(30<O.g.length){if(A(O)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var M=y,U=S;0>=U.l(O);)M=F(M),U=F(U);var H=q(M,1),z=q(U,1);for(U=q(U,2),M=q(M,2);!E(U);){var j=z.add(U);0>=j.l(O)&&(H=H.add(M),z=j),U=q(U,1),M=q(M,1)}return S=I(O,H.j(S)),new D(H,S)}for(H=g;0<=O.l(S);){for(M=Math.max(1,Math.floor(O.m()/S.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=h(M),j=z.j(S);A(j)||0<j.l(O);)M-=U,z=h(M),j=z.j(S);E(z)&&(z=y),H=H.add(z),O=I(O,j)}return new D(H,O)}n.A=function(O){return B(this,O).h},n.and=function(O){for(var S=Math.max(this.g.length,O.g.length),M=[],U=0;U<S;U++)M[U]=this.i(U)&O.i(U);return new s(M,this.h&O.h)},n.or=function(O){for(var S=Math.max(this.g.length,O.g.length),M=[],U=0;U<S;U++)M[U]=this.i(U)|O.i(U);return new s(M,this.h|O.h)},n.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),M=[],U=0;U<S;U++)M[U]=this.i(U)^O.i(U);return new s(M,this.h^O.h)};function F(O){for(var S=O.g.length+1,M=[],U=0;U<S;U++)M[U]=O.i(U)<<1|O.i(U-1)>>>31;return new s(M,O.h)}function q(O,S){var M=S>>5;S%=32;for(var U=O.g.length-M,H=[],z=0;z<U;z++)H[z]=0<S?O.i(z+M)>>>S|O.i(z+M+1)<<32-S:O.i(z+M);return new s(H,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,ho=s}).apply(typeof cA<"u"?cA:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KS,Fc,YS,Td,Zv,$S,QS,ZS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,w,T){return v==Array.prototype||v==Object.prototype||(v[w]=T.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var w=0;w<v.length;++w){var T=v[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(v,w){if(w)e:{var T=r;v=v.split(".");for(var k=0;k<v.length-1;k++){var $=v[k];if(!($ in T))break e;T=T[$]}v=v[v.length-1],k=T[v],w=w(k),w!=k&&w!=null&&e(T,v,{configurable:!0,writable:!0,value:w})}}function a(v,w){v instanceof String&&(v+="");var T=0,k=!1,$={next:function(){if(!k&&T<v.length){var re=T++;return{value:w(re,v[re]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(v){return v||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(v){var w=typeof v;return w=w!="object"?w:v?Array.isArray(v)?"array":w:"null",w=="array"||w=="object"&&typeof v.length=="number"}function h(v){var w=typeof v;return w=="object"&&v!=null||w=="function"}function p(v,w,T){return v.call.apply(v.bind,arguments)}function g(v,w,T){if(!v)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),v.apply(w,$)}}return function(){return v.apply(w,arguments)}}function y(v,w,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function _(v,w){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),v.apply(this,k)}}function E(v,w){function T(){}T.prototype=w.prototype,v.aa=w.prototype,v.prototype=new T,v.prototype.constructor=v,v.Qb=function(k,$,re){for(var pe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)pe[nt-2]=arguments[nt];return w.prototype[$].apply(k,pe)}}function A(v){const w=v.length;if(0<w){const T=Array(w);for(let k=0;k<w;k++)T[k]=v[k];return T}return[]}function C(v,w){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(c(k)){const $=v.length||0,re=k.length||0;v.length=$+re;for(let pe=0;pe<re;pe++)v[$+pe]=k[pe]}else v.push(k)}}class I{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(v){return/^[\s\xa0]*$/.test(v)}function D(){var v=u.navigator;return v&&(v=v.userAgent)?v:""}function B(v){return B[" "](v),v}B[" "]=function(){};var F=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function q(v,w,T){for(const k in v)w.call(T,v[k],k,v)}function O(v,w){for(const T in v)w.call(void 0,v[T],T,v)}function S(v){const w={};for(const T in v)w[T]=v[T];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(v,w){let T,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(T in k)v[T]=k[T];for(let re=0;re<M.length;re++)T=M[re],Object.prototype.hasOwnProperty.call(k,T)&&(v[T]=k[T])}}function H(v){var w=1;v=v.split(":");const T=[];for(;0<w&&v.length;)T.push(v.shift()),w--;return v.length&&T.push(v.join(":")),T}function z(v){u.setTimeout(()=>{throw v},0)}function j(){var v=Te;let w=null;return v.g&&(w=v.g,v.g=v.g.next,v.g||(v.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,T){const k=xe.get();k.set(w,T),this.h?this.h.next=k:this.g=k,this.h=k}}var xe=new I(()=>new K,v=>v.reset());class K{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ee=!1,Te=new ye,X=()=>{const v=u.Promise.resolve(void 0);oe=()=>{v.then(se)}};var se=()=>{for(var v;v=j();){try{v.h.call(v.g)}catch(T){z(T)}var w=xe;w.j(v),100>w.h&&(w.h++,v.next=w.g,w.g=v)}ee=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(v,w){this.type=v,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var v=!1,w=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return v}();function Me(v,w){if(ce.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var T=this.type=v.type,k=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=w,w=v.relatedTarget){if(F){e:{try{B(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else T=="mouseover"?w=v.fromElement:T=="mouseout"&&(w=v.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Se[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Me.aa.h.call(this)}}E(Me,ce);var Se={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Re=0;function ut(v,w,T,k,$){this.listener=v,this.proxy=null,this.src=w,this.type=T,this.capture=!!k,this.ha=$,this.key=++Re,this.da=this.fa=!1}function Ge(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function je(v){this.src=v,this.g={},this.h=0}je.prototype.add=function(v,w,T,k,$){var re=v.toString();v=this.g[re],v||(v=this.g[re]=[],this.h++);var pe=Gt(v,w,k,$);return-1<pe?(w=v[pe],T||(w.fa=!1)):(w=new ut(w,this.src,re,!!k,$),w.fa=T,v.push(w)),w};function ze(v,w){var T=w.type;if(T in v.g){var k=v.g[T],$=Array.prototype.indexOf.call(k,w,void 0),re;(re=0<=$)&&Array.prototype.splice.call(k,$,1),re&&(Ge(w),v.g[T].length==0&&(delete v.g[T],v.h--))}}function Gt(v,w,T,k){for(var $=0;$<v.length;++$){var re=v[$];if(!re.da&&re.listener==w&&re.capture==!!T&&re.ha==k)return $}return-1}var mn="closure_lm_"+(1e6*Math.random()|0),Gr={};function si(v,w,T,k,$){if(Array.isArray(w)){for(var re=0;re<w.length;re++)si(v,w[re],T,k,$);return null}return T=Pf(T),v&&v[ge]?v.K(w,T,h(k)?!!k.capture:!1,$):yn(v,w,T,!1,k,$)}function yn(v,w,T,k,$,re){if(!w)throw Error("Invalid event type");var pe=h($)?!!$.capture:!!$,nt=Us(v);if(nt||(v[mn]=nt=new je(v)),T=nt.add(w,T,k,pe,re),T.proxy)return T;if(k=Au(),T.proxy=k,k.src=v,k.listener=T,v.addEventListener)me||($=pe),$===void 0&&($=!1),v.addEventListener(w.toString(),k,$);else if(v.attachEvent)v.attachEvent(Mo(w.toString()),k);else if(v.addListener&&v.removeListener)v.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Au(){function v(T){return w.call(v.src,v.listener,T)}const w=r1;return v}function li(v,w,T,k,$){if(Array.isArray(w))for(var re=0;re<w.length;re++)li(v,w[re],T,k,$);else k=h(k)?!!k.capture:!!k,T=Pf(T),v&&v[ge]?(v=v.i,w=String(w).toString(),w in v.g&&(re=v.g[w],T=Gt(re,T,k,$),-1<T&&(Ge(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete v.g[w],v.h--)))):v&&(v=Us(v))&&(w=v.g[w.toString()],v=-1,w&&(v=Gt(w,T,k,$)),(T=-1<v?w[v]:null)&&Fs(T))}function Fs(v){if(typeof v!="number"&&v&&!v.da){var w=v.src;if(w&&w[ge])ze(w.i,v);else{var T=v.type,k=v.proxy;w.removeEventListener?w.removeEventListener(T,k,v.capture):w.detachEvent?w.detachEvent(Mo(T),k):w.addListener&&w.removeListener&&w.removeListener(k),(T=Us(w))?(ze(T,v),T.h==0&&(T.src=null,w[mn]=null)):Ge(v)}}}function Mo(v){return v in Gr?Gr[v]:Gr[v]="on"+v}function r1(v,w){if(v.da)v=!0;else{w=new Me(w,this);var T=v.listener,k=v.ha||v.src;v.fa&&Fs(v),v=T.call(k,w)}return v}function Us(v){return v=v[mn],v instanceof je?v:null}var Cu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(v){return typeof v=="function"?v:(v[Cu]||(v[Cu]=function(w){return v.handleEvent(w)}),v[Cu])}function jt(){de.call(this),this.i=new je(this),this.M=this,this.F=null}E(jt,de),jt.prototype[ge]=!0,jt.prototype.removeEventListener=function(v,w,T,k){li(this,v,w,T,k)};function yt(v,w){var T,k=v.F;if(k)for(T=[];k;k=k.F)T.push(k);if(v=v.M,k=w.type||w,typeof w=="string")w=new ce(w,v);else if(w instanceof ce)w.target=w.target||v;else{var $=w;w=new ce(k,v),U(w,$)}if($=!0,T)for(var re=T.length-1;0<=re;re--){var pe=w.g=T[re];$=pr(pe,k,!0,w)&&$}if(pe=w.g=v,$=pr(pe,k,!0,w)&&$,$=pr(pe,k,!1,w)&&$,T)for(re=0;re<T.length;re++)pe=w.g=T[re],$=pr(pe,k,!1,w)&&$}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var v=this.i,w;for(w in v.g){for(var T=v.g[w],k=0;k<T.length;k++)Ge(T[k]);delete v.g[w],v.h--}}this.F=null},jt.prototype.K=function(v,w,T,k){return this.i.add(String(v),w,!1,T,k)},jt.prototype.L=function(v,w,T,k){return this.i.add(String(v),w,!0,T,k)};function pr(v,w,T,k){if(w=v.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,re=0;re<w.length;++re){var pe=w[re];if(pe&&!pe.da&&pe.capture==T){var nt=pe.listener,nn=pe.ha||pe.src;pe.fa&&ze(v.i,pe),$=nt.call(nn,k)!==!1&&$}}return $&&!k.defaultPrevented}function Un(v,w,T){if(typeof v=="function")T&&(v=y(v,T));else if(v&&typeof v.handleEvent=="function")v=y(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(v,w||0)}function Mf(v){v.g=Un(()=>{v.g=null,v.i&&(v.i=!1,Mf(v))},v.l);const w=v.h;v.h=null,v.m.apply(null,w)}class i1 extends de{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Mf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(v){de.call(this),this.h=v,this.g={}}E(Lo,de);var ko=[];function Bo(v){q(v.g,function(w,T){this.g.hasOwnProperty(T)&&Fs(w)},v),v.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),Bo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=u.JSON.stringify,js=u.JSON.parse,Vo=class{stringify(v){return u.JSON.stringify(v,void 0)}parse(v){return u.JSON.parse(v,void 0)}};function Tu(){}Tu.prototype.h=null;function bu(v){return v.h||(v.h=v.i())}function Su(){}var Vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){ce.call(this,"d")}E(Fi,ce);function Iu(){ce.call(this,"c")}E(Iu,ce);var ui={},Ru=null;function Ca(){return Ru=Ru||new jt}ui.La="serverreachability";function zs(v){ce.call(this,ui.La,v)}E(zs,ce);function Ta(v){const w=Ca();yt(w,new zs(w))}ui.STAT_EVENT="statevent";function Lf(v,w){ce.call(this,ui.STAT_EVENT,v),this.stat=w}E(Lf,ce);function Mt(v){const w=Ca();yt(w,new Lf(w,v))}ui.Ma="timingevent";function tn(v,w){ce.call(this,ui.Ma,v),this.size=w}E(tn,ce);function Yt(v,w){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){v()},w)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Ou(v,w,T,k,$,re){v.info(function(){if(v.g)if(re)for(var pe="",nt=re.split("&"),nn=0;nn<nt.length;nn++){var rt=nt[nn].split("=");if(1<rt.length){var xn=rt[0];rt=rt[1];var rn=xn.split("_");pe=2<=rn.length&&rn[1]=="type"?pe+(xn+"="+rt+"&"):pe+(xn+"=redacted&")}}else pe=null;else pe=re;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+w+`
`+T+`
`+pe})}function a1(v,w,T,k,$,re,pe){v.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+w+`
`+T+`
`+re+" "+pe})}function ba(v,w,T,k){v.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fo(v,T)+(k?" "+k:"")})}function kf(v,w){v.info(function(){return"TIMEOUT: "+w})}Ir.prototype.info=function(){};function Fo(v,w){if(!v.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(v=0;v<T.length;v++)if(Array.isArray(T[v])){var k=T[v];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var re=$[0];if(re!="noop"&&re!="stop"&&re!="close")for(var pe=1;pe<$.length;pe++)$[pe]=""}}}}return qr(T)}catch{return w}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function fi(){}E(fi,Tu),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},ci=new fi;function $n(v,w,T,k){this.j=v,this.i=w,this.l=T,this.R=k||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qt}function qt(){this.i=null,this.g="",this.h=!1}var Du={},Hs={};function Xr(v,w,T){v.L=1,v.v=Go(gr(w)),v.m=T,v.P=!0,ji(v,null)}function ji(v,w){v.F=Date.now(),Uo(v),v.A=gr(v.v);var T=v.A,k=v.R;Array.isArray(k)||(k=[String(k)]),Bu(T.i,"t",k),v.C=0,T=v.j.J,v.h=new qt,v.g=Zf(v.j,T?w:null,!v.m),0<v.O&&(v.M=new i1(y(v.Y,v,v.g),v.O)),w=v.U,T=v.g,k=v.ca;var $="readystatechange";Array.isArray($)||($&&(ko[0]=$.toString()),$=ko);for(var re=0;re<$.length;re++){var pe=si(T,$[re],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=v.H?S(v.H):{},v.m?(v.u||(v.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,w)):(v.u="GET",v.g.ea(v.A,v.u,null,w)),Ta(),Ou(v.i,v.u,v.A,v.l,v.R,v.m)}$n.prototype.ca=function(v){v=v.target;const w=this.M;w&&Nr(v)==3?w.j():this.Y(v)},$n.prototype.Y=function(v){try{if(v==this.g)e:{const rn=Nr(this.g);var w=this.g.Ba();const Yi=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Gf(this.g)))){this.J||rn!=4||w==7||(w==8||0>=Yi?Ta(3):Ta(2)),Ia(this);var T=this.g.Z();this.X=T;t:if(Bf(this)){var k=Gf(this.g);v="";var $=k.length,re=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),hi(this);var pe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,v+=this.h.i.decode(k[w],{stream:!(re&&w==$-1)});k.length=0,this.h.g+=v,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=T==200,a1(this.i,this.u,this.A,this.l,this.R,rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,nn=this.g;if((nt=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(nt)){var rt=nt;break t}}rt=null}if(T=rt)ba(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jo(this,T);else{this.o=!1,this.s=3,Mt(12),Rn(this),hi(this);break e}}if(this.P){T=!0;let On;for(;!this.J&&this.C<pe.length;)if(On=Vf(this,pe),On==Hs){rn==4&&(this.s=4,Mt(14),T=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Du){this.s=4,Mt(15),ba(this.i,this.l,pe,"[Invalid Chunk]"),T=!1;break}else ba(this.i,this.l,On,null),jo(this,On);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||pe.length!=0||this.h.h||(this.s=1,Mt(16),T=!1),this.o=this.o&&T,!T)ba(this.i,this.l,pe,"[Invalid Chunked Response]"),Rn(this),hi(this);else if(0<pe.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Zo(xn),xn.M=!0,Mt(11))}}else ba(this.i,this.l,pe,null),jo(this,pe);rn==4&&Rn(this),this.o&&!this.J&&(rn==4?Yf(this.j,this):(this.o=!1,Uo(this)))}else c1(this.g),T==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Rn(this),hi(this)}}}catch{}finally{}};function Bf(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Vf(v,w){var T=v.C,k=w.indexOf(`
`,T);return k==-1?Hs:(T=Number(w.substring(T,k)),isNaN(T)?Du:(k+=1,k+T>w.length?Hs:(w=w.slice(k,k+T),v.C=k+T,w)))}$n.prototype.cancel=function(){this.J=!0,Rn(this)};function Uo(v){v.S=Date.now()+v.I,Ff(v,v.I)}function Ff(v,w){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Yt(y(v.ba,v),w)}function Ia(v){v.B&&(u.clearTimeout(v.B),v.B=null)}$n.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(kf(this.i,this.A),this.L!=2&&(Ta(),Mt(17)),Rn(this),this.s=2,hi(this)):Ff(this,this.S-v)};function hi(v){v.j.G==0||v.J||Yf(v.j,v)}function Rn(v){Ia(v);var w=v.M;w&&typeof w.ma=="function"&&w.ma(),v.M=null,Bo(v.U),v.g&&(w=v.g,v.g=null,w.abort(),w.ma())}function jo(v,w){try{var T=v.j;if(T.G!=0&&(T.g==v||Nu(T.h,v))){if(!v.K&&Nu(T.h,v)&&T.G==3){try{var k=T.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<v.F)tl(T),Js(T);else break e;zu(T),Mt(18)}}else T.za=$[1],0<T.za-T.T&&37500>$[2]&&T.F&&T.v==0&&!T.C&&(T.C=Yt(y(T.Za,T),6e3));if(1>=qs(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ki(T,11)}else if((v.K||T.g==v)&&tl(T),!R(w))for($=T.Da.g.parse(w),w=0;w<$.length;w++){let rt=$[w];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const xn=rt[3];xn!=null&&(T.la=xn,T.j.info("VER="+T.la));const rn=rt[4];rn!=null&&(T.Aa=rn,T.j.info("SVER="+T.Aa));const Yi=rt[5];Yi!=null&&typeof Yi=="number"&&0<Yi&&(k=1.5*Yi,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const On=v.g;if(On){const _i=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var re=k.h;re.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Xs(re,re.h),re.h=null))}if(k.D){const Gu=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Gu&&(k.ya=Gu,Ct(k.I,k.D,Gu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-v.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var pe=v;if(k.qa=Qf(k,k.J?k.ia:null,k.W),pe.K){Qn(k.h,pe);var nt=pe,nn=k.L;nn&&(nt.I=nn),nt.B&&(Ia(nt),Uo(nt)),k.g=pe}else Wf(k);0<T.i.length&&el(T)}else rt[0]!="stop"&&rt[0]!="close"||Ki(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ki(T,7):Uu(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}Ta(4)}catch{}}var Uf=class{constructor(v,w){this.g=v,this.map=w}};function zi(v){this.l=v||10,u.PerformanceNavigationTiming?(v=u.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function qs(v){return v.h?1:v.g?v.g.size:0}function Nu(v,w){return v.h?v.h==w:v.g?v.g.has(w):!1}function Xs(v,w){v.g?v.g.add(w):v.h=w}function Qn(v,w){v.h&&v.h==w?v.h=null:v.g&&v.g.has(w)&&v.g.delete(w)}zi.prototype.cancel=function(){if(this.i=Pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Pu(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let w=v.i;for(const T of v.g.values())w=w.concat(T.D);return w}return A(v.i)}function o1(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var w=[],T=v.length,k=0;k<T;k++)w.push(v[k]);return w}w=[],T=0;for(k in v)w[T++]=v[k];return w}function Ws(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var w=[];v=v.length;for(var T=0;T<v;T++)w.push(T);return w}w=[],T=0;for(const k in v)w[T++]=k;return w}}}function Mu(v,w){if(v.forEach&&typeof v.forEach=="function")v.forEach(w,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,w,void 0);else for(var T=Ws(v),k=o1(v),$=k.length,re=0;re<$;re++)w.call(void 0,k[re],T&&T[re],v)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s1(v,w){if(v){v=v.split("&");for(var T=0;T<v.length;T++){var k=v[T].indexOf("="),$=null;if(0<=k){var re=v[T].substring(0,k);$=v[T].substring(k+1)}else re=v[T];w(re,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function $t(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof $t){this.h=v.h,Ho(this,v.j),this.o=v.o,this.g=v.g,Ra(this,v.s),this.l=v.l;var w=v.i,T=new Gi;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Hi(this,T),this.m=v.m}else v&&(w=String(v).match(zo))?(this.h=!1,Ho(this,w[1]||"",!0),this.o=Rr(w[2]||""),this.g=Rr(w[3]||"",!0),Ra(this,w[4]),this.l=Rr(w[5]||"",!0),Hi(this,w[6]||"",!0),this.m=Rr(w[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}$t.prototype.toString=function(){var v=[],w=this.j;w&&v.push(qo(w,Lu,!0),":");var T=this.g;return(T||w=="file")&&(v.push("//"),(w=this.o)&&v.push(qo(w,Lu,!0),"@"),v.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&v.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&v.push("/"),v.push(qo(T,T.charAt(0)=="/"?l1:ku,!0))),(T=this.i.toString())&&v.push("?",T),(T=this.m)&&v.push("#",qo(T,Ks)),v.join("")};function gr(v){return new $t(v)}function Ho(v,w,T){v.j=T?Rr(w,!0):w,v.j&&(v.j=v.j.replace(/:$/,""))}function Ra(v,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);v.s=w}else v.s=null}function Hi(v,w,T){w instanceof Gi?(v.i=w,zf(v.i,v.h)):(T||(w=qo(w,u1)),v.i=new Gi(w,v.h))}function Ct(v,w,T){v.i.set(w,T)}function Go(v){return Ct(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Rr(v,w){return v?w?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function qo(v,w,T){return typeof v=="string"?(v=encodeURI(v).replace(w,jf),T&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function jf(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Lu=/[#\/\?@]/g,ku=/[#\?:]/g,l1=/[#\?]/g,u1=/[#\?@]/g,Ks=/#/g;function Gi(v,w){this.h=this.g=null,this.i=v||null,this.j=!!w}function Or(v){v.g||(v.g=new Map,v.h=0,v.i&&s1(v.i,function(w,T){v.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}n=Gi.prototype,n.add=function(v,w){Or(this),this.i=null,v=di(this,v);var T=this.g.get(v);return T||this.g.set(v,T=[]),T.push(w),this.h+=1,this};function qi(v,w){Or(v),w=di(v,w),v.g.has(w)&&(v.i=null,v.h-=v.g.get(w).length,v.g.delete(w))}function Xi(v,w){return Or(v),w=di(v,w),v.g.has(w)}n.forEach=function(v,w){Or(this),this.g.forEach(function(T,k){T.forEach(function($){v.call(w,$,k,this)},this)},this)},n.na=function(){Or(this);const v=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let k=0;k<w.length;k++){const $=v[k];for(let re=0;re<$.length;re++)T.push(w[k])}return T},n.V=function(v){Or(this);let w=[];if(typeof v=="string")Xi(this,v)&&(w=w.concat(this.g.get(di(this,v))));else{v=Array.from(this.g.values());for(let T=0;T<v.length;T++)w=w.concat(v[T])}return w},n.set=function(v,w){return Or(this),this.i=null,v=di(this,v),Xi(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[w]),this.h+=1,this},n.get=function(v,w){return v?(v=this.V(v),0<v.length?String(v[0]):w):w};function Bu(v,w,T){qi(v,w),0<T.length&&(v.i=null,v.g.set(di(v,w),A(T)),v.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var k=w[T];const re=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var $=re;pe[k]!==""&&($+="="+encodeURIComponent(String(pe[k]))),v.push($)}}return this.i=v.join("&")};function di(v,w){return w=String(w),v.j&&(w=w.toLowerCase()),w}function zf(v,w){w&&!v.j&&(Or(v),v.i=null,v.g.forEach(function(T,k){var $=k.toLowerCase();k!=$&&(qi(this,k),Bu(this,$,T))},v)),v.j=w}function Xo(v,w){const T=new Ir;if(u.Image){const k=new Image;k.onload=_(Dr,T,"TestLoadImage: loaded",!0,w,k),k.onerror=_(Dr,T,"TestLoadImage: error",!1,w,k),k.onabort=_(Dr,T,"TestLoadImage: abort",!1,w,k),k.ontimeout=_(Dr,T,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=v}else w(!1)}function Wr(v,w){const T=new Ir,k=new AbortController,$=setTimeout(()=>{k.abort(),Dr(T,"TestPingServer: timeout",!1,w)},1e4);fetch(v,{signal:k.signal}).then(re=>{clearTimeout($),re.ok?Dr(T,"TestPingServer: ok",!0,w):Dr(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Dr(T,"TestPingServer: error",!1,w)})}function Dr(v,w,T,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(T)}catch{}}function Wo(){this.g=new Vo}function pi(v,w,T){const k=T||"";try{Mu(v,function($,re){let pe=$;h($)&&(pe=qr($)),w.push(k+re+"="+encodeURIComponent(pe))})}catch($){throw w.push(k+"type="+encodeURIComponent("_badmap")),$}}function Oa(v){this.l=v.Ub||null,this.j=v.eb||!1}E(Oa,Tu),Oa.prototype.g=function(){return new Wi(this.l,this.j)},Oa.prototype.i=function(v){return function(){return v}}({});function Wi(v,w){jt.call(this),this.D=v,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wi,jt),n=Wi.prototype,n.open=function(v,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=w,this.readyState=1,vi(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(w.body=v),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vu(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vu(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var w=v.value?v.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!v.done}))&&(this.response=this.responseText+=w)}v.done?gi(this):vi(this),this.readyState==3&&Vu(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,gi(this))},n.Qa=function(v){this.g&&(this.response=v,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,vi(v)}n.setRequestHeader=function(v,w){this.u.append(v,w)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,v.push(T[0]+": "+T[1]),T=w.next();return v.join(`\r
`)};function vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Fu(v){let w="";return q(v,function(T,k){w+=k,w+=":",w+=T,w+=`\r
`}),w}function _n(v,w,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Fu(T),typeof v=="string"?T!=null&&encodeURIComponent(String(T)):Ct(v,w,T))}function gt(v){jt.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(gt,jt);var Ys=/^https?$/i,Ko=["POST","PUT"];n=gt.prototype,n.Ha=function(v){this.J=v},n.ea=function(v,w,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);w=w?w.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?bu(this.o):bu(ci),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(v),!0),this.B=!1}catch(re){Hf(this,re);return}if(v=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)T.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const re of k.keys())T.set(re,k.get(re));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),$=u.FormData&&v instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ko,w,void 0))||k||$||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,pe]of T)this.g.setRequestHeader(re,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(v),this.u=!1}catch(re){Hf(this,re)}};function Hf(v,w){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=w,v.m=5,$s(v),mi(v)}function $s(v){v.A||(v.A=!0,yt(v,"complete"),yt(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,yt(this,"complete"),yt(this,"abort"),mi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},n.bb=function(){Qs(this)};function Qs(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Nr(v)!=4||v.Z()!=2)){if(v.u&&Nr(v)==4)Un(v.Ea,0,v);else if(yt(v,"readystatechange"),Nr(v)==4){v.h=!1;try{const pe=v.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var k;if(k=pe===0){var $=String(v.D).match(zo)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),k=!Ys.test($?$.toLowerCase():"")}T=k}if(T)yt(v,"complete"),yt(v,"success");else{v.m=6;try{var re=2<Nr(v)?v.g.statusText:""}catch{re=""}v.l=re+" ["+v.Z()+"]",$s(v)}}finally{mi(v)}}}}function mi(v,w){if(v.g){Yo(v);const T=v.g,k=v.v[0]?()=>{}:null;v.g=null,v.v=null,w||yt(v,"ready");try{T.onreadystatechange=k}catch{}}}function Yo(v){v.I&&(u.clearTimeout(v.I),v.I=null)}n.isActive=function(){return!!this.g};function Nr(v){return v.g?v.g.readyState:0}n.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var w=this.g.responseText;return v&&w.indexOf(v)==0&&(w=w.substring(v.length)),js(w)}};function Gf(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function c1(v){const w={};v=(v.g&&2<=Nr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<v.length;k++){if(R(v[k]))continue;var T=H(v[k]);const $=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=w[$]||[];w[$]=re,re.push(T)}O(w,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(v,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[v]||w}function Zs(v){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,v),this.cb=$o("retryDelaySeedMs",1e4,v),this.Wa=$o("forwardChannelMaxRetries",2,v),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(v&&v.concurrentRequestLimit),this.Da=new Wo,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zs.prototype,n.la=8,n.G=1,n.connect=function(v,w,T,k){Mt(0),this.W=v,this.H=w||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Qf(this,null,this.W),el(this)};function Uu(v){if(qf(v),v.G==3){var w=v.U++,T=gr(v.I);if(Ct(T,"SID",v.K),Ct(T,"RID",w),Ct(T,"TYPE","terminate"),Qo(v,T),w=new $n(v,v.j,w),w.L=2,w.v=Go(gr(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=Zf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Uo(w)}$f(v)}function Js(v){v.g&&(Zo(v),v.g.cancel(),v.g=null)}function qf(v){Js(v),v.u&&(u.clearTimeout(v.u),v.u=null),tl(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&u.clearTimeout(v.s),v.s=null)}function el(v){if(!Gs(v.h)&&!v.s){v.s=!0;var w=v.Ga;oe||X(),ee||(oe(),ee=!0),Te.add(w,v),v.B=0}}function f1(v,w){return qs(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=w.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Yt(y(v.Ga,v,w),Hu(v,v.B)),v.B++,!0)}n.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const $=new $n(this,this.j,v);let re=this.o;if(this.S&&(re?(re=S(re),U(re,this.S)):re=this.S),this.m!==null||this.O||($.H=re,re=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Xf(this,$,w),T=gr(this.I),Ct(T,"RID",v),Ct(T,"CVER",22),this.D&&Ct(T,"X-HTTP-Session-Id",this.D),Qo(this,T),re&&(this.O?w="headers="+encodeURIComponent(String(Fu(re)))+"&"+w:this.m&&_n(T,this.m,re)),Xs(this.h,$),this.Ua&&Ct(T,"TYPE","init"),this.P?(Ct(T,"$req",w),Ct(T,"SID","null"),$.T=!0,Xr($,T,null)):Xr($,T,w),this.G=2}}else this.G==3&&(v?ju(this,v):this.i.length==0||Gs(this.h)||ju(this))};function ju(v,w){var T;w?T=w.l:T=v.U++;const k=gr(v.I);Ct(k,"SID",v.K),Ct(k,"RID",T),Ct(k,"AID",v.T),Qo(v,k),v.m&&v.o&&_n(k,v.m,v.o),T=new $n(v,v.j,T,v.B+1),v.m===null&&(T.H=v.o),w&&(v.i=w.D.concat(v.i)),w=Xf(v,T,1e3),T.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Xs(v.h,T),Xr(T,k,w)}function Qo(v,w){v.H&&q(v.H,function(T,k){Ct(w,k,T)}),v.l&&Mu({},function(T,k){Ct(w,k,T)})}function Xf(v,w,T){T=Math.min(v.i.length,T);var k=v.l?y(v.l.Na,v.l,v):null;e:{var $=v.i;let re=-1;for(;;){const pe=["count="+T];re==-1?0<T?(re=$[0].g,pe.push("ofs="+re)):re=0:pe.push("ofs="+re);let nt=!0;for(let nn=0;nn<T;nn++){let rt=$[nn].g;const xn=$[nn].map;if(rt-=re,0>rt)re=Math.max(0,$[nn].g-100),nt=!1;else try{pi(xn,pe,"req"+rt+"_")}catch{k&&k(xn)}}if(nt){k=pe.join("&");break e}}}return v=v.i.splice(0,T),w.D=v,k}function Wf(v){if(!v.g&&!v.u){v.Y=1;var w=v.Fa;oe||X(),ee||(oe(),ee=!0),Te.add(w,v),v.v=0}}function zu(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Yt(y(v.Fa,v),Hu(v,v.v)),v.v++,!0)}n.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Yt(y(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Js(this),Kf(this))};function Zo(v){v.A!=null&&(u.clearTimeout(v.A),v.A=null)}function Kf(v){v.g=new $n(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var w=gr(v.qa);Ct(w,"RID","rpc"),Ct(w,"SID",v.K),Ct(w,"AID",v.T),Ct(w,"CI",v.F?"0":"1"),!v.F&&v.ja&&Ct(w,"TO",v.ja),Ct(w,"TYPE","xmlhttp"),Qo(v,w),v.m&&v.o&&_n(w,v.m,v.o),v.L&&(v.g.I=v.L);var T=v.g;v=v.ia,T.L=1,T.v=Go(gr(w)),T.m=null,T.P=!0,ji(T,v)}n.Za=function(){this.C!=null&&(this.C=null,Js(this),zu(this),Mt(19))};function tl(v){v.C!=null&&(u.clearTimeout(v.C),v.C=null)}function Yf(v,w){var T=null;if(v.g==w){tl(v),Zo(v),v.g=null;var k=2}else if(Nu(v.h,w))T=w.D,Qn(v.h,w),k=1;else return;if(v.G!=0){if(w.o)if(k==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var $=v.B;k=Ca(),yt(k,new tn(k,T)),el(v)}else Wf(v);else if($=w.s,$==3||$==0&&0<w.X||!(k==1&&f1(v,w)||k==2&&zu(v)))switch(T&&0<T.length&&(w=v.h,w.i=w.i.concat(T)),$){case 1:Ki(v,5);break;case 4:Ki(v,10);break;case 3:Ki(v,6);break;default:Ki(v,2)}}}function Hu(v,w){let T=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(T*=2),T*w}function Ki(v,w){if(v.j.info("Error code "+w),w==2){var T=y(v.fb,v),k=v.Xa;const $=!k;k=new $t(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ho(k,"https"),Go(k),$?Xo(k.toString(),T):Wr(k.toString(),T)}else Mt(2);v.G=0,v.l&&v.l.sa(w),$f(v),qf(v)}n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function $f(v){if(v.G=0,v.ka=[],v.l){const w=Pu(v.h);(w.length!=0||v.i.length!=0)&&(C(v.ka,w),C(v.ka,v.i),v.h.i.length=0,A(v.i),v.i.length=0),v.l.ra()}}function Qf(v,w,T){var k=T instanceof $t?gr(T):new $t(T);if(k.g!="")w&&(k.g=w+"."+k.g),Ra(k,k.s);else{var $=u.location;k=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var re=new $t(null);k&&Ho(re,k),w&&(re.g=w),$&&Ra(re,$),T&&(re.l=T),k=re}return T=v.D,w=v.ya,T&&w&&Ct(k,T,w),Ct(k,"VER",v.la),Qo(v,k),k}function Zf(v,w,T){if(w&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=v.Ca&&!v.pa?new gt(new Oa({eb:T})):new gt(v.pa),w.Ha(v.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}n=Jf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(v,w){return new Zn(v,w)};function Zn(v,w){jt.call(this),this.g=new Zs(w),this.l=v,this.h=w&&w.messageUrlParams||null,v=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(v?v["X-WebChannel-Content-Type"]=w.messageContentType:v={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(v?v["X-WebChannel-Client-Profile"]=w.va:v={"X-WebChannel-Client-Profile":w.va}),this.g.S=v,(v=w&&w.Sb)&&!R(v)&&(this.g.m=v),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,v=this.h,v!==null&&w in v&&(v=this.h,w in v&&delete v[w])),this.j=new yi(this)}E(Zn,jt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Uu(this.g)},Zn.prototype.o=function(v){var w=this.g;if(typeof v=="string"){var T={};T.__data__=v,v=T}else this.u&&(T={},T.__data__=qr(v),v=T);w.i.push(new Uf(w.Ya++,v)),w.G==3&&el(w)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Uu(this.g),delete this.g,Zn.aa.N.call(this)};function eh(v){Fi.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var w=v.__sm__;if(w){e:{for(const T in w){v=T;break e}v=void 0}(this.i=v)&&(v=this.i,w=w!==null&&v in w?w[v]:void 0),this.data=w}else this.data=v}E(eh,Fi);function th(){Iu.call(this),this.status=1}E(th,Iu);function yi(v){this.g=v}E(yi,Jf),yi.prototype.ua=function(){yt(this.g,"a")},yi.prototype.ta=function(v){yt(this.g,new eh(v))},yi.prototype.sa=function(v){yt(this.g,new th)},yi.prototype.ra=function(){yt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,ZS=function(){return new nl},QS=function(){return Ca()},$S=ui,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Td=Sa,Ui.COMPLETE="complete",YS=Ui,Su.EventType=Vi,Vi.OPEN="a",Vi.CLOSE="b",Vi.ERROR="c",Vi.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Fc=Su,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,KS=gt}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});const fA="@firebase/firestore",hA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new ly("@firebase/firestore");function Fl(){return Ds.logLevel}function _e(n,...e){if(Ds.logLevel<=et.DEBUG){const t=e.map(fy);Ds.debug(`Firestore (${mu}): ${n}`,...t)}}function _a(n,...e){if(Ds.logLevel<=et.ERROR){const t=e.map(fy);Ds.error(`Firestore (${mu}): ${n}`,...t)}}function tu(n,...e){if(Ds.logLevel<=et.WARN){const t=e.map(fy);Ds.warn(`Firestore (${mu}): ${n}`,...t)}}function fy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JS(n,r,t)}function JS(n,e,t){let r=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _a(r),new Error(r)}function mt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JS(e,i,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Aa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class lM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uM{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new po;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new po,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new po)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new e3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class cM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Jv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const a=t3(),s=pM(a.encode(pA(n,t)),a.encode(pA(e,t)));return s!==0?s:Ye(r,i)}}t+=r>65535?2:1}return Ye(n.length,e.length)}function pA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function pM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ye(n[t],e[t]);return Ye(n.length,e.length)}function nu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=-62135596800,vA=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vA);return new gn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gA)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vA}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new gn(0,0))}static max(){return new Fe(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="__name__";class Ti{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ti.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=Ti.isNumericId(e),i=Ti.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ti.extractNumericId(e).compare(Ti.extractNumericId(t)):Jv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class kt extends Ti{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const gM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ti{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return gM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mA}static keyField(){return new Bn([mA])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new be(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new be(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(kt.fromString(e))}static fromName(e){return new Ne(kt.fromString(e).popFirst(5))}static empty(){return new Ne(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;function vM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new gn(t+1,0):new gn(t,r));return new Eo(i,Ne.empty(),e)}function mM(n){return new Eo(n.readTime,n.key,nf)}class Eo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Eo(Fe.min(),Ne.empty(),nf)}static max(){return new Eo(Fe.max(),Ne.empty(),nf)}}function yM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==_M)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new fe((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function EM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _u(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}R0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-1;function O0(n){return n==null}function Wd(n){return n===0&&1/n==-1/0}function wM(n){return typeof n=="number"&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="";function AM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yA(e)),e=CM(n.get(t),e);return yA(e)}function CM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case r3:t+="";break;default:t+=a}}return t}function yA(n){return n+r3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function i3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=a??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new kn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xA(this.data.getIterator())}getIteratorFrom(e){return new xA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class xA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new vn(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new a3("Invalid base64 string: "+a):a}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const TM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=TM.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="server_timestamp",s3="__type__",l3="__previous_value__",u3="__local_write_time__";function dy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[s3])===null||t===void 0?void 0:t.stringValue)===o3}function D0(n){const e=n.mapValue.fields[l3];return dy(e)?D0(e):e}function rf(n){const e=wo(n.mapValue.fields[u3].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Kd="(default)";class af{constructor(e,t){this.projectId=e,this.database=t||Kd}static empty(){return new af("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof af&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="__type__",SM="__max__",hd={mapValue:{}},f3="__vector__",Yd="value";function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dy(n)?4:RM(n)?9007199254740991:IM(n)?10:11:Be(28295,{value:n})}function Mi(n,e){if(n===e)return!0;const t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rf(n).isEqual(rf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=wo(i.timestampValue),u=wo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ao(i.bytesValue).isEqual(Ao(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Kt(i.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Kt(i.integerValue)===Kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Kt(i.doubleValue),u=Kt(a.doubleValue);return s===u?Wd(s)===Wd(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(_A(s)!==_A(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Mi(s[c],u[c])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function of(n,e){return(n.values||[]).find(t=>Mi(t,e))!==void 0}function ru(n,e){if(n===e)return 0;const t=Co(n),r=Co(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=Kt(a.integerValue||a.doubleValue),c=Kt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return EA(n.timestampValue,e.timestampValue);case 4:return EA(rf(n),rf(e));case 5:return Jv(n.stringValue,e.stringValue);case 6:return function(a,s){const u=Ao(a),c=Ao(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=Ye(u[h],c[h]);if(p!==0)return p}return Ye(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=Ye(Kt(a.latitude),Kt(s.latitude));return u!==0?u:Ye(Kt(a.longitude),Kt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return wA(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const g=a.fields||{},y=s.fields||{},_=(u=g[Yd])===null||u===void 0?void 0:u.arrayValue,E=(c=y[Yd])===null||c===void 0?void 0:c.arrayValue,A=Ye(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:wA(_,E)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===hd.mapValue&&s===hd.mapValue)return 0;if(a===hd.mapValue)return 1;if(s===hd.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=Jv(c[g],p[g]);if(y!==0)return y;const _=ru(u[c[g]],h[p[g]]);if(_!==0)return _}return Ye(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function EA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=wo(n),r=wo(e),i=Ye(t.seconds,r.seconds);return i!==0?i:Ye(t.nanos,r.nanos)}function wA(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=ru(t[i],r[i]);if(a)return a}return Ye(t.length,r.length)}function iu(n){return em(n)}function em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=wo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=em(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${em(t.fields[s])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function bd(n){switch(Co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=D0(n);return e?16+bd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+bd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ro(r.fields,(a,s)=>{i+=a.length+bd(s)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function tm(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function AA(n){return!!n&&"nullValue"in n}function CA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sd(n){return!!n&&"mapValue"in n}function IM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[c3])===null||t===void 0?void 0:t.stringValue)===f3}function Kc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(t)}setAll(e){let t=Bn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=Kc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new fr(Kc(this.value))}}function h3(n){const e=[];return Ro(n.fields,(t,r)=>{const i=new Bn([t]);if(Sd(r)){const a=h3(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Xn(e,0,Fe.min(),Fe.min(),Fe.min(),fr.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Fe.min(),Fe.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Fe.min(),Fe.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.position=e,this.inclusive=t}}function TA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(s.referenceValue),t.key):r=ru(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function bA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t="asc"){this.field=e,this.dir=t}}function OM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{}class hn extends d3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NM(e,t,r):t==="array-contains"?new LM(e,r):t==="in"?new kM(e,r):t==="not-in"?new BM(e,r):t==="array-contains-any"?new VM(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PM(e,r):new MM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ru(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends d3{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Li(e,t)}matches(e){return p3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function p3(n){return n.op==="and"}function g3(n){return DM(n)&&p3(n)}function DM(n){for(const e of n.filters)if(e instanceof Li)return!1;return!0}function nm(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(g3(n))return n.filters.map(e=>nm(e)).join(",");{const e=n.filters.map(t=>nm(t)).join(",");return`${n.op}(${e})`}}function v3(n,e){return n instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.field.isEqual(i.field)&&Mi(r.value,i.value)}(n,e):n instanceof Li?function(r,i){return i instanceof Li&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&v3(s,i.filters[u]),!0):!1}(n,e):void Be(19439)}function m3(n){return n instanceof hn?function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`}(n):n instanceof Li?function(t){return t.op.toString()+" {"+t.getFilters().map(m3).join(" ,")+"}"}(n):"Filter"}class NM extends hn{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class PM extends hn{constructor(e,t){super(e,"in",t),this.keys=y3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MM extends hn{constructor(e,t){super(e,"not-in",t),this.keys=y3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function y3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class LM extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return py(t)&&of(t.arrayValue,this.value)}}class kM extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&of(this.value.arrayValue,t)}}class BM extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!of(this.value.arrayValue,t)}}class VM extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>of(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function SA(n,e=null,t=[],r=[],i=null,a=null,s=null){return new FM(n,e,t,r,i,a,s)}function gy(n){const e=Ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),O0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>iu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>iu(r)).join(",")),e.Ie=t}return e.Ie}function vy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bA(n.startAt,e.startAt)&&bA(n.endAt,e.endAt)}function rm(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UM(n,e,t,r,i,a,s,u){return new N0(n,e,t,r,i,a,s,u)}function P0(n){return new N0(n)}function IA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jM(n){return n.collectionGroup!==null}function Yc(n){const e=Ue(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new vn(Bn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Qd(a,r))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new Qd(Bn.keyField(),r))}return e.Ee}function Oi(n){const e=Ue(n);return e.de||(e.de=zM(e,Yc(n))),e.de}function zM(n,e){if(n.limitType==="F")return SA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Qd(i.field,a)});const t=n.endAt?new $d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $d(n.startAt.position,n.startAt.inclusive):null;return SA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function im(n,e,t){return new N0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function M0(n,e){return vy(Oi(n),Oi(e))&&n.limitType===e.limitType}function _3(n){return`${gy(Oi(n))}|lt:${n.limitType}`}function Ul(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>m3(i)).join(", ")}]`),O0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>iu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>iu(i)).join(",")),`Target(${r})`}(Oi(n))}; limitType=${n.limitType})`}function L0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Yc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=TA(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,u,c){const h=TA(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Yc(r),i))}(n,e)}function HM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function x3(n){return(e,t)=>{let r=!1;for(const i of Yc(n)){const a=GM(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function GM(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?ru(c,h):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return i3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new Ut(Ne.comparator);function xa(){return qM}const E3=new Ut(Ne.comparator);function Uc(...n){let e=E3;for(const t of n)e=e.insert(t.key,t);return e}function w3(n){let e=E3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Es(){return $c()}function A3(){return $c()}function $c(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const XM=new Ut(Ne.comparator),WM=new vn(Ne.comparator);function tt(...n){let e=WM;for(const t of n)e=e.add(t);return e}const KM=new vn(Ye);function YM(){return KM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function C3(n){return{integerValue:""+n}}function $M(n,e){return wM(e)?C3(e):my(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function QM(n,e,t){return n instanceof Zd?function(i,a){const s={fields:{[s3]:{stringValue:o3},[u3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dy(a)&&(a=D0(a)),a&&(s.fields[l3]=a),{mapValue:s}}(t,e):n instanceof sf?b3(n,e):n instanceof lf?S3(n,e):function(i,a){const s=T3(i,a),u=RA(s)+RA(i.Re);return tm(s)&&tm(i.Re)?C3(u):my(i.serializer,u)}(n,e)}function ZM(n,e,t){return n instanceof sf?b3(n,e):n instanceof lf?S3(n,e):t}function T3(n,e){return n instanceof Jd?function(r){return tm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Zd extends k0{}class sf extends k0{constructor(e){super(),this.elements=e}}function b3(n,e){const t=I3(e);for(const r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}class lf extends k0{constructor(e){super(),this.elements=e}}function S3(n,e){let t=I3(e);for(const r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}class Jd extends k0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function RA(n){return Kt(n.integerValue||n.doubleValue)}function I3(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JM(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof sf&&i instanceof sf||r instanceof lf&&i instanceof lf?nu(r.elements,i.elements,Mi):r instanceof Jd&&i instanceof Jd?Mi(r.Re,i.Re):r instanceof Zd&&i instanceof Zd}(n.transform,e.transform)}class e7{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B0{}function R3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new V0(n.key,rr.none()):new xf(n.key,n.data,rr.none());{const t=n.data,r=fr.empty();let i=new vn(Bn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Oo(n.key,r,new Tr(i.toArray()),rr.none())}}function t7(n,e,t){n instanceof xf?function(i,a,s){const u=i.value.clone(),c=DA(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Oo?function(i,a,s){if(!Id(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=DA(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(O3(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qc(n,e,t,r){return n instanceof xf?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=a.value.clone(),p=NA(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oo?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=NA(a.fieldTransforms,c,s),p=s.data;return p.setAll(O3(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,s,u){return Id(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function n7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=T3(r.transform,i||null);a!=null&&(t===null&&(t=fr.empty()),t.set(r.field,a))}return t||null}function OA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nu(r,i,(a,s)=>JM(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xf extends B0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends B0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function O3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function DA(n,e,t){const r=new Map;mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,ZM(s,u,t[i]))}return r}function NA(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,QM(a,s,e))}return r}class V0 extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r7 extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&t7(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=A3();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=R3(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>OA(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>OA(t,r))}}class yy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return XM}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new yy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,at;function s7(n){switch(n){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function D3(n){if(n===void 0)return _a("GRPC error has no .code"),he.UNKNOWN;switch(n){case Jt.OK:return he.OK;case Jt.CANCELLED:return he.CANCELLED;case Jt.UNKNOWN:return he.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return he.INTERNAL;case Jt.UNAVAILABLE:return he.UNAVAILABLE;case Jt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Jt.NOT_FOUND:return he.NOT_FOUND;case Jt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Jt.ABORTED:return he.ABORTED;case Jt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Jt.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:n})}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new ho([4294967295,4294967295],0);function PA(n){const e=t3().encode(n),t=new WS;return t.update(e),new Uint8Array(t.digest())}function MA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ho([t,r],0),new ho([i,a],0)]}class _y{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ho.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ho.fromNumber(r)));return i.compare(l7)===1&&(i=new ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=PA(e),[r,i]=MA(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new _y(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=PA(e),[r,i]=MA(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new F0(Fe.min(),i,new Ut(Ye),xa(),tt())}}class Ef{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ef(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class N3{constructor(e,t){this.targetId=e,this.Ce=t}}class P3{constructor(e,t,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LA{constructor(){this.Fe=0,this.Me=kA(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}}),new Ef(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=kA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class u7{constructor(e){this.ze=e,this.je=new Map,this.He=xa(),this.Je=dd(),this.Ye=dd(),this.Ze=new Ut(Ye)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(rm(a))if(r===0){const s=new Ne(a.path);this.tt(t,s,Xn.newNoDocument(s,Fe.min()))}else mt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=Ao(r).toUint8Array()}catch(c){if(c instanceof a3)return tu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new _y(s,i,a)}catch(c){return tu(c instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&rm(u.target)){const c=new Ne(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Xn.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new F0(e,t,this.Ze,this.He,r);return this.He=xa(),this.Je=dd(),this.Ye=dd(),this.Ze=new Ut(Ye),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new LA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new vn(Ye),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new vn(Ye),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new LA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function dd(){return new Ut(Ne.comparator)}function kA(){return new Ut(Ne.comparator)}const c7={asc:"ASCENDING",desc:"DESCENDING"},f7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h7={and:"AND",or:"OR"};class d7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function am(n,e){return n.useProto3Json||O0(e)?e:{value:e}}function e0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p7(n,e){return e0(n,e.toTimestamp())}function Di(n){return mt(!!n,49232),Fe.fromTimestamp(function(t){const r=wo(t);return new gn(r.seconds,r.nanos)}(n))}function xy(n,e){return om(n,e).canonicalString()}function om(n,e){const t=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L3(n){const e=kt.fromString(n);return mt(U3(e),10190,{key:e.toString()}),e}function sm(n,e){return xy(n.databaseId,e.path)}function vv(n,e){const t=L3(e);if(t.get(1)!==n.databaseId.projectId)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(B3(t))}function k3(n,e){return xy(n.databaseId,e)}function g7(n){const e=L3(n);return e.length===4?kt.emptyPath():B3(e)}function lm(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B3(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BA(n,e,t){return{name:sm(n,e),fields:t.value.mapValue.fields}}function v7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(mt(p===void 0||typeof p=="string",58123),Fn.fromBase64String(p||"")):(mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Fn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?he.UNKNOWN:D3(h.code);return new be(p,h.message||"")}(s);t=new P3(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vv(n,r.document.name),a=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):Fe.min(),u=new fr({mapValue:{fields:r.document.fields}}),c=Xn.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Rd(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vv(n,r.document),a=r.readTime?Di(r.readTime):Fe.min(),s=Xn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Rd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vv(n,r.document),a=r.removedTargetIds||[];t=new Rd([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new o7(i,a),u=r.targetId;t=new N3(u,s)}}return t}function m7(n,e){let t;if(e instanceof xf)t={update:BA(n,e.key,e.value)};else if(e instanceof V0)t={delete:sm(n,e.key)};else if(e instanceof Oo)t={update:BA(n,e.key,e.data),updateMask:b7(e.fieldMask)};else{if(!(e instanceof r7))return Be(16599,{ft:e.type});t={verify:sm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof Zd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jd)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:p7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function y7(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Di(i.updateTime):Di(a);return s.isEqual(Fe.min())&&(s=Di(a)),new e7(s,i.transformResults||[])}(t,e))):[]}function _7(n,e){return{documents:[k3(n,e.path)]}}function x7(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=k3(n,i);const a=function(h){if(h.length!==0)return F3(Li.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:jl(y.field),direction:A7(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=am(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function E7(n){let e=g7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){mt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const y=V3(g);return y instanceof Li&&g3(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(y=>function(E){return new Qd(zl(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,O0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(g){const y=!!g.before,_=g.values||[];return new $d(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const y=!g.before,_=g.values||[];return new $d(_,y)}(t.endAt)),UM(e,i,s,a,u,"F",c,h)}function w7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function V3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zl(t.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zl(t.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zl(t.unaryFilter.field);return hn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zl(t.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return hn.create(zl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Li.create(t.compositeFilter.filters.map(r=>V3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function A7(n){return c7[n]}function C7(n){return f7[n]}function T7(n){return h7[n]}function jl(n){return{fieldPath:n.canonicalString()}}function zl(n){return Bn.fromServerFormat(n.fieldPath)}function F3(n){return n instanceof hn?function(t){if(t.op==="=="){if(CA(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(AA(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CA(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(AA(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:C7(t.op),value:t.value}}}(n):n instanceof Li?function(t){const r=t.getFilters().map(i=>F3(i));return r.length===1?r[0]:{compositeFilter:{op:T7(t.op),filters:r}}}(n):Be(54877,{filter:n})}function b7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r,i,a=Fe.min(),s=Fe.min(),u=Fn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.wt=e}}function I7(n){const e=E7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.Cn=new O7}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Eo.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class O7{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j3=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(j3,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new au(0)}static lr(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="LruGarbageCollector",D7=1048576;function UA([n,e],[t,r]){const i=Ye(n,t);return i===0?Ye(e,r):i}class N7{constructor(e){this.Er=e,this.buffer=new vn(UA),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class P7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){_e(FA,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_u(t)?_e(FA,"Ignoring IndexedDB error during garbage collection: ",t):await yu(t)}await this.mr(3e5)})}}class M7{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(R0.le);const r=new N7(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(VA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VA):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Fl()<=et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function L7(n,e){return new M7(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qc(r.mutation,i,Tr.empty(),gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=Es();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Uc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Es();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=xa();const s=$c(),u=function(){return $c()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Oo)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Qc(p.mutation,h,p.mutation.getFieldMask(),gn.now())):s.set(h.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var g;return u.set(h,new B7(p,(g=s.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$c();let i=new Ut((s,u)=>s-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||Tr.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=A3();p.forEach(y=>{if(!a.has(y)){const _=R3(t.get(y),r.get(y));_!==null&&g.set(y,_),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):fe.resolve(Es());let u=nf,c=a;return s.next(h=>fe.forEach(h,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?fe.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,tt())).next(p=>({batchId:u,changes:w3(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let i=Uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Uc();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,c=>{const h=function(g,y){return new N0(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,Xn.newInvalidDocument(p)))});let u=Uc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Qc(p.mutation,h,Tr.empty(),gn.now()),L0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:I7(i.bundledQuery),readTime:Di(i.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.overlays=new Ut(Ne.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Es();return fe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=Es(),a=t.length+1,s=new Ne(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ut((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=Es(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Es(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return fe.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new a7(t,r));let a=this.Qr.get(t);a===void 0&&(a=tt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.$r=new vn(bn.Ur),this.Kr=new vn(bn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new bn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new bn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ne(new kt([])),r=new bn(t,e),i=new bn(t,e+1);let a=tt();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new bn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ne.comparator(e.key,t.key)||Ye(e.Zr,t.Zr)}static Wr(e,t){return Ye(e.Zr,t.Zr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new vn(bn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new i7(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new bn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?hy:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ye);return t.forEach(i=>{const a=new bn(i,0),s=new bn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const s=new bn(new Ne(a),0);let u=new vn(Ye);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),fe.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(t.mutations,i=>{const a=new bn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new bn(t,0),i=this.Xr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.ii=e,this.docs=function(){return new Ut(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=xa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=xa();const s=t.path,u=new Ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||yM(mM(p),r)<=0||(i.has(p.key)||L0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Be(9500)}si(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new G7(this)}getSize(e){return fe.resolve(this.size)}}class G7 extends k7{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.persistence=e,this.oi=new Bs(t=>gy(t),vy),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Ey,this.targetCount=0,this.ui=au.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new au(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t){this.ci={},this.overlays={},this.li=new R0(0),this.hi=!1,this.hi=!0,this.Pi=new j7,this.referenceDelegate=e(this),this.Ti=new q7(this),this.indexManager=new R7,this.remoteDocumentCache=function(i){return new H7(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new S7(t),this.Ei=new F7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new z7(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new X7(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class X7 extends xM{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.Vi=new Ey,this.mi=null}static fi(e){return new wy(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const i=Ne.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Fe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class t0{constructor(e,t){this.persistence=e,this.yi=new Bs(r=>AM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=L7(this,t)}static fi(e,t){return new t0(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?fe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,Fe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bd(e.data.value)),t}Dr(e,t,r){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=tt(),i=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ay(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return H9()?8:EM(Kn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new W7;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Fl()<=et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ul(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Fl()<=et.DEBUG&&_e("QueryEngine","Query:",Ul(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Fl()<=et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ul(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):fe.resolve())}ws(e,t){if(IA(t))return fe.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=im(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=tt(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,im(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return IA(t)||i.isEqual(Fe.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?fe.resolve(null):(Fl()<=et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ul(t)),this.Fs(e,s,t,vM(i,nf)).next(u=>u))})}vs(e,t){let r=new vn(x3(e));return t.forEach((i,a)=>{L0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Fl()<=et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ul(t)),this.ys.getDocumentsMatchingQuery(e,t,Eo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LocalStore",Y7=3e8;class $7{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ut(Ye),this.Os=new Bs(a=>gy(a),vy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Q7(n,e,t,r){return new $7(n,e,t,r)}async function H3(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=tt();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function Z7(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const g=h.batch,y=g.keys();let _=fe.resolve();return y.forEach(E=>{_=_.next(()=>p.getEntry(c,E)).next(A=>{const C=h.docVersions.get(E);mt(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function G3(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function J7(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,g)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Fn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(A,C,I){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Y7?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,p)&&u.push(t.Ti.updateTargetData(a,_))});let c=xa(),h=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(eL(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(Fe.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(g=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return fe.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function eL(n,e,t){let r=tt(),i=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=xa();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):_e(Cy,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function tL(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nL(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,fe.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new lo(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function um(n,e,t){const r=Ue(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!_u(s))throw s;_e(Cy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function jA(n,e,t){const r=Ue(n);let i=Fe.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const g=Ue(c),y=g.Os.get(p);return y!==void 0?fe.resolve(g.xs.get(y)):g.Ti.getTargetData(h,p)}(r,s,Oi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Fe.min(),t?a:tt())).next(u=>(rL(r,HM(e),u),{documents:u,$s:a})))}function rL(n,e,t){let r=n.Ns.get(e)||Fe.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class zA{constructor(){this.activeTargetIds=YM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iL{constructor(){this.xo=new zA,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="ConnectivityMonitor";class GA{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_e(HA,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){_e(HA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function cm(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",oL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Kd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=cm(),u=this.jo(e,t.toUriEncodedString());_e(mv,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=mf(h);return this.Jo(e,u,c,r,p).then(g=>(_e(mv,`Received RPC '${e}' ${s}: `,g),g),g=>{throw tu(mv,`RPC '${e}' ${s} failed with error: `,g,"url: ",u,"request:",r),g})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=oL[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class uL extends sL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=cm();return new Promise((u,c)=>{const h=new KS;h.setWithCredentials(!0),h.listenOnce(YS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Td.NO_ERROR:const g=h.getResponseJson();_e(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),u(g);break;case Td.TIMEOUT:_e(Hn,`RPC '${e}' ${s} timed out`),c(new be(he.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const y=h.getStatus();if(_e(Hn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN}(E.status);c(new be(A,E.message))}else c(new be(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{_e(Hn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);_e(Hn,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=cm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ZS(),u=QS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");_e(Hn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=s.createWebChannel(p,c);let y=!1,_=!1;const E=new lL({Zo:C=>{_?_e(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(_e(Hn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),_e(Hn,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Xo:()=>g.close()}),A=(C,I,R)=>{C.listen(I,D=>{try{R(D)}catch(B){setTimeout(()=>{throw B},0)}})};return A(g,Fc.EventType.OPEN,()=>{_||(_e(Hn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),A(g,Fc.EventType.CLOSE,()=>{_||(_=!0,_e(Hn,`RPC '${e}' stream ${i} transport closed`),E.u_())}),A(g,Fc.EventType.ERROR,C=>{_||(_=!0,tu(Hn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),E.u_(new be(he.UNAVAILABLE,"The operation could not be completed")))}),A(g,Fc.EventType.MESSAGE,C=>{var I;if(!_){const R=C.data[0];mt(!!R,16349);const D=R,B=(D==null?void 0:D.error)||((I=D[0])===null||I===void 0?void 0:I.error);if(B){_e(Hn,`RPC '${e}' stream ${i} received error:`,B);const F=B.status;let q=function(M){const U=Jt[M];if(U!==void 0)return D3(U)}(F),O=B.message;q===void 0&&(q=he.INTERNAL,O="Unknown error status: "+F+" with message "+B.message),_=!0,E.u_(new be(q,O)),g.close()}else _e(Hn,`RPC '${e}' stream ${i} received:`,R),E.c_(R)}}),A(u,$S.STAT_EVENT,C=>{C.stat===Zv.PROXY?_e(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Zv.NOPROXY&&_e(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){return new d7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="PersistentStream";class X3{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new q3(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(_a(t.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new be(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return _e(qA,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(_e(qA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cL extends X3{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=v7(this.serializer,e),r=function(a){if(!("targetChange"in a))return Fe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Di(s.readTime):Fe.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=lm(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=rm(c)?{documents:_7(a,c)}:{query:x7(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=M3(a,s.resumeToken);const h=am(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(Fe.min())>0){u.readTime=e0(a,s.snapshotVersion.toTimestamp());const h=am(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=w7(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=lm(this.serializer),t.removeTarget=e,this.L_(t)}}class fL extends X3{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=y7(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=lm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>m7(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{}class dL extends hL{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,om(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(he.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,om(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(he.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class pL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(_a(t),this.oa=!1):_e("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class gL{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{Vs(this)&&(_e(Ns,"Restarting streams for network reachability change."),await async function(c){const h=Ue(c);h.Ta.add(4),await wf(h),h.da.set("Unknown"),h.Ta.delete(4),await j0(h)}(this))})}),this.da=new pL(r,i)}}async function j0(n){if(Vs(n))for(const e of n.Ia)await e(!0)}async function wf(n){for(const e of n.Ia)await e(!1)}function W3(n,e){const t=Ue(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Iy(t)?Sy(t):xu(t).M_()&&by(t,e))}function Ty(n,e){const t=Ue(n),r=xu(t);t.Pa.delete(e),r.M_()&&K3(t,e),t.Pa.size===0&&(r.M_()?r.N_():Vs(t)&&t.da.set("Unknown"))}function by(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xu(n).H_(e)}function K3(n,e){n.Aa.Ke(e),xu(n).J_(e)}function Sy(n){n.Aa=new u7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xu(n).start(),n.da._a()}function Iy(n){return Vs(n)&&!xu(n).F_()&&n.Pa.size>0}function Vs(n){return Ue(n).Ta.size===0}function Y3(n){n.Aa=void 0}async function vL(n){n.da.set("Online")}async function mL(n){n.Pa.forEach((e,t)=>{by(n,e)})}async function yL(n,e){Y3(n),Iy(n)?(n.da.ca(e),Sy(n)):n.da.set("Unknown")}async function _L(n,e,t){if(n.da.set("Online"),e instanceof P3&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){_e(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await n0(n,r)}else if(e instanceof Rd?n.Aa.Xe(e):e instanceof N3?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Fe.min()))try{const r=await G3(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(Fn.EMPTY_BYTE_STRING,p.snapshotVersion)),K3(a,c);const g=new lo(p.target,c,h,p.sequenceNumber);by(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){_e(Ns,"Failed to raise snapshot:",r),await n0(n,r)}}async function n0(n,e,t){if(!_u(e))throw e;n.Ta.add(1),await wf(n),n.da.set("Offline"),t||(t=()=>G3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Ns,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await j0(n)})}function $3(n,e){return e().catch(t=>n0(n,t,e))}async function z0(n){const e=Ue(n),t=To(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:hy;for(;xL(e);)try{const i=await tL(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,EL(e,i)}catch(i){await n0(e,i)}Q3(e)&&Z3(e)}function xL(n){return Vs(n)&&n.ha.length<10}function EL(n,e){n.ha.push(e);const t=To(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function Q3(n){return Vs(n)&&!To(n).F_()&&n.ha.length>0}function Z3(n){To(n).start()}async function wL(n){To(n).ta()}async function AL(n){const e=To(n);for(const t of n.ha)e.Z_(t.mutations)}async function CL(n,e,t){const r=n.ha.shift(),i=yy.from(r,e,t);await $3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await z0(n)}async function TL(n,e){e&&To(n).Y_&&await async function(r,i){if(function(s){return s7(s)&&s!==he.ABORTED}(i.code)){const a=r.ha.shift();To(r).O_(),await $3(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await z0(r)}}(n,e),Q3(n)&&Z3(n)}async function XA(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),_e(Ns,"RemoteStore received new credentials");const r=Vs(t);t.Ta.add(3),await wf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await j0(t)}async function bL(n,e){const t=Ue(n);e?(t.Ta.delete(2),await j0(t)):e||(t.Ta.add(2),await wf(t),t.da.set("Unknown"))}function xu(n){return n.Ra||(n.Ra=function(t,r,i){const a=Ue(t);return a.ra(),new cL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:vL.bind(null,n),n_:mL.bind(null,n),i_:yL.bind(null,n),j_:_L.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Iy(n)?Sy(n):n.da.set("Unknown")):(await n.Ra.stop(),Y3(n))})),n.Ra}function To(n){return n.Va||(n.Va=function(t,r,i){const a=Ue(t);return a.ra(),new fL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:wL.bind(null,n),i_:TL.bind(null,n),X_:AL.bind(null,n),ea:CL.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await z0(n)):(await n.Va.stop(),n.ha.length>0&&(_e(Ns,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new Ry(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oy(n,e){if(_a("AsyncQueue",`${e}: ${n}`),_u(n))return new be(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{static emptySet(e){return new Wl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=Uc(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.ma=new Ut(Ne.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new ou(e,t,Wl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&M0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class IL{constructor(){this.queries=KA(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=KA(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new be(he.ABORTED,"Firestore shutting down"))}}function KA(){return new Bs(n=>_3(n),M0)}async function J3(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new SL,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=Oy(s,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Dy(t)}async function eI(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RL(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&Dy(t)}function OL(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function Dy(n){n.ba.forEach(e=>{e.next()})}var fm,YA;(YA=fm||(fm={})).Ca="default",YA.Cache="cache";class tI{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.key=e}}class rI{constructor(e){this.key=e}}class DL{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=x3(e),this.Ja=new Wl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new WA,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),_=L0(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;y&&_?y.data.isEqual(_.data)?E!==A&&(r.track({type:3,doc:_}),C=!0):this.eu(y,_)||(r.track({type:2,doc:_}),C=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),C=!0):y&&!_&&(r.track({type:1,doc:y}),C=!0,(c||h)&&(u=!0)),C&&(_?(s=s.add(_),a=A?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,g)=>function(_,E){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:C})}};return A(_)-A(E)}(p.type,g.type)||this.Ha(p.doc,g.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new ou(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new WA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new rI(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new nI(r))}),t}su(e){this.Ga=e.$s,this.ja=tt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ou.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Ny="SyncEngine";class NL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class PL{constructor(e){this.key=e,this._u=!1}}class ML{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Bs(u=>_3(u),M0),this.cu=new Map,this.lu=new Set,this.hu=new Ut(Ne.comparator),this.Pu=new Map,this.Tu=new Ey,this.Iu={},this.Eu=new Map,this.du=au.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function LL(n,e,t=!0){const r=uI(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await iI(r,e,t,!0),i}async function kL(n,e){const t=uI(n);await iI(t,e,!0,!1)}async function iI(n,e,t,r){const i=await nL(n.localStore,Oi(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await BL(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&W3(n.remoteStore,i),u}async function BL(n,e,t,r,i){n.Ru=(g,y,_)=>async function(A,C,I,R){let D=C.view.Za(I);D.Cs&&(D=await jA(A.localStore,C.query,!1).then(({documents:O})=>C.view.Za(O,D)));const B=R&&R.targetChanges.get(C.targetId),F=R&&R.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(D,A.isPrimaryClient,B,F);return QA(A,C.targetId,q.ru),q.snapshot}(n,g,y,_);const a=await jA(n.localStore,e,!0),s=new DL(e,a.$s),u=s.Za(a.documents),c=Ef.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);QA(n,t,h.ru);const p=new NL(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function VL(n,e,t){const r=Ue(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!M0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await um(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ty(r.remoteStore,i.targetId),hm(r,i.targetId)}).catch(yu)):(hm(r,i.targetId),await um(r.localStore,i.targetId,!0))}async function FL(n,e){const t=Ue(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(t.remoteStore,r.targetId))}async function UL(n,e,t){const r=WL(n);try{const i=await function(s,u){const c=Ue(s),h=gn.now(),p=u.reduce((_,E)=>_.add(E.key),tt());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=xa(),A=tt();return c.Bs.getEntries(_,p).next(C=>{E=C,E.forEach((I,R)=>{R.isValidDocument()||(A=A.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(C=>{g=C;const I=[];for(const R of u){const D=n7(R,g.get(R.key).overlayedDocument);D!=null&&I.push(new Oo(R.key,D,h3(D.value.mapValue),rr.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,I,u)}).next(C=>{y=C;const I=C.applyToLocalDocumentSet(g,A);return c.documentOverlayCache.saveOverlays(_,C.batchId,I)})}).then(()=>({batchId:y.batchId,changes:w3(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new Ut(Ye)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await Af(r,i.changes),await z0(r.remoteStore)}catch(i){const a=Oy(i,"Failed to persist write");t.reject(a)}}async function aI(n,e){const t=Ue(n);try{const r=await J7(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?mt(s._u,14607):i.removedDocuments.size>0&&(mt(s._u,42227),s._u=!1))}),await Af(t,r,e)}catch(r){await yu(r)}}function $A(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ue(s);c.onlineState=u;let h=!1;c.queries.forEach((p,g)=>{for(const y of g.ya)y.Da(u)&&(h=!0)}),h&&Dy(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jL(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new Ut(Ne.comparator);s=s.insert(a,Xn.newNoDocument(a,Fe.min()));const u=tt().add(a),c=new F0(Fe.min(),new Map,new Ut(Ye),s,u);await aI(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),Py(r)}else await um(r.localStore,e,!1).then(()=>hm(r,e,t)).catch(yu)}async function zL(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await Z7(t.localStore,e);sI(t,r,null),oI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Af(t,i)}catch(i){await yu(i)}}async function HL(n,e,t){const r=Ue(n);try{const i=await function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(mt(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);sI(r,e,t),oI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Af(r,i)}catch(i){await yu(i)}}function oI(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function sI(n,e,t){const r=Ue(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function hm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||lI(n,r)})}function lI(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Ty(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Py(n))}function QA(n,e,t){for(const r of t)r instanceof nI?(n.Tu.addReference(r.key,e),GL(n,r)):r instanceof rI?(_e(Ny,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||lI(n,r.key)):Be(19791,{mu:r})}function GL(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(_e(Ny,"New document in limbo: "+t),n.lu.add(r),Py(n))}function Py(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Ne(kt.fromString(e)),r=n.du.next();n.Pu.set(r,new PL(t)),n.hu=n.hu.insert(t,r),W3(n.remoteStore,new lo(Oi(P0(t.path)),r,"TargetPurposeLimboResolution",R0.le))}}async function Af(n,e,t){const r=Ue(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Ay.Rs(c.targetId,h);a.push(g)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=Ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>fe.forEach(h,y=>fe.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>fe.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!_u(g))throw g;_e(Cy,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const _=p.xs.get(y),E=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(y,A)}}}(r.localStore,a))}async function qL(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){_e(Ny,"User change. New user:",e.toKey());const r=await H3(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new be(he.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Af(t,r.ks)}}function XL(n,e){const t=Ue(n),r=t.Pu.get(e);if(r&&r._u)return tt().add(r.key);{let i=tt();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function uI(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jL.bind(null,e),e.au.j_=RL.bind(null,e.eventManager),e.au.Vu=OL.bind(null,e.eventManager),e}function WL(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HL.bind(null,e),e}class r0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=U0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Q7(this.persistence,new K7,e.initialUser,this.serializer)}yu(e){return new z3(wy.fi,this.serializer)}pu(e){return new iL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}r0.provider={build:()=>new r0};class KL extends r0{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){mt(this.persistence.referenceDelegate instanceof t0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new P7(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new z3(r=>t0.fi(r,t),this.serializer)}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$A(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qL.bind(null,this.syncEngine),await bL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IL}()}createDatastore(e){const t=U0(e.databaseInfo.databaseId),r=function(a){return new uL(a)}(e.databaseInfo);return function(a,s,u,c){return new dL(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new gL(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>$A(this.syncEngine,t,0),function(){return GA.C()?new GA:new aL}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const g=new ML(i,a,s,u,c,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);_e(Ns,"RemoteStore shutting down."),a.Ta.add(5),await wf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class YL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=n3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{_e(bo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(_e(bo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Oy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _v(n,e){n.asyncQueue.verifyOperationInProgress(),_e(bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $L(n);_e(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>XA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>XA(e.remoteStore,i)),n._onlineComponents=e}async function $L(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(bo,"Using user provided OfflineComponentProvider");try{await _v(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;tu("Error using user provided cache. Falling back to memory cache: "+t),await _v(n,new r0)}}else _e(bo,"Using default OfflineComponentProvider"),await _v(n,new KL(void 0));return n._offlineComponents}async function fI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(bo,"Using user provided OnlineComponentProvider"),await ZA(n,n._uninitializedComponentsProvider._online)):(_e(bo,"Using default OnlineComponentProvider"),await ZA(n,new dm))),n._onlineComponents}function QL(n){return fI(n).then(e=>e.syncEngine)}async function pm(n){const e=await fI(n),t=e.eventManager;return t.onListen=LL.bind(null,e.syncEngine),t.onUnlisten=VL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FL.bind(null,e.syncEngine),t}function ZL(n,e,t={}){const r=new po;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,h){const p=new cI({next:y=>{p.Cu(),s.enqueueAndForget(()=>eI(a,g));const _=y.docs.has(u);!_&&y.fromCache?h.reject(new be(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?h.reject(new be(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new tI(P0(u.path),p,{includeMetadataChanges:!0,La:!0});return J3(a,g)}(await pm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n,e,t){if(!t)throw new be(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JL(n,e,t,r){if(e===!0&&r===!0)throw new be(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eC(n){if(!Ne.isDocumentKey(n))throw new be(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tC(n){if(Ne.isDocumentKey(n))throw new be(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function My(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=My(n);throw new be(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firestore.googleapis.com",nC=!0;class rC{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pI,this.ssl=nC}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D7)throw new be(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class H0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=JA.get(t);r&&(_e("ComponentProvider","Removing Datastore"),JA.delete(t),r.terminate())}(this),Promise.resolve()}}function ek(n,e,t,r={}){var i;n=Sr(n,H0);const a=mf(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(FS(`https://${c}`),US("Firestore",!0)),s.host!==pI&&s.host!==c&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!Rs(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=qn.MOCK_USER;else{p=M9(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new be(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new qn(y)}n._authCredentials=new lM(new e3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G0(this.firestore,e,this._query)}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class go extends G0{constructor(e,t,r){super(e,t,P0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new Ne(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function xv(n,e,...t){if(n=en(n),dI("collection","path",e),n instanceof H0){const r=kt.fromString(e,...t);return tC(r),new go(n,null,r)}{if(!(n instanceof ir||n instanceof go))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return tC(r),new go(n.firestore,null,r)}}function xs(n,e,...t){if(n=en(n),arguments.length===1&&(e=n3.newId()),dI("doc","path",e),n instanceof H0){const r=kt.fromString(e,...t);return eC(r),new ir(n,null,new Ne(r))}{if(!(n instanceof ir||n instanceof go))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return eC(r),new ir(n.firestore,n instanceof go?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="AsyncQueue";class aC{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new q3(this,"async_queue_retry"),this.ec=()=>{const r=yv();r&&_e(iC,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new po;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!_u(e))throw e;_e(iC,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,_a("INTERNAL UNHANDLED ERROR: ",oC(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=Ry.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&Be(47125,{_c:oC(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function oC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ea extends H0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new aC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aC(e),this._firestoreClient=void 0,await e}}}function tk(n,e){const t=typeof n=="object"?n:GS(),r=typeof n=="string"?n:Kd,i=cy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=N9("firestore");a&&ek(i,...a)}return i}function q0(n){if(n._terminated)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nk(n),n._firestoreClient}function nk(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new bM(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,hI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new YL(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(Fn.fromBase64String(e))}catch(t){throw new be(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new su(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=/^__.*__$/;class ik{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new xf(e,this.data,t,this.fieldTransforms)}}class gI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:n})}}class Vy{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return i0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(vI(this.hc)&&rk.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class ak{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||U0(e)}gc(e,t,r,i=!1){return new Vy({hc:e,methodName:t,fc:r,path:Bn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X0(n){const e=n._freezeSettings(),t=U0(n._databaseId);return new ak(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fy(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);Uy("Data must be an object, but it was:",s,r);const u=_I(r,s);let c,h;if(a.merge)c=new Tr(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=gm(e,g,t);if(!s.contains(y))throw new be(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EI(p,y)||p.push(y)}c=new Tr(p),h=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=s.fieldTransforms;return new ik(new fr(u),c,h)}class W0 extends Ly{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function mI(n,e,t,r){const i=n.gc(1,e,t);Uy("Data must be an object, but it was:",i,r);const a=[],s=fr.empty();Ro(r,(c,h)=>{const p=jy(e,c,t);h=en(h);const g=i.Ac(p);if(h instanceof W0)a.push(p);else{const y=K0(h,g);y!=null&&(a.push(p),s.set(p,y))}});const u=new Tr(a);return new gI(s,u,i.fieldTransforms)}function yI(n,e,t,r,i,a){const s=n.gc(1,e,t),u=[gm(e,r,t)],c=[i];if(a.length%2!=0)throw new be(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(gm(e,a[y])),c.push(a[y+1]);const h=[],p=fr.empty();for(let y=u.length-1;y>=0;--y)if(!EI(h,u[y])){const _=u[y];let E=c[y];E=en(E);const A=s.Ac(_);if(E instanceof W0)h.push(_);else{const C=K0(E,A);C!=null&&(h.push(_),p.set(_,C))}}const g=new Tr(h);return new gI(p,g,s.fieldTransforms)}function K0(n,e){if(xI(n=en(n)))return Uy("Unsupported field value:",e,n),_I(n,e);if(n instanceof Ly)return function(r,i){if(!vI(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=K0(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $M(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gn.fromDate(r);return{timestampValue:e0(i.serializer,a)}}if(r instanceof gn){const a=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:e0(i.serializer,a)}}if(r instanceof ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof su)return{bytesValue:M3(i.serializer,r._byteString)};if(r instanceof ir){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof By)return function(s,u){return{mapValue:{fields:{[c3]:{stringValue:f3},[Yd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return my(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${My(r)}`)}(n,e)}function _I(n,e){const t={};return i3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,i)=>{const a=K0(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function xI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gn||n instanceof ky||n instanceof su||n instanceof ir||n instanceof Ly||n instanceof By)}function Uy(n,e,t){if(!xI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=My(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function gm(n,e,t){if((e=en(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return jy(n,e);throw i0("Field path arguments must be of type string or ",n,!1,void 0,t)}const ok=new RegExp("[~\\*/\\[\\]]");function jy(n,e,t){if(e.search(ok)>=0)throw i0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw i0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function i0(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new be(he.INVALID_ARGUMENT,u+n+c)}function EI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sk extends wI{data(){return super.data()}}function AI(n,e){return typeof e=="string"?jy(n,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uk{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Yd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Kt(s.doubleValue));return new By(a)}convertGeoPoint(e){return new ky(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=D0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const t=wo(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);mt(U3(r),9688,{name:e});const i=new af(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return i.isEqual(t)||_a(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CI extends wI{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(AI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Od extends CI{data(e={}){return super.data(e)}}class ck{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Od(this._firestore,this._userDataWriter,r.key,r,new zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new zc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new Od(i._firestore,i._userDataWriter,u.doc.key,u.doc,new zc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),p=s.indexOf(u.doc.key)),{type:fk(u.type),doc:c,oldIndex:h,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n){n=Sr(n,ir);const e=Sr(n.firestore,Ea);return ZL(q0(e),n._key).then(t=>SI(e,n,t))}class bI extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function hk(n,e,t){n=Sr(n,ir);const r=Sr(n.firestore,Ea),i=zy(n.converter,e,t);return Tf(r,[Fy(X0(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,rr.none())])}function dk(n,e,t,...r){n=Sr(n,ir);const i=Sr(n.firestore,Ea),a=X0(i);let s;return s=typeof(e=en(e))=="string"||e instanceof Cf?yI(a,"updateDoc",n._key,e,t,r):mI(a,"updateDoc",n._key,e),Tf(i,[s.toMutation(n._key,rr.exists(!0))])}function pk(n){return Tf(Sr(n.firestore,Ea),[new V0(n._key,rr.none())])}function gk(n,e){const t=Sr(n.firestore,Ea),r=xs(n),i=zy(n.converter,e);return Tf(t,[Fy(X0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function vk(n,...e){var t,r,i;n=en(n);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sC(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(sC(e[s])){const g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,h,p;if(n instanceof ir)h=Sr(n.firestore,Ea),p=P0(n._key.path),c={next:g=>{e[s]&&e[s](SI(h,n,g))},error:e[s+1],complete:e[s+2]};else{const g=Sr(n,G0);h=Sr(g.firestore,Ea),p=g._query;const y=new bI(h);c={next:_=>{e[s]&&e[s](new ck(h,y,g,_))},error:e[s+1],complete:e[s+2]},lk(n._query)}return function(y,_,E,A){const C=new cI(A),I=new tI(_,C,E);return y.asyncQueue.enqueueAndForget(async()=>J3(await pm(y),I)),()=>{C.Cu(),y.asyncQueue.enqueueAndForget(async()=>eI(await pm(y),I))}}(q0(h),p,u,c)}function Tf(n,e){return function(r,i){const a=new po;return r.asyncQueue.enqueueAndForget(async()=>UL(await QL(r),i,a)),a.promise}(q0(n),e)}function SI(n,e,t){const r=t.docs.get(e._key),i=new bI(n);return new CI(n,i,e._key,r,new zc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=X0(e)}set(e,t,r){this._verifyNotCommitted();const i=Ev(e,this._firestore),a=zy(i.converter,t,r),s=Fy(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,rr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Ev(e,this._firestore);let s;return s=typeof(t=en(t))=="string"||t instanceof Cf?yI(this._dataReader,"WriteBatch.update",a._key,t,r,i):mI(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(s.toMutation(a._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ev(e,this._firestore);return this._mutations=this._mutations.concat(new V0(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ev(n,e){if((n=en(n)).firestore!==e)throw new be(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n){return q0(n=Sr(n,Ea)),new mk(n,e=>Tf(n,e))}(function(e,t=!0){(function(i){mu=i})(vu),eu(new Os("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new Ea(new uM(r.getProvider("auth-internal")),new hM(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new be(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),fo(fA,hA,e),fo(fA,hA,"esm2017")})();var _k="firebase",xk="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(_k,xk,"app");function II(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ek=II,RI=new yf("auth","Firebase",II());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new ly("@firebase/auth");function wk(n,...e){a0.logLevel<=et.WARN&&a0.warn(`Auth (${vu}): ${n}`,...e)}function Dd(n,...e){a0.logLevel<=et.ERROR&&a0.error(`Auth (${vu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw Gy(n,...e)}function ri(n,...e){return Gy(n,...e)}function Hy(n,e,t){const r=Object.assign(Object.assign({},Ek()),{[e]:t});return new yf("auth","Firebase",r).create(e,{appName:n.name})}function ga(n){return Hy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ak(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(n,"argument-error"),Hy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RI.create(n,...e)}function ke(n,e,...t){if(!n)throw Gy(e,...t)}function ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dd(e),new Error(e)}function wa(n,e){n||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ck(){return lC()==="http:"||lC()==="https:"}function lC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ck()||U9()||"connection"in navigator)?navigator.onLine:!0}function bk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,wa(t>e,"Short delay should be less than long delay!"),this.isMobile=B9()||j9()}get(){return Tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n,e){wa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rk=new bf(3e4,6e4);function Do(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function No(n,e,t,r,i={}){return DI(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=_f(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return F9()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&mf(n.emulatorConfig.host)&&(h.credentials="include"),OI.fetch()(await NI(n,n.config.apiHost,t,u),h)})}async function DI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sk),e);try{const i=new Dk(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw gd(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw gd(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw gd(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Hy(n,p,h);Hr(n,p)}}catch(i){if(i instanceof Aa)throw i;Hr(n,"network-request-failed",{message:String(i)})}}async function Sf(n,e,t,r,i={}){const a=await No(n,e,t,r,i);return"mfaPendingCredential"in a&&Hr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function NI(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?qy(n.config,i):`${n.config.apiScheme}://${i}`;return Ik.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Ok(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),Rk.get())})}}function gd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ri(n,e,r);return i.customData._tokenResponse=t,i}function uC(n){return n!==void 0&&n.enterprise!==void 0}class Nk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ok(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Pk(n,e){return No(n,"GET","/v2/recaptchaConfig",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(n,e){return No(n,"POST","/v1/accounts:delete",e)}async function o0(n,e){return No(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lk(n,e=!1){const t=en(n),r=await t.getIdToken(e),i=Xy(r);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Zc(wv(i.auth_time)),issuedAtTime:Zc(wv(i.iat)),expirationTime:Zc(wv(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wv(n){return Number(n)*1e3}function Xy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=LS(t);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cC(n){const e=Xy(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Aa&&kk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(n){var e;const t=n.auth,r=await n.getIdToken(),i=await uf(n,o0(t,{idToken:r}));ke(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PI(a.providerUserInfo):[],u=Fk(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new mm(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function Vk(n){const e=en(n);await s0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PI(n){return n.map(e=>{var{providerId:t}=e,r=pf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e){const t=await DI(n,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await NI(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",OI.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jk(n,e){return No(n,"POST","/v2/accounts:revokeToken",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=cC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await Uk(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Kl;return r&&(ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await uf(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Lk(this,e)}reload(){return Vk(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await s0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(ga(this.auth));const e=await this.getIdToken();return await uf(this,Mk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,C=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,R=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:B,isAnonymous:F,providerData:q,stsTokenManager:O}=t;ke(D&&O,e,"internal-error");const S=Kl.fromJSON(this.name,O);ke(typeof D=="string",e,"internal-error"),Ja(g,e.name),Ja(y,e.name),ke(typeof B=="boolean",e,"internal-error"),ke(typeof F=="boolean",e,"internal-error"),Ja(_,e.name),Ja(E,e.name),Ja(A,e.name),Ja(C,e.name),Ja(I,e.name),Ja(R,e.name);const M=new ni({uid:D,auth:e,email:y,emailVerified:B,displayName:g,isAnonymous:F,photoURL:E,phoneNumber:_,tenantId:A,stsTokenManager:S,createdAt:I,lastLoginAt:R});return q&&Array.isArray(q)&&(M.providerData=q.map(U=>Object.assign({},U))),C&&(M._redirectEventId=C),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new Kl;i.updateFromServerResponse(t);const a=new ni({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await s0(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Kl;u.updateFromIdToken(r);const c=new ni({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Map;function da(n){wa(n instanceof Function,"Expected a class definition");let e=fC.get(n);return e?(wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fC.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MI.type="NONE";const hC=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Yl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await o0(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yl(da(hC),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||da(hC);const s=Nd(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let g;if(typeof p=="string"){const y=await o0(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ni._fromGetAccountInfoResponse(e,y,p)}else g=ni._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Yl(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new Yl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UI(e))return"Blackberry";if(jI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LI(n=Kn()){return/firefox\//i.test(n)}function kI(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(n=Kn()){return/crios\//i.test(n)}function VI(n=Kn()){return/iemobile/i.test(n)}function FI(n=Kn()){return/android/i.test(n)}function UI(n=Kn()){return/blackberry/i.test(n)}function jI(n=Kn()){return/webos/i.test(n)}function Wy(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zk(n=Kn()){var e;return Wy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hk(){return z9()&&document.documentMode===10}function zI(n=Kn()){return Wy(n)||FI(n)||jI(n)||UI(n)||/windows phone/i.test(n)||VI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n,e=[]){let t;switch(n){case"Browser":t=dC(Kn());break;case"Worker":t=`${dC(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e={}){return No(n,"GET","/v2/passwordPolicy",Do(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=6;class Wk{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Xk,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pC(this),this.idTokenSubscription=new pC(this),this.beforeStateQueue=new Gk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=da(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await o0(this,{idToken:e}),r=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await s0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(ga(this));const t=e?en(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qk(this),t=new Wk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&da(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[da(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&wk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Po(n){return en(n)}class pC{constructor(e){this.auth=e,this.observer=null,this.addObserver=$9(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yk(n){Y0=n}function GI(n){return Y0.loadJS(n)}function $k(){return Y0.recaptchaEnterpriseScript}function Qk(){return Y0.gapiScript}function Zk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Jk{constructor(){this.enterprise=new eB}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eB{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tB="recaptcha-enterprise",qI="NO_RECAPTCHA";class nB{constructor(e){this.type=tB,this.auth=Po(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{Pk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Nk(c);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,s(h.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;uC(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(h=>{s(h)}).catch(()=>{s(qI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jk().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!t&&uC(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$k();c.length!==0&&(c+=u),GI(c).then(()=>{i(u,a,s)}).catch(h=>{s(h)})}}).catch(u=>{s(u)})})}}async function gC(n,e,t,r=!1,i=!1){const a=new nB(n);let s;if(i)s=qI;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ym(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gC(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gC(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(n,e){const t=cy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Rs(a,e??{}))return i;Hr(i,"already-initialized")}return t.initialize({options:e})}function iB(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(da);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aB(n,e,t){const r=Po(n);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=XI(e),{host:s,port:u}=oB(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(Rs(h,r.config.emulator)&&Rs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,mf(s)?(FS(`${a}//${s}${c}`),US("Auth",!0)):sB()}function XI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oB(n){const e=XI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:vC(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:vC(s)}}}function vC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sB(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function lB(n,e){return No(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(n,e){return Sf(n,"POST","/v1/accounts:signInWithPassword",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(n,e){return Sf(n,"POST","/v1/accounts:signInWithEmailLink",Do(n,e))}async function fB(n,e){return Sf(n,"POST","/v1/accounts:signInWithEmailLink",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Ky{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new cf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new cf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,t,"signInWithPassword",uB);case"emailLink":return cB(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,r,"signUpPassword",lB);case"emailLink":return fB(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n,e){return Sf(n,"POST","/v1/accounts:signInWithIdp",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="http://localhost";class Ps extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=pf(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ps(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return $l(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$l(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$l(e,t)}buildRequest(){const e={requestUri:hB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_f(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pB(n){const e=Bc(Vc(n)).link,t=e?Bc(Vc(e)).deep_link_id:null,r=Bc(Vc(n)).deep_link_id;return(r?Bc(Vc(r)).link:null)||r||t||e||n}class Yy{constructor(e){var t,r,i,a,s,u;const c=Bc(Vc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=dB((i=c.mode)!==null&&i!==void 0?i:null);ke(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=pB(e);try{return new Yy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(e,t){return cf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Yy.parseLink(t);return ke(r,"argument-error"),cf._fromEmailAndCode(e,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends $y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends If{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ps._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return fa.credential(t,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends If{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends If{constructor(){super("twitter.com")}static credential(e,t){return Ps._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return so.credential(t,r)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(n,e){return Sf(n,"POST","/v1/accounts:signUp",Do(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ni._fromIdTokenResponse(e,r,i),s=mC(r);return new Ms({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=mC(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function mC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Aa{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,l0.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new l0(e,t,r,i)}}function WI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?l0._fromErrorAndOperation(n,a,e,r):a})}async function vB(n,e,t=!1){const r=await uf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ms._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(n,e,t=!1){const{auth:r}=n;if(Cr(r.app))return Promise.reject(ga(r));const i="reauthenticate";try{const a=await uf(n,WI(r,i,e,n),t);ke(a.idToken,r,"internal-error");const s=Xy(a.idToken);ke(s,r,"internal-error");const{sub:u}=s;return ke(n.uid===u,r,"user-mismatch"),Ms._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(n,e,t=!1){if(Cr(n.app))return Promise.reject(ga(n));const r="signIn",i=await WI(n,r,e),a=await Ms._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function yB(n,e){return KI(Po(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n){const e=Po(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _B(n,e,t){if(Cr(n.app))return Promise.reject(ga(n));const r=Po(n),s=await ym(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&YI(n),c}),u=await Ms._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function xB(n,e,t){return Cr(n.app)?Promise.reject(ga(n)):yB(en(n),Eu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YI(n),r})}function EB(n,e,t,r){return en(n).onIdTokenChanged(e,t,r)}function wB(n,e,t){return en(n).beforeAuthStateChanged(e,t)}function AB(n,e,t,r){return en(n).onAuthStateChanged(e,t,r)}function yC(n){return en(n).signOut()}const u0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(u0,"1"),this.storage.removeItem(u0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=1e3,TB=10;class QI extends $I{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);Hk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TB):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QI.type="LOCAL";const bB=QI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends $I{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZI.type="SESSION";const JI=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new $0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await SB(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=Qy("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function RB(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function OB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DB(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function NB(){return e4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebaseLocalStorageDb",PB=1,c0="firebaseLocalStorage",n4="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Q0(n,e){return n.transaction([c0],e?"readwrite":"readonly").objectStore(c0)}function MB(){const n=indexedDB.deleteDatabase(t4);return new Rf(n).toPromise()}function _m(){const n=indexedDB.open(t4,PB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(c0,{keyPath:n4})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(c0)?e(r):(r.close(),await MB(),e(await _m()))})})}async function _C(n,e,t){const r=Q0(n,!0).put({[n4]:e,value:t});return new Rf(r).toPromise()}async function LB(n,e){const t=Q0(n,!1).get(e),r=await new Rf(t).toPromise();return r===void 0?null:r.value}function xC(n,e){const t=Q0(n,!0).delete(e);return new Rf(t).toPromise()}const kB=800,BB=3;class r4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>BB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$0._getInstance(NB()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OB(),!this.activeServiceWorker)return;this.sender=new IB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await _C(e,u0,"1"),await xC(e,u0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_C(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LB(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Q0(i,!1).getAll();return new Rf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r4.type="LOCAL";const VB=r4;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e){return e?da(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $l(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FB(n){return KI(n.auth,new Zy(n),n.bypassAuthState)}function UB(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),mB(t,new Zy(n),n.bypassAuthState)}async function jB(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),vB(t,new Zy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FB;case"linkViaPopup":case"linkViaRedirect":return jB;case"reauthViaPopup":case"reauthViaRedirect":return UB;default:Hr(this.auth,"internal-error")}}resolve(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new bf(2e3,1e4);async function HB(n,e,t){if(Cr(n.app))return Promise.reject(ri(n,"operation-not-supported-in-this-environment"));const r=Po(n);Ak(n,e,$y);const i=i4(r,t);return new ws(r,"signInViaPopup",e,i).executeNotNull()}class ws extends a4{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){wa(this.filter.length===1,"Popup operations only handle one event");const e=Qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zB.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="pendingRedirect",Pd=new Map;class qB extends a4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await XB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XB(n,e){const t=YB(e),r=KB(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function WB(n,e){Pd.set(n._key(),e)}function KB(n){return da(n._redirectPersistence)}function YB(n){return Nd(GB,n.config.apiKey,n.name)}async function $B(n,e,t=!1){if(Cr(n.app))return Promise.reject(ga(n));const r=Po(n),i=i4(r,e),s=await new qB(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=10*60*1e3;class ZB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!o4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QB&&this.cachedEventUids.clear(),this.cachedEventUids.has(EC(e))}saveEventToCache(e){this.cachedEventUids.add(EC(e)),this.lastProcessedEventTime=Date.now()}}function EC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function o4({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(n,e={}){return No(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nV=/^https?/;async function rV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await eV(n);for(const t of e)try{if(iV(t))return}catch{}Hr(n,"unauthorized-domain")}function iV(n){const e=vm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!nV.test(t))return!1;if(tV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new bf(3e4,6e4);function wC(){const n=Ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oV(n){return new Promise((e,t)=>{var r,i,a;function s(){wC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wC(),t(ri(n,"network-request-failed"))},timeout:aV.get()})}if(!((i=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ni().gapi)===null||a===void 0)&&a.load)s();else{const u=Zk("iframefcb");return Ni()[u]=()=>{gapi.load?s():t(ri(n,"network-request-failed"))},GI(`${Qk()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Md=null,e})}let Md=null;function sV(n){return Md=Md||oV(n),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new bf(5e3,15e3),uV="__/auth/iframe",cV="emulator/auth/iframe",fV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dV(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?qy(e,cV):`https://${n.config.authDomain}/${uV}`,r={apiKey:e.apiKey,appName:n.name,v:vu},i=hV.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${_f(r).slice(1)}`}async function pV(n){const e=await sV(n),t=Ni().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:dV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fV,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ri(n,"network-request-failed"),u=Ni().setTimeout(()=>{a(s)},lV.get());function c(){Ni().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vV=500,mV=600,yV="_blank",_V="http://localhost";class AC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xV(n,e,t,r=vV,i=mV){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},gV),{width:r.toString(),height:i.toString(),top:a,left:s}),h=Kn().toLowerCase();t&&(u=BI(h)?yV:t),LI(h)&&(e=e||_V,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(zk(h)&&u!=="_self")return EV(e||"",u),new AC(null);const g=window.open(e||"",u,p);ke(g,n,"popup-blocked");try{g.focus()}catch{}return new AC(g)}function EV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="__/auth/handler",AV="emulator/auth/handler",CV=encodeURIComponent("fac");async function CC(n,e,t,r,i,a){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vu,eventId:i};if(e instanceof $y){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Y9(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))s[p]=g}if(e instanceof If){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${CV}=${encodeURIComponent(c)}`:"";return`${TV(n)}?${_f(u).slice(1)}${h}`}function TV({config:n}){return n.emulator?qy(n,AV):`https://${n.authDomain}/${wV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="webStorageSupport";class bV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JI,this._completeRedirectFn=$B,this._overrideRedirectResult=WB}async _openPopup(e,t,r,i){var a;wa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await CC(e,t,r,vm(),i);return xV(e,s,Qy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await CC(e,t,r,vm(),i);return RB(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(wa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await pV(e),r=new ZB(e);return t.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Av,{type:Av},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Av];s!==void 0&&t(!!s),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zI()||kI()||Wy()}}const SV=bV;var TC="@firebase/auth",bC="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OV(n){eu(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HI(n)},h=new Kk(r,i,a,c);return iB(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),eu(new Os("auth-internal",e=>{const t=Po(e.getProvider("auth").getImmediate());return(r=>new IV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(TC,bC,RV(n)),fo(TC,bC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=5*60,NV=VS("authIdTokenMaxAge")||DV;let SC=null;const PV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>NV)return;const i=t==null?void 0:t.token;SC!==i&&(SC=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MV(n=GS()){const e=cy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rB(n,{popupRedirectResolver:SV,persistence:[VB,bB,JI]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=PV(a.toString());wB(t,s,()=>s(t.currentUser)),EB(t,u=>s(u))}}const i=kS("auth");return i&&aB(t,`http://${i}`),t}function LV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Yk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ri("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",LV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OV("Browser");const kV={apiKey:"AIzaSyCwHxUq7fezJtFU3TyNbTLXgBuuNUVpHXs",authDomain:"pantrypal-870fb.firebaseapp.com",projectId:"pantrypal-870fb",storageBucket:"pantrypal-870fb.firebasestorage.app",messagingSenderId:"658487444064",appId:"1:658487444064:web:790169c5956992a2c33905"},s4=HS(kV),Bl=MV(s4),ca=tk(s4),l4=L.createContext({userId:null,isAuthReady:!1,signInWithGoogle:async()=>{},signInWithEmail:async()=>{},signUpWithEmail:async()=>{},signOut:async()=>{},user:null});function BV({children:n}){const[e,t]=L.useState(null),[r,i]=L.useState(null),[a,s]=L.useState(!1);L.useEffect(()=>{const _=AB(Bl,async E=>{if(E){const A=xs(ca,"allowed_users",E.email);(await TI(A)).exists()?(i(E),t(E.uid)):(console.error(`Unauthorized user signed in: ${E.email}. Signing out.`),await yC(Bl),i(null),t(null))}else i(null),t(null);s(!0)});return()=>_()},[]);const u=new fa,y={userId:e,isAuthReady:a,signInWithGoogle:async()=>{try{await HB(Bl,u)}catch(_){throw console.error("Sign-in failed:",_),_}},signInWithEmail:(_,E)=>xB(Bl,_,E).then(()=>{}),signUpWithEmail:(_,E)=>_B(Bl,_,E).then(()=>{}),signOut:()=>yC(Bl),user:r};return P.jsx(l4.Provider,{value:y,children:n})}function Jy(){const n=L.useContext(l4);if(n===null)throw new Error("useAuth must be used within a DataProvider");return n}const gs="pantry-pal-app";function f0(n){const{userId:e}=Jy(),[t,r]=L.useState([]),i=L.useCallback(()=>{if(!e){r([]);return}const g=xv(ca,`artifacts/${gs}/users/${e}/${n}`);return vk(g,_=>{const E=_.docs.map(A=>({id:A.id,...A.data()}));r(E)},_=>{console.error(`Error fetching ${n}:`,_),r([])})},[e,n]);async function a(g){if(!e)return null;const y=xs(ca,`artifacts/${gs}/users/${e}/${n}`,g),_=await TI(y);return _.exists()?{id:_.id,..._.data()}:(console.log("No such document!"),null)}async function s(g){if(!e)return;const y=xv(ca,`artifacts/${gs}/users/${e}/${n}`);await gk(y,{...g,createdAt:new Date})}async function u(g){if(!e||g.length===0)return;const y=yk(ca),_=xv(ca,`artifacts/${gs}/users/${e}/${n}`);g.forEach(E=>{const A=xs(_);y.set(A,{...E,createdDate:new Date})}),await y.commit()}async function c(g,y){if(!e)return;const _=xs(ca,`artifacts/${gs}/users/${e}/${n}`,g);await dk(_,y)}async function h(g,y){if(!e)return;const _=xs(ca,`artifacts/${gs}/users/${e}/${n}`,g);await hk(_,y,{merge:!0})}async function p(g){if(!e)return;const y=xs(ca,`artifacts/${gs}/users/${e}/${n}`,g);await pk(y)}return{data:t,createData:s,createMultipleData:u,updateData:c,upsertData:h,deleteData:p,getDataById:a,syncData:i}}function xm({field:n,formData:e,handleSelectChange:t,className:r="",disabled:i=!1}){var h;const[a,s]=L.useState(n.options||[]),{data:u,syncData:c}=f0(n.relatedCollection||"");return L.useEffect(()=>{if(n.relatedCollection){const p=c();return()=>p&&p()}},[n.relatedCollection,c]),L.useEffect(()=>{if(n.relatedCollection&&u.length>0){const p=u.map(g=>({label:g.name,value:g.name}));s(p)}else n.relatedCollection||s(n.options||[])},[u,n.relatedCollection,n.options]),P.jsxs(m9,{name:n.name,value:String(e[n.name]||((h=a==null?void 0:a[0])==null?void 0:h.value)||""),onValueChange:p=>t(n.name,p),required:n.required,disabled:i,children:[P.jsx(_9,{className:r,children:P.jsx(y9,{placeholder:n.placeholder||`Select a ${n.label.toLowerCase()}`})}),P.jsx(x9,{children:a==null?void 0:a.map(p=>P.jsx(E9,{value:p.value,children:p.label},p.value))})]})}function Em({field:n,extraField:e,formData:t,handleInputChange:r,handleSelectChange:i,className:a="",disabled:s=!1}){return P.jsxs("div",{className:"flex items-end gap-2",children:[P.jsx(Pb,{field:n,formData:t,handleInputChange:r,className:a,disabled:s}),P.jsx(xm,{field:e,formData:t,handleSelectChange:i,className:a})]})}function VV({field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i="",disabled:a=!1,extraFields:s}){var u;return P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsx(Em,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:s[0]}),P.jsx("span",{className:"text-2xl font-bold text-gray-700 mx-auto",children:"-"}),P.jsx(Em,{field:s[1],formData:e,handleInputChange:t,handleSelectChange:r,className:i,disabled:a,extraField:(u=s[1].extraFields)==null?void 0:u[0]})]})}function h0({field:n,formData:e,handleInputChange:t,handleUnitChange:r,handleSelectChange:i,handleArrayOfObjectsChange:a}){function s(){var c;const u={"select-firebase":P.jsx(xm,{field:n,formData:e,handleSelectChange:i,className:"w-full"},n.name),select:P.jsx(xm,{field:n,formData:e,handleSelectChange:i,className:"w-full"},n.name),quantity:P.jsx(Em,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraField:(c=n.extraFields)==null?void 0:c[0]},n.name),reduceQuantity:P.jsx(VV,{field:n,formData:e,handleInputChange:t,handleSelectChange:r,extraFields:n.extraFields||[]},n.name),arrayOfObjects:P.jsx(hN,{field:n,value:e[n.name],handleArrayOfObjectsChange:a},n.name),default:P.jsx(Pb,{field:n,formData:e,handleInputChange:t},n.name)};return n.type in u?u[n.type]:u.default}return s()}function FV({isOpen:n,showModal:e,title:t,description:r,fields:i,initialData:a,submitButtonText:s="Save",handleSave:u}){const[c,h]=L.useState(a||{}),p=L.useCallback(C=>C.type==="number"?0:C.type==="select"&&C.options&&C.options.length>0?C.options[0].value:"",[]),g=L.useCallback((C,I)=>(C.forEach(R=>{const D=a&&a[R.name];a&&D!==void 0?I[R.name]=D:I[R.name]=p(R),R.extraFields&&R.extraFields.length>0&&(I=g(R.extraFields,I))}),I),[a,p]);L.useEffect(()=>{let C={};C=g(i,C),h(C)},[n,i,g]);const y=C=>{const{name:I,value:R,type:D}=C.target;h(B=>({...B,[I]:D==="number"?parseFloat(R):R}))},_=(C,I,R,D)=>{var O;const B=(O=D.extraFields)==null?void 0:O[0].name;if(!B)return;const{val:F,unit:q}=Qm(C,I,R);h(S=>({...S,[D.name]:F,[B]:q}))},E=(C,I)=>{h(R=>({...R,[C]:I}))},A=C=>{C.preventDefault(),u({...c,createdDate:new Date})};return P.jsx(ED,{open:n,onOpenChange:()=>e(!1),children:P.jsxs(CD,{className:"sm:max-w-[425px] p-6 rounded-lg shadow-xl",children:[P.jsxs(TD,{children:[P.jsx(bD,{className:"text-2xl font-bold text-indigo-700",children:t}),r&&P.jsx(SD,{className:"text-gray-600",children:r})]}),P.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 gap-4 py-4",children:[i.map(C=>P.jsxs("div",{className:"space-y-2",children:[P.jsx(Fd,{htmlFor:C.name,children:C.label}),P.jsx(h0,{field:C,formData:c,handleInputChange:y,handleUnitChange:(I,R)=>_(c[C.name],c[I],R,C),handleSelectChange:E,handleArrayOfObjectsChange:I=>{h(R=>({...R,[C.name]:I}))}})]},C.name)),P.jsx(cr,{type:"submit",className:"w-full mt-4",children:s})]})]})})}function Of({object_type:n,columns:e,createFields:t,updateFields:r,handleSave:i}){const[a,s]=L.useState({title:"",description:"",initialData:void 0,dialogType:"create",fields:[]}),[u,c]=L.useState(!1),{data:h,createData:p,updateData:g,deleteData:y,syncData:_}=f0(n);L.useEffect(()=>{const I=_();return()=>I&&I()},[n,_]);const E=()=>{s({title:"Add Item",dialogType:"create",fields:t}),c(!0)},A=I=>{s({title:"Edit Item",dialogType:"update",initialData:I,fields:r}),c(!0)},C=async I=>{var R;try{if(a.dialogType==="create"&&await p(I),!((R=a.initialData)!=null&&R.id)){c(!1);return}a.dialogType==="update"&&(I!=null&&I.quantity)&&I.quantity<=0&&await y(a.initialData.id),a.dialogType==="update"&&await g(a.initialData.id,I),c(!1)}catch(D){console.error("Error submitting data:",D)}};return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"flex justify-end mb-4",children:[" ",P.jsxs(cr,{onClick:()=>E(),className:"shadow-md",children:[" ","Add New Item"]})]}),P.jsx(FV,{isOpen:u,showModal:c,handleSave:i||C,...a}),h.length===0?P.jsx("p",{className:"text-center text-gray-600 text-lg mt-8",children:"Your pantry is empty. Add some items!"}):P.jsx(U6,{columns:e,data:h,openEditDialog:A,deleteData:y})]})}const UV="pantry";function jV(){const n=[{header:"Name",accessorKey:"name"},{header:"Quantity",accessorFn:e=>`${e.quantity} ${e.unit}`},{header:"Type",accessorKey:"type"},{header:"Location",accessorKey:"location"},{header:"Created Date",accessorFn:e=>e.createdDate.toLocaleDateString()}];return P.jsx(Of,{object_type:UV,columns:n,createFields:$T,updateFields:j6})}var[Z0,yH]=Ls("Tooltip",[C0]),J0=C0(),u4="TooltipProvider",zV=700,wm="tooltip.open",[HV,e_]=Z0(u4),c4=n=>{const{__scopeTooltip:e,delayDuration:t=zV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,s=L.useRef(!0),u=L.useRef(!1),c=L.useRef(0);return L.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),P.jsx(HV,{scope:e,isOpenDelayedRef:s,delayDuration:t,onOpen:L.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:L.useCallback(h=>{u.current=h},[]),disableHoverableContent:i,children:a})};c4.displayName=u4;var ff="Tooltip",[GV,Df]=Z0(ff),f4=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:s,delayDuration:u}=n,c=e_(ff,n.__scopeTooltip),h=J0(e),[p,g]=L.useState(null),y=pa(),_=L.useRef(0),E=s??c.disableHoverableContent,A=u??c.delayDuration,C=L.useRef(!1),[I,R]=Zl({prop:r,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(wm))):c.onClose(),a==null||a(O)},caller:ff}),D=L.useMemo(()=>I?C.current?"delayed-open":"instant-open":"closed",[I]),B=L.useCallback(()=>{window.clearTimeout(_.current),_.current=0,C.current=!1,R(!0)},[R]),F=L.useCallback(()=>{window.clearTimeout(_.current),_.current=0,R(!1)},[R]),q=L.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{C.current=!0,R(!0),_.current=0},A)},[A,R]);return L.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),P.jsx(tS,{...h,children:P.jsx(GV,{scope:e,contentId:y,open:I,stateAttribute:D,trigger:p,onTriggerChange:g,onTriggerEnter:L.useCallback(()=>{c.isOpenDelayedRef.current?q():B()},[c.isOpenDelayedRef,q,B]),onTriggerLeave:L.useCallback(()=>{E?F():(window.clearTimeout(_.current),_.current=0)},[F,E]),onOpen:B,onClose:F,disableHoverableContent:E,children:t})})};f4.displayName=ff;var Am="TooltipTrigger",h4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Df(Am,t),a=e_(Am,t),s=J0(t),u=L.useRef(null),c=Vt(e,u,i.onTriggerChange),h=L.useRef(!1),p=L.useRef(!1),g=L.useCallback(()=>h.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),P.jsx(nS,{asChild:!0,...s,children:P.jsx(st.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:qe(n.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:qe(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:qe(n.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:qe(n.onFocus,()=>{h.current||i.onOpen()}),onBlur:qe(n.onBlur,i.onClose),onClick:qe(n.onClick,i.onClose)})})});h4.displayName=Am;var t_="TooltipPortal",[qV,XV]=Z0(t_,{forceMount:void 0}),d4=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:i}=n,a=Df(t_,e);return P.jsx(qV,{scope:e,forceMount:t,children:P.jsx(ks,{present:t||a.open,children:P.jsx(m0,{asChild:!0,container:i,children:r})})})};d4.displayName=t_;var lu="TooltipContent",p4=L.forwardRef((n,e)=>{const t=XV(lu,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...a}=n,s=Df(lu,n.__scopeTooltip);return P.jsx(ks,{present:r||s.open,children:s.disableHoverableContent?P.jsx(g4,{side:i,...a,ref:e}):P.jsx(WV,{side:i,...a,ref:e})})}),WV=L.forwardRef((n,e)=>{const t=Df(lu,n.__scopeTooltip),r=e_(lu,n.__scopeTooltip),i=L.useRef(null),a=Vt(e,i),[s,u]=L.useState(null),{trigger:c,onClose:h}=t,p=i.current,{onPointerInTransitChange:g}=r,y=L.useCallback(()=>{u(null),g(!1)},[g]),_=L.useCallback((E,A)=>{const C=E.currentTarget,I={x:E.clientX,y:E.clientY},R=QV(I,C.getBoundingClientRect()),D=ZV(I,R),B=JV(A.getBoundingClientRect()),F=tF([...D,...B]);u(F),g(!0)},[g]);return L.useEffect(()=>()=>y(),[y]),L.useEffect(()=>{if(c&&p){const E=C=>_(C,p),A=C=>_(C,c);return c.addEventListener("pointerleave",E),p.addEventListener("pointerleave",A),()=>{c.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",A)}}},[c,p,_,y]),L.useEffect(()=>{if(s){const E=A=>{const C=A.target,I={x:A.clientX,y:A.clientY},R=(c==null?void 0:c.contains(C))||(p==null?void 0:p.contains(C)),D=!eF(I,s);R?y():D&&(y(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,p,s,h,y]),P.jsx(g4,{...n,ref:a})}),[KV,YV]=Z0(ff,{isInside:!1}),$V=_8("TooltipContent"),g4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...u}=n,c=Df(lu,t),h=J0(t),{onClose:p}=c;return L.useEffect(()=>(document.addEventListener(wm,p),()=>document.removeEventListener(wm,p)),[p]),L.useEffect(()=>{if(c.trigger){const g=y=>{const _=y.target;_!=null&&_.contains(c.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,p]),P.jsx(v0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:P.jsxs(rS,{"data-state":c.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx($V,{children:r}),P.jsx(KV,{scope:t,isInside:!0,children:P.jsx(L5,{id:c.contentId,role:"tooltip",children:i||r})})]})})});p4.displayName=lu;var v4="TooltipArrow",m4=L.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=J0(t);return YV(v4,t).isInside?null:P.jsx(iS,{...i,...r,ref:e})});m4.displayName=v4;function QV(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,r,i,a)){case a:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZV(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function JV(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function eF(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,s=e.length-1;a<e.length;s=a++){const u=e[a],c=e[s],h=u.x,p=u.y,g=c.x,y=c.y;p>r!=y>r&&t<(g-h)*(r-p)/(y-p)+h&&(i=!i)}return i}function tF(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),nF(e)}function nF(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const a=e[e.length-1],s=e[e.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var rF=c4,iF=f4,aF=h4,oF=d4,sF=p4,lF=m4;function Cm({delayDuration:n=0,...e}){return P.jsx(rF,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function IC({...n}){return P.jsx(Cm,{children:P.jsx(iF,{"data-slot":"tooltip",...n})})}function RC({...n}){return P.jsx(aF,{"data-slot":"tooltip-trigger",...n})}function OC({className:n,sideOffset:e=0,children:t,...r}){return P.jsx(oF,{children:P.jsxs(sF,{"data-slot":"tooltip-content",sideOffset:e,className:At("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...r,children:[t,P.jsx(lF,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const uF="recipe";function cF(){const n=[{header:"Name",accessorKey:"name"},{header:"Ingredients",accessorKey:"ingredients",accessorFn:r=>{var s;const i=(s=r.ingredients)==null?void 0:s.map(u=>u.name).join(", "),a=(i==null?void 0:i.length)>40?`${i.substring(0,37)}...`:i||"N/A";return P.jsx(Cm,{children:P.jsx(IC,{children:P.jsx(RC,{asChild:!0,children:P.jsxs("span",{children:[a,r.ingredients&&r.ingredients.length>0&&P.jsxs(OC,{className:"p-2 text-left shadow-lg",children:[P.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Ingredients:"}),P.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:r.ingredients.map((u,c)=>P.jsxs("li",{children:[P.jsx("span",{className:"font-medium",children:u.name}),P.jsxs("span",{className:"ml-0.5",children:["(",u.quantity," ",u.unit,")"]})]},c))})]})]})})})})}},{header:"Instructions",accessorKey:"instructions",accessorFn:r=>{var a;const i=((a=r.instructions)==null?void 0:a.length)>40?`${r.instructions.substring(0,37)}...`:r.instructions||"N/A";return P.jsx(Cm,{children:P.jsx(IC,{children:P.jsx(RC,{asChild:!0,children:P.jsxs("span",{children:[i,r.instructions&&r.instructions.length>0&&P.jsxs(OC,{className:"p-2 text-left shadow-lg",children:[P.jsx("h4",{className:"font-semibold mb-1 text-sm",children:"Full Instructions"}),P.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:P.jsx("span",{className:"font-medium",children:r.instructions})})]})]})})})})}}],e=[{name:"name",label:"Name",type:"text",placeholder:"e.g., Flour",required:!0},{name:"quantity",label:"Quantity",type:"quantity",required:!0,min:0,step:.01,placeholder:"e.g., 500",extraFields:[{name:"unit",label:"Unit",type:"select",options:WT(!0)}]}],t=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g., Katsu Curry"},{name:"ingredients",label:"Ingredients",type:"arrayOfObjects",required:!0,relatedCollection:"pantry",extraFields:e},{name:"instructions",label:"Instructions",type:"textarea",required:!1,placeholder:"e.g., Chop carrots, chop onions...etc"}];return P.jsx(Of,{object_type:uF,columns:n,createFields:t,updateFields:t})}function fF(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function hF(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var dF=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pF=function(n){dF(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),fF(a,i.prototype),hF(a),a}return e}(Error),gF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dr=function(n){gF(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(pF),vF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zr=function(n){vF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(dr),mF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),De=function(n){mF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(dr),yF=function(){function n(e){if(this.binarizer=e,e===null)throw new De("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),_F=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sn=function(n){_F(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(dr),xF=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Dt=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),EF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),n_=function(n){EF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(dr),wF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DC=function(n){wF(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(n_),AF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new De("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new DC(t);if(r>e)throw new DC(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=AF(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Dt.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Qe=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),In=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Dt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new De;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new De;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new De("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new De("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&dn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+dn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),Tm;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Tm||(Tm={}));const Bt=Tm;var CF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ve=function(n){CF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(dr),TF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(Et||(Et={}));var fn=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var g=c[h];n.VALUES_TO_ECI.set(g,this)}try{for(var y=TF(s),_=y.next();!_.done;_=y.next()){var E=_.value;n.NAME_TO_ECI.set(E,this)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ve("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new ve("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(Et.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(Et.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(Et.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(Et.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(Et.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(Et.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(Et.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(Et.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(Et.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(Et.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(Et.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(Et.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(Et.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(Et.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(Et.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(Et.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(Et.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(Et.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(Et.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(Et.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(Et.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(Et.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(Et.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(Et.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(Et.Big5,28,"Big5"),n.GB18030=new n(Et.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(Et.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),bF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ld=function(n){bF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(dr),zr=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof fn?e:fn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(fn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ld("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(fn.UTF8)||e.equals(fn.ISO8859_1)||e.equals(fn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),ot=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return zr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Bt.CHARACTER_SET)!==void 0)return t.get(Bt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,g=0,y=0,_=0,E=0,A=0,C=0,I=0,R=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,D=0;D<r&&(i||a||s);D++){var B=e[D]&255;s&&(u>0?(B&128)===0?s=!1:u--:(B&128)!==0&&((B&64)===0?s=!1:(u++,(B&32)===0?c++:(u++,(B&16)===0?h++:(u++,(B&8)===0?p++:s=!1))))),i&&(B>127&&B<160?i=!1:B>159&&(B<192||B===215||B===247)&&I++),a&&(g>0?B<64||B===127||B>252?a=!1:g--:B===128||B===160||B>239?a=!1:B>160&&B<224?(y++,E=0,_++,_>A&&(A=_)):B>127?(g++,_=0,E++,E>C&&(C=E)):(_=0,E=0))}return s&&u>0&&(s=!1),a&&g>0&&(a=!1),s&&(R||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||A>=3||C>=3)?n.SHIFT_JIS:i&&a?A===2&&y===2||I*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,g,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var _=g?parseInt(g.substr(1)):void 0,E;switch(y){case"s":E=t[i];break;case"c":E=t[i][0];break;case"f":E=parseFloat(t[i]).toFixed(u);break;case"p":E=parseFloat(t[i]).toPrecision(u);break;case"e":E=parseFloat(t[i]).toExponential(u);break;case"x":E=parseInt(t[i]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[i],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var A=parseInt(h),C=h&&h[0]+""=="0"?"0":" ";E.length<A;)E=c!==void 0?E+C:C+E;return E}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return zr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=fn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=fn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=fn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),Ke=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ot.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),ki=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new De("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new De("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new De("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new De("row lengths do not match");c++}for(var p=new n(u,c),g=0;g<a;g++)i[g]&&p.set(Math.floor(g%u),Math.floor(g/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new De("input matrix dimensions do not match");for(var t=new In(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new De("Left and top must be nonnegative");if(i<1||r<1)throw new De("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new De("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,g=e;g<a;g++)c[p+Math.floor(g/32)]|=1<<(g&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new In(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Dt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new In(e),i=new In(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var g=i[h*r+p];if(g!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(g<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(g>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&dn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+dn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new Ke,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),SF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(n){SF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(dr),IF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RF=function(n){IF(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new In(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,g=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(g*4-p-y)/2<h&&r.set(c),p=g,g=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new ki(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),g=Math.floor(r/5);g<p;g++){var y=h[g]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(s),E=t.getMatrix(),u=0;u<i;u++)for(var A=u*r,g=0;g<r;g++){var y=E[A+g]&255;y<_&&a.set(g,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,g=t[u]*p*p;g>h&&(c=u,h=g)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ie;for(var _=c-1,E=-1,u=c-1;u>a;u--){var A=u-a,g=A*A*(c-u)*(i-t[u]);g>E&&(_=u,E=g)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(xF),OF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DF=function(n){OF(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new ki(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,g=0;g<i;g++){var y=g<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(g,2,i-3),E=0;E<r;E++){var A=E<<e.BLOCK_SIZE_POWER;A>p&&(A=p);for(var C=e.cap(E,2,r-3),I=0,R=-2;R<=2;R++){var D=u[_+R];I+=D[C-2]+D[C-1]+D[C]+D[C+1]+D[C+2]}var B=I/25;e.thresholdBlock(t,A,y,B,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var y=0;y<r;y++){var _=y<<e.BLOCK_SIZE_POWER;_>c&&(_=c);for(var E=0,A=255,C=0,I=0,R=g*a+_;I<e.BLOCK_SIZE;I++,R+=a){for(var D=0;D<e.BLOCK_SIZE;D++){var B=t[R+D]&255;E+=B,B<A&&(A=B),B>C&&(C=B)}if(C-A>e.MIN_DYNAMIC_RANGE)for(I++,R+=a;I<e.BLOCK_SIZE;I++,R+=a)for(var D=0;D<e.BLOCK_SIZE;D++)E+=t[R+D]&255}var F=E>>e.BLOCK_SIZE_POWER*2;if(C-A<=e.MIN_DYNAMIC_RANGE&&(F=A/2,p>0&&y>0)){var q=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;A<q&&(F=q)}h[p][y]=F}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(RF),e1=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Ld("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Ld("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Ld("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ke,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),NF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),r_=function(n){NF(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(e1),PF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MF=function(n){PF(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=p}else for(var u=0,c=0,A=t.length;u<A;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new r_(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(e1),LF=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),er=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(g){s(g)}}function c(p){try{h(r.throw(p))}catch(g){s(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},tr=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,g,y;return tr(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=kF(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){g={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return er(this,void 0,void 0,function(){var e;return tr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new LF(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return er(this,void 0,void 0,function(){var t;return tr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return er(this,void 0,void 0,function(){var r,i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return er(this,void 0,void 0,function(){return tr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return er(this,void 0,void 0,function(){var i,a;return tr(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return er(this,void 0,void 0,function(){var i;return tr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return er(this,void 0,void 0,function(){var r;return tr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Zr("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Zr("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Zr("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Zr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Zr("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Zr("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Zr("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Zr("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Zr("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Zr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return er(this,void 0,void 0,function(){return tr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return er(this,void 0,void 0,function(){return tr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ie,p=y instanceof Sn||y instanceof ve,g=p&&r;if(h||g)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof Sn||c instanceof ve,u=c instanceof ie;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new MF(r,t),a=new DF(i);return new yF(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Yn=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Dt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Dt.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Dt.arraycopy(t,0,r,0,t.length),Dt.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),bm;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bm||(bm={}));const Oe=bm;var Sm;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Sm||(Sm={}));const Vn=Sm;var t1=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Hc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),vo=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=Hc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=Hc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=Hc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=Hc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new De("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new De("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),BF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y4=function(n){BF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(dr),VF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hr=function(n){VF(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new vo(a,Int32Array.from([0])),a.one=new vo(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new vo(this,i)},e.prototype.inverse=function(t){if(t===0)throw new y4;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Hc),FF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vd=function(n){FF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(dr),UF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nf=function(n){UF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(dr),n1=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new vo(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new vo(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),g=p[0],y=p[1],_=this.findErrorLocations(g),E=this.findErrorMagnitudes(y,_),u=0;u<_.length;u++){var A=e.length-1-r.log(_[u]);if(A<0)throw new vd("Bad error location");e[A]=hr.addOrSubtract(e[A],E[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,g=c;if(s=u,c=h,s.isZero())throw new vd("r_{i-1} was zero");u=p;for(var y=a.getZero(),_=s.getCoefficient(s.getDegree()),E=a.inverse(_);u.getDegree()>=s.getDegree()&&!u.isZero();){var A=u.getDegree()-s.getDegree(),C=a.multiply(u.getCoefficient(u.getDegree()),E);y=y.addOrSubtract(a.buildMonomial(A,C)),u=u.addOrSubtract(s.multiplyByMonomial(A,C))}if(h=y.multiply(c).addOrSubtract(g),u.getDegree()>=s.getDegree())throw new Nf("Division algorithm failed to reduce polynomial?")}var I=h.getCoefficient(0);if(I===0)throw new vd("sigmaTilde(0) was zero");var R=a.inverse(I),D=h.multiplyScalar(R),B=u.multiplyScalar(R);return[D,B]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new vd("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),g=(p&1)===0?p|1:p&-2;c=a.multiply(c,g)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Mn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Mn||(Mn={}));var NC=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new t1(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Mn.UPPER,i=Mn.UPPER,a="",s=0;s<t;)if(i===Mn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=ot.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Mn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var g=n.getCharacter(i,h);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(a+=g,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Mn.LOWER;case"P":return Mn.PUNCT;case"M":return Mn.MIXED;case"D":return Mn.DIGIT;case"B":return Mn.BINARY;case"U":default:return Mn.UPPER}},n.getCharacter=function(e,t){switch(e){case Mn.UPPER:return n.UPPER_TABLE[t];case Mn.LOWER:return n.LOWER_TABLE[t];case Mn.MIXED:return n.MIXED_TABLE[t];case Mn.PUNCT:return n.PUNCT_TABLE[t];case Mn.DIGIT:return n.DIGIT_TABLE[t];default:throw new Nf("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=hr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=hr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=hr.AZTEC_DATA_10):(r=12,t=hr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ve;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new n1(t);h.decode(u,a-i)}catch(C){throw new ve(C)}for(var p=(1<<r)-1,g=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new ve;(y===1||y===p-1)&&g++}for(var _=new Array(i*r-g),E=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)_.fill(y>1,E,E+r-1),E+=r-1;else for(var A=r-1;A>=0;--A)_[E++]=(y&1<<A)!==0}return _},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),h=i/2,p=Qe.truncDivision(c,2),u=0;u<h;u++){var g=u+Qe.truncDivision(u,15);a[h-u-1]=p-g-1,a[h+u]=p+g+1}for(var u=0,y=0;u<r;u++){for(var _=(r-u)*4+(t?9:12),E=u*2,A=i-1-E,C=0;C<_;C++)for(var I=C*2,R=0;R<2;R++)s[y+I+R]=e.get(a[E+R],a[E+C]),s[y+2*_+I+R]=e.get(a[E+C],a[A-R]),s[y+4*_+I+R]=e.get(a[A-R],a[A-C]),s[y+6*_+I+R]=e.get(a[A-C],a[E+R]);y+=_*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ft=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),Im=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Ce=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*Im.floatToIntBits(this.x)+Im.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ft.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),i_=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),jF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zF=function(n){jF(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(i_),Rm=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,g=!1,y=this.width,_=this.height;s;){s=!1;for(var E=!0;(E||!c)&&t<y;)E=this.containsBlackPoint(r,i,t,!1),E?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var A=!0;(A||!h)&&i<_;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,s=!0,h=!0):h||i++;if(i>=_){a=!0;break}for(var C=!0;(C||!p)&&e>=0;)C=this.containsBlackPoint(r,i,e,!1),C?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var I=!0;(I||!g)&&r>=0;)I=this.containsBlackPoint(e,t,r,!0),I?(r--,s=!0,g=!0):g||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var R=t-e,D=null,B=1;D===null&&B<R;B++)D=this.getBlackPointOnSegment(e,i-B,e+B,i);if(D==null)throw new ie;for(var F=null,B=1;F===null&&B<R;B++)F=this.getBlackPointOnSegment(e,r+B,e+B,r);if(F==null)throw new ie;for(var q=null,B=1;q===null&&B<R;B++)q=this.getBlackPointOnSegment(t,r+B,t-B,r);if(q==null)throw new ie;for(var O=null,B=1;O===null&&B<R;B++)O=this.getBlackPointOnSegment(t,i-B,t-B,i);if(O==null)throw new ie;return this.centerEdges(O,D,q,F)}else throw new ie},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ft.round(ft.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ft.round(e+h*s),g=ft.round(t+h*u);if(c.get(p,g))return new Ce(p,g)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),g=i.getX(),y=i.getY(),_=n.CORR;return a<this.width/2?[new Ce(g-_,y+_),new Ce(u+_,c+_),new Ce(h-_,p-_),new Ce(a+_,s-_)]:[new Ce(g+_,y+_),new Ce(u+_,c-_),new Ce(h-_,p+_),new Ce(a-_,s-_)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),PC=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),_4=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,g,y,_,E,A,C){var I=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),R=n.squareToQuadrilateral(h,p,g,y,_,E,A,C);return R.times(I)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=0;y<t;y+=2){var _=e[y],E=e[y+1],A=a*_+c*E+g;e[y]=(r*_+s*E+h)/A,e[y+1]=(i*_+u*E+p)/A}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=e.length,_=0;_<y;_++){var E=e[_],A=t[_],C=a*E+c*A+g;e[_]=(r*E+s*A+h)/C,t[_]=(i*E+u*A+p)/C}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var g=r-a,y=u-a,_=i-s,E=c-s,A=g*E-y*_,C=(h*E-y*p)/A,I=(g*p-h*_)/A;return new n(r-e+C*r,u-e+I*u,e,i-t+C*i,c-t+I*c,t,C,I,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),HF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GF=function(n){HF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,g,y,_,E,A,C,I,R,D,B){var F=_4.quadrilateralToQuadrilateral(a,s,u,c,h,p,g,y,_,E,A,C,I,R,D,B);return this.sampleGridWithTransform(t,r,i,F)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ie;for(var s=new ki(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,g=0;g<h;g+=2)u[g]=g/2+.5,u[g+1]=p;a.transformPoints(u),PC.checkAndNudgePoints(t,u);try{for(var g=0;g<h;g+=2)t.get(Math.floor(u[g]),Math.floor(u[g+1]))&&s.set(g/2,c)}catch{throw new ie}}return s},e}(PC),a_=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new GF,n}(),lr=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Ce(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),qF=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new zF(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new n1(hr.AZTEC_PARAM);c.decode(s,a)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var y=new Ce(t.getX()+.5,t.getY()-.5),_=new Ce(r.getX()+.5,r.getY()+.5),E=new Ce(i.getX()-.5,i.getY()+.5),A=new Ce(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,_,E,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new Rm(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new lr(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lr(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new lr(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new lr(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new Rm(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new lr(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new lr(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new lr(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new lr(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ft.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ft.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new lr(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=a_.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,g=0;g<r;g++)this.image.get(ft.round(u+g*h),ft.round(c+g*p))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new lr(e.getX()-a,e.getY()+a),t=new lr(t.getX()-a,t.getY()-a),r=new lr(r.getX()+a,r.getY()-a),i=new lr(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),g=0;g<p;g++)u+=i,c+=a,this.image.get(ft.round(u),ft.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new lr(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new Ce(u+i*a,c+i*s),p=new Ce(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var g=new Ce(u+i*a,c+i*s),y=new Ce(u-i*a,c-i*s),_=[h,g,p,y];return _},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ft.round(e.getX()),r=ft.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ft.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},n}(),Om=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new qF(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new NC().decode(u)}catch(g){r=g}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new NC().decode(u)}catch(g){throw r??g}var c=new Yn(s.getText(),s.getRawBytes(),s.getNumBits(),a,Oe.AZTEC,Dt.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(Vn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(Vn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Bt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),XF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){XF(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Om,t)||this}return e})(wu);var pn=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Bt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(Vn.ORIENTATION)===!0&&(u=u+s.get(Vn.ORIENTATION)%360),a.putMetadata(Vn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new Ce(h-c[p].getY()-1,c[p].getX());return a}else throw new ie}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new In(r),s=t&&t.get(Bt.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var g=Math.trunc((p+1)/2),y=(p&1)===0,_=h+u*(y?g:-g);if(_<0||_>=i)break;try{a=e.getBlackRow(_,a)}catch{continue}for(var E=function(R){if(R===1&&(a.reverse(),t&&t.get(Bt.NEED_RESULT_POINT_CALLBACK)===!0)){var D=new Map;t.forEach(function(q,O){return D.set(O,q)}),D.delete(Bt.NEED_RESULT_POINT_CALLBACK),t=D}try{var B=A.decodeRow(_,a,t);if(R===1){B.putMetadata(Vn.ORIENTATION,180);var F=B.getResultPoints();F!==null&&(F[0]=new Ce(r-F[0].getX()-1,F[0].getY()),F[1]=new Ce(r-F[1].getX()-1,F[1].getY()))}return{value:B}}catch{}},A=this,C=0;C<2;C++){var I=E(C);if(typeof I=="object")return I.value}}throw new ie},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ie;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ie},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ie;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return Number.POSITIVE_INFINITY;h+=_}return h/a},n}(),WF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),MC=function(n){WF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var g=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var E=pn.patternMatchVariance(s,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);E<g&&(g=E,y=_)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ie},e.decodeCode=function(t,r,i){pn.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ie},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Bt.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new ve}for(var g=!1,y=!1,_="",E=s[0],A=s[1],C=Int32Array.from([0,0,0,0,0,0]),I=0,R=0,D=u,B=0,F=!0,q=!1,O=!1;!g;){var S=y;switch(y=!1,I=R,R=e.decodeCode(r,C,A),h[c++]=R,R!==e.CODE_STOP&&(F=!0),R!==e.CODE_STOP&&(B++,D+=B*R),E=A,A+=C.reduce(function(oe,ee){return oe+ee},0),R){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ve}switch(p){case e.CODE_CODE_A:if(R<64)O===q?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else if(R<96)O===q?_+=String.fromCharCode(R-64):_+=String.fromCharCode(R+64),O=!1;else switch(R!==e.CODE_STOP&&(F=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!q&&O?(q=!0,O=!1):q&&O?(q=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(R<96)O===q?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else switch(R!==e.CODE_STOP&&(F=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!q&&O?(q=!0,O=!1):q&&O?(q=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(R<100)R<10&&(_+="0"),_+=R;else switch(R!==e.CODE_STOP&&(F=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}S&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var M=A-E;if(A=r.getNextUnset(A),!r.isRange(A,Math.min(r.getSize(),A+(A-E)/2),!1))throw new ie;if(D-=B*I,D%103!==I)throw new Sn;var U=_.length;if(U===0)throw new ie;U>0&&F&&(p===e.CODE_CODE_C?_=_.substring(0,U-2):_=_.substring(0,U-1));for(var H=(s[1]+s[0])/2,z=E+M/2,j=h.length,ye=new Uint8Array(j),xe=0;xe<j;xe++)ye[xe]=h[xe];var K=[new Ce(H,t),new Ce(z,t)];return new Yn(_,ye,0,K,Oe.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(pn),KF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LC=function(n){KF(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),g=r.getNextSet(p[1]),y=r.getSize(),_,E;do{e.recordPattern(r,g,h);var A=e.toNarrowWidePattern(h);if(A<0)throw new ie;_=e.patternToChar(A),this.decodeRowResult+=_,E=g;try{for(var C=(a=void 0,Cv(h)),I=C.next();!I.done;I=C.next()){var R=I.value;g+=R}}catch(j){a={error:j}}finally{try{I&&!I.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}g=r.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=Cv(h),F=B.next();!F.done;F=B.next()){var R=F.value;D+=R}}catch(j){u={error:j}}finally{try{F&&!F.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}var q=g-E-D;if(g!==y&&q*2<D)throw new ie;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,S=0,M=0;M<O;M++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(M));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(S%43))throw new Sn;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new ie;var U;this.extendedMode?U=e.decodeExtended(this.decodeRowResult):U=this.decodeRowResult;var H=(p[1]+p[0])/2,z=E+D/2;return new Yn(U,null,0,[new Ce(H,t),new Ce(z,t)],Oe.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ie},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,Cv(t)),p=h.next();!p.done;p=h.next()){var g=p.value;g<c&&g>s&&(c=g)}}catch(A){r={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,_=0,E=0;E<a;E++){var g=t[E];g>s&&(_|=1<<a-1-E,u++,y+=g)}if(u===3){for(var E=0;E<a&&u>0;E++){var g=t[E];if(g>s&&(u--,g*2>=y))return-1}return _}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ve;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(pn),YF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Tv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kC=function(n){YF(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),g=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,E;do{e.recordPattern(r,p,y);var A=this.toPattern(y);if(A<0)throw new ie;_=this.patternToChar(A),this.decodeRowResult+=_,E=p;try{for(var C=(a=void 0,Tv(y)),I=C.next();!I.done;I=C.next()){var R=I.value;p+=R}}catch(M){a={error:M}}finally{try{I&&!I.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=Tv(y),F=B.next();!F.done;F=B.next()){var R=F.value;D+=R}}catch(M){u={error:M}}finally{try{F&&!F.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}if(p===g||!r.get(p))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var q=this.decodeExtended(this.decodeRowResult),O=(h[1]+h[0])/2,S=E+D/2;return new Yn(q,null,0,[new Ce(O,t),new Ce(S,t)],Oe.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=Tv(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(E){r={error:E}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,g=0;g<p;g++){var y=Math.round(t[g]*9/a);if(y<1||y>4)return-1;if((g&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ie},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new ve;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ve;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ve;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new ve;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ve;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new Sn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(pn),$F=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BC=function(n){$F(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new Ke;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),g=null;i!=null&&(g=i.get(Bt.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,_=!1,E=0;try{for(var A=QF(g),C=A.next();!C.done;C=A.next()){var I=C.value;if(y===I){_=!0;break}I>E&&(E=I)}}catch(B){a={error:B}}finally{try{C&&!C.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}if(!_&&y>E&&(_=!0),!_)throw new ve;var R=[new Ce(u[1],t),new Ce(c[0],t)],D=new Yn(p,null,0,R,Oe.ITF,new Date().getTime());return D},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){pn.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var g=e.decodeDigit(u);a.append(g.toString()),g=this.decodeDigit(c),a.append(g.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ie&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var g=r;g<u;g++)if(t.get(g)!==c)s[h]++;else{if(h===a-1){if(pn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,g];p+=s[0]+s[1],Dt.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ie},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=pn.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(pn),ZF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uu=function(n){ZF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,g=i,y=r;y<u;y++)if(t.get(y)!==g)s[c]++;else{if(c===p-1){if(pn.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var _=s.slice(2,s.length),E=0;E<c-1;E++)s[E]=_[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new ie},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],g=pn.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(pn),JF=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eU=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var g=uu.decodeDigit(e,s,c,uu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,JF(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(C){i={error:C}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ie;var A=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==A)throw new ie;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ie},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Vn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),tU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nU=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Ce((r[0]+r[1])/2,e),new Ce(a,e)],h=new Yn(s,null,0,c,Oe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var g=uu.decodeDigit(e,s,c,uu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,tU(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ie;if(parseInt(r.toString())%4!==h)throw new ie;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Vn.ISSUE_NUMBER,parseInt(e)]])},n}(),rU=function(){function n(){}return n.decodeRow=function(e,t,r){var i=uu.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new eU;return a.decodeRow(e,t,i)}catch{var s=new nU;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),iU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cn=function(n){iU(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Bt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new Ce((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var g=new Ce(h,t);s.foundPossibleResultPoint(g)}var y=e.decodeEnd(r,h);if(s!=null){var _=new Ce((y[0]+y[1])/2,t);s.foundPossibleResultPoint(_)}var E=y[1],A=E+(E-y[0]);if(A>=r.getSize()||!r.isRange(E,A,!1))throw new ie;var C=p.toString();if(C.length<8)throw new ve;if(!e.checkChecksum(C))throw new Sn;var I=(a[1]+a[0])/2,R=(y[1]+y[0])/2,D=this.getBarcodeFormat(),B=[new Ce(I,t),new Ce(R,t)],F=new Yn(C,null,0,B,D,new Date().getTime()),q=0;try{var O=rU.decodeRow(t,r,y[1]);F.putMetadata(Vn.UPC_EAN_EXTENSION,O.getText()),F.putAllMetadata(O.getResultMetadata()),F.addResultPoints(O.getResultPoints()),q=O.getText().length}catch{}var S=i==null?null:i.get(Bt.ALLOWED_EAN_EXTENSIONS);if(S!=null){var M=!1;for(var U in S)if(q.toString()===U){M=!0;break}if(!M)throw new ie}return D===Oe.EAN_13||Oe.UPC_A,F},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ve;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(uu),aU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dm=function(n){aU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0,_=0;_<6&&g<p;_++){var E=cn.decodeDigit(t,h,g,cn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);try{for(var A=(a=void 0,VC(h)),C=A.next();!C.done;C=A.next()){var I=C.value;g+=I}}catch(F){a={error:F}}finally{try{C&&!C.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}E>=10&&(y|=1<<5-_)}i=e.determineFirstDigit(i,y);var R=cn.findGuardPattern(t,g,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));g=R[1];for(var _=0;_<6&&g<p;_++){var E=cn.decodeDigit(t,h,g,cn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var D=(u=void 0,VC(h)),B=D.next();!B.done;B=D.next()){var I=B.value;g+=I}}catch(O){u={error:O}}finally{try{B&&!B.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(cn),oU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UC=function(n){oU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0;y<4&&g<p;y++){var _=cn.decodeDigit(t,h,g,cn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var E=(a=void 0,FC(h)),A=E.next();!A.done;A=E.next()){var C=A.value;g+=C}}catch(B){a={error:B}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}var I=cn.findGuardPattern(t,g,!0,cn.MIDDLE_PATTERN,new Int32Array(cn.MIDDLE_PATTERN.length).fill(0));g=I[1];for(var y=0;y<4&&g<p;y++){var _=cn.decodeDigit(t,h,g,cn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var R=(u=void 0,FC(h)),D=R.next();!D.done;D=R.next()){var C=D.value;g+=C}}catch(q){u={error:q}}finally{try{D&&!D.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Oe.EAN_8},e}(cn),sU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jC=function(n){sU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Dm,t}return e.prototype.getBarcodeFormat=function(){return Oe.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Yn(r.substring(1),null,null,t.getResultPoints(),Oe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(cn),lU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zC=function(n){lU(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(C){return C});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,g=0;g<6&&h<c;g++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var _=(a=void 0,uU(u)),E=_.next();!E.done;E=_.next()){var A=E.value;h+=A}}catch(C){a={error:C}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-g)}return e.determineNumSysAndCheckDigit(new Ke(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return cn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Oe.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Ke;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(cn),cU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),HC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bv=function(n){cU(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Bt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Oe.EAN_13)>-1&&a.push(new Dm),i.indexOf(Oe.UPC_A)>-1&&a.push(new jC),i.indexOf(Oe.EAN_8)>-1&&a.push(new UC),i.indexOf(Oe.UPC_E)>-1&&a.push(new zC)),a.length===0&&(a.push(new Dm),a.push(new jC),a.push(new UC),a.push(new zC)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=HC(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),g=p.getBarcodeFormat()===Oe.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Bt.POSSIBLE_FORMATS),_=y==null||y.includes(Oe.UPC_A);if(g&&_){var E=p.getRawBytes(),A=new Yn(p.getText().substring(1),E,E?E.length:null,p.getResultPoints(),Oe.UPC_A);return A.putAllMetadata(p.getResultMetadata()),A}return p}catch{}}}catch(C){a={error:C}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var t,r;try{for(var i=HC(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(pn),fU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hU=function(n){fU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ie;return new Yn(s,null,0,[new Ce(a.left,t),new Ce(a.right,t)],Oe.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(pn),dU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_s=function(n){dU(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(pn.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(t){return ft.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=pU(t),g=p.next();!g.done;g=p.next()){var y=g.value;y>h&&(h=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(pn),d0=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),x4=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ce(r,a)),this.resultPoints.push(new Ce(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),gU=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hl=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=gU(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(R){i={error:R}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,g=0,y=e.length,_=0;_<y-1;_++){var E=void 0;for(E=1,g|=1<<_;E<e[_];E++,g&=~(1<<_)){var A=n.combins(s-E-1,y-_-2);if(r&&g===0&&s-E-(y-_-1)>=y-_-1&&(A-=n.combins(s-E-(y-_),y-_-2)),y-_-1>1){for(var C=0,I=s-E-(y-_-2);I>t;I--)C+=n.combins(s-E-I-1,y-_-3);A-=C*(y-1-_)}else s-E>t&&A--;p+=A}s-=E}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),vU=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new In(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),g=11;g>=0;--g)(p&1<<g)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),g=11;g>=0;--g)(y&1<<g)!==0&&i.set(a),a++}return i},n}(),vs=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),o_=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),mU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qr=function(n){mU(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(o_),yU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ms=function(n){yU(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(o_),_U=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vl=function(n){_U(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new ve;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(o_),md=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xU=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ie;var p=e.substring(0,2);try{for(var g=md(n.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var _=y.value;if(_[0]===p)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],e):n.processFixedAI(2,_[1],e)}}catch(q){t={error:q}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new ie;var E=e.substring(0,3);try{for(var A=md(n.THREE_DIGIT_DATA_LENGTH),C=A.next();!C.done;C=A.next()){var _=C.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],e):n.processFixedAI(3,_[1],e)}}catch(q){i={error:q}}finally{try{C&&!C.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var I=md(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),R=I.next();!R.done;R=I.next()){var _=R.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(q){s={error:q}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(e.length<4)throw new ie;var D=e.substring(0,4);try{for(var B=md(n.FOUR_DIGIT_DATA_LENGTH),F=B.next();!F.done;F=B.next()){var _=F.value;if(_[0]===D)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(q){c={error:q}}finally{try{F&&!F.done&&(h=B.return)&&h.call(B)}finally{if(c)throw c.error}}throw new ie},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ie;var i=r.substring(0,e);if(r.length<e+t)throw new ie;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),kd=function(){function n(e){this.buffer=new Ke,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=xU.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Vl(this.information.getSize(),Vl.FNC1,Vl.FNC1):new Vl(this.information.getSize(),t-1,Vl.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Vl(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new ms(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ms(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new ms(this.current.getPosition(),this.buffer.toString()):t=new ms(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new vs(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vs(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vs(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new ms(this.current.getPosition(),this.buffer.toString());return new vs(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vs(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Qr(e+5,Qr.FNC1);if(t>=5&&t<15)return new Qr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Qr(e+7,""+(r+1));if(r>=90&&r<116)return new Qr(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ve}return new Qr(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Qr(e+5,Qr.FNC1);if(t>=5&&t<15)return new Qr(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Qr(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Nf("Decoding invalid alphanumeric value: "+r)}return new Qr(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),E4=function(){function n(e){this.information=e,this.generalDecoder=new kd(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),EU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ei=function(n){EU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(E4),wU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AU=function(n){wU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ke;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ei),CU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TU=function(n){CU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ke;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(E4),bU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bd=function(n){bU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}(ei),SU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w4=function(n){SU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Bd.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var t=new Ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Bd.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Bd),IU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RU=function(n){IU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(w4),OU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DU=function(n){OU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(w4),NU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PU=function(n){NU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ei.GTIN_SIZE)throw new ie;var t=new Ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ei),MU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LU=function(n){MU(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ei.GTIN_SIZE)throw new ie;var t=new Ke;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ei.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ei),kU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eo=function(n){kU(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var t=new Ke;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Bd);function BU(n){try{if(n.get(1))return new AU(n);if(!n.get(2))return new TU(n);var e=kd.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new RU(n);case 5:return new DU(n)}var t=kd.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new PU(n);case 13:return new LU(n)}var r=kd.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new eo(n,"310","11");case 57:return new eo(n,"320","11");case 58:return new eo(n,"310","13");case 59:return new eo(n,"320","13");case 60:return new eo(n,"310","15");case 61:return new eo(n,"320","15");case 62:return new eo(n,"310","17");case 63:return new eo(n,"320","17")}}catch(i){throw console.log(i),new Nf("unknown decoder: "+n)}}var GC=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),VU=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),FU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),to=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UU=function(n){FU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ie},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,to(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(u);try{return this.checkRows(g,s+1)}catch(y){console.log(y)}}}throw new ie},e.isValidSequence=function(t){var r,i;try{for(var a=to(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new VU(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=to(r),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getPairs().length!==t.length){var _=!0;try{for(var E=(s=void 0,to(y.getPairs())),A=E.next();!A.done;A=E.next()){var C=A.value,I=!1;try{for(var R=(c=void 0,to(t)),D=R.next();!D.done;D=R.next()){var B=D.value;if(GC.equals(C,B)){I=!0;break}}}catch(F){c={error:F}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}I||(_=!1)}}catch(F){s={error:F}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}}}catch(F){i={error:F}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=to(r),g=p.next();!g.done;g=p.next()){var y=g.value,_=!0;try{for(var E=(s=void 0,to(t)),A=E.next();!A.done;A=E.next()){var C=A.value,I=!1;try{for(var R=(c=void 0,to(y.getPairs())),D=R.next();!D.done;D=R.next()){var B=D.value;if(C.equals(B)){I=!0;break}}}catch(F){c={error:F}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}if(!I){_=!1;break}}}catch(F){s={error:F}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(_)return!0}}catch(F){i={error:F}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=vU.buildBitArray(t),i=BU(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new Yn(a,null,null,c,Oe.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(g){p=null,console.log(g)}return new GC(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var g=0,y=u,_=u;_<s;_++)if(t.get(_)!==p)a[g]++;else{if(g===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new ie},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Dt.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new x4(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var g=17,y=ft.sum(new Int32Array(s))/g,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new ie;for(var E=this.getOddCounts(),A=this.getEvenCounts(),C=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var R=1*s[c]/y,D=R+.5;if(D<1){if(R<.3)throw new ie;D=1}else if(D>8){if(R>8.7)throw new ie;D=8}var B=c/2;(c&1)===0?(E[B]=D,C[B]=R-D):(A[B]=D,I[B]=R-D)}this.adjustOddEvenCounts(g);for(var F=4*r.getValue()+(i?0:2)+(a?0:1)-1,q=0,O=0,c=E.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var S=e.WEIGHTS[F][2*c];O+=E[c]*S}q+=E[c]}for(var M=0,c=A.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var S=e.WEIGHTS[F][2*c+1];M+=A[c]*S}var U=O+M;if((q&1)!==0||q>13||q<4)throw new ie;var H=(13-q)/2,z=e.SYMBOL_WIDEST[H],j=9-z,ye=Hl.getRSSvalue(E,z,!0),xe=Hl.getRSSvalue(A,j,!1),K=e.EVEN_TOTAL_SUBSET[H],oe=e.GSUM[H],ee=ye*K+xe+oe;return new d0(ee,U)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ft.sum(new Int32Array(this.getOddCounts())),i=ft.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,g=(i&1)===0;if(h===1)if(p){if(g)throw new ie;s=!0}else{if(!g)throw new ie;c=!0}else if(h===-1)if(p){if(g)throw new ie;a=!0}else{if(!g)throw new ie;u=!0}else if(h===0){if(p){if(!g)throw new ie;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(g)throw new ie}else throw new ie;if(a){if(s)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(_s),jU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zU=function(n){jU(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(d0),HU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qC=function(n){HU(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var g=Sv(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var _=y.value;if(_.getCount()>1)try{for(var E=(u=void 0,Sv(this.possibleRightPairs)),A=E.next();!A.done;A=E.next()){var C=A.value;if(C.getCount()>1&&e.checkChecksum(_,C))return e.constructResult(_,C)}}catch(I){u={error:I}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=Sv(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new Ke,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new Yn(s.toString(),null,0,[p[0],p[1],g[0],g[1]],Oe.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Bt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new Ce(h,i))}var p=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new zU(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)pn.recordPatternInReverse(t,r.getStartEnd()[0],a);else{pn.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,g=ft.sum(new Int32Array(a))/p,y=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var C=a[u]/g,I=Math.floor(C+.5);I<1?I=1:I>8&&(I=8);var R=Math.floor(u/2);(u&1)===0?(y[R]=I,E[R]=C-I):(_[R]=I,A[R]=C-I)}this.adjustOddEvenCounts(i,p);for(var D=0,B=0,u=y.length-1;u>=0;u--)B*=9,B+=y[u],D+=y[u];for(var F=0,q=0,u=_.length-1;u>=0;u--)F*=9,F+=_[u],q+=_[u];var O=B+3*F;if(i){if((D&1)!==0||D>12||D<4)throw new ie;var S=(12-D)/2,M=e.OUTSIDE_ODD_WIDEST[S],U=9-M,H=Hl.getRSSvalue(y,M,!1),z=Hl.getRSSvalue(_,U,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],ye=e.OUTSIDE_GSUM[S];return new d0(H*j+z+ye,O)}else{if((q&1)!==0||q>10||q<4)throw new ie;var S=(10-q)/2,M=e.INSIDE_ODD_WIDEST[S],U=9-M,H=Hl.getRSSvalue(y,M,!0),z=Hl.getRSSvalue(_,U,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[S],ye=e.INSIDE_GSUM[S];return new d0(z*xe+H+ye,O)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(_s.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ie},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);Dt.arraycopy(h,0,p,1,h.length-1),p[0]=c;var g=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,_=a[1];return i&&(y=t.getSize()-1-y,_=t.getSize()-1-_),new x4(g,[u,a[1]],y,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ft.sum(new Int32Array(this.getOddCounts())),a=ft.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,g=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(g){if(y)throw new ie;u=!0}else{if(!y)throw new ie;h=!0}else if(p===-1)if(g){if(y)throw new ie;s=!0}else{if(!y)throw new ie;c=!0}else if(p===0){if(g){if(!y)throw new ie;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ie}else throw new ie;if(s){if(u)throw new ie;_s.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&_s.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ie;_s.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&_s.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(_s),GU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gc=function(n){GU(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Bt.POSSIBLE_FORMATS):null,a=t&&t.get(Bt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Bt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Oe.EAN_13)||i.includes(Oe.UPC_A)||i.includes(Oe.EAN_8)||i.includes(Oe.UPC_E))&&r.readers.push(new bv(t)),i.includes(Oe.CODE_39)&&r.readers.push(new LC(a,s)),i.includes(Oe.CODE_93)&&r.readers.push(new kC),i.includes(Oe.CODE_128)&&r.readers.push(new MC),i.includes(Oe.ITF)&&r.readers.push(new BC),i.includes(Oe.CODABAR)&&r.readers.push(new hU),i.includes(Oe.RSS_14)&&r.readers.push(new qC),i.includes(Oe.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new UU))),r.readers.length===0&&(r.readers.push(new bv(t)),r.readers.push(new LC),r.readers.push(new kC),r.readers.push(new bv(t)),r.readers.push(new MC),r.readers.push(new BC),r.readers.push(new qC)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(pn),qU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){qU(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Gc(r),t,r)||this}return e})(wu);var XC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),dt=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),XU=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),g=s.getECBlocks();try{for(var y=XC(g),_=y.next();!_.done;_=y.next()){var E=_.value;h+=E.getCount()*(E.getDataCodewords()+p)}}catch(A){u={error:A}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new ve;try{for(var a=XC(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ve},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new vt(5,new dt(1,3))),new n(2,12,12,10,10,new vt(7,new dt(1,5))),new n(3,14,14,12,12,new vt(10,new dt(1,8))),new n(4,16,16,14,14,new vt(12,new dt(1,12))),new n(5,18,18,16,16,new vt(14,new dt(1,18))),new n(6,20,20,18,18,new vt(18,new dt(1,22))),new n(7,22,22,20,20,new vt(20,new dt(1,30))),new n(8,24,24,22,22,new vt(24,new dt(1,36))),new n(9,26,26,24,24,new vt(28,new dt(1,44))),new n(10,32,32,14,14,new vt(36,new dt(1,62))),new n(11,36,36,16,16,new vt(42,new dt(1,86))),new n(12,40,40,18,18,new vt(48,new dt(1,114))),new n(13,44,44,20,20,new vt(56,new dt(1,144))),new n(14,48,48,22,22,new vt(68,new dt(1,174))),new n(15,52,52,24,24,new vt(42,new dt(2,102))),new n(16,64,64,14,14,new vt(56,new dt(2,140))),new n(17,72,72,16,16,new vt(36,new dt(4,92))),new n(18,80,80,18,18,new vt(48,new dt(4,114))),new n(19,88,88,20,20,new vt(56,new dt(4,144))),new n(20,96,96,22,22,new vt(68,new dt(4,174))),new n(21,104,104,24,24,new vt(56,new dt(6,136))),new n(22,120,120,18,18,new vt(68,new dt(6,175))),new n(23,132,132,20,20,new vt(62,new dt(8,163))),new n(24,144,144,22,22,new vt(62,new dt(8,156),new dt(2,155))),new n(25,8,18,6,16,new vt(7,new dt(1,5))),new n(26,8,32,6,14,new vt(11,new dt(1,10))),new n(27,12,26,10,24,new vt(14,new dt(1,16))),new n(28,12,36,10,16,new vt(18,new dt(1,22))),new n(29,16,36,14,16,new vt(24,new dt(1,32))),new n(30,16,48,14,22,new vt(28,new dt(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),WU=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ve;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ki(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return XU.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new ve;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new De("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new ki(h,c),g=0;g<s;++g)for(var y=g*i,_=0;_<u;++_)for(var E=_*a,A=0;A<i;++A)for(var C=g*(i+2)+1+A,I=y+A,R=0;R<a;++R){var D=_*(a+2)+1+R;if(e.get(D,C)){var B=E+R;p.set(B,I)}}return p},n}(),WC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KU=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=WC(h),g=p.next();!g.done;g=p.next()){var y=g.value;c+=y.getCount()}}catch(ye){r={error:ye}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var _=new Array(c),E=0;try{for(var A=WC(h),C=A.next();!C.done;C=A.next())for(var y=C.value,I=0;I<y.getCount();I++){var R=y.getDataCodewords(),D=u.getECCodewords()+R;_[E++]=new n(R,new Uint8Array(D))}}catch(ye){a={error:ye}}finally{try{C&&!C.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}for(var B=_[0].codewords.length,F=B-u.getECCodewords(),q=F-1,O=0,I=0;I<q;I++)for(var S=0;S<E;S++)_[S].codewords[I]=e[O++];for(var M=t.getVersionNumber()===24,U=M?8:E,S=0;S<U;S++)_[S].codewords[F-1]=e[O++];for(var H=_[0].codewords.length,I=F;I<H;I++)for(var S=0;S<E;S++){var z=M?(S+8)%E:S,j=M&&z>7?I-1:I;_[z].codewords[j]=e[O++]}if(O!==e.length)throw new De;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),A4=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new De(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),ln;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(ln||(ln={}));var YU=function(){function n(){}return n.decode=function(e){var t=new A4(e),r=new Ke,i=new Ke,a=new Array,s=ln.ASCII_ENCODE;do if(s===ln.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case ln.C40_ENCODE:this.decodeC40Segment(t,r);break;case ln.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case ln.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case ln.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case ln.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new ve}s=ln.ASCII_ENCODE}while(s!==ln.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new t1(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ve;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),ln.ASCII_ENCODE;if(a===129)return ln.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return ln.C40_ENCODE;case 231:return ln.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return ln.ANSIX12_ENCODE;case 239:return ln.TEXT_ENCODE;case 240:return ln.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ve;break}}while(e.available()>0);return ln.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new ve}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ve;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ve}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new ve;break;default:throw new ve}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new ve;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new ve;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ve;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(zr.decode(u,ot.ISO88591))}catch(h){throw new Nf("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),$U=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QU=function(){function n(){this.rsDecoder=new n1(hr.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new WU(e),a=i.getVersion(),s=i.readCodewords(),u=KU.getDataBlocks(s,a),c=0;try{for(var h=$U(u),p=h.next();!p.done;p=h.next()){var g=p.value;c+=g.getNumDataCodewords()}}catch(D){t={error:D}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),_=u.length,E=0;E<_;E++){var A=u[E],C=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(C,I);for(var R=0;R<I;R++)y[R*_+E]=C[R]}return YU.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Sn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),ZU=function(){function n(e){this.image=e,this.rectangleDetector=new Rm(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ie;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new i_(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Ce(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Ce(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,g=[a,t,r,i];return p>u&&(p=u,g[0]=t,g[1]=r,g[2]=i,g[3]=a),p>c&&(p=c,g[0]=r,g[1]=i,g[2]=a,g[3]=t),p>h&&(g[0]=i,g[1]=a,g[2]=t,g[3]=r),g},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new Ce(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),g=new Ce(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(g)?g:null;if(!this.isValid(g))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),_=this.transitionsBetween(c,g)+this.transitionsBetween(h,g);return y>_?p:g},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,g=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,g),r=n.moveAway(r,p,g),i=n.moveAway(i,p,g),a=n.moveAway(a,p,g);var y,_;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),_=n.shiftPoint(a,i,u*4),_=n.shiftPoint(_,t,s*4),[c,y,h,_]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=a_.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),g=-h/2,y=i<s?1:-1,_=r<a?1:-1,E=0,A=this.image.get(u?i:r,u?r:i),C=r,I=i;C!==a;C+=_){var R=this.image.get(u?I:C,u?C:I);if(R!==A&&(E++,A=R),g+=p,g>0){if(I===s)break;I+=y,g-=h}}return E},n}(),Nm=function(){function n(){this.decoder=new QU}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Bt.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new ZU(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new Yn(r.getText(),u,8*u.length,i,Oe.DATA_MATRIX,Dt.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(Vn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(Vn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ie;var g=i/2;a+=g,u+=g;for(var y=new ki(h,p),_=0;_<p;_++)for(var E=a+_*i,A=0;A<h;A++)e.get(u+A*i,E)&&y.set(A,_);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ie;var s=i-e[0];if(s===0)throw new ie;return s},n.NO_POINTS=[],n}(),JU=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){JU(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Nm,t)||this}return e})(wu);var Gl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Gl||(Gl={}));var ej=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Zr(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new De;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Gl.L,"L",1),n.M=new n(Gl.M,"M",0),n.Q=new n(Gl.Q,"Q",3),n.H=new n(Gl.H,"H",2),n}(),tj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C4=function(){function n(e){this.errorCorrectionLevel=ej.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Qe.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=tj(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var g=n.numBitsDiffering(e,p);g<a&&(s=h[1],a=g),e!==t&&(g=n.numBitsDiffering(t,p),g<a&&(s=h[1],a=g))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),nj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=nj(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),V=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),rj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cs=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=rj(h),g=p.next();!g.done;g=p.next()){var y=g.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ve;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ve}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new De;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=C4.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ki(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new J(7,new V(1,19)),new J(10,new V(1,16)),new J(13,new V(1,13)),new J(17,new V(1,9))),new n(2,Int32Array.from([6,18]),new J(10,new V(1,34)),new J(16,new V(1,28)),new J(22,new V(1,22)),new J(28,new V(1,16))),new n(3,Int32Array.from([6,22]),new J(15,new V(1,55)),new J(26,new V(1,44)),new J(18,new V(2,17)),new J(22,new V(2,13))),new n(4,Int32Array.from([6,26]),new J(20,new V(1,80)),new J(18,new V(2,32)),new J(26,new V(2,24)),new J(16,new V(4,9))),new n(5,Int32Array.from([6,30]),new J(26,new V(1,108)),new J(24,new V(2,43)),new J(18,new V(2,15),new V(2,16)),new J(22,new V(2,11),new V(2,12))),new n(6,Int32Array.from([6,34]),new J(18,new V(2,68)),new J(16,new V(4,27)),new J(24,new V(4,19)),new J(28,new V(4,15))),new n(7,Int32Array.from([6,22,38]),new J(20,new V(2,78)),new J(18,new V(4,31)),new J(18,new V(2,14),new V(4,15)),new J(26,new V(4,13),new V(1,14))),new n(8,Int32Array.from([6,24,42]),new J(24,new V(2,97)),new J(22,new V(2,38),new V(2,39)),new J(22,new V(4,18),new V(2,19)),new J(26,new V(4,14),new V(2,15))),new n(9,Int32Array.from([6,26,46]),new J(30,new V(2,116)),new J(22,new V(3,36),new V(2,37)),new J(20,new V(4,16),new V(4,17)),new J(24,new V(4,12),new V(4,13))),new n(10,Int32Array.from([6,28,50]),new J(18,new V(2,68),new V(2,69)),new J(26,new V(4,43),new V(1,44)),new J(24,new V(6,19),new V(2,20)),new J(28,new V(6,15),new V(2,16))),new n(11,Int32Array.from([6,30,54]),new J(20,new V(4,81)),new J(30,new V(1,50),new V(4,51)),new J(28,new V(4,22),new V(4,23)),new J(24,new V(3,12),new V(8,13))),new n(12,Int32Array.from([6,32,58]),new J(24,new V(2,92),new V(2,93)),new J(22,new V(6,36),new V(2,37)),new J(26,new V(4,20),new V(6,21)),new J(28,new V(7,14),new V(4,15))),new n(13,Int32Array.from([6,34,62]),new J(26,new V(4,107)),new J(22,new V(8,37),new V(1,38)),new J(24,new V(8,20),new V(4,21)),new J(22,new V(12,11),new V(4,12))),new n(14,Int32Array.from([6,26,46,66]),new J(30,new V(3,115),new V(1,116)),new J(24,new V(4,40),new V(5,41)),new J(20,new V(11,16),new V(5,17)),new J(24,new V(11,12),new V(5,13))),new n(15,Int32Array.from([6,26,48,70]),new J(22,new V(5,87),new V(1,88)),new J(24,new V(5,41),new V(5,42)),new J(30,new V(5,24),new V(7,25)),new J(24,new V(11,12),new V(7,13))),new n(16,Int32Array.from([6,26,50,74]),new J(24,new V(5,98),new V(1,99)),new J(28,new V(7,45),new V(3,46)),new J(24,new V(15,19),new V(2,20)),new J(30,new V(3,15),new V(13,16))),new n(17,Int32Array.from([6,30,54,78]),new J(28,new V(1,107),new V(5,108)),new J(28,new V(10,46),new V(1,47)),new J(28,new V(1,22),new V(15,23)),new J(28,new V(2,14),new V(17,15))),new n(18,Int32Array.from([6,30,56,82]),new J(30,new V(5,120),new V(1,121)),new J(26,new V(9,43),new V(4,44)),new J(28,new V(17,22),new V(1,23)),new J(28,new V(2,14),new V(19,15))),new n(19,Int32Array.from([6,30,58,86]),new J(28,new V(3,113),new V(4,114)),new J(26,new V(3,44),new V(11,45)),new J(26,new V(17,21),new V(4,22)),new J(26,new V(9,13),new V(16,14))),new n(20,Int32Array.from([6,34,62,90]),new J(28,new V(3,107),new V(5,108)),new J(26,new V(3,41),new V(13,42)),new J(30,new V(15,24),new V(5,25)),new J(28,new V(15,15),new V(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new J(28,new V(4,116),new V(4,117)),new J(26,new V(17,42)),new J(28,new V(17,22),new V(6,23)),new J(30,new V(19,16),new V(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new J(28,new V(2,111),new V(7,112)),new J(28,new V(17,46)),new J(30,new V(7,24),new V(16,25)),new J(24,new V(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new J(30,new V(4,121),new V(5,122)),new J(28,new V(4,47),new V(14,48)),new J(30,new V(11,24),new V(14,25)),new J(30,new V(16,15),new V(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new J(30,new V(6,117),new V(4,118)),new J(28,new V(6,45),new V(14,46)),new J(30,new V(11,24),new V(16,25)),new J(30,new V(30,16),new V(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new J(26,new V(8,106),new V(4,107)),new J(28,new V(8,47),new V(13,48)),new J(30,new V(7,24),new V(22,25)),new J(30,new V(22,15),new V(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new J(28,new V(10,114),new V(2,115)),new J(28,new V(19,46),new V(4,47)),new J(28,new V(28,22),new V(6,23)),new J(30,new V(33,16),new V(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new J(30,new V(8,122),new V(4,123)),new J(28,new V(22,45),new V(3,46)),new J(30,new V(8,23),new V(26,24)),new J(30,new V(12,15),new V(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new V(3,117),new V(10,118)),new J(28,new V(3,45),new V(23,46)),new J(30,new V(4,24),new V(31,25)),new J(30,new V(11,15),new V(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new V(7,116),new V(7,117)),new J(28,new V(21,45),new V(7,46)),new J(30,new V(1,23),new V(37,24)),new J(30,new V(19,15),new V(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new V(5,115),new V(10,116)),new J(28,new V(19,47),new V(10,48)),new J(30,new V(15,24),new V(25,25)),new J(30,new V(23,15),new V(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new V(13,115),new V(3,116)),new J(28,new V(2,46),new V(29,47)),new J(30,new V(42,24),new V(1,25)),new J(30,new V(23,15),new V(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new V(17,115)),new J(28,new V(10,46),new V(23,47)),new J(30,new V(10,24),new V(35,25)),new J(30,new V(19,15),new V(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new V(17,115),new V(1,116)),new J(28,new V(14,46),new V(21,47)),new J(30,new V(29,24),new V(19,25)),new J(30,new V(11,15),new V(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new V(13,115),new V(6,116)),new J(28,new V(14,46),new V(23,47)),new J(30,new V(44,24),new V(7,25)),new J(30,new V(59,16),new V(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new V(12,121),new V(7,122)),new J(28,new V(12,47),new V(26,48)),new J(30,new V(39,24),new V(14,25)),new J(30,new V(22,15),new V(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new V(6,121),new V(14,122)),new J(28,new V(6,47),new V(34,48)),new J(30,new V(46,24),new V(10,25)),new J(30,new V(2,15),new V(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new V(17,122),new V(4,123)),new J(28,new V(29,46),new V(14,47)),new J(30,new V(49,24),new V(10,25)),new J(30,new V(24,15),new V(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new V(4,122),new V(18,123)),new J(28,new V(13,46),new V(32,47)),new J(30,new V(48,24),new V(14,25)),new J(30,new V(42,15),new V(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new V(20,117),new V(4,118)),new J(28,new V(40,47),new V(7,48)),new J(30,new V(43,24),new V(22,25)),new J(30,new V(10,15),new V(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new V(19,118),new V(6,119)),new J(28,new V(18,47),new V(31,48)),new J(30,new V(34,24),new V(34,25)),new J(30,new V(20,15),new V(61,16)))],n}(),Cn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(Cn||(Cn={}));var KC=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Cn.DATA_MASK_000,new n(Cn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Cn.DATA_MASK_001,new n(Cn.DATA_MASK_001,function(e,t){return(e&1)===0})],[Cn.DATA_MASK_010,new n(Cn.DATA_MASK_010,function(e,t){return t%3===0})],[Cn.DATA_MASK_011,new n(Cn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Cn.DATA_MASK_100,new n(Cn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Cn.DATA_MASK_101,new n(Cn.DATA_MASK_101,function(e,t){return e*t%6===0})],[Cn.DATA_MASK_110,new n(Cn.DATA_MASK_110,function(e,t){return e*t%6<3})],[Cn.DATA_MASK_111,new n(Cn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),ij=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ve;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=C4.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ve},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Cs.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=Cs.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=Cs.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ve},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=KC.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,g=i-1;g>0;g-=2){g===6&&g--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,E=0;E<2;E++)a.get(g-E,_)||(p++,h<<=1,this.bitMatrix.get(g-E,_)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new ve;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=KC.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),YC=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new De;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var g=YC(p),y=g.next();!y.done;y=g.next()){var _=y.value;h+=_.getCount()}}catch(j){i={error:j}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var E=new Array(h),A=0;try{for(var C=YC(p),I=C.next();!I.done;I=C.next())for(var _=I.value,R=0;R<_.getCount();R++){var D=_.getDataCodewords(),B=c.getECCodewordsPerBlock()+D;E[A++]=new n(D,new Uint8Array(B))}}catch(j){s={error:j}}finally{try{I&&!I.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}for(var F=E[0].codewords.length,q=E.length-1;q>=0;){var O=E[q].codewords.length;if(O===F)break;q--}q++;for(var S=F-c.getECCodewordsPerBlock(),M=0,R=0;R<S;R++)for(var U=0;U<A;U++)E[U].codewords[R]=e[M++];for(var U=q;U<A;U++)E[U].codewords[S]=e[M++];for(var H=E[0].codewords.length,R=S;R<H;R++)for(var U=0;U<A;U++){var z=U<q?R:R+1;E[U].codewords[z]=e[M++]}return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Ur;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Ur||(Ur={}));var Pt=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new De;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Ur.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Ur.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Ur.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Ur.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Ur.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Ur.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Ur.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Ur.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Ur.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Ur.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),oj=function(){function n(){}return n.decode=function(e,t,r,i){var a=new A4(e),s=new Ke,u=new Array,c=-1,h=-1;try{var p=null,g=!1,y=void 0;do{if(a.available()<4)y=Pt.TERMINATOR;else{var _=a.readBits(4);y=Pt.forBits(_)}switch(y){case Pt.TERMINATOR:break;case Pt.FNC1_FIRST_POSITION:case Pt.FNC1_SECOND_POSITION:g=!0;break;case Pt.STRUCTURED_APPEND:if(a.available()<16)throw new ve;c=a.readBits(8),h=a.readBits(8);break;case Pt.ECI:var E=n.parseECIValue(a);if(p=fn.getCharacterSetECIByValue(E),p===null)throw new ve;break;case Pt.HANZI:var A=a.readBits(4),C=a.readBits(y.getCharacterCountBits(t));A===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,C);break;default:var I=a.readBits(y.getCharacterCountBits(t));switch(y){case Pt.NUMERIC:n.decodeNumericSegment(a,s,I);break;case Pt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,I,g);break;case Pt.BYTE:n.decodeByteSegment(a,s,I,p,u,i);break;case Pt.KANJI:n.decodeKanjiSegment(a,s,I);break;default:throw new ve}break}}while(y!==Pt.TERMINATOR)}catch{throw new ve}return new t1(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(zr.decode(i,ot.GB2312))}catch(c){throw new ve(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ve;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(zr.decode(i,ot.SHIFT_JIS))}catch(c){throw new ve(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new ve;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=ot.guessEncoding(u,s):h=i.getName();try{t.append(zr.decode(u,h))}catch(p){throw new ve(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new ve;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new ve;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new ve;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ve;var i=e.readBits(10);if(i>=1e3)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ve;var a=e.readBits(7);if(a>=100)throw new ve;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ve;var s=e.readBits(4);if(s>=10)throw new ve;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ve},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),T4=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),$C=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sj=function(){function n(){this.rsDecoder=new n1(hr.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ki.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new ij(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new T4(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=aj.getDataBlocks(h,u,c),g=0;try{for(var y=$C(p),_=y.next();!_.done;_=y.next()){var E=_.value;g+=E.getNumDataCodewords()}}catch(q){r={error:q}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var A=new Uint8Array(g),C=0;try{for(var I=$C(p),R=I.next();!R.done;R=I.next()){var E=R.value,D=E.getCodewords(),B=E.getNumDataCodewords();this.correctErrors(D,B);for(var F=0;F<B;F++)A[C++]=D[F]}}catch(q){a={error:q}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}return oj.decode(A,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Sn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),lj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uj=function(n){lj(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(Ce),cj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fj=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var g=0;p<i;){if(u.get(p,h))if(g===1)s[1]++;else if(g===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else g===1&&g++,s[g]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=cj(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(E){i={error:E}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new uj(u,c,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}(),hj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dj=function(n){hj(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(Ce),pj=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Pc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gj=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Bt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var g=0,y=0;y<s;y++)if(i.get(y,p))(g&1)===1&&g++,h[g]++;else if((g&1)===0)if(g===4)if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,y,r);if(_===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>h[2]&&(p+=E-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;continue}g=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;else h[++g]++;else h[g]++;if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,s,r);_===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return Ce.orderBestPatterns(A),new pj(A)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,g=0,y=p.length;g<y;g++){var _=p[g];if(_.aboutEquals(c,u,s)){p[g]=_.combineEstimate(u,s,c),h=!0;break}}if(!h){var E=new dj(s,u,c);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Pc(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Pc(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var g=s/u,y=0;try{for(var _=Pc(this.possibleCenters),E=_.next();!E.done;E=_.next()){var p=E.value;y+=Math.abs(p.getEstimatedModuleSize()-g)}}catch(A){r={error:A}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ie;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Pc(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value,_=y.getEstimatedModuleSize();c+=_,h+=_*_}}catch(F){e={error:F}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var E=Math.sqrt(h/a-u*u);s.sort(function(F,q){var O=Math.abs(q.getEstimatedModuleSize()-u),S=Math.abs(F.getEstimatedModuleSize()-u);return O<S?-1:O>S?1:0});for(var A=Math.max(.2*u,E),C=0;C<s.length&&s.length>3;C++){var I=s[C];Math.abs(I.getEstimatedModuleSize()-u)>A&&(s.splice(C,1),C--)}}if(s.length>3){var c=0;try{for(var R=Pc(s),D=R.next();!D.done;D=R.next()){var B=D.value;c+=B.getEstimatedModuleSize()}}catch(q){r={error:q}}finally{try{D&&!D.done&&(i=R.return)&&i.call(R)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(q,O){if(O.getCount()===q.getCount()){var S=Math.abs(O.getEstimatedModuleSize()-u),M=Math.abs(q.getEstimatedModuleSize()-u);return S<M?1:S>M?-1:0}else return O.getCount()-q.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),vj=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Bt.NEED_RESULT_POINT_CALLBACK);var t=new gj(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ie("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=Cs.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),g=r.getY()-t.getY()+i.getY(),y=1-3/c,_=Math.floor(t.getX()+y*(p-t.getX())),E=Math.floor(t.getY()+y*(g-t.getY())),A=4;A<=16;A<<=1)try{h=this.findAlignmentInRegion(a,_,E,A);break}catch(D){if(!(D instanceof ie))throw D}var C=n.createTransform(t,r,i,h,s),I=n.sampleGrid(this.image,C,s),R;return h===null?R=[i,t,r]:R=[i,t,r,h],new i_(I,R)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),_4.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=a_.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ft.round(Ce.distance(e,t)/i),s=ft.round(Ce.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,g=t<i?1:-1,y=0,_=r+p,E=e,A=t;E!==_;E+=p){var C=a?A:E,I=a?E:A;if(y===1===this.image.get(C,I)){if(y===2)return ft.distance(E,A,e,t);y++}if(h+=c,h>0){if(A===i)break;A+=g,h-=u}}return y===2?ft.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ie("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var p=new fj(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),Pm=function(){function n(){this.decoder=new sj}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Bt.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new vj(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof T4&&r.getOther().applyMirroredCorrection(i);var u=new Yn(r.getText(),r.getRawBytes(),void 0,i,Oe.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(Vn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(Vn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Vn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Vn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ie;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ie;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ie;if(p!==h)throw new ie;var g=Math.floor(i/2);a+=g,u+=g;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>g)throw new ie;u-=y}var _=a+Math.floor((p-1)*i)-s;if(_>0){if(_>g)throw new ie;a-=_}for(var E=new ki(h,p),A=0;A<p;A++)for(var C=a+Math.floor(A*i),I=0;I<h;I++)e.get(u+Math.floor(I*i),C)&&E.set(I,A);return E},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ie;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),mj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lt=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ft.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=mj(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=dn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),yj=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),_j=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xj=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new yj(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,_j(a)),g=p.next();!g.done;g=p.next()){var y=g.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var g=n.findGuardPattern(e,a,--i,r,!1,s,h);if(g!=null)p=g;else{i++;break}}u[0]=new Ce(p[0],i),u[1]=new Ce(p[1],i),c=!0;break}}var y=i+1;if(c){for(var _=0,g=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,g[0],y,r,!1,s,h);if(p!=null&&Math.abs(g[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-p[1])<n.MAX_PATTERN_DRIFT)g=p,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,u[2]=new Ce(g[0],y),u[3]=new Ce(g[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&dn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){dn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,g=0,y=s.length,_=a;p<i;p++){var E=e.get(p,r);if(E!==_)u[g]++;else{if(g===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],Dt.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}}return g===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return 1/0;h+=_}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),Ej=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},As=function(){function n(e,t){if(t.length===0)throw new De;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Ej(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(g){t={error:g}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new De("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new De;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new Ke,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),wj=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new De;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new y4;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),Aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Cj=function(n){Aj(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new As(i,new Int32Array([0])),i.one=new As(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new De;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new As(this,i)},e.PDF417_GF=new e(lt.NUMBER_OF_CODEWORDS,3),e}(wj),Tj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bj=function(){function n(){this.field=Cj.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new As(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(r!=null)try{for(var y=Tj(r),_=y.next();!_.done;_=y.next()){var E=_.value,A=this.field.exp(e.length-1-E),C=new As(this.field,new Int32Array([this.field.subtract(0,A),1]));g=g.multiply(C)}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var I=new As(this.field,u),R=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),I,t),D=R[0],B=R[1],F=this.findErrorLocations(D),q=this.findErrorMagnitudes(B,D,F),h=0;h<F.length;h++){var O=e.length-1-this.field.log(F[h]);if(O<0)throw Sn.getChecksumInstance();e[O]=this.field.subtract(e[O],q[h])}return F.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw Sn.getChecksumInstance();s=h;for(var g=this.field.getZero(),y=a.getCoefficient(a.getDegree()),_=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var E=s.getDegree()-a.getDegree(),A=this.field.multiply(s.getCoefficient(s.getDegree()),_);g=g.add(this.field.buildMonomial(E,A)),s=s.subtract(a.multiplyByMonomial(E,A))}c=g.multiply(u).subtract(p).negative()}var C=c.getCoefficient(0);if(C===0)throw Sn.getChecksumInstance();var I=this.field.inverse(C),R=c.multiply(I),D=s.multiply(I);return[R,D]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw Sn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new As(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),g=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(g,y)}return h},n}(),Mm=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ie;s?(t=new Ce(0,i.getY()),r=new Ce(0,a.getY())):u&&(i=new Ce(e.getWidth()-1,t.getY()),a=new Ce(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new Ce(c.getX(),h);r?i=p:s=p}if(t>0){var g=r?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new Ce(g.getX(),y);r?a=_:u=_}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),Sj=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),s_=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,g){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(g){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(s);break;case"p":_=parseFloat(t[r]).toPrecision(s);break;case"e":_=parseFloat(t[r]).toExponential(s);break;case"x":_=parseInt(t[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var E=parseInt(c),A=c&&c[0]+""=="0"?"0":" ";_.length<E;)_=u!==void 0?_+A:A+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),Ij=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b4=function(){function n(e){this.boundingBox=new Mm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new s_,i=0;try{for(var a=Ij(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),Rj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},qc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(g,y){var _={getKey:function(){return g},getValue:function(){return y}};_.getValue()>r?(r=_.getValue(),i=[],i.push(_.getKey())):_.getValue()===r&&i.push(_.getKey())};try{for(var s=Rj(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=Oj(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return lt.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),Dj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QC=function(n){Dj(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Iv(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,g=0,y=u;y<c;y++)if(r[y]!=null){var _=r[y],E=_.getRowNumber()-h;if(E===0)g++;else if(E===1)p=Math.max(p,g),g=1,h=_.getRowNumber();else if(E<0||_.getRowNumber()>=t.getRowCount()||E>y)r[y]=null;else{var A=void 0;p>2?A=(p-2)*E:A=E;for(var C=A>=y,I=1;I<=A&&!C;I++)C=r[y-I]!=null;C?r[y]=null:(h=_.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Iv(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var g=c[p];g.setRowNumberAsRowIndicatorColumn();var y=g.getRowNumber()-h;y===0||(y===1?h=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?c[p]=null:h=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new qc,s=new qc,u=new qc,c=new qc;try{for(var h=Iv(i),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,_=g.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(A){t={error:A}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<lt.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>lt.MAX_ROWS_IN_BARCODE)return null;var E=new Sj(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(b4),Nj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pj=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=lt.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=Nj(h),g=p.next();!g.done;g=p.next()){var y=g.value;if(n.adjustRowNumber(s,y))return}}catch(_){i={error:_}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new s_,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),Mj=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),Lj=function(){function n(){}return n.initialize=function(){for(var e=0;e<lt.SYMBOL_TABLE.length;e++)for(var t=lt.SYMBOL_TABLE[e],r=t&1,i=0;i<lt.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(lt.BARS_IN_MODULE)),n.RATIOS_TABLE[e][lt.BARS_IN_MODULE-i-1]=Math.fround(a/lt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ft.sum(e),r=new Int32Array(lt.BARS_IN_MODULE),i=0,a=0,s=0;s<lt.MODULES_IN_CODEWORD;s++){var u=t/(2*lt.MODULES_IN_CODEWORD)+s*t/lt.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return lt.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ft.sum(e),r=new Array(lt.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=Im.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<lt.BARS_IN_MODULE;p++){var g=Math.fround(h[p]-r[p]);if(c+=Math.fround(g*g),c>=a)break}c<a&&(a=c,s=lt.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(lt.SYMBOL_TABLE.length).map(function(e){return new Array(lt.BARS_IN_MODULE)}),n}(),kj=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),ZC=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),Bj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vj=function(n){Bj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(dr),Fj=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new Vj;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new n_;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),Uj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jj=function(n){Uj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(dr),zj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hj=function(n){zj(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new De("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new jj;i=Qe.MAX_VALUE}this.buf=dn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new n_;this.ensureCapacity(this.count+i),Dt.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return dn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Fj),It;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(It||(It={}));function S4(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var yd;function io(n){if(typeof yd>"u"&&(yd=S4()),yd===null)throw new Error("BigInt is not supported!");return yd(n)}function Gj(){var n=[];n[0]=io(1);var e=io(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var qj=function(){function n(){}return n.decode=function(e,t){var r=new Ke(""),i=fn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new kj;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:fn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ve;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw ve.getFormatInstance()}if(r.length()===0)throw ve.getFormatInstance();var c=new t1(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ve.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Qe.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Ke;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Ke;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Ke;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new Ke;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new Ke;t=n.numericCompaction(e,t+1,g),r.setSegmentCount(Qe.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Ke;t=n.numericCompaction(e,t+1,y),r.setTimestamp(ZC.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new Ke;t=n.numericCompaction(e,t+1,_),r.setChecksum(Qe.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new Ke;t=n.numericCompaction(e,t+1,E),r.setFileSize(ZC.parseLong(E.toString()));break;default:throw ve.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ve.getFormatInstance()}if(u!==-1){var A=t-u;r.isLastSegment()&&A--,r.setOptionalData(dn.copyOfRange(e,u,u+A))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=It.ALPHA,s=It.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case It.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=It.LOWER;break;case n.ML:a=It.MIXED;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=It.ALPHA_SHIFT;break;case n.ML:a=It.MIXED;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=It.PUNCT;break;case 26:h=" ";break;case n.LL:a=It.LOWER;break;case n.AL:a=It.ALPHA;break;case n.PS:s=a,a=It.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=It.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break;case It.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=It.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=It.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new Hj,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),g=t[i++];i<t[0]&&!h;)switch(p[u++]=g,c=900*c+g,g=t[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(io(c)>>io(8*(5-y))));c=0,u=0}break}i===t[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=g);for(var _=0;_<u;_++)s.write(p[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var E=t[i++];if(E<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+E;else switch(E){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(io(c)>>io(8*(5-y))));c=0,u=0}}break}return a.append(zr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=io(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*io(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ve;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=S4()?Gj():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Mc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xj=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new Mm(e,t,r,i,a),h=null,p=null,g,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),g=n.merge(h,p),g==null)throw ie.getNotFoundInstance();var _=g.getBoundingBox();if(y&&_!=null&&(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))c=_;else break}g.setBoundingBox(c);var E=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,h),g.setDetectionResultColumn(E,p);for(var A=h!=null,C=1;C<=E;C++){var I=A?C:E-C;if(g.getDetectionResultColumn(I)===void 0){var R=void 0;I===0||I===E?R=new QC(c,I===0):R=new b4(c),g.setDetectionResultColumn(I,R);for(var D=-1,B=D,F=c.getMinY();F<=c.getMaxY();F++){if(D=n.getStartColumn(g,I,F,A),D<0||D>c.getMaxX()){if(B===-1)continue;D=B}var q=n.detectCodeword(e,c.getMinX(),c.getMaxX(),A,D,F,s,u);q!=null&&(R.setCodeword(F,q),B=D,s=Math.min(s,q.getWidth()),u=Math.max(u,q.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Mm.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new Pj(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Mc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),g=0;s>0&&p[g]==null;g++)s--;for(var y=0,g=i.length-1;g>=0&&(y+=a-i[g],!(i[g]>0));g--);for(var g=p.length-1;y>0&&p[g]==null;g--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Mc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new QC(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,g,a,s);y!=null&&(u.setCodeword(g,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>lt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var g=new Array(a.length),y=0;y<g.length;y++)g[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,lt.toIntArray(r),lt.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof Sn;if(!h)throw p}if(s.length===0)throw Sn.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw Sn.getChecksumInstance()}throw Sn.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new qc;var h=0;try{for(var p=Mc(e.getDetectionResultColumns()),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)try{for(var _=(i=void 0,Mc(y.getCodewords())),E=_.next();!E.done;E=_.next()){var A=E.value;if(A!=null){var C=A.getRowNumber();if(C>=0){if(C>=s.length)continue;s[C][h].setValue(A.getValue())}}}}catch(I){i={error:I}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h++}}catch(I){t={error:I}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Mc(e.getDetectionResultColumn(t).getCodewords())),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(_){a={error:_}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,g=ft.sum(h);if(i)p=a+g;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}p=a,a=p-g}if(!n.checkCodewordSkew(g,u,c))return null;var E=Lj.getDecodedValue(h),A=lt.getCodeword(E);return A===-1?null:new Mj(a,p,n.getCodewordBucketNumber(E),A)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,g=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===g?(c[h]++,u+=p):(h++,g=!g);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw ve.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=qj.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw Sn.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw ve.getFormatInstance();var r=e[0];if(r>e.length)throw ve.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ve.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new s_,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new bj,n}(),Wj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lm=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ie.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof ve||r instanceof Sn?ie.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=xj.detectMultiple(e,t,r);try{for(var c=Wj(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,g=Xj.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new Yn(g.getText(),g.getRawBytes(),void 0,p,Oe.PDF_417);y.putMetadata(Vn.ERROR_CORRECTION_LEVEL,g.getECLevel());var _=g.getOther();_!=null&&y.putMetadata(Vn.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(E){i={error:E}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(E){return E})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),Kj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JC=function(n){Kj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(dr),eT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yj=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Bt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Bt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Oe.UPC_A||s===Oe.UPC_E||s===Oe.EAN_13||s===Oe.EAN_8||s===Oe.CODABAR||s===Oe.CODE_39||s===Oe.CODE_93||s===Oe.CODE_128||s===Oe.ITF||s===Oe.RSS_14||s===Oe.RSS_EXPANDED});a&&!t&&i.push(new Gc(e)),r.includes(Oe.QR_CODE)&&i.push(new Pm),r.includes(Oe.DATA_MATRIX)&&i.push(new Nm),r.includes(Oe.AZTEC)&&i.push(new Om),r.includes(Oe.PDF_417)&&i.push(new Lm),a&&t&&i.push(new Gc(e))}i.length===0&&(t||i.push(new Gc(e)),i.push(new Pm),i.push(new Nm),i.push(new Om),i.push(new Lm),t&&i.push(new Gc(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=eT(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new JC("No readers where selected, nothing can be read.");try{for(var i=eT(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof JC)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},n}(),$j=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qj=function(n){$j(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new Yj;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(wu),Zj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Zj(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Lm,t)||this}return e})(wu);var Jj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Jj(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new Pm,t)||this}return e})(wu);var km;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(km||(km={}));const _d=km;var I4=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new vo(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new vo(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new De("No error correction bytes");var r=e.length-t;if(r<=0)throw new De("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Dt.arraycopy(e,0,a,0,r);var s=new vo(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;Dt.arraycopy(c,0,e,r+h,c.length)},n}(),Xc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new De("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var g=t?s[u][p]:s[p][u];g===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=g)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),ez=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tz=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=ez(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;dn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new Ke,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Bm=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new Ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),nz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nt=function(n){nz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(dr),tT=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new In;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var g=r.getWidth()-a-1,y=8;r.setBoolean(g,y,u)}else{var g=8,y=r.getHeight()-7+(a-8);r.setBoolean(g,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new In;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&Xc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Nt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new De("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Bm.isValidMaskPattern(t))throw new Nt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new In;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Nt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Nt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Nt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Nt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),rz=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),nT=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return Xc.applyMaskPenaltyRule1(e)+Xc.applyMaskPenaltyRule2(e)+Xc.applyMaskPenaltyRule3(e)+Xc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(_d.CHARACTER_SET)!==void 0;a&&(i=r.get(_d.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new In;if(s===Pt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=fn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new In;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(_d.QR_VERSION)!==void 0){var g=Number.parseInt(r.get(_d.QR_VERSION).toString(),10);p=Cs.getVersionForNumber(g);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Nt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var _=new In;_.appendBitArray(u);var E=s===Pt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,p,s,_),_.appendBitArray(h);var A=p.getECBlocksForLevel(t),C=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(C,_);var I=this.interleaveWithECBytes(_,p.getTotalCodewords(),C,A.getNumBlocks()),R=new Bm;R.setECLevel(t),R.setMode(s),R.setVersion(p);var D=p.getDimensionForVersion(),B=new tz(D,D),F=this.chooseMaskPattern(I,t,p,B);return R.setMaskPattern(F),tT.buildMatrix(I,t,p,F,B),R.setMatrix(B),R},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Cs.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),fn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Pt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Pt.BYTE}return i?Pt.ALPHANUMERIC:r?Pt.NUMERIC:Pt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=zr.encode(e,fn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<Bm.NUM_MASK_PATTERNS;u++){tT.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Cs.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Nt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Nt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Nt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Nt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,g=Math.floor(t/r),y=g+1,_=h-g,E=p-y;if(_!==E)throw new Nt("EC bytes mismatch");if(r!==c+u)throw new Nt("RS blocks mismatch");if(e!==(g+_)*c+(y+E)*u)throw new Nt("Total bytes mismatch");i<c?(a[0]=g,s[0]=_):(a[0]=y,s[0]=E)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Nt("Number of bits and data bytes does not match");for(var h=0,p=0,g=0,y=new Array,_=0;_<i;++_){var E=new Int32Array(1),A=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,_,E,A);var C=E[0],I=new Uint8Array(C);e.toBytes(8*h,I,0,C);var R=n.generateECBytes(I,A[0]);y.push(new rz(I,R)),p=Math.max(p,C),g=Math.max(g,R.length),h+=E[0]}if(r!==h)throw new Nt("Data bytes does not match offset");for(var D=new In,_=0;_<p;++_)try{for(var B=(a=void 0,nT(y)),F=B.next();!F.done;F=B.next()){var q=F.value,I=q.getDataBytes();_<I.length&&D.appendBits(I[_],8)}}catch(U){a={error:U}}finally{try{F&&!F.done&&(s=B.return)&&s.call(B)}finally{if(a)throw a.error}}for(var _=0;_<g;++_)try{for(var O=(u=void 0,nT(y)),S=O.next();!S.done;S=O.next()){var q=S.value,R=q.getErrorCorrectionBytes();_<R.length&&D.appendBits(R[_],8)}}catch(U){u={error:U}}finally{try{S&&!S.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}if(t!==D.getSizeInBytes())throw new Nt("Interleaving error: "+t+" and "+D.getSizeInBytes()+" differ.");return D},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new I4(hr.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Nt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Pt.NUMERIC:n.appendNumericBytes(e,r);break;case Pt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Pt.BYTE:n.append8BitBytes(e,r,i);break;case Pt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Nt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Nt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Nt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=zr.encode(e,r)}catch(c){throw new Nt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=zr.encode(e,fn.SJIS)}catch(g){throw new Nt(g)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Nt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Pt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=fn.UTF8.getName(),n})();var iz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){iz(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new De("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new r_(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(e1);var az=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){az(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,g=new Uint8ClampedArray(p),y=0;y<p;y++){var _=t[y],E=_>>16&255,A=_>>7&510,C=_&255;g[y]=(E+A+C)/4&255}h.luminances=g}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new De("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new De("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new r_(this)},e})(e1);var oz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sz=function(n){oz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(fn),lz=function(){function n(){}return n.ISO_8859_1=fn.ISO8859_1,n}(),Vm,uz=301,cz=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=uz);return{LOG:n,ALOG:e}};Vm=cz([],[]),Vm.LOG;Vm.ALOG;var rT;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(rT||(rT={}));var iT=129,R4=230,fz=231,hz=235,dz=236,pz=237,gz=238,vz=239,mz=240,Rv=254,yz=254,aT="[)>05",oT="[)>06",sT="",wt=0,Ln=1,nr=2,un=3,Tn=4,Gn=5,_z=function(){function n(){}return n.prototype.getEncodingMode=function(){return wt},n.prototype.encode=function(e){var t=ti.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Gn:e.writeCodeword(fz),e.signalEncoderChange(Gn);return;case Ln:e.writeCodeword(R4),e.signalEncoderChange(Ln);return;case un:e.writeCodeword(gz),e.signalEncoderChange(un);break;case nr:e.writeCodeword(vz),e.signalEncoderChange(nr);break;case Tn:e.writeCodeword(mz),e.signalEncoderChange(Tn);break;default:throw new Error("Illegal mode: "+i)}else ti.isExtendedASCII(r)?(e.writeCodeword(hz),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(ti.isDigit(e)&&ti.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),xz=function(){function n(){}return n.prototype.getEncodingMode=function(){return Gn},n.prototype.encode=function(e){var t=new Ke;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,ot.getCharAt(a));else if(a<=1555)t.setCharAt(0,ot.getCharAt(Math.floor(a/250)+249)),t.insert(1,ot.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),l_=function(){function n(){}return n.prototype.getEncodingMode=function(){return Ln},n.prototype.encodeMaximal=function(e){for(var t=new Ke,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(R4),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new Ke;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Rv)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Rv),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Rv)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(wt)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new Ke;return a.append(r),a.append(i),a.toString()},n}(),Ez=function(){function n(){}return n.prototype.getEncodingMode=function(){return Tn},n.prototype.encode=function(e){for(var t=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=ti.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(wt);break}}}t.append(ot.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(wt)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(ot.getCharAt(e-64)):ti.illegalCharacter(ot.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,g=new Ke;return g.append(c),t>=2&&g.append(h),t>=3&&g.append(p),g.toString()},n}(),wz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Az=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pt=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=Az(Tz),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),Cz=function(n){wz(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(pt),Tz=[new pt(!1,3,5,8,8,1),new pt(!1,5,7,10,10,1),new pt(!0,5,7,16,6,1),new pt(!1,8,10,12,12,1),new pt(!0,10,11,14,6,2),new pt(!1,12,12,14,14,1),new pt(!0,16,14,24,10,1),new pt(!1,18,14,16,16,1),new pt(!1,22,18,18,18,1),new pt(!0,22,18,16,10,2),new pt(!1,30,20,20,20,1),new pt(!0,32,24,16,14,2),new pt(!1,36,24,22,22,1),new pt(!1,44,28,24,24,1),new pt(!0,49,28,22,14,2),new pt(!1,62,36,14,14,4),new pt(!1,86,42,16,16,4),new pt(!1,114,48,18,18,4),new pt(!1,144,56,20,20,4),new pt(!1,174,68,22,22,4),new pt(!1,204,84,24,24,4,102,42),new pt(!1,280,112,14,14,16,140,56),new pt(!1,368,144,16,16,16,92,36),new pt(!1,456,192,18,18,16,114,48),new pt(!1,576,224,20,20,16,144,56),new pt(!1,696,272,22,22,16,174,68),new pt(!1,816,336,24,24,16,136,56),new pt(!1,1050,408,18,18,36,175,68),new pt(!1,1304,496,20,20,36,163,62),new Cz],bz=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new Ke,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new Ke,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=pt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),Sz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Iz=function(n){Sz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return un},e.prototype.encode=function(t){for(var r=new Ke;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=ti.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(wt);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):ti.illegalCharacter(ot.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(yz),t.getNewEncoding()<0&&t.signalEncoderChange(wt)},e}(l_),Rz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oz=function(n){Rz(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return nr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(l_),ti=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=iT+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new l_,u=[new _z,s,new Oz,new Iz,new Ez,new xz],c=new bz(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(aT)&&e.endsWith(sT)?(c.writeCodeword(dz),c.setSkipAtEnd(2),c.pos+=aT.length):e.startsWith(oT)&&e.endsWith(sT)&&(c.writeCodeword(pz),c.setSkipAtEnd(2),c.pos+=oT.length);var h=wt;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();p<g&&h!==wt&&h!==Gn&&h!==Tn&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<g&&y.append(iT);y.length()<g;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===un&&i===un){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return wt}else if(r===Tn&&i===Tn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return wt}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===wt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){dn.fill(s,0),dn.fill(u,0);var c=this.findMinimums(i,u,Qe.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[wt]===c)return wt;if(h===1){if(s[Gn]>0)return Gn;if(s[Tn]>0)return Tn;if(s[nr]>0)return nr;if(s[un]>0)return un}return Ln}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[wt]+=.5:this.isExtendedASCII(p)?(i[wt]=Math.ceil(i[wt]),i[wt]+=2):(i[wt]=Math.ceil(i[wt]),i[wt]++),this.isNativeC40(p)?i[Ln]+=2/3:this.isExtendedASCII(p)?i[Ln]+=8/3:i[Ln]+=4/3,this.isNativeText(p)?i[nr]+=2/3:this.isExtendedASCII(p)?i[nr]+=8/3:i[nr]+=4/3,this.isNativeX12(p)?i[un]+=2/3:this.isExtendedASCII(p)?i[un]+=13/3:i[un]+=10/3,this.isNativeEDIFACT(p)?i[Tn]+=3/4:this.isExtendedASCII(p)?i[Tn]+=17/4:i[Tn]+=13/4,this.isSpecialB256(p)?i[Gn]+=4:i[Gn]++,a>=4){if(dn.fill(s,0),dn.fill(u,0),this.findMinimums(i,u,Qe.MAX_VALUE,s),u[wt]<this.min(u[Gn],u[Ln],u[nr],u[un],u[Tn]))return wt;if(u[Gn]<u[wt]||u[Gn]+1<this.min(u[Ln],u[nr],u[un],u[Tn]))return Gn;if(u[Tn]+1<this.min(u[Gn],u[Ln],u[nr],u[un],u[wt]))return Tn;if(u[nr]+1<this.min(u[Gn],u[Ln],u[Tn],u[un],u[wt]))return nr;if(u[un]+1<this.min(u[Gn],u[Ln],u[Tn],u[nr],u[wt]))return un;if(u[Ln]+1<this.min(u[wt],u[Gn],u[Tn],u[nr])){if(u[Ln]<u[un])return Ln;if(u[Ln]===u[un]){for(var g=t+a+1;g<e.length;){var y=e.charCodeAt(g);if(this.isX12TermSep(y))return un;if(!this.isNativeX12(y))break;g++}return Ln}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,dn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Qe.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),Ov=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lT=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return zr.encode(e,this.charset)!=null}catch{return!1}},n}(),Dz=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(M){return new lT(sz.forName(M))}),this.encoders=[];var p=[];p.push(new lT(lz.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var E=(i=void 0,Ov(p)),A=E.next();!A.done;A=E.next()){var C=A.value,I=e.charAt(y),R=I.charCodeAt(0);if(R===r||C.canEncode(I)){_=!0;break}}}catch(M){i={error:M}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}if(!_)try{for(var D=(s=void 0,Ov(this.ENCODERS)),B=D.next();!B.done;B=D.next()){var C=B.value;if(C.canEncode(e.charAt(y))){p.push(C),_=!0;break}}}catch(M){s={error:M}}finally{try{B&&!B.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}_||(g=!0)}if(p.length===1&&!g)this.encoders=[p[0]];else{this.encoders=[];var F=0;try{for(var q=Ov(p),O=q.next();!O.done;O=q.next()){var C=O.value;this.encoders[F++]=C}}catch(M){c={error:M}}finally{try{O&&!O.done&&(h=q.return)&&h.call(q)}finally{if(c)throw c.error}}}var S=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){S=y;break}}this.priorityEncoderIndex=S}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return zr.encode(ot.getCharAt(e),this.encoders[t].name)},n}(),Nz=3,Pz=function(){function n(e,t,r){this.fnc1=r;var i=new Dz(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new Ke,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new uT(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new uT[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Qe.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],y=a[i][c];y!=null;){if(y.isFNC1())g.unshift(1e3);else for(var _=t.encode(y.c,y.encoderIndex),s=_.length-1;s>=0;s--)g.unshift(_[s]&255);var E=y.previous===null?0:y.previous.encoderIndex;E!==y.encoderIndex&&g.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var A=[],s=0;s<A.length;s++)A[s]=g[s];return A},n}(),uT=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=Nz),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),Mz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var cT;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(cT||(cT={}));(function(n){Mz(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Pz);var Lz=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),fT=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),kz=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),Bz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),u_=function(n){Bz(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Qe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(kz),Vz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fz=function(n){Vz(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(u_);function Uz(n,e,t){return new Fz(n,e,t)}function Lc(n,e,t){return new u_(n,e,t)}var jz=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mo=0,p0=1,jr=2,O4=3,Ii=4,zz=new u_(null,0,0),Dv=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],Hz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Gz(n){var e,t;try{for(var r=Hz(n),i=r.next();!i.done;i=r.next()){var a=i.value;dn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[mo][Ii]=0,n[p0][Ii]=0,n[p0][mo]=28,n[O4][Ii]=0,n[jr][Ii]=0,n[jr][mo]=15,n}var D4=Gz(dn.createInt32Array(6,6)),qz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xz=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Dv[this.mode][e];i=Lc(i,a&65535,a>>16),r+=a>>16}var s=e===jr?4:5;return i=Lc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===jr?4:5;return r=Lc(r,D4[this.mode][e],i),r=Lc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Ii||this.mode===jr){var a=Dv[r][mo];t=Lc(t,a&65535,a>>16),i+=a>>16,r=mo}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=Uz(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Dv[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new In;try{for(var u=qz(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return ot.format("%s bits=%d bytes=%d",jz[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(zz,mo,0,0),n}();function Wz(n){var e=ot.getCharCode(" "),t=ot.getCharCode("."),r=ot.getCharCode(",");n[mo][e]=1;for(var i=ot.getCharCode("Z"),a=ot.getCharCode("A"),s=a;s<=i;s++)n[mo][s]=s-a+2;n[p0][e]=1;for(var u=ot.getCharCode("z"),c=ot.getCharCode("a"),s=c;s<=u;s++)n[p0][s]=s-c+2;n[jr][e]=1;for(var h=ot.getCharCode("9"),p=ot.getCharCode("0"),s=p;s<=h;s++)n[jr][s]=s-p+2;n[jr][r]=12,n[jr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<g.length;y++)n[O4][ot.getCharCode(g[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)ot.getCharCode(_[y])>0&&(n[Ii][ot.getCharCode(_[y])]=y);return n}var Nv=Wz(dn.createInt32Array(5,256)),xd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kz=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=ot.getCharCode(" "),t=ot.getCharCode(`
`),r=fT.singletonList(Xz.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ot.getCharCode("\r"):a=s===t?2:0;break;case ot.getCharCode("."):a=s===e?3:0;break;case ot.getCharCode(","):a=s===e?4:0;break;case ot.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=fT.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=xd(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Nv[e.getMode()][i]>0,s=null,u=0;u<=Ii;u++){var c=Nv[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===jr){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&D4[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Nv[e.getMode()][i]===0){var g=e.addBinaryShiftChar(t);r.push(g)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=xd(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Ii,r)),e.getMode()!==Ii&&i.push(a.shiftAndAppend(Ii,r)),r===3||r===4){var s=a.latchAndAppend(jr,16-r).latchAndAppend(jr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=xd(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,g=function(C){if(C.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(C)&&(s=s.filter(function(I){return I!==C}))};try{for(var y=(i=void 0,xd(s)),_=y.next();!_.done;_=y.next()){var E=_.value,A=g(E);if(A==="break")break}}catch(C){i={error:C}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(C){t={error:C}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),Yz=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new Kz(e).encode(),a=Qe.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,g;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new De(ot.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(g=n.stuffBits(i,p),g.getSize()+a>y)throw new De("Data to large for user specified layer");if(u&&g.getSize()>p*64)throw new De("Data to large for user specified layer")}else{p=0,g=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new De("Data too large for an Aztec code");if(u=_<=3,c=u?_+1:_,h=n.totalBitsInLayer(c,u),!(s>h)){(g==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],g=n.stuffBits(i,p));var y=h-h%p;if(!(u&&g.getSize()>p*64)&&g.getSize()+a<=y)break}}}var E=n.generateCheckWords(g,h,p),A=g.getSize()/p,C=n.generateModeMessage(u,c,A),I=(u?11:14)+c*4,R=new Int32Array(I),D;if(u){D=I;for(var _=0;_<R.length;_++)R[_]=_}else{D=I+1+2*Qe.truncDivision(Qe.truncDivision(I,2)-1,15);for(var B=Qe.truncDivision(I,2),F=Qe.truncDivision(D,2),_=0;_<B;_++){var q=_+Qe.truncDivision(_,15);R[B-_-1]=F-q-1,R[B+_]=F+q+1}}for(var O=new ki(D),_=0,S=0;_<c;_++){for(var M=(c-_)*4+(u?9:12),U=0;U<M;U++)for(var H=U*2,z=0;z<2;z++)E.get(S+H+z)&&O.set(R[_*2+z],R[_*2+U]),E.get(S+M*2+H+z)&&O.set(R[_*2+U],R[I-1-_*2-z]),E.get(S+M*4+H+z)&&O.set(R[I-1-_*2-z],R[I-1-_*2-U]),E.get(S+M*6+H+z)&&O.set(R[I-1-_*2-U],R[_*2+z]);S+=M*8}if(n.drawModeMessage(O,u,D,C),u)n.drawBullsEye(O,Qe.truncDivision(D,2),5);else{n.drawBullsEye(O,Qe.truncDivision(D,2),7);for(var _=0,U=0;_<Qe.truncDivision(I,2)-1;_+=15,U+=16)for(var z=Qe.truncDivision(D,2)&1;z<D;z+=2)O.set(Qe.truncDivision(D,2)-U,z),O.set(Qe.truncDivision(D,2)+U,z),O.set(z,Qe.truncDivision(D,2)-U),O.set(z,Qe.truncDivision(D,2)+U)}var j=new Lz;return j.setCompact(u),j.setSize(D),j.setLayers(c),j.setCodeWords(A),j.setMatrix(O),j},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new In;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Qe.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Qe.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new I4(n.getGF(r)),c=Qe.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,g=new In;g.appendBits(0,p);try{for(var y=Yz(Array.from(h)),_=y.next();!_.done;_=y.next()){var E=_.value;g.appendBits(E,r)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return hr.AZTEC_PARAM;case 6:return hr.AZTEC_DATA_6;case 8:return hr.AZTEC_DATA_8;case 10:return hr.AZTEC_DATA_10;case 12:return hr.AZTEC_DATA_12;default:throw new De("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new In,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();function N4({className:n,...e}){return P.jsx("div",{"data-slot":"card",className:At("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function P4({className:n,...e}){return P.jsx("div",{"data-slot":"card-header",className:At("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function $z({className:n,...e}){return P.jsx("div",{"data-slot":"card-title",className:At("leading-none font-semibold",n),...e})}function M4({className:n,...e}){return P.jsx("div",{"data-slot":"card-content",className:At("px-6",n),...e})}const Qz="https://world.openfoodfacts.org/api/v2/product/",Zz="PantryPal/1.0 (pantrypal@gmail.com)";async function Jz(n){var r;const e=`${Qz}${n}`,t={"User-Agent":Zz};try{const i=new AbortController,a=setTimeout(()=>i.abort(),1e4),s=await fetch(e,{headers:t,signal:i.signal});if(clearTimeout(a),!s.ok)return{success:!1};const u=await s.json();if(u.status!==1||!u.product)return{success:!1};const c=u.product,[h,p]=((r=c.quantity)==null?void 0:r.split(" "))??[void 0,void 0],g=Ad().possibilities();g.push("tbsp"),g.push("unit");let y=p;return g.includes(p)||(y="unit"),{success:!0,data:{name:c.product_name,quantity:Number(h),unit:y,type:"Other",location:"Pantry",createdDate:new Date,shop:c.stores,barcode:n}}}catch(i){return console.log(i),{success:!1,data:{name:"",quantity:0,unit:"unit",type:"Other",location:"Pantry",createdDate:new Date,shop:"",barcode:n}}}}const eH="pantry",tH="barcode";function nH(){const n=L.useRef(null),[e,t]=L.useState(!1),r=L.useRef(null),[i,a]=L.useState([]),[s,u]=L.useState(!1),c=f0(eH),h=f0(tH),p={name:"barcode",label:"Barcode",type:"text",required:!0,placeholder:"e.g. 2202345"};L.useEffect(()=>()=>{_()},[]);const g=async F=>{if(F){_(),u(!0);const q=F.getText(),O=await Jz(q),S=await h.getDataById(q);if(S){const M=XT(S);a(U=>[...U,M])}else O.success&&a(M=>[...M,O.data]);u(!1)}},y=()=>{if(!n.current)return;const F=new Qj;r.current=F,F.decodeFromVideoDevice(null,n.current,(q,O)=>{g(q),O&&!(O instanceof ie)&&console.error(O)}).catch(q=>console.error(q)),t(!0)},_=()=>{r.current&&(r.current.reset(),r.current=null),t(!1)},E=F=>{a(q=>q.filter((O,S)=>S!==F))},A=(F,q,O,S)=>F.map((M,U)=>U===q?{...M,[O]:S}:M),C=(F,q,O)=>{const S=q.type==="number"?parseFloat(O):O,M=A(i,F,q.name,S);a(M)},I=(F,q,O,S,M)=>{var j;const U=(j=S.extraFields)==null?void 0:j[0].name;if(!U)return;const{val:H,unit:z}=Qm(F,q,O);a(ye=>ye.map((xe,K)=>K===M?{...xe,[S.name]:H,[U]:z}:xe))},R=(F,q,O)=>{const S=A(i,F,q,O);a(S)},D=async()=>{u(!0);try{await c.createMultipleData(i),a([])}catch(F){console.error("Error saving items to Firebase:",F)}u(!1)},B=async F=>{u(!0);try{await h.upsertData(i[F].barcode,i[F])}catch(q){console.error("Error saving items to Firebase:",q)}u(!1)};return P.jsxs("div",{children:[P.jsx("video",{ref:n,className:`w-full rounded-lg border border-gray-200 ${!e&&"hidden"}`}),s&&P.jsx("p",{children:"Loading..."}),P.jsx("div",{className:"space-y-4 mt-4",children:i.map((F,q)=>P.jsxs(N4,{children:[P.jsxs(P4,{className:"flex flex-col sm:flex-row items-start sm:items-end justify-between gap-4 pb-2",children:[P.jsxs("div",{className:"space-y-2 w-full sm:w-auto",children:[P.jsx(Fd,{htmlFor:p.name,children:p.label}),P.jsx(h0,{field:p,formData:F,handleInputChange:O=>C(q,p,O.target.value),handleUnitChange:(O,S)=>I(i[q][p.name],i[q][O],S,p,q),handleSelectChange:(O,S)=>R(q,O,S),handleArrayOfObjectsChange:O=>{R(q,p.name,O)}})]},p.name),P.jsxs("div",{className:"flex flex-row items-end gap-2 self-end",children:[P.jsx(cr,{size:"icon",onClick:()=>B(q),disabled:s,children:P.jsx(QE,{className:"h-4 w-4"})}),P.jsx(cr,{variant:"destructive",size:"icon",onClick:()=>E(q),children:P.jsx(yD,{className:"h-5 w-5"})})]})]}),P.jsx(M4,{className:"grid gap-2 sm:grid-cols-2",children:$T.map(O=>P.jsxs("div",{className:"space-y-2",children:[P.jsx(Fd,{htmlFor:O.name,children:O.label}),P.jsx(h0,{field:O,formData:F,handleInputChange:S=>C(q,O,S.target.value),handleUnitChange:(S,M)=>I(i[q][O.name],i[q][S],M,O,q),handleSelectChange:(S,M)=>R(q,S,M),handleArrayOfObjectsChange:S=>{R(q,O.name,S)}})]},O.name))})]},q))}),P.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-end mt-6 gap-2",children:[e?P.jsx(cr,{variant:"destructive",onClick:_,className:"w-full sm:w-auto",children:"Stop Camera"}):P.jsx(cr,{onClick:y,className:"w-full sm:w-auto",children:"Add Another Item"}),i.length>0&&P.jsxs(cr,{onClick:D,disabled:s,className:"w-full sm:w-auto",children:[P.jsx(QE,{className:"mr-2 h-4 w-4"})," Save All to Pantry"]})]})]})}function rH(){const{signInWithGoogle:n}=Jy(),[e,t]=L.useState(null),[r,i]=L.useState(!1),a=u=>{if(u.message==="This account is not authorized to access the application."){t(u.message);return}switch(u.code){case"auth/invalid-email":t("Please enter a valid email address.");break;case"auth/user-not-found":case"auth/wrong-password":t("Invalid email or password.");break;case"auth/email-already-in-use":t("An account with this email already exists.");break;case"auth/weak-password":t("Password should be at least 6 characters.");break;default:t("An unexpected error occurred. Please try again."),console.error(u)}},s=async()=>{t(null),i(!0);try{await n()}catch(u){a(u)}i(!1)};return P.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:P.jsxs(N4,{className:"w-full max-w-sm",children:[P.jsx(P4,{children:P.jsx($z,{className:"text-2xl",children:"Pantry Login"})}),P.jsxs(M4,{className:"grid gap-4",children:[e&&P.jsx("p",{className:"text-sm text-red-600",children:e}),P.jsx("div",{className:"flex flex-col gap-2",children:P.jsx(cr,{onClick:s,variant:"outline",className:"w-full",disabled:r,children:r?"Signing In with Google...":"Sign In with Google"})})]})]})})}const iH="location";function aH(){const n=[{header:"Name",accessorKey:"name"},{header:"Created Date",accessorFn:t=>t.createdDate.toLocaleDateString()}],e=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g. Pantry"}];return P.jsx(Of,{object_type:iH,columns:n,createFields:e,updateFields:e})}const oH="shop";function sH(){const n=[{header:"Name",accessorKey:"name"},{header:"Created Date",accessorFn:t=>t.createdDate.toLocaleDateString()}],e=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g. Aldi"}];return P.jsx(Of,{object_type:oH,columns:n,createFields:e,updateFields:e})}const lH="ingredientType";function uH(){const n=[{header:"Name",accessorKey:"name"},{header:"Created Date",accessorFn:t=>t.createdDate.toLocaleDateString()}],e=[{name:"name",label:"Name",type:"text",required:!0,placeholder:"e.g. Aldi"}];return P.jsx(Of,{object_type:lH,columns:n,createFields:e,updateFields:e})}function cH(){const{user:n,isAuthReady:e,signOut:t}=Jy();return e?n?P.jsxs("main",{className:"bg-white p-6 sm:p-8 sm:max-w-4xl sm:mx-auto sm:rounded-xl sm:shadow-2xl sm:my-4",children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",n.displayName||"User","!"]}),P.jsx(cr,{variant:"outline",onClick:t,children:"Sign Out"})]}),P.jsxs(P6,{defaultValue:"pantry",className:"w-full",children:[P.jsxs(M6,{className:"grid w-full grid-cols-6 mb-6",children:[P.jsx(Nl,{value:"pantry",children:"Pantry"}),P.jsx(Nl,{value:"recipes",children:"Recipe Book"}),P.jsx(Nl,{value:"barcode",children:"Barcode Scanner"}),P.jsx(Nl,{value:"location",children:"Location"}),P.jsx(Nl,{value:"ingredient-type",children:"Ingredient Type"}),P.jsx(Nl,{value:"shop",children:"Shop"})]}),P.jsx(Pl,{value:"pantry",children:P.jsx(jV,{})}),P.jsx(Pl,{value:"recipes",children:P.jsx(cF,{})}),P.jsx(Pl,{value:"barcode",children:P.jsx(nH,{})}),P.jsx(Pl,{value:"location",children:P.jsx(aH,{})}),P.jsx(Pl,{value:"ingredient-type",children:P.jsx(uH,{})}),P.jsx(Pl,{value:"shop",children:P.jsx(sH,{})})]})]}):P.jsx(rH,{}):P.jsxs(P.Fragment,{children:[P.jsx("div",{children:"Loading..."}),P.jsx(cr,{variant:"outline",onClick:t,children:"Sign Out"})]})}function fH(){return P.jsx(BV,{children:P.jsx(cH,{})})}p8.createRoot(document.getElementById("root")).render(P.jsx(L.StrictMode,{children:P.jsx(fH,{})}));
